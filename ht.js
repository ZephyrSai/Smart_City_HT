!function(h,t$,K$){"use strict";var W,$,Y,t,K,r,H,M,c,S,I,o$="ht";if(!h.ht){Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),h.performance&&h.performance.now||(A=Date.now(),h.performance||(h.performance={}),h.performance.now=function(){return Date.now()-A});for(var A,l=Date.now(),V=["ms","moz","webkit","o"],D=0;D<V.length&&!h.requestAnimationFrame;++D)h.requestAnimationFrame=h[V[D]+"RequestAnimationFrame"],h.cancelAnimationFrame=h[V[D]+"CancelAnimationFrame"]||h[V[D]+"CancelRequestAnimationFrame"];h.requestAnimationFrame||(h.requestAnimationFrame=function(p){var E=Date.now(),b=16+l-E;return l=E,h.setTimeout(function(){l=Date.now(),p(performance.now())},b=b<0?0:b)}),h.cancelAnimationFrame||(h.cancelAnimationFrame=function(p){return h.clearTimeout(p)}),t$.assign===K$&&(t$.assign=function(p){if(p===K$||null===p)throw new TypeError("Cannot convert undefined or null to object");for(var E=t$(p),b=1;b<arguments.length;b++){var Z=arguments[b];if(Z!==K$&&null!==Z)for(var o in Z)t$.prototype.hasOwnProperty.call(Z,o)&&(E[o]=Z[o])}return E}),h.btoa===K$&&(h.btoa=function(p){for(var E,b,Z=String(p),o=0,A="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="";Z.charAt(0|o)||(A="=",o%1);l+=A.charAt(63&E>>8-o%1*8)){if(255<(b=Z.charCodeAt(o+=.75)))throw new Error("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");E=E<<8|b}return l});var B,m,e,F,X,G,n=(Qa=h.location)&&h.document,r$=null,T=K$,u=h.ht={},g=h.htconfig,H$=u.Default=g&&g.Default||{},L$=u.Style=g&&g.Style||{},L=u.Attr=g&&g.Attr||{},x=function(){},C=function(){return!0},P=function(){return!1},d=function(){return null},U=function(p){return p},N=function(p){return!p},s=u.Color=g&&g.Color||{},w=u.IsGetter=g&&g.IsGetter||{},g=(B={SHORT_TIMEOUT_THRESHOLD:H$.shortTimeoutThreshold||100,MAX_BATCH_SIZE:H$.maxTimeoutBatchSize||1e3},m=null,F=!(e=1),X=[],G=[],rO.prototype.execute=function(){try{"function"==typeof this.callback?this.callback.apply(null,this.args):"string"==typeof this.callback&&new Function(this.callback)()}catch(p){console.error("RAF Timer callback error:",p)}},rO.prototype.isReady=function(p){return p>=this.executeTime},{setTimeout:function(p,E){if("function"!=typeof p&&"string"!=typeof p)throw new TypeError("Callback must be a function or string");E=Math.max(0,El(E)||0);for(var b=e++,Z=[],o=2;o<arguments.length;o++)Z.push(arguments[o]);if(p=new rO(b,p,E,Z),E<B.SHORT_TIMEOUT_THRESHOLD)X.push(p);else{for(var A=p,l=0,V=G.length;l<V;){var c=Math.floor((l+V)/2);G[c].executeTime>A.executeTime?l=c+1:V=c}G.splice(l,0,A)}return F||(F=!0,m=requestAnimationFrame(MO)),b},clearTimeout:function(p){null!=p&&(p=El(p),isNaN(p)||HO(X,p)||HO(G,p))},getStats:function(){return{shortQueueSize:X.length,longQueueSize:G.length,isRunning:F,rafId:m}},stopAll:function(){m&&(cancelAnimationFrame(m),m=null),F=!1,X.length=0,G.length=0}}),i=(u.setTimeout=g.setTimeout,u.clearTimeout=g.clearTimeout,u.getTimeoutStats=g.getStats,!1);try{var E$=t$.defineProperty({},"passive",{get:function(){return i=!0,K$}});Qa&&h.addEventListener("test",E$,E$),Qa&&h.removeEventListener("test",E$,E$)}catch(p){i=!1}H$.passiveSupported=i;var A$,l$,V$,c$,S$,I$,D$,B$,n$,W$,m$,e$,$$,Y$,x$,C$,h$,P$,y$,a$,g=H$.passiveSupported,J$=H$.eventListenerOptionsFalse=!!g&&{passive:!1,capture:!1},d$=H$.eventListenerOptionsTrue=!g||{passive:!1,capture:!0},U$=function(p,E,b,Z){p.addEventListener(E,b,Z?d$:J$)},N$=function(p,E,b,Z){p.removeEventListener(E,b,Z?d$:J$)},O$=(E$=Math).round,z$=E$.floor,_$=E$.ceil,v$=E$.sqrt,b$=E$.max,Z$=E$.min,a=E$.abs,M$=E$.cos,Q$=E$.acos,k$=E$.sin,q$=E$.pow,u$=E$.asin,R$=(E$.exp,E$.PI),j$=2*R$,s$=R$/2,w$=E$.tan,i$=E$.atan2,f$=E$.random,g=E$.log,pl=q$(2,1),El=h.parseInt||global.parseInt,bl="2026-06-15",Zl=Qa&&!!h.navigator&&-1<h.navigator.platform.indexOf("Win"),ol=function(p){return p*p},Al=Qa&&u.setTimeout,ll=Qa&&u.clearTimeout,Vl=Qa&&(h.navigator?h.navigator.userAgent.toLowerCase():""),cl=(Cl=function(p){return p.test(Vl)})(/msie/),Sl=Cl(/msie/)||Cl(/trident/),Il=Cl(/msie 10/),Dl=Cl(/edge/),Bl=Cl(/firefox/),nl=Cl(/mac/),kl=(Cl(/mscAndroid/),H$.isTouchable===K$?!Zl&&!!n&&"ontouchend"in n:H$.isTouchable),jl="default",Wl="single",ml="multiple",el="front",$l="back",Yl="left",tl="right",Kl="top",rl="bottom",Hl="center",Ml="eye",Fl="middle",Xl="east",Gl="west",Tl="north",gl="none",Ll="px",xl="absolute",Cl="border",hl="triangle",Pl="rect",yl="circle",al="cylinder",Jl="shape",dl="items",Ul="normal",Nl="remove",Ol="clear",zl="width",_l="height",vl="ingroup",Ql="check",ql="uncheck",ul="radioOn",Rl="radioOff",sl="points",wl="values",il="series",fl="body",px="label",Ex="label2",bx="note",Zx="note2",ox="icons",Ax="labelFont",lx="labelColor",Vx="labelSelectColor",cx="note.expanded",Sx="note2.expanded",Ix="edge.expanded",Dx="edge.points",Bx="edge.type",nx="rotation",kx="hidden",jx="visible",Wx="tuv",mx="no",ex="draw",$x="select",Yx="currentSubGraph",Zl="selectBackground",tx="autoMakeVisible",Kx="autoHideScrollBar",rx="scrollBarColor",Hx="scrollBarSize",Mx="indent",Fx="rowHeight",Xx="lineWidth",Gx="columnLineColor",Tx="rowLineColor",gx="columnLineVisible",Lx="rowLineVisible",xx="visibleFunc",Cx="expandIcon",hx="collapseIcon",Px="checkMode",yx="sortFunc",ax="editable",Jx="batchEditable",dx="tristate",Ux="asc",Nx="desc",Ox="position",zx="__",_x="elevation",vx="children",Qx="translateX",qx="translateY",ux="dataModel",Rx="state",sx="encode",wx="shape3d",ix="shape3d.resolution",fx="shape3d.visible",pa="shape3d.from.visible",Ea="shape3d.to.visible",ba="shape3d.top.visible",Za="shape3d.bottom.visible",oa="repeat.uv.length",Aa="serializeValue",la="deserializeValue",Va="centerUniform",ca="uniform",Sa="rgba(255,255,255,0)",Ia="style",Da="string",Ba="boolean",na="color",ka="int",ja="number",Wa="ew-resize",ma="ns-resize",ea="pointer",$a="auto",Ya="mousedown",ta="mousemove",Ka="mouseup",ra="mouseout",Ha="touchstart",Ma="touchmove",Fa="touchend",Xa="keydown",Ga="cursor",Ta=["DOMMouseScroll","mousewheel"],ga=Bl?Ta[0]:Ta[1],La=zx+o$+zx+sx,xa=[Ha,Ma,Fa,"tap"],Ca=[Ya,ta,Ka,ra,ga,"wheel","mouseenter","mouseleave","mouseover","click"],ha=[Xa,"keyup","keypress","input","contextmenu","compositionstart","compositionupdate","compositionend"],Pa=(kl?xa:Ca).concat(ha),ya=r$,aa=r$,Ja=r$,da=r$,Ua=Ka.length,Na=function(){Ja&&(ll(Ja.timeout),Ja=r$)},Oa=function(){Ja&&Lq(Ja.e,Ja.info)},za=(h.addEventListener&&(T=Qa)&&(kl||(U$(h,ra,function(){Na()}),U$(h,ga,function(){xq()})),U$(h,"keyup",function(p){91===p.keyCode?fa={}:delete fa[p.keyCode]},!0),U$(h,Xa,function(p){fa[p.keyCode]=!0},!0),U$(h,"blur",function(p){fa={}})),!1!==H$.canvasContentLossFix&&h.navigator&&n&&(Bl=h.navigator.userAgent)&&(Bl=Bl.match(/Chrome\/(\d+)/i))&&(Bl=El(Bl[1]))&&124<=Bl&&n.addEventListener("visibilitychange",function(){if("visible"===n.visibilityState)for(var p=n.getElementsByTagName("canvas"),E=0;E<p.length;E++){var b=p.item(E);!b||b.parentElement&&b.parentElement._ht instanceof u.graph3d.Graph3dView||(b=b.getContext("2d"))&&(b.fillStyle="transparent",b.fillRect(0,0,1,1))}}),0),_a=r$,va=function(p,E){var b=Al(function(){delete _a[b],s1(_a)&&(_a=r$),p()},E);return b},Qa=r$,qa={},ua={},Ra={},sa={},wa={},ia={},fa={},p1={},E1={},b1={},Z1=/.json$/,o1="\\.(json|bin|htb|fbx|gltf|glb",A1=")([?#].*)?$",l1=new RegExp(o1+A1,"i"),V1=new RegExp("\\.([^.?#]*"+A1,"i"),c1=/^data:image\/svg\+xml/,S1=/(\w+)\s\(([^,]+),\s([^,]+)(,\s([^)]+))?\)/,I1=[],D1={},B1=r$,n1=function(){},k1=function(){throw"Oops!"},j1=[0,0,0],W1={x:0,y:0,width:0,height:0},m1=r$,e1=r$,$1=r$,Y1=function(p,E){(ua[p]=E)&&E.comps&&!E.uuid&&(E.uuid=u.Math.generateUUID()),gY[p]&&(E.cacheRule=gY[p],delete gY[p])},t1=function(p){e1&&!p._72O&&(($1=$1||{})[p._72O=pf()]=p),c$!=r$?(p=1e4*k$(Ua++))-z$(p)<.05&&V$&&!D$&&(gW=Na):gW=h1},K1=function(Z,o,A,l){if(!H$.isMaxConcurrencyReached()){var b,V,p=(e1=e1||{})[Z];if(p){if(p.url===o)return;p.image?(p.image.onload=n1,p.image.onerror=n1):p.request&&(p.request.onload=n1,p.request.onerror=n1)}Z1.test(o)?(b=new UP,e1[Z]={request:b,url:o},(o=H$.beforeLoadURL(o,Z)).data?(V=H$.parse(o.data),r1(Z,V),H$.handleImageLoaded(Z,V)):(b.onload=function(p){var E;200===this.status||0===this.status?(E=H$.parse(b.getResponseText()),r1(Z,E),H$.handleImageLoaded(Z,E)):r1(Z,H$.handleUnfoundImage(Z,o)||r$)},b.onerror=function(p){r1(Z,H$.handleUnfoundImage(Z,o)||r$)},(p={}).url=H$.encodeURI(o),p.sync=!1,b.send(p))):(V=new Image,e1[Z]={image:V,url:o},/^data:/.test(o)||((o=H$.beforeLoadURL(o,Z)).data?o=o.data:(o=H$.appendTimeStamp(o),o=H$.encodeURI(o),V.crossOrigin=H$.crossOrigin)),H$.convertImageSrc(o,function(p,b){Sl&&(0<o.toLowerCase().indexOf(".svg")||c1.test(o))?(n.body.appendChild(V),V.style.visibility="hidden",V.onload=function(){Al(function(){var p,E;b&&b(!0),A&&(V.width=A),l&&(V.height=l),V.width&&V.height||(p=V.width||V.clientWidth,E=V.height||V.clientHeight,V.width=p,V.height=E),H$.handleImageLoaded(Z,V),r1(Z,V),n.body.removeChild(V),V.style.visibility=""},180)},V.onerror=function(){b&&b(!1),r1(Z,H$.handleUnfoundImage(Z,o)||r$),n.body.removeChild(V),V.style.visibility=""}):(V.onload=function(){b&&b(!0),A&&(V.width=A),l&&(V.height=l),H$.handleImageLoaded(Z,V),r1(Z,V)},V.onerror=function(){b&&b(!1),r1(Z,H$.handleUnfoundImage(Z,o)||r$)}),V.src=p}))}},r1=function(p,E){if(Y1(p,E),delete e1[p],Hq(p,E),s1(e1)&&(e1=r$,$1)){for(var b in $1)(Z=$1[b])._2O&&Z._2O[p]&&(Z.deleteTexture(p),delete Z._2O[p]),Z.invalidateAll&&Z.invalidateAll(K$,"imageLoaded",p),Z.redraw&&Z.redraw(),Z.iv(),Z instanceof X_&&Z.dm().each(function(p){p instanceof YP&&p.updateLayoutAttaches()}),delete Z._72O;$1=r$}if(E&&$1)for(var b in $1){var Z;(Z=$1[b]).invalidateAll&&Z.invalidateAll(K$,"imageLoading",p),Z.redraw&&Z.redraw(),Z.iv(),Z instanceof X_&&Z.dm().each(function(p){p instanceof YP&&p.updateLayoutAttaches()})}},H1=function(p){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(p);for(var E="",b=0,Z=p.length;b<Z;b++)E+=String.fromCharCode(p[b]);try{return decodeURIComponent(encodeURIComponent(E))}catch(p){return E}},M1=(g=E$&&Date,function(){return(h.performance&&h.performance.now?h.performance:Date).now()}),F1=function(p,E,b){return{width:p,height:E,comps:X$(b)?b:[b]}},X1=function(p,E){return{type:yl,rect:[p,E,1.6,1.6],borderWidth:1,borderColor:k,gradient:gq,gradientColor:S3,background:k}},G1=function(p,E){return F1(16,16,{type:hl,rect:[4,4,10,8],background:p,rotation:E?1.57:3.14})},ra=function(p,E){return F1(16,16,{type:hl,rect:[4,4,8,7],background:p,rotation:E?3.14:0})},T1=function(p){return"horizontal"===(p=p._orientation)||"h"===p},g1=function(p,E,b,Z){return b||(b=kl?H$.touchHitTolerance:H$.mouseHitTolerance,b/=Z||1),{x:p-b,y:E-b,width:2*b,height:2*b}},L1=function(p){var E=/^is:/.test(p);return E&&(p=p.slice(3)),(E||/ble$/.test(p)||/ed$/.test(p)||w[p]?"is":"get")+p.charAt(0).toUpperCase()+p.slice(1)},x1=function(p){return"set"+p.charAt(0).toUpperCase()+p.slice(1)},F$=function(p){return typeof p==Da||p instanceof String},C1=function(p){return typeof p==ja},h1=function(p){return typeof p===Ba},P1=function(p){return p&&"object"==typeof p},y1=function(p){return"function"==typeof p},X$=function(p){return p instanceof Array},a1=function(p){return p instanceof q},y=function(p){return p instanceof YP},J1=function(p){return p instanceof XP},d1=function(p){return p instanceof GP},U1=function(p,E){return p instanceof u.Group&&(E?!(!(E=E.getDataUI(p))||!E._88I):p.isExpanded())},N1=function(p){return p instanceof gP},O1=function(p){return p&&"IFRAME"===p.tagName},z1=function(p){if(p)return(p=p.getView?p.getView():p).querySelector&&p.querySelector("iframe")!=r$},_1=function(p,E,b){var Z,o=E.length;if(b)for(var A=0;A<b;A++)if(3===o)p.push(E[0]),p.push(E[1]),p.push(E[2]);else for(Z=0;Z<o;Z++)p.push(E[Z]);else if(3===o)p.push(E[0]),p.push(E[1]),p.push(E[2]);else for(Z=0;Z<o;Z++)p.push(E[Z])},v1=function(p){return!!p&&(P1(p)?p:{})},E=function(p,E,b){var Z,o=P1(p)?p:p.prototype;for(Z in E)b&&Z in o?o[Z]===K$&&console.warn("class",o,"has own undefined property",Z,", keep exist!"):o[Z]=E[Z];return p},Q1=function(p,E){var b;"wheelDelta"in E||((b=E.deltaMode)===E.DOM_DELTA_PIXEL?E.wheelDelta=-E.deltaY:b===E.DOM_DELTA_LINE?E.wheelDelta=40*-E.deltaY:E.wheelDelta=120*-E.deltaY),p.handle_mousewheel(E)},q1=function(p){return String.fromCharCode(p)},u1=function(p,E){for(var b,Z=0,o="",A="",l=p.length;Z<l;Z++)"%"===(b=p[E?Z:l-1-Z])?b="'":"a"===b?b='"':"]"===b&&(b="\\"),b=q1(b.charCodeAt(0)-1),E?Z%2?A+=b:o=b+o:o+=b;return E?A+o:o},R1=function(p,E,b){p.superClass.constructor.apply(E,b)},s1=function(p){for(var E in p)return!1;return!0},w1=function(p){return!p||0===p.length},i1=(W$="",[ql[0],Tx[0],px[0]].forEach(function(p){W$+=x1(p).slice(3)}),ca=n&&n[W$]||Va,function(p,E){return p===E||p.x===E.x&&p.y===E.y&&p.width===E.width&&p.height===E.height}),f1=function(p,E,b){return p<E?E:b<p?b:p},pW=function(p){return p<0?-1:0<p?1:0},EW=function(p,E,b){return bW(p.x,p.y,E.x,E.y,b.x,b.y,b.x+b.width,b.y,!0)||bW(p.x,p.y,E.x,E.y,b.x+b.width,b.y,b.x+b.width,b.y+b.height,!0)||bW(p.x,p.y,E.x,E.y,b.x+b.width,b.y+b.height,b.x,b.y+b.height,!0)||bW(p.x,p.y,E.x,E.y,b.x,b.y+b.height,b.x,b.y,!0)},bW=function(p,E,b,Z,o,A,l,V,c){var S,I=(V-A)*(b-p)-(l-o)*(Z-E);return 0!=I?(S=p+(I=((l-o)*(E-A)-(V-A)*(p-o))/I)*(b-p),I=E+I*(Z-E),c&&(S+df<Z$(p,b)||S-df>b$(p,b)||S+df<Z$(o,l)||S-df>b$(o,l)||I+df<Z$(E,Z)||I-df>b$(E,Z)||I+df<Z$(A,V)||I-df>b$(A,V))?r$:[S,I]):r$},ZW=function(p,E,b){if(p&&b){var Z=function(p,E,b){return E?E===Ia?p.getStyle(b):"attr"===E?p.getAttr(b):"field"===E?p[b]:void 0:p[b=L1(b)]?p[b]():void 0};if("string"!=typeof b||"{"!==b[0]||"}"!==b[b.length-1])return Z(p,E,b);var o=(b=(b=b.substr(1)).substr(0,b.length-1)).split("."),A=Z(p,E,o[0]);if(A!=r$)for(var l=1,V=o.length;l<V;l++)if((A=A[o[l]])==r$)return A;return A}return K$},oW=function(p,E,b,Z){p&&b&&(E?E===Ia?p.s(b,Z):"attr"===E?p.a(b,Z):"field"===E&&(E=p[b],p[b]=Z,p.fp("f:"+b,E,Z)):p[b=x1(b)]&&p[b](Z))},AW=function(p,E,b){var Z=100*Math.max(p.width,p.height);return E&&"top"!==E?"bottom"===E?{x:p.x-Z,y:p.y-Z,width:p.width+2*Z,height:p.height*b+Z}:"right"===E?{x:p.x-Z,y:p.y-Z,width:p.width*b+Z,height:p.height+2*Z}:"left"===E?{x:p.x+p.width*(1-b),y:p.y-Z,width:p.width*b+Z,height:p.height+2*Z}:void 0:{x:p.x-Z,y:p.y+p.height*(1-b),width:p.width+2*Z,height:p.height*b+Z}},lW=function(p,E,b,Z,o){E&&M6(p,b,Z,1,o,E)},VW=function(p,E,b,Z){var o=1-p;return o*o*E+2*p*o*b+p*p*Z},cW=function(p,E,b,Z,o){var A=1-p;return A*A*A*E+3*A*A*p*b+3*A*p*p*Z+p*p*p*o},SW=function(p){var E,b,Z,o,A=0;return p.forEach(function(p){if(0<(E=p.length))for(b=p[0],o=1;o<E;o++)Z=p[o],A+=$f(b,Z),b=Z}),A},IW=function(p){return t$.create(p)},DW=function(p){var E,b;p.element||((E=p.textField)?b=Rq(fh.TextField,E):(E=p.textArea)?b=Rq(fh.TextArea,E):(E=p.button)?b=Rq(fh.Button,E):(E=p.comboBox)?b=Rq(fh.ComboBox,E):(E=p.checkBox)?b=Rq(fh.CheckBox,E):(E=p.radioButton)?b=Rq(fh.RadioButton,E):(E=p.slider)?b=Rq(fh.Slider,E):(E=p.colorPicker)?b=Rq(fh.ColorPicker,E):(E=p.image)&&(b=Rq(fh.Image,E)),b&&(p.element=b))},BW=function(p,E){return(p=nW(p))._ht=E,p},Bl=h.top===h?h.top:h||h.document,nW=function(p,E){var b=n.createElement("div"),Z=b.style;return b.tabIndex=-1,b.onkeydown=sq,Z.msTouchAction=gl,jW(b,r$,0),kl&&Z.setProperty("-webkit-tap-highlight-color","rgba(0, 0, 0, 0)",r$),p&&(Z.overflow=kx),E&&eW(E,b),b},kW=function(p,E){var b=n.createElement("canvas"),Z=b.style;return Z.msTouchAction=gl,E||(Z.pointerEvents=gl),jW(b,r$,0),p&&eW(p,b),b},jW=function(p,E,b){var Z=p.style;Z.border=E?E+" solid 1px":0,Z.outline=0,Z.padding=b?"0 "+b+Ll:0,WW(p)},WW=function(p){(p=p.style).position=xl,p.margin=0,p.setProperty("box-sizing","border-box",r$),p.setProperty("-moz-box-sizing","border-box",r$)},mW=function(p,E,b,Z){Z=Z||Tq,E!=r$&&(p.width=E*Z,p.style.width=E+Ll),b!=r$&&(p.height=b*Z,p.style.height=b+Ll)},eW=function(p,E,b){p.appendChild(E),b&&(E.style.position=xl)},$W=function(p,E){for(var b,Z=p.verticalGap||0,o=p.letterGap||0,A=(E.split||(E+=""),E.split("\n")),l=0,V=A.length,c=0;c<V;c++){var S=A[c],I=Sf(p.font,S);l<(S=I.width+(S.length?o*S.length-1:0))&&(l=S),b=b||I.height}return p.ss=A,{width:l,height:b*V+Z*(V-1)}},YW=(n$=n?kW().getContext("2d"):r$,function(p,V,c,S,I,D){var E=p.split("\n"),B=[],n=Sf(c,p).height;return S=S||0,n$.font=c,n$.textBaseline=Kl,E.forEach(function(p){for(var E=0,b=1,Z=0,o=p.length;b<=o;b++){var A=p.substring(E,b),l=I?n$.measureText(p[b]):Sf(c,A),l=(I&&(Z+=l.fontBoundingBoxDescent||n),I?Z+(A.length-1)*D:l.width+(A.length-1)*S);V<l&&(b-1===E?(B.push(p.substring(E,b)),E=b):(B.push(p.substring(E,b-1)),E=b-1,b--),Z=0)}E!==b-1&&B.push(p.substring(E,b))}),B}),tW=function(p,E,b,Z,o,A,l,V){p.font=b;var c,S=p.measureText(E);p.beginPath(),p.strokeStyle=Z,p.lineWidth=1,"underline"===V?(c=S.actualBoundingBoxDescent?S.actualBoundingBoxDescent+1:Sf(b,E).size/2,p.moveTo(o-l/2,A+c),p.lineTo(o+l/2,A+c)):"strikethrough"===V?(p.moveTo(o-l/2,A),p.lineTo(o+l/2,A)):"overline"===V&&(c=S.fontBoundingBoxAscent||Sf(b,E).size/2,p.moveTo(o-l/2,A-c),p.lineTo(o+l/2,A-c)),p.stroke()},KW=function(p,E,b,Z,o,A,l,V,c,S,I){var D,B,n=o.x,k=o.y,j=o.width,o=o.height;E!=r$&&(D=Sf(b,E),B={},c&&(D.width+=(E.length-1)*c),B.y=l&&l!==Fl?l===Kl?k+D.height/2:k+o-D.height/2:k+o/2,B.x=A&&A!==Yl?A===tl?n+j-D.width/2:n+j/2:n+D.width/2,HW(p,E,B,b,Z,c,S,I),V&&tW(p,E,b,Z,B.x,B.y,D.width,V))},rW=function(p,E,b,Z,o,A,l,V,c,S,I){var D=E.length;if(I=I||0,1===D){var B=E[0];HW(p,B,b,Z,o,V,c,S),B&&l&&(W=Sf(Z,B),V&&(W.width+=(B.length-1)*V),tW(p,B,Z,o,b.x+b.width/2,b.y+b.height/2,W.width,l))}else for(var n=(b.height-I*(D-1))/D,k={x:b.x,y:b.y,width:b.width,height:n},j=0;j<E.length;j++){var W,m=E[j];A?KW(p,m,Z,o,k,A,null,l,V,c,S):(HW(p,m,k,Z,o,V,c,S),m&&l&&(W=Sf(Z,m),V&&(W.width+=(m.length-1)*V),tW(p,m,Z,o,k.x+k.width/2,k.y+k.height/2,W.width,l))),k.y+=n+I}},HW=function(p,E,b,Z,o,A,l,V){p.font=Z||aq,p.fillStyle=o||yq,p.textAlign=Hl,p.textBaseline=Fl;var c,S,S=b?b.width===K$?(c=b.x,b.y):(c=b.x+b.width/2,b.y+b.height/2):c=0,I=l&&V;if(I&&(p.strokeStyle=V,p.lineWidth=l),A){c-=(Sf(Z,E).width+A*(E.length-1))/2;for(var D=(E+"").length,B=0;B<D;B++){var n=E[B],k=p.measureText(n);I&&p.strokeText(n,O$(c+(k.width+4)/2),O$(S)),p.fillText(n,O$(c+(k.width+4)/2),O$(S)),c+=k.width+A}}else I&&p.strokeText(E,O$(c),O$(S)),p.fillText(E,O$(c),O$(S))},MW=function(p){var E=(p=p.getView?p.getView():p).offsetWidth||p.scrollWidth;return!E&&p.style.width?El(p.style.width):E},FW=function(p){var E=(p=p.getView?p.getView():p).offsetHeight||p.scrollHeight;return!E&&p.style.height?El(p.style.height):E},XW=function(p,E,b){var Z=E[0].toUpperCase()+E.substring(1,E.length);p["webkit"+Z]=b,p["moz"+Z]=b,p["ms"+Z]=b,p["o"+Z]=b,p[E]=b},GW=function(p,E){var b=nW(),Z=b.style;return Z.backgroundColor=H$.disabledBackground,p&&(Z.backgroundImage="url("+p+")",Z.backgroundPosition="50% 50%",Z.backgroundRepeat="no-repeat no-repeat"),!1===E?B$.forEach(function(p){U$(b,p,XO)}):B$.forEach(function(p){U$(b,p,FO)}),b},TW=function(p,E){return(p=p.getContext("2d",E)).save(),p.lineCap=hq,p.lineJoin=Pq,p},gW=function(p,E,b,Z){LW(p,E*Tq,b*Tq),1!=(Z*=Tq)&&p.scale(Z,Z)},LW=function(p,E,b){p.translate(E,b)},xW=function(p,E){E&&p.rotate(E)},CW=function(p,E,b){b===K$&&(b=1),1===(E=E===K$?1:E)&&1===b||p.scale(E,b)},hW=function(p,E){var b,Z,o=H$.devicePixelRatio;E&&(b=1/o,Z=p.getTransform(),E.set(Z.a,Z.b,Z.c,Z.d,Z.e,Z.f).scale(b,b)),p.save(),p.setTransform(o,0,0,o,0,0)},PW=!(B$=[Ha,Xa,Ya]),yW=Bl[Ql[1]+Qx[0]],aW=function(p){var E=n.activeElement;if(n.activeElement!==p){E&&E.forceOnblur&&(E.forceOnblur(),b=E.onblur,E.onblur=n1);for(var b,Z,o=[],A=p.parentNode;A;)o.push([A,A.scrollLeft,A.scrollTop]),A=A.parentNode;if(!PW){var l=[],V=[];try{for(var c=h.parent,S=h;c!==S;)l.push([c,c.scrollX,c.scrollY]),c=(S=c).parent;var I=h.frameElement;if(I)for(var D=I.parentNode;D;)V.push([D,D.scrollLeft,D.scrollTop]),D=D.parentNode}catch(p){PW=!0}}kl?p.focus():(Z=(I=Ff()).target,p.focus(),Z.scrollLeft=I.left,Z.scrollTop=I.top),E&&E.forceOnblur&&(E.onblur=b),o.forEach(function(p){p[0].scrollLeft=p[1],p[0].scrollTop=p[2]}),PW||(l.forEach(function(p){p[0].scrollTo(p[1],p[2])}),V.forEach(function(p){p[0].scrollLeft=p[1],p[0].scrollTop=p[2]}))}},JW=function(p){return p&&p.getView?p.getView():p},dW=function(p,E,b,Z,o){var A,l;2===arguments.length&&(b=E.y,Z=E.width,o=E.height,E=E.x),p.isSelfViewEvent?(p.setX(E),p.setY(b),p.setWidth(Z),p.setHeight(o)):(A=(l=JW(p)).style,(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)!==l?(E!==K$&&(A.left=E+Ll),b!==K$&&(A.top=b+Ll),Z!==K$&&(A.width=Z+Ll),o!==K$&&(A.height=o+Ll)):(l=H$.getWindowInfo(),A.left=(E=l.left)+Ll,A.top=(b=l.top)+Ll,A.width=(Z=l.width)+Ll,A.height=(o=l.height)+Ll),p.endEditing&&!kl&&p.endEditing(),p.redraw&&p.redraw(),p.invalidate&&p.invalidate(),p.onLayouted&&p.onLayouted(E,b,Z,o),p.fireViewEvent&&p.fireViewEvent("layout"))},UW=function(p){return p.touches?p.touches[0]||p.changedTouches[0]:p},NW=function(p){return p&&"object"==typeof p&&"touches"in p},OW=function(p){H$.popup&&H$.popup.close(),H$.popup=p},zW=r$,_W=function(p){zW.handleWindowTouchMove(p)},vW=function(p){zW.handleWindowTouchEnd(p),N$(h,Ma,_W),N$(h,Fa,vW),N$(h,"blur",vW),zW=r$},QW=function(p){zW.handleWindowMouseMove(p)},qW=function(p){zW.handleWindowMouseUp(p),N$(h,ta,QW),N$(h,Ka,qW),N$(h,"blur",qW),zW=r$},uW=function(p){return 1===nf(p)},RW=function(p,E){return E?E.keyCode===p:fa[p]},sW=function(p){return Wf(p)&&RW(65,p)},wW=function(p){return RW(46,p)||RW(8,p)},iW=(Bl=function(E){return function(p){return p?p.keyCode===E:fa[E]}})((p=[65,83,68,87,37,38,39,40,32,13,27])[0]),fW=Bl(p[1]),p6=Bl(p[2]),E6=Bl(p[3]),b6=Bl(p[4]),Z6=Bl(p[5]),o6=Bl(p[6]),A6=Bl(p[7]),l6=Bl(p[8]),V6=Bl(p[9]),c6=Bl(p[10]),S6={65:1,83:1,68:1,87:1,37:1,38:1,39:1,40:1},I6=[2,2,2,2,2,2,2,2,2,2,3,3,3,3,3,5,5,5,5,5,29,79],D6=r$,B6=r$,n6=function(p,E){D6=D6||kW(),mW(D6,p,E,1);var b=TW(D6);return b.clearRect(0,0,p,E),b},k6=function(p,E){B6=B6||kW(),mW(B6,p,E,1);var b=TW(B6,{willReadFrequently:!0});return b.clearRect(0,0,p,E),b},j6=function(p,E,b){var Z,o,A,l,V,c,S,I,D,B;return E&&p?"override"===b?E:"override_rgb"===b?(B=W6(E),p=af(p),"rgba("+O$(255*B[0])+","+O$(255*B[1])+","+O$(255*B[2])+","+p[3]/255+")"):"override_a"===b?(B=W6(E),"rgba("+(p=af(p))[0]+","+p[1]+","+p[2]+","+B[3]+")"):"multiply_destinationAtop"===b?(b=W6(p),I=b[3],Z=W6(E),o=Z[3],0!==I&&0!==o&&(l=(A=b)[3],V=b.map(function(p,E){return p*Z[E]}),D=1-I,S=(c=1-o)*I+o,b=b.map(function(p,E){return(o*D*Z[E]+o*I*V[E]+c*I*p)/S}),D=1-(I=S),b=b.map(function(p,E){return A[E]*D+p*I}),I=l),"rgba("+O$(255*b[0])+","+O$(255*b[1])+","+O$(255*b[2])+","+I+")"):(B=W6(E),p=af(p),"rgba("+O$(p[0]*B[0])+","+O$(p[1]*B[1])+","+O$(p[2]*B[2])+","+p[3]/255*B[3]+")"):p},W6=function(p){return F$(p)?((p=af(p)).CA||(p.CA=[p[0]/255,p[1]/255,p[2]/255,p[3]/255]),p.CA):p},m6=function(p,E,b){var Z;return E&&((Z=H$.lineJoinBorderExpand)?E+=Z(b,E):E="miter"===b?8*E+20:E+1,p&&Xf(p,E)),E},e6=function(p,E){p&&p.beginPath();for(var b,Z,o=[],A=function(p){for(var E,b=/(\-{0,1}[\d\.]+)/gi,Z=[];E=b.exec(p);)Z.push(parseFloat(E[0]));return Z},l=/([MmLlHhVvCcSsQqTtAa]{1}[\d\.,\s\-Zz]*)/gi,V={x:0,y:0};c=l.exec(E);){var c=c[0],S=c.substr(0,1);if("M"===S||"m"===S){for(var I=A(c),D=0;D<I.length;D+=2){var B=I[D],n=I[D+1];"m"===S&&(B+=V.x,n+=V.y),p&&p.moveTo(B,n),o.push({x:B,y:n}),V.x=B,V.y=n}b=Z=null}else if("H"===S||"h"===S){for(I=A(c),D=0;D<I.length;D+=1)B=I[D],"h"===S&&(B+=V.x),p&&p.lineTo(B,V.y),o.push({x:B,y:V.y}),V.x=B;b=Z=null}else if("C"===S||"c"===S){for(I=A(c),D=0;D<I.length;D+=6){var k=I[D],j=I[D+1],W=I[D+2],m=I[D+3],B=I[D+4],n=I[D+5];"c"===S&&(k+=V.x,j+=V.y,W+=V.x,m+=V.y,B+=V.x,n+=V.y),p&&p.bezierCurveTo(k,j,W,m,B,n),o.push({x:k,y:j}),o.push({x:W,y:m}),o.push({x:B,y:n}),V.x=B,V.y=n}b=[k,j,W,m,B,n],Z=null}else if("S"===S||"s"===S){for(I=A(c),D=0;D<I.length;D+=4)j=b?(k=2*b[4]-b[2],2*b[5]-b[3]):(k=V.x,V.y),W=I[D],m=I[D+1],B=I[D+2],n=I[D+3],"s"===S&&(W+=V.x,m+=V.y,B+=V.x,n+=V.y),p&&p.bezierCurveTo(k,j,W,m,B,n),o.push({x:k,y:j}),o.push({x:W,y:m}),o.push({x:B,y:n}),b=[k,j,W,m,V.x=B,V.y=n];Z=null}else if("Q"===S||"q"===S){for(I=A(c),D=0;D<I.length;D+=4)k=I[D],j=I[D+1],B=I[D+2],n=I[D+3],"q"===S&&(k+=V.x,j+=V.y,B+=V.x,n+=V.y),p&&p.quadraticCurveTo(k,j,B,n),o.push({x:k,y:j}),o.push({x:B,y:n}),V.x=B,V.y=n;b=null,Z=[k,j,B,n]}else if("T"===S||"t"===S){for(I=A(c),D=0;D<I.length;D+=2)j=Z?(k=2*Z[2]-Z[0],2*Z[3]-Z[1]):(k=V.x,V.y),B=I[D],n=I[D+1],"t"===S&&(B+=V.x,n+=V.y),p&&p.quadraticCurveTo(k,j,B,n),o.push({x:k,y:j}),o.push({x:B,y:n}),V.x=B,V.y=n;b=null,Z=[k,j,B,n]}else if("V"===S||"v"===S){for(I=A(c),D=0;D<I.length;D+=1)n=I[D],"v"===S&&(n+=V.y),p&&p.lineTo(V.x,n),o.push({x:V.x,y:n}),V.y=n;b=Z=null}else if("L"===S||"l"===S){for(I=A(c),D=0;D<I.length;D+=2)B=I[D],n=I[D+1],"l"===S&&(B+=V.x,n+=V.y),p&&p.lineTo(B,n),o.push({x:B,y:n}),V.x=B,V.y=n;b=Z=null}else if("A"===S||"a"===S){for(I=A(c),D=0;D<I.length;D+=7){var e=I[D],$=I[D+1],Y=I[D+2],t=I[D+3],K=I[D+4],B=I[D+5],n=I[D+6];"a"===S&&(B+=V.x,n+=V.y),(e=function(p,E,b,Z,o,A,l,V){function c(p,E){return(p[0]*E[1]<p[1]*E[0]?-1:1)*Math.acos(B(p,E))}Z*=Math.PI/180;var S={x:Math.cos(Z)*(p.x-l.x)/2+Math.sin(Z)*(p.y-l.y)/2,y:-Math.sin(Z)*(p.x-l.x)/2+Math.cos(Z)*(p.y-l.y)/2},I=(1<(I=Math.pow(S.x,2)/Math.pow(E,2)+Math.pow(S.y,2)/Math.pow(b,2))&&(E*=Math.sqrt(I),b*=Math.sqrt(I)),(o==A?-1:1)*Math.sqrt((Math.pow(E,2)*Math.pow(b,2)-Math.pow(E,2)*Math.pow(S.y,2)-Math.pow(b,2)*Math.pow(S.x,2))/(Math.pow(E,2)*Math.pow(S.y,2)+Math.pow(b,2)*Math.pow(S.x,2)))),o=(I=isNaN(I)?0:I)*E*S.y/b,I=I*-b*S.x/E,p={x:(p.x+l.x)/2+Math.cos(Z)*o-Math.sin(Z)*I,y:(p.y+l.y)/2+Math.sin(Z)*o+Math.cos(Z)*I},D=function(p){return Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2))},B=function(p,E){return(p[0]*E[0]+p[1]*E[1])/(D(p)*D(E))},l=c([1,0],[(S.x-o)/E,(S.y-I)/b]),S=c(n=[(S.x-o)/E,(S.y-I)/b],o=[(-S.x-o)/E,(-S.y-I)/b]),B=(B(n,o)<=-1&&(S=Math.PI),1<=B(n,o)&&(S=0),b<E?E:b),I=b<E?1:E/b,n=b<E?b/E:1;if(null==V)return Xf(o={x:0,y:0,width:0,height:0},B),o.x*=I,o.width*=I,o.y*=n,o.height*=n,b=new qB(Z),(o=Yf([b.tf(o.x,o.y),b.tf(o.x+o.width,o.y),b.tf(o.x+o.width,o.y+o.height),b.tf(o.x,o.y+o.height)])).x+=p.x,o.y+=p.y,[{x:o.x,y:o.y},{x:o.x+o.width,y:o.y},{x:o.x+o.width,y:o.y+o.height},{x:o.x,y:o.y+o.height}];V.translate(p.x,p.y),V.rotate(Z),V.scale(I,n),V.arc(0,0,B,l,l+S,1-A),V.scale(1/I,1/n),V.rotate(-Z),V.translate(-p.x,-p.y)}(V,e,$,Y,t,K,{x:B,y:n},p))&&(o=o.concat(e)),V.x=B,V.y=n}b=Z=null}"z"!==(c=c.substr(c.length-1))&&"Z"!==c||p&&p.closePath()}return o},$6=function(p,E,b,Z,o,A,l){var V,c=E[0];if(H$.convertColor&&(l=t$.assign({gradientPack:E},l)),p.save(),X$(E))if(c&&1===c.length)for(var S="L"===E[0],I=E.length,D=(n=S?(p.transform(E[5],E[6],E[7],E[8],E[9],E[10]),V=p.createLinearGradient(E[1],E[2],E[3],E[4]),11):(p.transform(E[7],E[8],E[9],E[10],E[11],E[12]),V=p.createRadialGradient(E[1],E[2],E[3],E[4],E[5],E[6]),13),p.compGray);n<I;){var B=E[n+1];l&&(l.gradientIndex=n+1),B=b(B,l),V.addColorStop(E[n],D?H$.toGrayColor(B):B),n+=2}else{var n,k,j,S="linear"===c,c=o.x,W=o.y,m=o.width,o=o.height,I=E.length,D=p.compGray;for(Y$=Y$||new QB,A?Y$.set(A.a,A.b,A.c,A.d,A.tx,A.ty).appendTranslate(c,W).appendScale(m,o):Y$.set(m,0,0,o,c,W),n=S?(k=Y$.tf(E[1],E[2]),j=Y$.tf(E[3],E[4]),V=p.createLinearGradient(k.x,k.y,j.x,j.y),5):(k=Y$.tf(E[1],E[2]),x$=x$||new v,A=E[3],m<o?x$.set(A,0):x$.set(0,A),x$.copy(Y$.tf(x$.x,x$.y)).sub({x:Y$.tx,y:Y$.ty}),A=x$.length(),F$(E[5])?(V=p.createRadialGradient(k.x,k.y,0,k.x,k.y,A),4):(p.transform(E[7],E[8],E[9],E[10],E[11]+k.x,E[12]+k.y),c=E[6],m<o?x$.set(c,0):x$.set(0,c),x$.copy(Y$.tf(x$.x,x$.y)).sub({x:Y$.tx,y:Y$.ty}),c=x$.length(),j=x$.copy(Y$.tf(E[4],E[5])).sub(k),V=p.createRadialGradient(0,0,A,j.x,j.y,c),13));n<I;)B=E[n+1],l&&(l.gradientIndex=n+1),B=b(B,l),V.addColorStop(E[n],D?H$.toGrayColor(B):B),n+=2}else V=b(E,l);return Z?p.strokeStyle=V:p.fillStyle=V,V},Y6=function(p,E){var b;(b=p.s("shape.gradient.pack"))&&p.s("shape.gradient.pack",GO(b,E)),(b=p.s("shape.border.gradient.pack"))&&p.s("shape.border.gradient.pack",GO(b,E)),(b=p.s("shape.dash.gradient.pack"))&&p.s("shape.dash.gradient.pack",GO(b,E))},t6=function(p,E,b,Z){var o=!1;if(p.beginPath?p.beginPath():o=!0,a1(E)&&(E=E._as),(b=a1(b)?b._as:b)&&b.length){for(var A,l,V,c,S=0,I=0,D=b.length;I<D;I++)1===(A=b[I])?(l=E[S++],p.moveTo(l.x,o?-l.y:l.y)):2===A?(l=E[S++],p.lineTo(l.x,o?-l.y:l.y)):3===A?(l=E[S++],V=E[S++],p.quadraticCurveTo(l.x,o?-l.y:l.y,V.x,o?-V.y:V.y)):4===A?(l=E[S++],V=E[S++],c=E[S++],p.bezierCurveTo(l.x,o?-l.y:l.y,V.x,o?-V.y:V.y,c.x,o?-c.y:c.y)):5===A&&p.closePath();Z&&5!==A&&p.closePath()}else{var B,n,k,j=E.length;if(0<j){for(B=E[0],p.moveTo(B.x,o?-B.y:B.y),n=1;n<j;n++)k=E[n],p.lineTo(k.x,o?-k.y:k.y);Z&&p.closePath()}}},K6=function(p,E,b,Z){if(a1(p)&&(p=p._as),(E=a1(E)?E._as:E)&&E.length){b=b||Cf;for(var o,A,l,V,c,S,I,D,B=[],n=r$,k=0,j=0,W=E.length;j<W;j++)if(1===(o=E[j]))B.push(n=[]),n.push(p[k++]);else if(2===o)n.push(p[k++]);else if(3===o){for(A=n[n.length-1],l=p[k++],V=p[k++],S=1;S<b;S++)I=VW(S/b,A.x,l.x,V.x),D=VW(S/b,A.y,l.y,V.y),n.push({x:I,y:D,b:!0});n.push(V)}else if(4===o){for(A=n[n.length-1],l=p[k++],V=p[k++],c=p[k++],S=1;S<b;S++)I=cW(S/b,A.x,l.x,V.x,c.x),D=cW(S/b,A.y,l.y,V.y,c.y),n.push({x:I,y:D,b:!0});n.push(c)}else 5===o&&n.push(n[0]);return Z&&5!==o&&n&&2<n.length&&n.push(n[0]),B}return Z&&2<p.length&&(p=p.slice()).push(p[0]),p?[p]:[]},r6=function(p,E,b,Z,o,A){var l,V,c=Z,S=(E=af(E))[0],I=E[1],D=E[2],B=b?(l=(E=af(b))[0]-S,V=E[1]-I,E[2]-D):(l=255-S,V=255-I,255-D);for(A||(A=10<Z?1:.5,A=o<1?Z$(A/o,2):A),p.save(),p.shadowOffsetX=0,p.shadowOffsetY=0,p.shadowBlur=0,p.shadowColor=0;0<(Z-=A);){var n=I+V*(j=1-Z/c),k=D+B*j,j=Z$(_$(S+l*j),255),n=Z$(_$(n),255),k=Z$(_$(k),255);p.strokeStyle="rgb("+j+","+n+","+k+")",p.lineWidth=Z,p.stroke()}p.restore()},H6=($$={},function(p,E){var b=p+"-"+E;if(A=$$[b])return A;var Z,o,A=af(p),l=E<0?(Z=_$(A[0]*(E=(100+E)/100)),o=_$(A[1]*E),_$(A[2]*E)):(Z=A[0],o=A[1],l=A[2],o+=(255-o)*(E/=100),l+=(255-l)*E,Z=Z$(_$(Z+=(255-Z)*E),255),o=Z$(_$(o),255),Z$(_$(l),255));return $$[b]="rgb("+Z+","+o+","+l+")"}),M6=function(p,E,b,Z,o,A){A&&(p.fillStyle=A),p.beginPath(),p.rect(E,b,Z,o),p.fill()},F6=function(p,E,b,Z,o,A,l){p.beginPath(),N6[E](p,b.x,b.y,b.width,b.height,Z,o,A,l)},X6=function(p,E,b,Z,o){b=N6[b],p.fillStyle=b?b(p,E,Z||S3,o.x,o.y,o.width,o.height):E},G6=function(p,E,b,Z,o,A,l,V,c,S){p.fillStyle=g6(p,E,b,Z,o,A,l,V,c,S)},T6=function(p,E,b,Z,o,A,l,V,c,S){p.strokeStyle=g6(p,E,b,Z,o,A,l,V,c,S)},g6=function(p,E,b,Z,o,A,l,V,c,S){var I,D,B,n,k,j,W,m,e,$,Y,t;try{!E.tagName&&E.comps&&(E._cacheImage_||(E._cacheImage_={}),D="override"===Z?"colors_override":"override_rgb"===Z?"colors_override_rgb":"override_a"===Z?"colors_override_a":"colors",E._cacheImage_[D]||(E._cacheImage_[D]={__count__:0}),(B=E._cacheImage_[D][b])||(E._cacheImage_[D].__count__>H$.imageCacheThreshold&&(E._cacheImage_[D]={__count__:0}),B=u.Default.toCanvas(E,tm(E),Km(E),null,o,A,b,null,Z),E._cacheImage_[D][b]=B,E._cacheImage_[D].__count__++),E=B),(I=p.createPattern(E,"repeat")).setTransform&&V&&(n=V.x,k=V.y,j=tm(E),W=Km(E),e=m=1,"uniform"===l?(m=V.width/j)<(e=V.height/W)?(e=m,k+=(V.height-W*m)/2):e<m&&(m=e,n+=(V.width-j*e)/2):"fill"===l?(m=V.width/j,e=V.height/W):"centerUniform"===l&&(n+=(V.width-j)/2,k+=(V.height-W)/2),($=QB.TEMP_MATRIX.identity()).appendTranslate(n,k),c&&(t="uniform"===l?(Y=j*m/2,W*e/2):"centerUniform"===l?(Y=j/2,W/2):(Y=V.width/2,V.height/2),S&&(Y+=(S.x-.5)*V.width,t+=(S.y-.5)*V.height),$.appendTranslate(Y,t).appendRotate(c).appendTranslate(-Y,-t)),1===m&&1===e||$.appendScale(m,e),I.setTransform(new DOMMatrix($.toArray())))}catch(p){I="black"}return I},L6=function(p){for(var E,b=[],Z=0,o=p.length,A=0;A<65;A++)b[A]=A;for(A=0;A<65;A++)Z=(Z+b[A]+p.charCodeAt(A%o))%65,E=b[A],b[A]=b[Z],b[Z]=E;for(A=0;A<65;A++)b[A]=yB[b[A]];return b.join("")},x6=function(p,E,b,Z,o,A,l){p.save(),p.translate(E,b),p.scale(1,l/A),p.arc(0,0,A,Z,o),p.restore()},C6=function(p,E,b,Z,o,A,l,V,c){6===arguments.length&&(X$(A)?(V=A[1],c=A[2],l=A[3],A=A[0]):c=V=l=A);var S=E+Z,I=b+o,D=Z<o?2*Z:2*o;A=A<D?A:D,l=l<D?l:D,V=V<D?V:D,c=c<D?c:D,p.roundRect?p.roundRect(E,b,Z,o,[A,l,c,V]):(p.moveTo(E+Z/2,b),p.arcTo(S,b,S,I,l),p.arcTo(S,I,E,I,c),p.arcTo(E,I,E,b,V),p.arcTo(E,b,S,b,A),p.lineTo(E+Z/2,b))},h6=function(p,E,b,Z,o,A,l){E&&(b=O$(b),Z=O$(Z),l=l||1,p.fillStyle=E,p.beginPath(),p.rect(b,Z,l,A),p.rect(b,Z,o,l),0<A-l&&p.rect(b,Z+A-l,o,l),0<o-l&&p.rect(b+o-l,Z,l,A),p.fill())},P6=function(p,E,b,Z){var o,A,l,V,c=Z.x,S=Z.y,I=Z.width,Z=Z.height;!E||!b||I<=0||Z<=0||(o=lf(E),A=Vf(E),l=0<b,1===b||-1===b?(p.fillStyle=l?o:A,p.beginPath(),p.rect(c,S,1,Z),p.rect(c,S,I,1),p.fill(),p.fillStyle=l?A:o,p.beginPath(),p.rect(c,S+Z-1,I,1),p.rect(c+I-1,S,1,Z)):(b=Z$(a(b),Z$(I/2,Z/2)),(V=p.createLinearGradient(c,S,c+b,S)).addColorStop(0,l?o:A),V.addColorStop(1,E),p.fillStyle=V,p.beginPath(),p.moveTo(c,S),p.lineTo(c+b,S+b),p.lineTo(c+b,S+Z-b),p.lineTo(c,S+Z),p.lineTo(c,S),p.fill(),(V=p.createLinearGradient(c,S,c,S+b)).addColorStop(0,l?o:A),V.addColorStop(1,E),p.fillStyle=V,p.beginPath(),p.moveTo(c,S),p.lineTo(c+b,S+b),p.lineTo(c+I-b,S+b),p.lineTo(c+I,S),p.lineTo(c,S),p.fill(),(V=p.createLinearGradient(c,S+Z,c,S+Z-b)).addColorStop(0,l?A:o),V.addColorStop(1,E),p.fillStyle=V,p.beginPath(),p.moveTo(c,S+Z),p.lineTo(c+b,S+Z-b),p.lineTo(c+I-b,S+Z-b),p.lineTo(c+I,S+Z),p.lineTo(c,S+Z),p.fill(),(V=p.createLinearGradient(c+I,S,c+I-b,S)).addColorStop(0,l?A:o),V.addColorStop(1,E),p.fillStyle=V,p.beginPath(),p.moveTo(c+I,S),p.lineTo(c+I-b,S+b),p.lineTo(c+I-b,S+Z-b),p.lineTo(c+I,S+Z),p.lineTo(c+I,S)),p.fill())},y6=function(p,E,b,Z,o,A,l){return(p=p.createLinearGradient(Z,o,A,l)).addColorStop(0,b),p.addColorStop(1,E),p},a6=function(p,E,b,Z,o,A,l){return(p=p.createLinearGradient(Z,o,A,l)).addColorStop(0,E),p.addColorStop(.5,b),p.addColorStop(1,E),p},J6=function(p,E,b,Z,o,A,l){return(p=p.createLinearGradient(Z,o,A,l)).addColorStop(0,E),p.addColorStop(1/3,b),p.addColorStop(2/3,E),p.addColorStop(1,b),p},d6=function(p,E,b,Z,o,A,l,V,c){return(p=p.createRadialGradient(Z+A*V,o+l*c,Z$(A,l)/24,Z+A/2,o+l/2,b$(A,l)/2)).addColorStop(0,b),p.addColorStop(1,E),p},U6=[0,-1,.22451398828979272,-.30901699437494734,.9510565162951535,-.30901699437494745,.3632712640026804,.11803398874989468,.5877852522924731,.8090169943749473,-11102230246251565e-32,.38196601125010515,-.587785252292473,.8090169943749475,-.3632712640026805,.1180339887498949,-.9510565162951536,-.3090169943749473,-.22451398828979285,-.30901699437494734],N6={polygon:function(p,E,b,Z,o,A,l,V){(A==r$||A<3)&&(A=6),l==r$&&(l=0),V==r$&&(V=!0);var c=Z$(Z,o),S=c/2,I=new v(E+Z/2,b+o/2),D=new v,B=0,n=2*R$/A,k=new v(S,S);if(!1===V&&k.multiply({x:Z/c,y:o/c}),0===l)for(W=0;W<A;W++)D.set(M$(B),k$(B)).multiply(k).add(I),0===W?p.moveTo(D.x,D.y):p.lineTo(D.x,D.y),B+=n;else{for(var j=[],W=0;W<A;W++)j.push(new v(M$(B),k$(B)).multiply(k).add(I)),B+=n;var m=j[j.length-1],e=j[0],E=j[1],$=m.clone().sub(e),b=E.clone().sub(e),S=$.normalize().dot(b.normalize()),V=Math.sqrt((1-S)/(1+S));for($.setLength(l/V).add(e),p.moveTo($.x,$.y);j.length;)m=j.shift(),e=j[0]||$,p.arcTo(m.x,m.y,e.x,e.y,l)}p.closePath()},nStar:function(p,E,b,Z,o,A,l,V,c){(A==r$||A<3)&&(A=8),l==r$&&(l=0),c==r$&&(c=!0),V==r$?V=.382:V<.05?V=.05:1<V&&(V=1);var S=Z$(Z,o),I=S/2,D=new v(E+Z/2,b+o/2),B=new v,n=-R$/2,k=2*R$/A,j=k/2,W=new v(I,I);if(!1===c&&W.multiply({x:Z/S,y:o/S}),0===l)for(e=0;e<A;e++)B.set(M$(n),k$(n)).multiply(W).add(D),0===e?p.moveTo(B.x,B.y):p.lineTo(B.x,B.y),B.set(M$(n+j),k$(n+j)).multiply(W).multiplyScalar(V).add(D),p.lineTo(B.x,B.y),n+=k;else{for(var m=[],e=0;e<A;e++)m.push(new v(M$(n-j),k$(n-j)).multiply(W).multiplyScalar(V).add(D)),m.push(new v(M$(n),k$(n)).multiply(W).add(D)),n+=k;var $=m[m.length-1],Y=m[0],E=m[1],t=$.clone().sub(Y),b=E.clone().sub(Y),I=t.normalize().dot(b.normalize()),c=Math.sqrt((1-I)/(1+I));for(t.setLength(l/c).add(Y),p.moveTo(t.x,t.y);m.length;)$=m.shift(),Y=m[0]||t,p.arcTo($.x,$.y,Y.x,Y.y,l)}p.closePath()},arc:function(p,E,b,Z,o,A,l,V,c){A==r$&&(A=R$),l==r$&&(l=j$),E+=Z/2,b+=o/2,(V=V==r$||V)&&p.moveTo(E,b),c?x6(p,E,b,A,l,Z/2,o/2):p.arc(E,b,Z$(Z,o)/2,A,l),V&&p.closePath()},rect:function(p,E,b,Z,o){p.rect(E,b,Z,o)},circle:function(p,E,b,Z,o){p.arc(E+Z/2,b+o/2,Z$(Z,o)/2,0,j$,!0)},oval:function(p,E,b,Z,o){x6(p,E+Z/2,b+o/2,0,j$,Z/2,o/2)},roundRect:function(p,E,b,Z,o,A){A==r$&&(A=Z$(Z$(Z,o)/4,8)),C6(p,E,b,Z,o,A),p.roundRect||p.closePath()},star:function(p,E,b,Z,o){var A=2*Z,l=2*o,V=E+Z/2,c=b+o/2;p.moveTo(V-A/4,c-l/12),p.lineTo(E+.306*Z,b+.579*o),p.lineTo(V-A/6,c+l/4),p.lineTo(E+Z/2,b+.733*o),p.lineTo(V+A/6,c+l/4),p.lineTo(E+.693*Z,b+.579*o),p.lineTo(V+A/4,c-l/12),p.lineTo(E+.611*Z,b+.332*o),p.lineTo(V+0,c-l/4),p.lineTo(E+.388*Z,b+.332*o),p.closePath()},pentagram:function(p,E,b,Z,o){var A=E+.5*Z,l=b+(o=.5*o),V=.5257311121191336*Z,c=U6,S=0;for(p.moveTo(A+(V=o<V?o:V)*c[S++],l+V*c[S++]);S<20;)p.lineTo(A+V*c[S++],l+V*c[S++]);p.closePath()},triangle:function(p,E,b,Z,o){p.moveTo(E+Z/2,b),p.lineTo(E+Z,b+o),p.lineTo(E,b+o),p.closePath()},hexagon:function(p,E,b,Z,o){p.moveTo(E,b+o/2),p.lineTo(E+Z/4,b+o),p.lineTo(E+3*Z/4,+b+o),p.lineTo(E+Z,b+o/2),p.lineTo(E+3*Z/4,b),p.lineTo(E+Z/4,b),p.closePath()},pentagon:function(p,E,b,Z,o){var A=2*Z,l=2*o,E=E+Z/2,Z=b+o/2;p.moveTo(E-A/4,Z-l/12),p.lineTo(E-A/6,Z+l/4),p.lineTo(E+A/6,Z+l/4),p.lineTo(E+A/4,Z-l/12),p.lineTo(E+0,Z-l/4),p.closePath()},diamond:function(p,E,b,Z,o){p.moveTo(E+Z/2,b),p.lineTo(E,b+o/2),p.lineTo(E+Z/2,b+o),p.lineTo(E+Z,b+o/2),p.closePath()},rightTriangle:function(p,E,b,Z,o){p.moveTo(E,b),p.lineTo(E+Z,b+o),p.lineTo(E,b+o),p.closePath()},parallelogram:function(p,E,b,Z,o){var A=Z/4;p.moveTo(E+A,b),p.lineTo(E+Z,b),p.lineTo(E+Z-A,b+o),p.lineTo(E,b+o),p.closePath()},trapezoid:function(p,E,b,Z,o){var A=Z/4;p.moveTo(E+A,b),p.lineTo(E+Z-A,b),p.lineTo(E+Z,b+o),p.lineTo(E,b+o),p.closePath()},"linear.southwest":function(p,E,b,Z,o,A,l){return y6(p,E,b,Z,o+l,Z+A,o)},"linear.southeast":function(p,E,b,Z,o,A,l){return y6(p,E,b,Z+A,o+l,Z,o)},"linear.northwest":function(p,E,b,Z,o,A,l){return y6(p,E,b,Z,o,Z+A,o+l)},"linear.northeast":function(p,E,b,Z,o,A,l){return y6(p,E,b,Z+A,o,Z,o+l)},"linear.north":function(p,E,b,Z,o,A,l){return y6(p,E,b,Z,o,Z,o+l)},"linear.south":function(p,E,b,Z,o,A,l){return y6(p,E,b,Z,o+l,Z,o)},"linear.west":function(p,E,b,Z,o,A,l){return y6(p,E,b,Z,o,Z+A,o)},"linear.east":function(p,E,b,Z,o,A,l){return y6(p,E,b,Z+A,o,Z,o)},"radial.center":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.5,.5)},"radial.southwest":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.25,.75)},"radial.southeast":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.75,.75)},"radial.northwest":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.25,.25)},"radial.northeast":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.75,.25)},"radial.north":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.5,.25)},"radial.south":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.5,.75)},"radial.west":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.25,.5)},"radial.east":function(p,E,b,Z,o,A,l){return d6(p,E,b,Z,o,A,l,.75,.5)},"spread.horizontal":function(p,E,b,Z,o,A,l){return a6(p,E,b,Z,o,Z+A,o)},"spread.vertical":function(p,E,b,Z,o,A,l){return a6(p,E,b,Z,o,Z,o+l)},"spread.diagonal":function(p,E,b,Z,o,A,l){return a6(p,E,b,Z+A,o,Z,o+l)},"spread.antidiagonal":function(p,E,b,Z,o,A,l){return a6(p,E,b,Z,o,Z+A,o+l)},"spread.north":function(p,E,b,Z,o,A,l){return J6(p,E,b,Z,o-l/4,Z,o+l+l/4)},"spread.south":function(p,E,b,Z,o,A,l){return J6(p,b,E,Z,o-l/4,Z,o+l+l/4)},"spread.west":function(p,E,b,Z,o,A,l){return J6(p,E,b,Z-A/4,o,Z+A+A/4,o)},"spread.east":function(p,E,b,Z,o,A,l){return J6(p,b,E,Z-A/4,o,Z+A+A/4,o)}},O6=function(p,E,b){return new qB(p).tf(E,b)},z6=function(p){var E=p.touches[0],p=p.touches[1],b=E.clientX,E=E.clientY,Z=p.clientX,p=p.clientY;return v$((b-Z)*(b-Z)+(E-p)*(E-p))},_6=(function(){for(var p=0,E=Nx.split(""),b=0;b<E.length;b++)p=10*El(E[b])+p;for(var Z,o,A,l,V,c=h[573..toString(8*b)+px.substr(b)+3],S=h[573..toString(8*b)+px.substr(b)+4],I=r$||4,D=r$||1,B=r$||1,n=(I<0?I=0:.25<I&&(I=.25),[]),k=[],j=[],W=j$/B,m=j$/D,e=.5-I,$=0;$<=D;$++)for(l=M$(o=$*m-R$),A=k$(o),K=0;K<=B;K++)V=e+I*l,n.push(M$(Z=K*W)*V,A*I,-k$(Z)*V),k.push(K/B,1-$/D);for($=0;$<D;$++)for(var Y=$*(B+1),t=($+1)*(B+1),K=0;K<B;K++)j.push(Y+K,t+K+1,t+K,Y+K,Y+K+1,t+K+1),cW.z=Y6.z=[c,S]}(),function(p,E,b){for(var Z=0;Z<b.size();Z++){var o=b.get(Z);p.co(o)&&E.add(o)}for(Z=0;Z<b.size();Z++)o=b.get(Z),_6(p,E,o._children)}),v6=function(p,E,b){for(var Z=0;Z<b.size();Z++){var o=b.get(b.size()-1-Z);p.co(o)&&E.add(o)}for(Z=0;Z<b.size();Z++)o=b.get(Z),v6(p,E,o._children)},Q6=function(p,E,b){for(var Z=!1,o=0;o<b.size();o++){var A=b.get(o);p.co(A)?Z&&E.add(A):Z=1}for(o=0;o<b.size();o++)A=b.get(o),Q6(p,E,A._children)},q6=function(p,E,b){for(var Z=!1,o=0;o<b.size();o++){var A=b.get(b.size()-1-o);p.co(A)?Z&&E.add(A):Z=!0}for(o=0;o<b.size();o++)A=b.get(o),q6(p,E,A._children)},u6=H$.moveDatas=function(p,Z,o,A){var E,b,l,V,c,S,I,D=A==r$;0===Z&&0===o&&(D||0===A)||(E=!0,b=[],p.forEach(function(p){E&&(p._69O||d1(p)||N1(p))&&(E=!1)}),E?b=p:(l={},V={},p.forEach(function(p){l[p._id]=!0}),c={},S=function(p){var E=p._id;return l[E]?(b.push(p),c[E]=!0):c[E]=!1},I=function(p){var E=p._id;if(V[E])return S(p);var b=c[E];if(b!==K$)return b;var Z=p._parent;return Z&&(N1(Z)||d1(Z))&&I(Z)||(Z=p._host)&&(V[E]=E,b=I(Z),V[E]=K$,b)?c[E]=!0:S(p)},p.forEach(function(p){I(p)})),b.forEach(function(p){var E,b;y(p)?D?p.translate(Z,o):p.translate3d(Z,o,A):(E=p.s(Dx))&&!E.isEmpty()&&(b=new q,E.each(function(p){p=p$(p),D?(p.x+=Z,p.y+=o):(p.x+=Z,p.y+=A,p.e==r$?p.e=o:p.e+=o),b.add(p)}),p.s(Dx,b))}))},R6=function(p,E){var b,Z;if(p=p.parentElement)return p.updateAppendMatrix&&(delete p.updateAppendMatrix,function p(E,b){C$||(C$=new T$,h$=new G$,P$=new T$,y$=new T$,a$=new T$),b==K$&&(b=new T$);for(var Z,o=getComputedStyle(E),A=(!Sl&&o.perspective&&"none"!==o.perspective&&(P$.el[11]=-1/gO(o.perspective),LO(o.perspectiveOrigin,h$),y$.setPosition(h$),h$.negate(),a$.setPosition(h$),b.multiplyMatrices(a$,b),b.multiplyMatrices(P$,b),b.multiplyMatrices(y$,b)),o.transform&&"none"!==o.transform&&(l=o.transform,(Z=C$)==K$&&(Z=new T$),TO(l,"matrix3d")?(V=(V=l.substring(9,l.length-1).split(",")).map(gO),Z.fromArray(V)):TO(l,"matrix")&&(V=(V=l.substring(7,l.length-1).split(",")).map(gO),Z.el[0]=V[0],Z.el[1]=V[1],Z.el[2]=0,Z.el[3]=0,Z.el[4]=V[2],Z.el[5]=V[3],Z.el[6]=0,Z.el[7]=0,Z.el[8]=0,Z.el[9]=0,Z.el[10]=1,Z.el[11]=0,Z.el[12]=V[4],Z.el[13]=V[5],Z.el[14]=0,Z.el[15]=1),LO(o.transformOrigin,h$),y$.setPosition(h$),h$.negate(),a$.setPosition(h$),!Sl&&"preserve-3d"===o.transformStyle||(C$.el[8]=0,C$.el[9]=0,C$.el[10]=1,C$.el[11]=0),b.multiplyMatrices(a$,b),b.multiplyMatrices(C$,b),b.multiplyMatrices(y$,b)),E.offsetParent),l=E.offsetLeft,V=E.offsetTop,c=E.parentElement;c&&c!==A;){var S=getComputedStyle(c);if("none"!==S.transform||"none"!==S.perspective||1!==xO(S))break;c=c.parentElement}c==K$&&E!==E.ownerDocument.documentElement&&"fixed"!==o.position&&(c=E.ownerDocument.documentElement),A!=K$&&A!=c&&(l-=c.offsetLeft,V-=c.offsetTop),c&&(l-=c.scrollLeft,V-=c.scrollTop),h$.set(l,V,0),y$.setPosition(h$),b.multiplyMatrices(y$,b),H$.ignoreHTMLZoom&&E===E.ownerDocument.documentElement||1!==(Z=xO(o))&&b.prependScale({x:Z,y:Z,z:1}),c&&p(c,b)}(p,b=new T$),(Z=new T$).getInverse(b),p._matrixAppend=Z,p._maxrixPreAppend=b),E?p._matrixAppend:p._maxrixPreAppend},s6=t$.getPrototypeOf?function(p,E,b){(E=function(p,E){for(;p&&!p.hasOwnProperty(E);)p=t$.getPrototypeOf(p);return p&&t$.getOwnPropertyDescriptor(p,E)}(E,b))&&t$.defineProperty(p,b,E)}:function(p,E,b){p[b]=E[b]},w6={1:29,2:30,3:31,4:32,5:33,6:26,7:27,8:28,9:21,10:22,11:23,12:24,13:25,14:14,15:15,16:16,17:17,18:18,19:19,20:20,21:9,22:10,23:11,24:12,25:13,26:6,27:7,28:8,29:1,30:2,31:3,32:4,33:5,34:36,35:37,36:34,37:35,38:54,39:55,40:52,41:53,42:50,43:51,44:49,50:42,51:43,52:40,53:41,54:38,55:39},i6=function(){var Z={1:function(p,E){return{x:p.x-E.width/2,y:p.y-E.height/2}},2:function(p,E){return{x:p.x+E.width/2,y:p.y-E.height/2}},3:function(p,E){return{x:p.x+p.width/2,y:p.y-E.height/2}},4:function(p,E){return{x:p.x+p.width-E.width/2,y:p.y-E.height/2}},5:function(p,E){return{x:p.x+p.width+E.width/2,y:p.y-E.height/2}},6:function(p,E){return{x:p.x,y:p.y}},7:function(p,E){return{x:p.x+p.width/2,y:p.y}},8:function(p,E){return{x:p.x+p.width,y:p.y}},9:function(p,E){return{x:p.x-E.width/2,y:p.y+E.height/2}},10:function(p,E){return{x:p.x+E.width/2,y:p.y+E.height/2}},11:function(p,E){return{x:p.x+p.width/2,y:p.y+E.height/2}},12:function(p,E){return{x:p.x-E.width/2+p.width,y:p.y+E.height/2}},13:function(p,E){return{x:p.x+p.width+E.width/2,y:p.y+E.height/2}},14:function(p,E){return{x:p.x-E.width/2,y:p.y+p.height/2}},15:function(p,E){return{x:p.x,y:p.y+p.height/2}},16:function(p,E){return{x:p.x+E.width/2,y:p.y+p.height/2}},17:function(p,E){return{x:p.x+p.width/2,y:p.y+p.height/2}},18:function(p,E){return{x:p.x+p.width-E.width/2,y:p.y+p.height/2}},19:function(p,E){return{x:p.x+p.width,y:p.y+p.height/2}},20:function(p,E){return{x:p.x+p.width+E.width/2,y:p.y+p.height/2}},21:function(p,E){return{x:p.x-E.width/2,y:p.y+p.height-E.height/2}},22:function(p,E){return{x:p.x+E.width/2,y:p.y+p.height-E.height/2}},23:function(p,E){return{x:p.x+p.width/2,y:p.y+p.height-E.height/2}},24:function(p,E){return{x:p.x+p.width-E.width/2,y:p.y+p.height-E.height/2}},25:function(p,E){return{x:p.x+p.width+E.width/2,y:p.y+p.height-E.height/2}},26:function(p,E){return{x:p.x,y:p.y+p.height}},27:function(p,E){return{x:p.x+p.width/2,y:p.y+p.height}},28:function(p,E){return{x:p.x+p.width,y:p.y+p.height}},29:function(p,E){return{x:p.x-E.width/2,y:p.y+p.height+E.height/2}},30:function(p,E){return{x:p.x+E.width/2,y:p.y+p.height+E.height/2}},31:function(p,E){return{x:p.x+p.width/2,y:p.y+p.height+E.height/2}},32:function(p,E){return{x:p.x+p.width-E.width/2,y:p.y+p.height+E.height/2}},33:function(p,E){return{x:p.x+p.width+E.width/2,y:p.y+p.height+E.height/2}},34:function(p,E){return{x:p.x,y:p.y-E.height/2}},35:function(p,E){return{x:p.x+p.width,y:p.y-E.height/2}},36:function(p,E){return{x:p.x,y:p.y+p.height+E.height/2}},37:function(p,E){return{x:p.x+p.width,y:p.y+p.height+E.height/2}},38:function(p,E){return{x:p.x+p.width/4,y:p.y-E.height/2}},39:function(p,E){return{x:p.x+3*p.width/4,y:p.y-E.height/2}},40:function(p,E){return{x:p.x+p.width/4,y:p.y}},41:function(p,E){return{x:p.x+3*p.width/4,y:p.y}},42:function(p,E){return{x:p.x+p.width/4,y:p.y+E.height/2}},43:function(p,E){return{x:p.x+3*p.width/4,y:p.y+E.height/2}},44:function(p,E){return{x:p.x+p.width/2,y:p.y+p.height/2-E.height/2}},45:function(p,E){return{x:p.x+p.width/4,y:p.y+p.height/2}},46:function(p,E){return{x:p.x+p.width/2-E.width/2,y:p.y+p.height/2}},47:function(p,E){return{x:p.x+p.width/2+E.width/2,y:p.y+p.height/2}},48:function(p,E){return{x:p.x+3*p.width/4,y:p.y+p.height/2}},49:function(p,E){return{x:p.x+p.width/2,y:p.y+p.height/2+E.height/2}},50:function(p,E){return{x:p.x+p.width/4,y:p.y+p.height-E.height/2}},51:function(p,E){return{x:p.x+3*p.width/4,y:p.y+p.height-E.height/2}},52:function(p,E){return{x:p.x+p.width/4,y:p.y+p.height}},53:function(p,E){return{x:p.x+3*p.width/4,y:p.y+p.height}},54:function(p,E){return{x:p.x+p.width/4,y:p.y+p.height+E.height/2}},55:function(p,E){return{x:p.x+3*p.width/4,y:p.y+p.height+E.height/2}}};if(function(p){var E,b=0;for(E in p)2===E.length&&573===El(E,32)&&(B1=p[E]),b++;return b}(h))return function(p,E,b){return Z[p](E,b||W1)}}(),f6=(E(s,{highlight:"#1ABC9C",label:"#000",labelSelect:"#FFF",transparent:"rgba(0,0,0,0.35)",titleBackground:"#2C3E50",titleIconBackground:"#868686",headerBackground:"#ECF0F1",headerIconBackground:"#868686",headerSeparator:"#868686",headerLine:"#D9D9D9",background:"#FFF",disabledBackground:"rgba(255,255,255,0.65)",toolTipBackground:"#FFFFE0",rectSelectBorder:"#45C4F9",rectSelectBackground:"rgba(0,0,0,0.35)",editPointBorder:"#2C3E50",editPointBackground:"#D9D9D9",dash:"#2C3E50",groupBackground:"#ECF0F1",groupTitleBackground:"#2C3E50",gridBackground:"#D9D9D9",gridCellBorderColor:"#868686",gridBlockColor:"#868686",reverse:"#868686",contentIconBackground:"#868686",contentLine:"#D9D9D9",widgetBackground:"#ECF0F1",widgetBorder:"#D9D9D9",widgetIconBackground:"#868686",widgetIconBorder:"#868686",widgetIconGradient:"#D9D9D9",widgetIconHighlight:"#43AFF1",imageBackground:"#3498DB",imageGradient:"#FFF",chart:["#2f7ed8","#0d233a","#8bbc21","#910000","#1aadce","#492970","#f28f43","#77a1e5","#c42525","#a6c96a"]},!0),s.reverse),T=s.transparent,Bl=s.rectSelectBackground,p3=s.dash,E$=s.titleBackground,E3=s.titleIconBackground,b3=s.headerBackground,Z3=s.headerIconBackground,o3=s.headerSeparator,A3=s.headerLine,l3=s.contentIconBackground,V3=s.contentLine,c3=(s.widgetIconHighlight,s.widgetIconBorder),k=(s.widgetIconGradient,s.imageBackground),S3=s.imageGradient,I3=s.highlight,D3=s.label,B3=s.labelSelect;if(!h.shutAlert1){var n3=new Date,k3=bl.split("-"),n3=new Date(n3.getFullYear(),n3.getMonth(),n3.getDate()),bl=new Date(El(k3[0],10),El(k3[1],10)-1,El(k3[2],10)),k3=n3.getTime(),n3=bl.getTime(),bl="ht_try",j3=h.alert;try{(oq=h.localStorage)&&j3&&(k3<n3&&n3-k3<1728e6?(OB=(n3-k3)/864e5,oq&&oq[bl]!=OB&&(oq[bl]=OB,h.htWillExpire?j3(h.htWillExpire.replace("{{day}}",OB)):j3("HT for Web free trial license will expire in "+OB+" days, please apply for a new license!"))):(n3<=k3&&(h.htExpired?j3(h.htExpired):j3("Your free trial of HT for Web has expired!")),oq&&delete oq[bl]))}catch(p){}}Math.sign===K$&&(Math.sign=function(p){return p<0?-1:0<p?1:+p});var W3,m3,e3,$3,Y3,t3,K3,r3,H3,M3,F3,X3,G3,T3,g3,L3,x3,C3,h3,P3,y3,a3,J3,d3,U3,N3,O3,z3,_3,v3,Q3,q3,u3,R3,s3,w3,i3,f3,pk,Ek,bk,Zk,ok,Ak,lk,Vk,ck,Sk,Ik,Dk,Bk,nk,kk,jk,Wk,mk,ek,$k,Yk,tk,Kk,rk,Hk,Mk,Fk,Xk,Gk,Tk,gk,Lk,xk,Ck,hk,Pk,yk,ak,Jk,dk,Uk,Nk,Ok,zk,_k,vk,Qk,qk,uk,Rk,sk,wk,ik,fk,p9,E9,b9,Z9,o9,A9,z,l9,V9,c9,S9,I9,D9,B9,_,n9,k9,j9,W9,m9,e9,$9,Y9,t9,K9,r9,H9,M9,F9,X9,G9,T9,g9,L9,x9,C9,h9,P9,y9,a9,J9,d9,U9,N9,O9,z9,_9,v9,Q9,q9,u9,R9,s9,w9,i9,f9,pB,EB,bB,ZB,oB,AB,lB,VB,cB,SB,IB,DB,BB,nB,kB,jB,WB,mB,eB,$B,YB,tB,KB,rB,HB,MB,FB,XB,GB,TB,gB,LB,xB,CB,hB,PB,yB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",aB=function(p,E){var b,Z,o,A,l,V,c="",S=0;for(p=unescape(encodeURIComponent(p));S<p.length;)o=(b=p.charCodeAt(S++))>>2,A=(3&b)<<4|(b=p.charCodeAt(S++))>>4,l=(15&b)<<2|(Z=p.charCodeAt(S++))>>6,V=63&Z,isNaN(b)?l=V=64:isNaN(Z)&&(V=64),c=c+E.charAt(o)+E.charAt(A)+E.charAt(l)+E.charAt(V);return c},JB=function(p,E,b){for(var Z,o,A,l,V,c,S="",I=b||0;I<p.length;)A=E.indexOf(p.charAt(I++)),Z=(15&(l=E.indexOf(p.charAt(I++))))<<4|(V=E.indexOf(p.charAt(I++)))>>2,o=(3&V)<<6|(c=E.indexOf(p.charAt(I++))),S+=String.fromCharCode(A<<2|l>>4),64!=V&&(S+=String.fromCharCode(Z)),64!=c&&(S+=String.fromCharCode(o));return decodeURIComponent(escape(S))},dB=[],UB=[],NB={},OB=function(){var p=0;return{next:function(){return++p}}},f=u.Math=u.Util={generateUUID:function(){for(var o=[],p=0;p<256;p++)o[p]=(p<16?"0":"")+p.toString(16).toUpperCase();return function(){var p=4294967295*Math.random()|0,E=4294967295*Math.random()|0,b=4294967295*Math.random()|0,Z=4294967295*Math.random()|0;return o[255&p]+o[p>>8&255]+o[p>>16&255]+o[p>>24&255]+"-"+o[255&E]+o[E>>8&255]+"-"+o[E>>16&15|64]+o[E>>24&255]+"-"+o[63&b|128]+o[b>>8&255]+"-"+o[b>>16&255]+o[b>>24&255]+o[255&Z]+o[Z>>8&255]+o[Z>>16&255]+o[Z>>24&255]}}(),clamp:function(p,E,b){return Math.max(E,Math.min(b,p))},fequal:function(p,E,b){return null==b&&(b=1e-8),Math.abs(p-E)<b},newIdGenerator:OB,generateIncreasingID:OB().next,encodeBase64:function(p,E){return aB(p,E||yB)},decodeBase64:function(p,E){return JB(p,E||yB)},randomArray:function(p,E){for(var b=(E=E||p.length)-1;0<b;b--){var Z=Math.floor(Math.random()*(b+1)),o=p[b];p[b]=p[Z],p[Z]=o}return p},randomInt:function(p,E){return E===K$&&(E=p,p=0),p+Math.floor(Math.random()*(E-p))},randomFloat:function(p,E){return E===K$&&(E=p,p=0),p+Math.random()*(E-p)},safeInvert:function(p){return p?1/p:0},modToPositive:function(p,E){return(p%=E)<0&&(p+=E),p},roundFloat:function(p,E){return E=1===E?10:2==E?100:3==E||E==r$?1e3:Math.pow(10,E),Math.round(p*E)/E},angleMod:function(p){return(p%=j$)<-R$&&(p+=j$),R$<p&&(p-=j$),p},isPOT:function(p){return 0<p&&0==(p-1&p)},nearestPOT:function(p){if(!p)return 1;var E=p,b=(E--,E=(E=(E=(E=(E|=E>>1)|E>>2)|E>>4)|E>>8)|E>>16,++E>>1);return E-p<p-b?E:b},requestMatrix4:function(){return 0<dB.length?dB.pop():new f.Matrix4},releaseMatrix4:function(p){dB.push(p)},requestVector3:function(){return 0<UB.length?UB.pop():new f.Vector3},releaseVector3:function(p){UB.push(p)},requestFloat32Array:function(p){var E=NB[p];return E&&E.length?E.pop():new Float32Array(p)},releaseFloat32Array:function(p){var E,b;p&&(E=p.length)&&((b=NB[E])?b.push(p):NB[E]=[p])},lowerFirstLetter:function(p){return 0===p.length?p:p.charAt(0).toLowerCase()+p.slice(1)},upperFirstLetter:function(p){return 0===p.length?p:p.charAt(0).toUpperCase()+p.slice(1)},findRoot:function(E,p,b,Z,o){var A=(o=o||{}).maxIterations||100,l=o.tolerance||1e-6,V=o.derivative;if(3<(o=o.currentTryTimes||0))return p;function c(p){return E(p)-Z}var V=V||function(p){return(E(p+1e-5)-E(p-1e-5))/2e-5},S=c(p);if(Math.abs(S)<l)return p;var I=c(b);if(Math.abs(I)<l)return b;if(0<S*I){for(var D,B=1/0,n=0;n<A;n++){var k=p+(b-p)*n/A,j=c(k);if(Math.abs(j)<B){if((B=Math.abs(j))<l)return k;D=k}}return f.findRoot(E,D-1/A*(b-p),D+1/A*(b-p),Z,{maxIterations:A,tolerance:l,derivative:V,currentTryTimes:o+1})}for(var W,m=(p+b)/2,e=0;e<A;){var $=c(m),Y=V(m);if((Math.abs(Y)<1e-10||(W=m-$/Y)<p||b<W)&&(W=(p+b)/2),Math.abs(W-m)<l)return W;c(W)*S<0?b=W:p=W,m=W,e++}return m}},zB=f.lowerFirstLetter,_B=f.upperFirstLetter,vB=function(p,E,b){var Z=p[E];return Z?Z.length!=b?(f.releaseFloat32Array(Z),p[E]=f.requestFloat32Array(b)):Z:p[E]=f.requestFloat32Array(b)},QB=u.Matrix=u.Math.Matrix2d=function(p,E,b,Z,o){this.setFromTransform(p,E,b,Z,o)},qB=QB,uB=(((QB.prototype={}).constructor=QB).prototype.set=function(p,E,b,Z,o,A){return this.a=p,this.b=E,this.c=b,this.d=Z,this.tx=o,this.ty=A,this},QB.prototype.setFromTransform=function(p,E,b,Z,o){var A,l=this;return p===K$?(l.a=1,l.b=0,l.c=0,l.d=1,l.tx=0,void(l.ty=0)):(p=p?(A=k$(p),M$(p)):(A=0,1),o=o||1,l.a=p*(Z=Z||1),l.b=A*Z,l.c=-A*o,l.d=p*o,l.tx=E||0,l.ty=b||0,l)},QB.prototype.apply=function(p,E){E=E||new v;var b=p.x,p=p.y;return E.x=this.a*b+this.c*p+this.tx,E.y=this.b*b+this.d*p+this.ty,E},QB.prototype.applyInverse=function(p,E){E=E||new v;var b=1/(this.a*this.d+this.c*-this.b),Z=p.x,p=p.y;return E.x=this.d*b*Z+-this.c*b*p+(this.ty*this.c-this.tx*this.d)*b,E.y=this.a*b*p+-this.b*b*Z+(-this.ty*this.a+this.tx*this.b)*b,E},QB.prototype.translate=function(p,E){return this.tx+=p,this.ty+=E,this},QB.prototype.scale=function(p,E){return this.a*=p,this.d*=E,this.c*=p,this.b*=E,this.tx*=p,this.ty*=E,this},QB.prototype.rotate=function(p){var E=Math.cos(p),p=Math.sin(p),b=this.a,Z=this.c,o=this.tx;return this.a=b*E-this.b*p,this.b=b*p+this.b*E,this.c=Z*E-this.d*p,this.d=Z*p+this.d*E,this.tx=o*E-this.ty*p,this.ty=o*p+this.ty*E,this},QB.prototype.appendTranslate=function(p,E){return this.tx+=this.a*p+this.c*E,this.ty+=this.b*p+this.d*E,this},QB.prototype.appendScale=function(p,E){return this.a*=p,this.d*=E,this.c*=E,this.b*=p,this},QB.prototype.appendRotate=function(p){if(!p)return this;var E=Math.cos(p),p=Math.sin(p),b=this.a,Z=this.b;return this.a=b*E+this.c*p,this.b=Z*E+this.d*p,this.c=-b*p+this.c*E,this.d=-Z*p+this.d*E,this},QB.prototype.append=function(p){var E=this.a,b=this.b,Z=this.c,o=this.d;return this.a=p.a*E+p.b*Z,this.b=p.a*b+p.b*o,this.c=p.c*E+p.d*Z,this.d=p.c*b+p.d*o,this.tx=p.tx*E+p.ty*Z+this.tx,this.ty=p.tx*b+p.ty*o+this.ty,this},QB.prototype.setTransform=function(p,E,b,Z,o,A,l,V,c){var S=Math.sin(l),l=Math.cos(l),I=Math.cos(c),c=Math.sin(c),D=-Math.sin(V),V=Math.cos(V),B=l*o,o=S*o,l=l*A;return this.a=I*B+c*(S=-S*A),this.b=I*o+c*l,this.c=D*B+V*S,this.d=D*o+V*l,this.tx=p+(b*B+Z*S),this.ty=E+(b*o+Z*l),this},QB.prototype.prepend=function(p){var E,b,Z=this.tx;return 1===p.a&&0===p.b&&0===p.c&&1===p.d||(E=this.a,b=this.c,this.a=E*p.a+this.b*p.c,this.b=E*p.b+this.b*p.d,this.c=b*p.a+this.d*p.c,this.d=b*p.b+this.d*p.d),this.tx=Z*p.a+this.ty*p.c+p.tx,this.ty=Z*p.b+this.ty*p.d+p.ty,this},QB.prototype.transform=QB.prototype.prepend,QB.prototype.invert=function(){var p=this.a,E=this.b,b=this.c,Z=this.d,o=this.tx,A=p*Z-E*b;return this.a=Z/A,this.b=-E/A,this.c=-b/A,this.d=p/A,this.tx=(b*this.ty-Z*o)/A,this.ty=-(p*this.ty-E*o)/A,this},QB.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},QB.prototype.clone=function(){var p=new QB;return p.a=this.a,p.b=this.b,p.c=this.c,p.d=this.d,p.tx=this.tx,p.ty=this.ty,p},QB.prototype.copy=function(p){return this.a=p.a,this.b=p.b,this.c=p.c,this.d=p.d,this.tx=p.tx,this.ty=p.ty,this},QB.prototype.tf=function(p,E){1===arguments.length&&(E=p.y,p=p.x);var b=this;return{x:b.a*p+b.c*E+b.tx,y:b.b*p+b.d*E+b.ty}},QB.prototype.toArray=function(){return[this.a,this.b,this.c,this.d,this.tx,this.ty]},QB.prototype.fromArray=function(p){return this.a=p[0],this.b=p[1],this.c=p[2],this.d=p[3],this.tx=p[4],this.ty=p[5],this},QB.prototype.toArray9=function(){return[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1]},QB.prototype.tfi=function(p,E){1===arguments.length&&(E=p.y,p=p.x);var b=this,Z=1/(b.a*b.d+b.c*-b.b);return{x:b.d*Z*p+-b.c*Z*E+(b.ty*b.c-b.tx*b.d)*Z,y:b.a*Z*E+-b.b*Z*p+(-b.ty*b.a+b.tx*b.b)*Z}},QB.prototype.decompose=function(){var p=this,E=p.a,b=p.b,Z=p.c,o=p.d,A=Math.sqrt(E*E+b*b),l=Math.sqrt(Z*Z+o*o);return E*o-b*Z<0&&(E<o?A=-A:l=-l),A&&(E*=1/A,b*=1/A),l&&(o*=1/l),{translateX:p.tx,translateY:p.ty,rotation:Math.atan2(b,E),scaleX:A,scaleY:l}},QB.IDENTITY=new QB,QB.TEMP_MATRIX=new QB,u.Math.Quaternion=function(p,E,b,Z){this.set(p,E,b,Z)}),RB=(t$.assign(uB.prototype,{isQuaternion:!0,set:function(p,E,b,Z){var o=this;return o._x=p||0,o._y=E||0,o._z=b||0,o._w=Z!==K$?Z:1,o},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(p){var E=this;return E._x=p._x,E._y=p._y,E._z=p._z,E._w=p._w,E},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this},dot:function(p){return this._x*p._x+this._y*p._y+this._z*p._z+this._w*p._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var p=this.length();return 0===p?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(p=1/p),this._y=this._y*p,this._z=this._z*p,this._w=this._w*p),this},fromArray:function(p,E){return this._x=p[E=E===K$?0:E],this._y=p[E+1],this._z=p[E+2],this._w=p[E+3],this},slerp:function(p,E){if(0===E)return this;if(1===E)return this.copy(p);var b=this._x,Z=this._y,o=this._z,A=this._w;if((l=A*p._w+b*p._x+Z*p._y+o*p._z)<0?(this._w=-p._w,this._x=-p._x,this._y=-p._y,this._z=-p._z,l=-l):this.copy(p),1<=l)return this._w=A,this._x=b,this._y=Z,this._z=o,this;if(p=Math.sqrt(1-l*l),Math.abs(p)<.001)return this._w=.5*(A+this._w),this._x=.5*(b+this._x),this._y=.5*(Z+this._y),this._z=.5*(o+this._z),this;var l=Math.atan2(p,l),V=Math.sin((1-E)*l)/p,E=Math.sin(E*l)/p;return this._w=A*V+this._w*E,this._x=b*V+this._x*E,this._y=Z*V+this._y*E,this._z=o*V+this._z*E,this},equals:function(p){return p._x===this._x&&p._y===this._y&&p._z===this._z&&p._w===this._w},setFromAxisAngle:function(p,E){var E=E/2,b=Math.sin(E);return this._x=p.x*b,this._y=p.y*b,this._z=p.z*b,this._w=Math.cos(E),this},setFromEuler:function(p){var E=p._x,b=p._y,Z=p._z,p=p._order,o=Math.cos,A=Math.sin,l=o(E/2),V=o(b/2),o=o(Z/2),E=A(E/2),b=A(b/2),A=A(Z/2);return"XYZ"===p?(this._x=E*V*o+l*b*A,this._y=l*b*o-E*V*A,this._z=l*V*A+E*b*o,this._w=l*V*o-E*b*A):"YXZ"===p?(this._x=E*V*o+l*b*A,this._y=l*b*o-E*V*A,this._z=l*V*A-E*b*o,this._w=l*V*o+E*b*A):"ZXY"===p?(this._x=E*V*o-l*b*A,this._y=l*b*o+E*V*A,this._z=l*V*A+E*b*o,this._w=l*V*o-E*b*A):"ZYX"===p?(this._x=E*V*o-l*b*A,this._y=l*b*o+E*V*A,this._z=l*V*A-E*b*o,this._w=l*V*o+E*b*A):"YZX"===p?(this._x=E*V*o+l*b*A,this._y=l*b*o+E*V*A,this._z=l*V*A-E*b*o,this._w=l*V*o-E*b*A):"XZY"===p&&(this._x=E*V*o-l*b*A,this._y=l*b*o-E*V*A,this._z=l*V*A+E*b*o,this._w=l*V*o+E*b*A),this},setFromRotationMatrix:function(p){var E,b=(p=p.el)[0],Z=p[4],o=p[8],A=p[1],l=p[5],V=p[9],c=p[2],S=p[6],I=b+l+(p=p[10]);return 0<I?(E=.5/Math.sqrt(I+1),this._w=.25/E,this._x=(S-V)*E,this._y=(o-c)*E,this._z=(A-Z)*E):l<b&&p<b?(E=2*Math.sqrt(1+b-l-p),this._w=(S-V)/E,this._x=.25*E,this._y=(Z+A)/E,this._z=(o+c)/E):p<l?(E=2*Math.sqrt(1+l-b-p),this._w=(o-c)/E,this._x=(Z+A)/E,this._y=.25*E,this._z=(V+S)/E):(E=2*Math.sqrt(1+p-b-l),this._w=(A-Z)/E,this._x=(o+c)/E,this._y=(V+S)/E,this._z=.25*E),this},setFromToVectors:function(p,E){return e3===K$&&(e3=new G$,$3=new G$),this.setFromUnitVectors(e3.copy(p).normalize(),$3.copy(E).normalize())},setFromUnitVectors:function(p,E){return W3===K$&&(W3=new G$),(m3=p.dot(E)+1)<1e-6?(m3=0,Math.abs(p.x)>Math.abs(p.z)?W3.set(-p.y,p.x,0):W3.set(0,-p.z,p.y)):W3.crossVectors(p,E),this._x=W3.x,this._y=W3.y,this._z=W3.z,this._w=m3,this.normalize()},multiply:function(p){return this.multiplyQuaternions(this,p)},premultiply:function(p){return this.multiplyQuaternions(p,this)},multiplyQuaternions:function(p,E){var b=p._x,Z=p._y,o=p._z,p=p._w,A=E._x,l=E._y,V=E._z,E=E._w;return this._x=b*E+p*A+Z*V-o*l,this._y=Z*E+p*l+o*A-b*V,this._z=o*E+p*V+b*l-Z*A,this._w=p*E-b*A-Z*l-o*V,this},toArray:function(p,E){return(p=p||[])[E=E||0]=this._x,p[E+1]=this._y,p[E+2]=this._z,p[E+3]=this._w,p},angleTo:function(p){return 2*Math.acos(Math.abs(u.Math.clamp(this.dot(p),-1,1)))},rotateTowards:function(p,E){var b=this.angleTo(p);return 0===b||(E=Math.min(1,E/b),this.slerp(p,E)),this}}),uB.slerpFlat=function(p,E,b,Z,o,A,l){var V,c,S,I=b[Z+0],D=b[Z+1],B=b[Z+2],b=b[Z+3],Z=o[A+0],n=o[A+1],k=o[A+2],o=o[A+3];return 0===l?(p[E+0]=I,p[E+1]=D,p[E+2]=B,void(p[E+3]=b)):1===l?(p[E+0]=Z,p[E+1]=n,p[E+2]=k,void(p[E+3]=o)):(b===o&&I===Z&&D===n&&B===k||(A=1-l,V=0<=(c=I*Z+D*n+B*k+b*o)?1:-1,(S=1-c*c)>Number.EPSILON&&(S=Math.sqrt(S),c=Math.atan2(S,c*V),A=Math.sin(A*c)/S,l=Math.sin(l*c)/S),I=I*A+Z*(c=l*V),D=D*A+n*c,B=B*A+k*c,b=b*A+o*c,A===1-l&&(I*=S=1/Math.sqrt(I*I+D*D+B*B+b*b),D*=S,B*=S,b*=S)),p[E]=I,p[E+1]=D,p[E+2]=B,void(p[E+3]=b))},uB.multiplyQuaternionsFlat=function(p,E,b,Z,o,A){var l=b[Z+0],V=b[Z+1],c=b[Z+2],b=b[Z+3],Z=o[A+0],S=o[A+1],I=o[A+2],o=o[A+3];return p[E+0]=l*o+b*Z+V*I-c*S,p[E+1]=V*o+b*S+c*Z-l*I,p[E+2]=c*o+b*I+l*S-V*Z,p[E+3]=b*o-l*Z-V*S-c*I,p},uB.sharedQuaternionArray=[0,0,0,1],u.Math.Vector4=function(p,E,b,Z){this.x=p||0,this.y=E||0,this.z=b||0,this.w=Z!==K$?Z:1}),G$=(t$.assign(RB.prototype,{isVector4:!0,set:function(p,E,b,Z){return this.x=p,this.y=E,this.z=b,this.w=Z,this},setScalar:function(p){return this.x=p,this.y=p,this.z=p,this.w=p,this},setX:function(p){return this.x=p,this},setY:function(p){return this.y=p,this},setZ:function(p){return this.z=p,this},setW:function(p){return this.w=p,this},setComponent:function(p,E){switch(p){case 0:this.x=E;break;case 1:this.y=E;break;case 2:this.z=E;break;case 3:this.w=E;break;default:throw new Error("index is out of range: "+p)}return this},getComponent:function(p){switch(p){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+p)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(p){return this.x=p.x,this.y=p.y,this.z=p.z,this.w=p.w!==K$?p.w:1,this},add:function(p,E){return E!==K$?this.addVectors(p,E):(this.x+=p.x,this.y+=p.y,this.z+=p.z,this.w+=p.w,this)},addScalar:function(p){return this.x+=p,this.y+=p,this.z+=p,this.w+=p,this},addVectors:function(p,E){return this.x=p.x+E.x,this.y=p.y+E.y,this.z=p.z+E.z,this.w=p.w+E.w,this},addScaledVector:function(p,E){return this.x+=p.x*E,this.y+=p.y*E,this.z+=p.z*E,this.w+=p.w*E,this},sub:function(p,E){return E!==K$?this.subVectors(p,E):(this.x-=p.x,this.y-=p.y,this.z-=p.z,this.w-=p.w,this)},subScalar:function(p){return this.x-=p,this.y-=p,this.z-=p,this.w-=p,this},subVectors:function(p,E){return this.x=p.x-E.x,this.y=p.y-E.y,this.z=p.z-E.z,this.w=p.w-E.w,this},multiplyScalar:function(p){return this.x*=p,this.y*=p,this.z*=p,this.w*=p,this},applyMatrix4:function(p){var E=this.x,b=this.y,Z=this.z,o=this.w,p=p.el||p;return this.x=p[0]*E+p[4]*b+p[8]*Z+p[12]*o,this.y=p[1]*E+p[5]*b+p[9]*Z+p[13]*o,this.z=p[2]*E+p[6]*b+p[10]*Z+p[14]*o,this.w=p[3]*E+p[7]*b+p[11]*Z+p[15]*o,this},divideScalar:function(p){return this.multiplyScalar(1/p)},setAxisAngleFromQuaternion:function(p){this.w=2*Math.acos(p.w);var E=Math.sqrt(1-p.w*p.w);return E<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=p.x/E,this.y=p.y/E,this.z=p.z/E),this},setAxisAngleFromRotationMatrix:function(p){var E,b,Z,o=(p=p.el)[0],A=p[4],l=p[8],V=p[1],c=p[5],S=p[9],I=p[2],D=p[6],p=p[10];if(Math.abs(A-V)<.01&&Math.abs(l-I)<.01&&Math.abs(S-D)<.01){if(Math.abs(A+V)<.1&&Math.abs(l+I)<.1&&Math.abs(S+D)<.1&&Math.abs(o+c+p-3)<.1)return this.set(1,0,0,0),this;var B=Math.PI,n=(o+1)/2,k=(c+1)/2,j=(p+1)/2,W=(A+V)/4,m=(l+I)/4,e=(S+D)/4;return k<n&&j<n?Z=n<.01?(E=0,b=.707106781):(b=W/(E=Math.sqrt(n)),m/E):j<k?Z=k<.01?(b=0,E=.707106781):(E=W/(b=Math.sqrt(k)),e/b):j<.01?(b=E=.707106781,Z=0):(E=m/(Z=Math.sqrt(j)),b=e/Z),this.set(E,b,Z,B),this}return n=Math.sqrt((D-S)*(D-S)+(l-I)*(l-I)+(V-A)*(V-A)),Math.abs(n)<.001&&(n=1),this.x=(D-S)/n,this.y=(l-I)/n,this.z=(V-A)/n,this.w=Math.acos((o+c+p-1)/2),this},min:function(p){return this.x=Math.min(this.x,p.x),this.y=Math.min(this.y,p.y),this.z=Math.min(this.z,p.z),this.w=Math.min(this.w,p.w),this},max:function(p){return this.x=Math.max(this.x,p.x),this.y=Math.max(this.y,p.y),this.z=Math.max(this.z,p.z),this.w=Math.max(this.w,p.w),this},clamp:function(p,E){return this.x=Math.max(p.x,Math.min(E.x,this.x)),this.y=Math.max(p.y,Math.min(E.y,this.y)),this.z=Math.max(p.z,Math.min(E.z,this.z)),this.w=Math.max(p.w,Math.min(E.w,this.w)),this},clampScalar:function(p,E){return Y3===K$&&(Y3=new RB,t3=new RB),Y3.set(p,p,p,p),t3.set(E,E,E,E),this.clamp(Y3,t3)},clampLength:function(p,E){var b=this.length();return this.divideScalar(b||1).multiplyScalar(Math.max(p,Math.min(E,b)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(p){return this.x*p.x+this.y*p.y+this.z*p.z+this.w*p.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(p){return this.normalize().multiplyScalar(p)},lerp:function(p,E){return this.x+=(p.x-this.x)*E,this.y+=(p.y-this.y)*E,this.z+=(p.z-this.z)*E,this.w+=(p.w-this.w)*E,this},lerpVectors:function(p,E,b){return this.subVectors(E,p).multiplyScalar(b).add(p)},equals:function(p){return p.x===this.x&&p.y===this.y&&p.z===this.z&&p.w===this.w},fromArray:function(p,E){return this.x=p[E=E===K$?0:E],this.y=p[E+1],this.z=p[E+2],this.w=p[E+3],this},toArray:function(p,E){return(p=p===K$?[]:p)[E=E===K$?0:E]=this.x,p[E+1]=this.y,p[E+2]=this.z,p[E+3]=this.w,p},fromBufferAttribute:function(p,E,b){return E*=b=b===K$?4:b,this.x=p[E],this.y=p[1+E],this.z=p[2+E],this.w=p[3+E],this}}),u.Math.Vector3=function(p,E,b){p===K$?(this.x=0,this.y=0,this.z=0):"object"==typeof p?this.copy(p):this.set(p,E==K$?p:E,b==K$?p:b)}),sB=(t$.assign(G$.prototype,{isVector3:!0,isNaN:function(){return isNaN(this.x)||isNaN(this.y)||isNaN(this.z)},set:function(p,E,b){return this.x=p,this.y=E,this.z=b,this},equals:function(p){return p&&this.x===p.x&&this.y===p.y&&this.z===p.z},setScalar:function(p){return this.x=p,this.y=p,this.z=p,this},setX:function(p){return this.x=p,this},setY:function(p){return this.y=p,this},setZ:function(p){return this.z=p,this},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(p){return p.x===K$?(this.x=p[0],this.y=p[1],this.z=p[2]):(this.x=p.x,this.y=p.y,this.z=p.z||0),this},add:function(p){return this.x+=p.x,this.y+=p.y,this.z+=p.z,this},addScalar:function(p){return this.x+=p,this.y+=p,this.z+=p,this},addVectors:function(p,E){return this.x=p.x+E.x,this.y=p.y+E.y,this.z=p.z+E.z,this},addScaledVector:function(p,E){return this.x+=p.x*E,this.y+=p.y*E,this.z+=p.z*E,this},sub:function(p){return this.x-=p.x,this.y-=p.y,this.z-=p.z,this},subScalar:function(p){return this.x-=p,this.y-=p,this.z-=p,this},subVectors:function(p,E){return this.x=p.x-E.x,this.y=p.y-E.y,this.z=p.z-E.z,this},divide:function(p){return this.x/=p.x,this.y/=p.y,this.z/=p.z,this},multiply:function(p){return this.x*=p.x,this.y*=p.y,this.z*=p.z,this},multiplyScalar:function(p){return this.x*=p,this.y*=p,this.z*=p,this},divideScalar:function(p){return 0!==p?(this.x*=p=1/p,this.y*=p,this.z*=p):(this.x=0,this.y=0,this.z=0),this},distanceTo:function(p){return Math.sqrt(this.distanceToSquared(p))},distanceToSquared:function(p){var E=this.x-p.x,b=this.y-p.y;return E*E+b*b+(p=this.z-p.z)*p},distanceToSquared2:function(p){var E=this.x-p[0],b=this.y-p[1];return E*E+b*b+(p=this.z-p[2])*p},divideVectors:function(p,E){return this.x=p.x/E.x,this.y=p.y/E.y,this.z=p.z/E.z,this},multiplyVectors:function(p,E){return this.x=p.x*E.x,this.y=p.y*E.y,this.z=p.z*E.z,this},transformDirection:function(p){var E=this.x,b=this.y,Z=this.z,p=p.el;return this.x=p[0]*E+p[4]*b+p[8]*Z,this.y=p[1]*E+p[5]*b+p[9]*Z,this.z=p[2]*E+p[6]*b+p[10]*Z,this.normalize()},applyAxisAngle:(H3=new uB,function(p,E){return this.applyQuaternion(H3.setFromAxisAngle(p,E))}),applyEuler:(r3=new uB,function(p){return this.applyQuaternion(r3.setFromEuler(p))}),applyQuaternion:function(p){var E=this.x,b=this.y,Z=this.z,o=p._x,A=p._y,l=p._z,V=(p=p._w)*E+A*Z-l*b,c=p*b+l*E-o*Z,S=p*Z+o*b-A*E;return this.x=V*p+(E=-o*E-A*b-l*Z)*-o+c*-l-S*-A,this.y=c*p+E*-A+S*-o-V*-l,this.z=S*p+E*-l+V*-A-c*-o,this},applyMatrix4:function(p){var E=this.x,b=this.y,Z=this.z,o=1/((p=p.el||p)[3]*E+p[7]*b+p[11]*Z+p[15]);return this.x=(p[0]*E+p[4]*b+p[8]*Z+p[12])*o,this.y=(p[1]*E+p[5]*b+p[9]*Z+p[13])*o,this.z=(p[2]*E+p[6]*b+p[10]*Z+p[14])*o,this},applyMatrix3:function(p){var E=this.x,b=this.y,Z=this.z,p=p.el||p;return this.x=p[0]*E+p[3]*b+p[6]*Z,this.y=p[1]*E+p[4]*b+p[7]*Z,this.z=p[2]*E+p[5]*b+p[8]*Z,this},applyNormalMatrix:function(p){return this.applyMatrix3(p).normalize()},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},reflect:(K3=new G$,function(p){return this.sub(K3.copy(p).multiplyScalar(2*this.dot(p)))}),dot:function(p){return this.x*p.x+this.y*p.y+this.z*p.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){var p=this.length();return p?this.multiplyScalar(1/p):this},setLength:function(p){return this.normalize().multiplyScalar(p)},fromArray:function(p,E){return this.x=p[E=E===K$?0:E],this.y=p[E+1],this.z=p[E+2],this},toArray:function(p,E){return(p=p===K$?[0,0,0]:p)[E=E===K$?0:E]=this.x,p[E+1]=this.y,p[E+2]=this.z,p},cross:function(p){return this.crossVectors(this,p)},angleTo:function(p){return 1+1e-6<(p=this.dot(p)/Math.sqrt(this.lengthSq()*p.lengthSq()))||p<-1-1e-6?0:Math.acos(f.clamp(p,-1,1))},lerp:function(p,E){return this.x+=(p.x-this.x)*E,this.y+=(p.y-this.y)*E,this.z+=(p.z-this.z)*E,this},lerpVectors:function(p,E,b){return this.subVectors(E,p).multiplyScalar(b).add(p)},crossVectors:function(p,E){var b=p.x,Z=p.y,p=p.z,o=E.x,A=E.y,E=E.z;return this.x=Z*E-p*A,this.y=p*o-b*E,this.z=b*A-Z*o,this},min:function(p){return this.x=Math.min(this.x,p.x),this.y=Math.min(this.y,p.y),this.z=Math.min(this.z,p.z),this},max:function(p){return this.x=Math.max(this.x,p.x),this.y=Math.max(this.y,p.y),this.z=Math.max(this.z,p.z),this},setFromMatrixPosition:function(p){return this.setFromMatrixColumn(p,3)},setFromMatrixScale:function(p){var E=this.setFromMatrixColumn(p,0).length(),b=this.setFromMatrixColumn(p,1).length(),p=this.setFromMatrixColumn(p,2).length();return this.x=E,this.y=b,this.z=p,this},setFromMatrixColumn:function(p,E){return this.fromArray(p.el,4*E)},clamp:function(p,E){return this.x=f.clamp(this.x,p.x,E.x),this.y=f.clamp(this.y,p.y,E.y),this.z=f.clamp(this.z,p.z,E.z),this},fromBufferAttribute:function(p,E,b){return E*=b=b===K$?3:b,this.x=p[E],this.y=p[1+E],this.z=p[2+E],this}}),G$.UP=new G$(0,1,0),G$.AxisX=new G$(1,0,0),G$.AxisY=new G$(0,1,0),G$.AxisZ=new G$(0,0,1),G$.normalizeArray=(M3=new G$,function(p){return M3.copy(p).normalize().toArray()}),F3=new G$,function(p,E){return(E=E||F3).x=p[0],E.y=p[1],E.z=p[2],E}),v=(G$.arrayApplyQuaternion=function(p,E,b){return sB(E).applyQuaternion(b).toArray(p),p},u.Math.Vector2=function(p,E,b){"object"==typeof p&&(p=p.x!=K$?(E=p.y,b=p.e,p.x):(b=p[2],E=p[1],p[0])),this.set(p||0,E||0,b)}),n3=(v.prototype={},(v.prototype.constructor=v).prototype.isVector2=!0,t$.defineProperties(v.prototype,{width:{get:function(){return this.x},set:function(p){this.x=p}},height:{get:function(){return this.y},set:function(p){this.y=p}}}),v.prototype.clone=function(){return new v(this.x,this.y,this.e)},v.prototype.copy=function(p){return this.set(p.x,p.y,p.e),this},v.prototype.equals=function(p){return p.x===this.x&&p.y===this.y&&p.e===this.e},v.prototype.set=function(p,E,b){return this.x=p||0,this.y=E||(0!==E?this.x:0),b!=K$&&(this.e=b),this},v.prototype.setScalar=function(p){return this.x=p,this.y=p,this.e=p,this},v.prototype.setX=function(p){return this.x=p||0,this},v.prototype.setY=function(p){return this.y=p||0,this},v.prototype.setE=function(p){return this.e=p||0,this},v.prototype.add=function(p){return this.x+=p.x,this.y+=p.y,this},v.prototype.addVectors=function(p,E){return this.x=p.x+E.x,this.y=p.y+E.y,this},v.prototype.addScalar=function(p){return this.x+=p,this.y+=p,this},v.prototype.addScaledVector=function(p,E){return this.x+=p.x*E,this.y+=p.y*E,this},v.prototype.sub=function(p){return this.x-=p.x,this.y-=p.y,this},v.prototype.subScalar=function(p){return this.x-=p,this.y-=p,this},v.prototype.subVectors=function(p,E){return this.x=p.x-E.x,this.y=p.y-E.y,this},v.prototype.multiply=function(p){return this.x*=p.x,this.y*=p.y,this},v.prototype.multiplyScalar=function(p){return this.x*=p,this.y*=p,this},v.prototype.divide=function(p){return this.x/=p.x,this.y/=p.y,this},v.prototype.divideScalar=function(p){return this.multiplyScalar(1/p)},v.prototype.min=function(p){return this.x=Math.min(this.x,p.x),this.y=Math.min(this.y,p.y),this},v.prototype.max=function(p){return this.x=Math.max(this.x,p.x),this.y=Math.max(this.y,p.y),this},v.prototype.fromArray=function(p,E){return this.x=p[E=E===K$?0:E],this.y=p[E+1],this},v.prototype.toArray=function(p,E){return(p=p===K$?[0,0]:p)[E=E===K$?0:E]=this.x,p[E+1]=this.y,p},v.prototype.clamp=function(p,E){return this.x=Math.max(p.x,Math.min(E.x,this.x)),this.y=Math.max(p.y,Math.min(E.y,this.y)),this},v.prototype.clampScalar=function(p,E){return X3===K$&&(X3=new v,G3=new v),X3.set(p,p),G3.set(E,E),this.clamp(X3,G3)},v.prototype.clampLength=function(p,E){var b=this.length();return this.multiplyScalar(Math.max(p,Math.min(E,b))/b)},v.prototype.dot=function(p){return this.x*p.x+this.y*p.y},v.prototype.cross=function(p){return this.x*p.y-this.y*p.x},v.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},v.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},v.prototype.normalize=function(){return this.divideScalar(this.length())},v.prototype.angle=function(){var p=Math.atan2(this.y,this.x);return p<0&&(p+=2*Math.PI),p},v.prototype.distanceTo=function(p){return Math.sqrt(this.distanceToSquared(p))},v.prototype.distanceToSquared=function(p){var E=this.x-p.x;return E*E+(p=this.y-p.y)*p},v.prototype.isNearEnough=function(p){return this.distanceToSquared(p)<1e-8},v.prototype.setLength=function(p){var E=this.length();return E?this.multiplyScalar(p/E):this},v.prototype.lerp=function(p,E){return this.x+=(p.x-this.x)*E,this.y+=(p.y-this.y)*E,"number"==typeof p.e&&"number"==typeof this.e&&(this.e+=(p.e-this.e)*E),this},v.prototype.lerpVectors=function(p,E,b){return this.subVectors(E,p).multiplyScalar(b).add(p)},v.prototype.rotateAround=function(p,E){var b=p?p.x:0,p=p?p.y:0,Z=Math.cos(E),E=Math.sin(E),o=this.x-b,A=this.y-p;return this.x=o*Z-A*E+b,this.y=o*E+A*Z+p,this},v.prototype.fromBufferAttribute=function(p,E,b){return E*=b=b===K$?2:b,this.x=p[E],this.y=p[1+E],this},u.Math.Matrix3=function(){this.el=[1,0,0,0,1,0,0,0,1]}),wB=(t$.assign(n3.prototype,{isMatrix3:!0,set:function(p,E,b,Z,o,A,l,V,c){var S=this.el;return S[0]=p,S[1]=Z,S[2]=l,S[3]=E,S[4]=o,S[5]=V,S[6]=b,S[7]=A,S[8]=c,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.el)},copy:function(p){var E=this.el,p=p.el;return E[0]=p[0],E[1]=p[1],E[2]=p[2],E[3]=p[3],E[4]=p[4],E[5]=p[5],E[6]=p[6],E[7]=p[7],E[8]=p[8],this},setFromMatrix4:function(p){return p=p.el,this.set(p[0],p[4],p[8],p[1],p[5],p[9],p[2],p[6],p[10]),this},applyToBufferAttribute:(T3=new G$,function(p){for(var E=0,b=p.count;E<b;E++)T3.x=p.getX(E),T3.y=p.getY(E),T3.z=p.getZ(E),T3.applyMatrix3(this),p.setXYZ(E,T3.x,T3.y,T3.z);return p}),multiply:function(p){return this.multiplyMatrices(this,p)},premultiply:function(p){return this.multiplyMatrices(p,this)},multiplyMatrices:function(p,E){var p=p.el,E=E.el,b=this.el,Z=p[0],o=p[3],A=p[6],l=p[1],V=p[4],c=p[7],S=p[2],I=p[5],p=p[8],D=E[0],B=E[3],n=E[6],k=E[1],j=E[4],W=E[7],m=E[2],e=E[5],E=E[8];return b[0]=Z*D+o*k+A*m,b[3]=Z*B+o*j+A*e,b[6]=Z*n+o*W+A*E,b[1]=l*D+V*k+c*m,b[4]=l*B+V*j+c*e,b[7]=l*n+V*W+c*E,b[2]=S*D+I*k+p*m,b[5]=S*B+I*j+p*e,b[8]=S*n+I*W+p*E,this},multiplyScalar:function(p){var E=this.el;return E[0]*=p,E[3]*=p,E[6]*=p,E[1]*=p,E[4]*=p,E[7]*=p,E[2]*=p,E[5]*=p,E[8]*=p,this},determinant:function(){var p=this.el,E=p[0],b=p[1],Z=p[2],o=p[3],A=p[4],l=p[5],V=p[6],c=p[7];return E*A*(p=p[8])-E*l*c-b*o*p+b*l*V+Z*o*c-Z*A*V},getInverse:function(p,E){var p=p.el,b=this.el,Z=p[0],o=p[1],A=p[2],l=p[3],V=p[4],c=p[5],S=p[6],I=p[7],D=(p=p[8])*V-c*I,B=c*S-p*l,n=I*l-V*S,k=Z*D+o*B+A*n;return 0==k?this.identity():(b[0]=D*(k=1/k),b[1]=(A*I-p*o)*k,b[2]=(c*o-A*V)*k,b[3]=B*k,b[4]=(p*Z-A*S)*k,b[5]=(A*l-c*Z)*k,b[6]=n*k,b[7]=(o*S-I*Z)*k,b[8]=(V*Z-o*l)*k,this)},transpose:function(){var p=this.el,E=p[1];return p[1]=p[3],p[3]=E,E=p[2],p[2]=p[6],p[6]=E,E=p[5],p[5]=p[7],p[7]=E,this},getNormalMatrix:function(p){return this.setFromMatrix4(p).getInverse(this).transpose()},transposeIntoArray:function(p){var E=this.el;return p[0]=E[0],p[1]=E[3],p[2]=E[6],p[3]=E[1],p[4]=E[4],p[5]=E[7],p[6]=E[2],p[7]=E[5],p[8]=E[8],this},setUvTransform:function(p,E,b,Z,o,A,l){var V=Math.cos(o),o=Math.sin(o);this.set(b*V,b*o,-b*(V*A+o*l)+A+p,-Z*o,Z*V,-Z*(-o*A+V*l)+l+E,0,0,1)},scale:function(p,E){var b=this.el;return b[0]*=p,b[3]*=p,b[6]*=p,b[1]*=E,b[4]*=E,b[7]*=E,this},rotate:function(p){var E=Math.cos(p),p=Math.sin(p),b=this.el,Z=b[0],o=b[3],A=b[6],l=b[1],V=b[4],c=b[7];return b[0]=E*Z+p*l,b[3]=E*o+p*V,b[6]=E*A+p*c,b[1]=-p*Z+E*l,b[4]=-p*o+E*V,b[7]=-p*A+E*c,this},translate:function(p,E){var b=this.el;return b[0]+=p*b[2],b[3]+=p*b[5],b[6]+=p*b[8],b[1]+=E*b[2],b[4]+=E*b[5],b[7]+=E*b[8],this},equals:function(p){for(var E=this.el,b=p.el,Z=0;Z<9;Z++)if(E[Z]!==b[Z])return!1;return!0},fromArray:function(p,E){E===K$&&(E=0);for(var b=0;b<9;b++)this.el[b]=p[b+E];return this},getElements:function(){return this.el},toArray:function(p,E){var b=this.el;return(p=p===K$?[]:p)[E=E===K$?0:E]=b[0],p[E+1]=b[1],p[E+2]=b[2],p[E+3]=b[3],p[E+4]=b[4],p[E+5]=b[5],p[E+6]=b[6],p[E+7]=b[7],p[E+8]=b[8],p}}),u.Math.Plane=function(p,E){this.normal=p!==K$?p:new G$(1,0,0),this.constant=E!==K$?E:0}),iB=(t$.assign(wB.prototype,{set:function(p,E){return this.normal.copy(p),this.constant=E,this},setComponents:function(p,E,b,Z){return this.normal.set(p,E,b),this.constant=Z,this},setFromNormalAndCoplanarPoint:function(p,E){return this.normal.copy(p),this.constant=-E.dot(this.normal),this},setFromCoplanarPoints:(C3=new G$,h3=new G$,function(p,E,b){return b=C3.subVectors(b,E).cross(h3.subVectors(p,E)).normalize(),this.setFromNormalAndCoplanarPoint(b,p),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(p){return this.normal.copy(p.normal),this.constant=p.constant,this},normalize:function(){var p=1/this.normal.length();return this.normal.multiplyScalar(p),this.constant*=p,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(p){return this.normal.dot(p)+this.constant},distanceToSphere:function(p){return this.distanceToPoint(p.center)-p.radius},projectPoint:function(p,E){return(E=E===K$?new G$:E).copy(this.normal).multiplyScalar(-this.distanceToPoint(p)).add(p)},intersectLine:(x3=new G$,function(p,E){E===K$&&(E=new G$);var b=p.delta(x3),Z=this.normal.dot(b);return 0===Z?0===this.distanceToPoint(p.start)?E.copy(p.start):K$:(Z=-(p.start.dot(this.normal)+this.constant)/Z)<0||1<Z?K$:E.copy(b).multiplyScalar(Z).add(p.start)}),intersectsLine:function(p){var E=this.distanceToPoint(p.start),p=this.distanceToPoint(p.end);return E<0&&0<p||p<0&&0<E},intersectsBox:function(p){return p.intersectsPlane(this)},intersectsSphere:function(p){return p.intersectsPlane(this)},coplanarPoint:function(p){return(p=p===K$?new G$:p).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(g3=new G$,L3=new n3,function(p,E){return E=E||L3.getNormalMatrix(p),p=this.coplanarPoint(g3).applyMatrix4(p),E=this.normal.applyMatrix3(E).normalize(),this.constant=-p.dot(E),this}),translate:function(p){return this.constant-=p.dot(this.normal),this},equals:function(p){return p.normal.equals(this.normal)&&p.constant===this.constant}}),u.Math.Ray=function(p,E,b){this.origin=p!==K$?p.clone():new G$,this.direction=E!==K$?E.clone():new G$,this.inDisplaySpace=!!b}),fB=(t$.assign(iB.prototype,{set:function(p,E){return this.origin.copy(p),this.direction.copy(E),this},setOriginTarget:function(p,E,b){return this.origin.copy(p),this.direction.subVectors(E,p),this.setMaxHitLength(this.direction.length()*(b||1)),this.direction.normalize(),this},clone:function(){return(new this.constructor).copy(this)},copy:function(p){return this.origin.copy(p.origin),this.direction.copy(p.direction),this.maxHitLen=p.maxHitLen,this},at:function(p,E){return(E||new G$).copy(this.direction).multiplyScalar(p).add(this.origin)},setMaxHitLength:function(p){this.maxHitLen=p},lookAt:function(p){return this.direction.copy(p).sub(this.origin).normalize(),this},applyMatrix4:function(p){var E,b=this.maxHitLen;return b&&(E=this.direction.clone().multiplyScalar(b).add(this.origin)).applyMatrix4(p),this.origin.applyMatrix4(p),this.direction.transformDirection(p),b&&(this.maxHitLen=this.origin.distanceTo(E)),this},distanceToPlane:function(p){var E=p.normal.dot(this.direction);return 0===E?0===p.distanceToPoint(this.origin)?0:null:0<=(p=-(this.origin.dot(p.normal)+p.constant)/E)?p:null},intersectPlane:function(p,E){return null===(p=this.distanceToPlane(p))?null:this.at(p,E)},intersectSphere:(N3=new G$,function(p,E){N3.subVectors(p.center,this.origin);var b=N3.dot(this.direction),Z=N3.dot(N3)-b*b;return(p=p.radius*p.radius)<Z?null:(Z=b-(p=Math.sqrt(p-Z)),b+=p,Z<0&&b<0?null:Z<0?this.at(b,E):this.at(Z,E))}),intersectEllipsoid:(d3=new G$,U3=new G$,function(p,E){d3.subVectors(p.center,this.origin),d3.divide(p.radius),U3.divideVectors(this.direction,p.radius);var p=U3.lengthSq(),b=d3.dot(U3),Z=d3.dot(d3)*p-b*b;if(p<Z)return null;var o=(b-(Z=Math.sqrt(p-Z)))/p,b=(b+Z)/p;return o<0&&b<0?null:o<0?this.at(b,E):this.at(o,E)}),intersectBox:function(p,E){var b,Z,o,A=1/this.direction.x,l=1/this.direction.y,V=1/this.direction.z,c=this.origin,A=0<=A?(b=(p.min.x-c.x)*A,(p.max.x-c.x)*A):(b=(p.max.x-c.x)*A,(p.min.x-c.x)*A);return(l=0<=l?(o=(p.min.y-c.y)*l,(p.max.y-c.y)*l):(o=(p.max.y-c.y)*l,(p.min.y-c.y)*l))<b||A<o?null:((b<o||b!=b)&&(b=o),(l<A||A!=A)&&(A=l),(o=0<=V?(Z=(p.min.z-c.z)*V,(p.max.z-c.z)*V):(Z=(p.max.z-c.z)*V,(p.min.z-c.z)*V))<b||A<Z||(A=o<A||A!=A?o:A)<0?null:(l=0<=(b=b<Z||b!=b?Z:b)?b:A,(p=this.maxHitLen)&&p<l?null:this.at(l,E)))},intersectTriangle:(P3=new G$,y3=new G$,a3=new G$,J3=new G$,function(p,E,b,Z,o,A){if(y3.subVectors(E,p),a3.subVectors(b,p),J3.crossVectors(y3,a3),(E=o||0)<(b=this.direction.dot(J3))){if(Z)return null}else if(-E<=b)return null;return o=1/b,P3.subVectors(this.origin,p),(Z=o*this.direction.dot(a3.crossVectors(P3,a3)))<-E||(b=o*this.direction.dot(y3.cross(P3)))<-E||1+E<Z+b||(p=-o*P3.dot(J3))<0||(E=this.maxHitLen)&&E<p?null:this.at(p,A)})}),u.Math.Box3=function(p,E){this.min=p!==K$?p:new G$(1/0,1/0,1/0),this.max=E!==K$?E:new G$(-1/0,-1/0,-1/0)}),k3=(t$.assign(fB.prototype,{set:function(p,E){return this.min.copy(p),this.max.copy(E),this},setFromArray:function(p,E){var b=1/0,Z=1/0,o=1/0,A=-1/0,l=-1/0,V=-1/0;E=E&&(E.el||E);for(var c=0,S=p.length;c<S;c+=3){var I,D,B,n=p[c],k=p[c+1],j=p[c+2];E&&(B=1/(E[3]*n+E[7]*k+E[11]*j+E[15]),I=(E[0]*n+E[4]*k+E[8]*j+E[12])*B,D=(E[1]*n+E[5]*k+E[9]*j+E[13])*B,B=(E[2]*n+E[6]*k+E[10]*j+E[14])*B,n=I,k=D,j=B),n<b&&(b=n),k<Z&&(Z=k),j<o&&(o=j),A<n&&(A=n),l<k&&(l=k),V<j&&(V=j)}return this.min.set(b,Z,o),this.max.set(A,l,V),this},setFromPoints:function(p){return this.makeEmpty().expandByPoints(p)},clone:function(){return(new this.constructor).copy(this)},intersectsBox:function(p){return!(p.max.x<this.min.x||p.min.x>this.max.x||p.max.y<this.min.y||p.min.y>this.max.y||p.max.z<this.min.z||p.min.z>this.max.z)},copy:function(p){return this.min.copy(p.min),this.max.copy(p.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(p){return p=p||new G$,this.isEmpty()?p.set(0,0,0):p.addVectors(this.min,this.max).multiplyScalar(.5)},expandByPoint:function(p){return this.min.min(p),this.max.max(p),this},expandByPoints:function(p){for(var E=0,b=p.length;E<b;E++)this.expandByPoint(p[E]);return this},expandByBox:function(p){return this.min.min(p.min),this.max.max(p.max),this},applyMatrix4:(O3=[new G$,new G$,new G$,new G$,new G$,new G$,new G$,new G$],function(p){return this.isEmpty()||(O3[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(p),O3[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(p),O3[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(p),O3[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(p),O3[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(p),O3[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(p),O3[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(p),O3[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(p),this.setFromPoints(O3)),this})}),u.Math.Sphere=function(p,E){this.center=p!==K$?p:new G$,this.radius=E!==K$?E:0}),j3=(t$.assign(k3.prototype,{set:function(p,E){return this.center.copy(p),this.radius=E,this},setFromPoints:(z3=new fB,function(p,E){for(var b=this.center,Z=(E!==K$?b.copy(E):z3.setFromPoints(p).getCenter(b),0),o=0,A=p.length;o<A;o++)Z=Math.max(Z,b.distanceToSquared(p[o]));return this.radius=Math.sqrt(Z),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(p){return this.center.copy(p.center),this.radius=p.radius,this},empty:function(){return this.radius<=0},containsPoint:function(p){return p.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(p){return p.distanceTo(this.center)-this.radius},intersectsSphere:function(p){var E=this.radius+p.radius;return p.center.distanceToSquared(this.center)<=E*E},intersectsBox:function(p){return p.intersectsSphere(this)},intersectsPlane:function(p){return Math.abs(p.distanceToPoint(this.center))<=this.radius},clampPoint:function(p,E){var b=this.center.distanceToSquared(p);return(E=E===K$?new G$:E).copy(p),b>this.radius*this.radius&&(E.sub(this.center).normalize(),E.multiplyScalar(this.radius).add(this.center)),E},getBoundingBox:function(p){return(p=p===K$?new fB:p).set(this.center,this.center),p.expandByScalar(this.radius),p},applyMatrix4:function(p){return this.center.applyMatrix4(p),this.radius=this.radius*p.getMaxScaleOnAxis(),this},translate:function(p){return this.center.add(p),this},equals:function(p){return p.center.equals(this.center)&&p.radius===this.radius}}),u.Math.Frustum=function(p,E,b,Z,o,A){this.planes=[p!==K$?p:new wB,E!==K$?E:new wB,b!==K$?b:new wB,Z!==K$?Z:new wB,o!==K$?o:new wB,A!==K$?A:new wB]}),T$=(t$.assign(j3.prototype,{set:function(p,E,b,Z,o,A){var l=this.planes;return l[0].copy(p),l[1].copy(E),l[2].copy(b),l[3].copy(Z),l[4].copy(o),l[5].copy(A),this},clone:function(){return(new this.constructor).copy(this)},copy:function(p){for(var E=this.planes,b=0;b<6;b++)E[b].copy(p.planes[b]);return this},setFromMatrix:function(p){var E=this.planes,b=(p=p.el)[0],Z=p[1],o=p[2],A=p[3],l=p[4],V=p[5],c=p[6],S=p[7],I=p[8],D=p[9],B=p[10],n=p[11],k=p[12],j=p[13],W=p[14],p=p[15];return E[0].setComponents(A-b,S-l,n-I,p-k).normalize(),E[1].setComponents(A+b,S+l,n+I,p+k).normalize(),E[2].setComponents(A+Z,S+V,n+D,p+j).normalize(),E[3].setComponents(A-Z,S-V,n-D,p-j).normalize(),E[4].setComponents(A-o,S-c,n-B,p-W).normalize(),E[5].setComponents(A+o,S+c,n+B,p+W).normalize(),this},intersectsObject:(Q3=new k3,function(p){var E=p.geometry;return null===E.boundingSphere&&E.computeBoundingSphere(),Q3.copy(E.boundingSphere).applyMatrix4(p.matrixWorld),this.intersectsSphere(Q3)}),intersectsSprite:(v3=new k3,function(p){return v3.center.set(0,0,0),v3.radius=.7071067811865476,v3.applyMatrix4(p.matrixWorld),this.intersectsSphere(v3)}),intersectsSphere:function(p){for(var E=this.planes,b=p.center,Z=-p.radius,o=0;o<6;o++)if(E[o].distanceToPoint(b)<Z)return!1;return!0},intersectsBox:(_3=new G$,function(p){for(var E=this.planes,b=0;b<6;b++){var Z=E[b];if(_3.x=(0<Z.normal.x?p.max:p.min).x,_3.y=(0<Z.normal.y?p.max:p.min).y,_3.z=(0<Z.normal.z?p.max:p.min).z,Z.distanceToPoint(_3)<0)return!1}return!0}),containsPoint:function(p){for(var E=this.planes,b=0;b<6;b++)if(E[b].distanceToPoint(p)<0)return!1;return!0}}),u.Math.Matrix4=function(){this.el=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}),pq=(t$.assign(T$.prototype,{isMatrix4:!0,set:function(p,E,b,Z,o,A,l,V,c,S,I,D,B,n,k,j){var W=this.el;return W[0]=p,W[4]=E,W[8]=b,W[12]=Z,W[1]=o,W[5]=A,W[9]=l,W[13]=V,W[2]=c,W[6]=S,W[10]=I,W[14]=D,W[3]=B,W[7]=n,W[11]=k,W[15]=j,this},clone:function(){return(new T$).fromArray(this.el)},fromArray:function(p,E){E===K$&&(E=0);for(var b=this.el,Z=0;Z<16;Z++)b[Z]=p[Z+E];return this},getElements:function(){return this.el},scale:function(p){var E=this.el,b=p.x,Z=p.y,p=p.z;return E[0]*=b,E[4]*=Z,E[8]*=p,E[1]*=b,E[5]*=Z,E[9]*=p,E[2]*=b,E[6]*=Z,E[10]*=p,E[3]*=b,E[7]*=Z,E[11]*=p,this},translate:function(p){var E=this.el,b=p.x||0,Z=p.y||0,p=p.z||0;return E[12]+=E[0]*b+E[4]*Z+E[8]*p,E[13]+=E[1]*b+E[5]*Z+E[9]*p,E[14]+=E[2]*b+E[6]*Z+E[10]*p,E[15]+=E[3]*b+E[7]*Z+E[11]*p,this},rotate:(bk=new T$,function(p){return bk.makeRotationFromQuaternion(p),this.multiply(bk)}),prependScale:function(p){var E=this.el,b=p.x,Z=p.y,p=p.z;return E[0]*=b,E[4]*=b,E[8]*=b,E[12]*=b,E[1]*=Z,E[5]*=Z,E[9]*=Z,E[13]*=Z,E[2]*=p,E[6]*=p,E[10]*=p,E[14]*=p,this},prependRotation:(Ek=new T$,function(p){return Ek.makeRotationFromQuaternion(p),this.premultiply(Ek)}),prependTranslation:function(p){var E=this.el,b=p.x||0,Z=p.y||0,p=p.z||0,o=E[3],A=E[7],l=E[11],V=E[15];return E[0]+=o*b,E[4]+=A*b,E[8]+=l*b,E[12]+=V*b,E[1]+=o*Z,E[5]+=A*Z,E[9]+=l*Z,E[13]+=V*Z,E[2]+=o*p,E[6]+=A*p,E[10]+=l*p,E[14]+=V*p,this},makeRotationFromEuler:function(p){var E,b,Z,o,A,l,V,c,S,I,D,B,n=this.el,k=p._x,j=p._y,W=p._z,p=p._order,m=Math.cos(k),k=Math.sin(k),e=Math.cos(j),j=Math.sin(j),$=Math.cos(W),W=Math.sin(W);return"XYZ"===p?(A=m*$,l=m*W,V=k*$,c=k*W,n[0]=e*$,n[4]=-e*W,n[8]=j,n[1]=l+V*j,n[5]=A-c*j,n[9]=-k*e,n[2]=c-A*j,n[6]=V+l*j,n[10]=m*e):"YXZ"===p?(b=e*W,Z=j*$,n[0]=(E=e*$)+(o=j*W)*k,n[4]=Z*k-b,n[8]=m*j,n[1]=m*W,n[5]=m*$,n[9]=-k,n[2]=b*k-Z,n[6]=o+E*k,n[10]=m*e):"ZXY"===p?(b=e*W,Z=j*$,n[0]=(E=e*$)-(o=j*W)*k,n[4]=-m*W,n[8]=Z+b*k,n[1]=b+Z*k,n[5]=m*$,n[9]=o-E*k,n[2]=-m*j,n[6]=k,n[10]=m*e):"ZYX"===p?(A=m*$,l=m*W,V=k*$,c=k*W,n[0]=e*$,n[4]=V*j-l,n[8]=A*j+c,n[1]=e*W,n[5]=c*j+A,n[9]=l*j-V,n[2]=-j,n[6]=k*e,n[10]=m*e):"YZX"===p?(S=m*e,I=m*j,D=k*e,B=k*j,n[0]=e*$,n[4]=B-S*W,n[8]=D*W+I,n[1]=W,n[5]=m*$,n[9]=-k*$,n[2]=-j*$,n[6]=I*W+D,n[10]=S-B*W):"XZY"===p&&(S=m*e,I=m*j,D=k*e,B=k*j,n[0]=e*$,n[4]=-W,n[8]=j*$,n[1]=S*W+B,n[5]=m*$,n[9]=I*W-D,n[2]=D*W-I,n[6]=k*$,n[10]=B*W+S),n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this},makeRotationFromQuaternion:function(p){var E=this.el,b=p._x,Z=p._y,o=p._z,A=o+o,l=b*(S=b+b),V=b*(I=Z+Z),b=b*A,c=Z*I,Z=Z*A,S=(p=p._w)*S,I=p*I,p=p*A;return E[0]=1-(c+(o=o*A)),E[4]=V-p,E[8]=b+I,E[1]=V+p,E[5]=1-(l+o),E[9]=Z-S,E[2]=b-I,E[6]=Z+S,E[10]=1-(l+c),E[3]=0,E[7]=0,E[11]=0,E[12]=0,E[13]=0,E[14]=0,E[15]=1,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},getInverse:function(p,E){var b=this.el,Z=(p=p.el||p)[0],o=p[1],A=p[2],l=p[3],V=p[4],c=p[5],S=p[6],I=p[7],D=p[8],B=p[9],n=p[10],k=p[11],j=p[12],W=p[13],m=p[14],e=B*m*I-W*n*I+W*S*k-c*m*k-B*S*(p=p[15])+c*n*p,$=j*n*I-D*m*I-j*S*k+V*m*k+D*S*p-V*n*p,Y=D*W*I-j*B*I+j*c*k-V*W*k-D*c*p+V*B*p,t=j*B*S-D*W*S-j*c*n+V*W*n+D*c*m-V*B*m,K=Z*e+o*$+A*Y+l*t;return 0==K?this.identity():(b[0]=e*(K=1/K),b[1]=(W*n*l-B*m*l-W*A*k+o*m*k+B*A*p-o*n*p)*K,b[2]=(c*m*l-W*S*l+W*A*I-o*m*I-c*A*p+o*S*p)*K,b[3]=(B*S*l-c*n*l-B*A*I+o*n*I+c*A*k-o*S*k)*K,b[4]=$*K,b[5]=(D*m*l-j*n*l+j*A*k-Z*m*k-D*A*p+Z*n*p)*K,b[6]=(j*S*l-V*m*l-j*A*I+Z*m*I+V*A*p-Z*S*p)*K,b[7]=(V*n*l-D*S*l+D*A*I-Z*n*I-V*A*k+Z*S*k)*K,b[8]=Y*K,b[9]=(j*B*l-D*W*l-j*o*k+Z*W*k+D*o*p-Z*B*p)*K,b[10]=(V*W*l-j*c*l+j*o*I-Z*W*I-V*o*p+Z*c*p)*K,b[11]=(D*c*l-V*B*l-D*o*I+Z*B*I+V*o*k-Z*c*k)*K,b[12]=t*K,b[13]=(D*W*A-j*B*A+j*o*n-Z*W*n-D*o*m+Z*B*m)*K,b[14]=(j*c*A-V*W*A-j*o*S+Z*W*S+V*o*m-Z*c*m)*K,b[15]=(V*B*A-D*c*A+D*o*S-Z*B*S-V*o*n+Z*c*n)*K,this)},invert:function(){return this.getInverse(this)},makeRotationAxis:function(p,E){var b=Math.cos(E),E=Math.sin(E),Z=1-b,o=p.x,A=p.y,p=p.z,l=Z*o,V=Z*A;return this.set(l*o+b,l*A-E*p,l*p+E*A,0,l*A+E*p,V*A+b,V*p-E*o,0,l*p-E*A,V*p+E*o,Z*p*p+b,0,0,0,0,1),this},multiply:function(p){return this.multiplyMatrices(this,p)},premultiply:function(p){return this.multiplyMatrices(p,this)},multiplyMatrices:function(p,E){var p=p.el||p,E=E.el||E,b=this.el,Z=p[0],o=p[4],A=p[8],l=p[12],V=p[1],c=p[5],S=p[9],I=p[13],D=p[2],B=p[6],n=p[10],k=p[14],j=p[3],W=p[7],m=p[11],p=p[15],e=E[0],$=E[4],Y=E[8],t=E[12],K=E[1],r=E[5],H=E[9],M=E[13],F=E[2],X=E[6],G=E[10],T=E[14],g=E[3],L=E[7],x=E[11],E=E[15];return b[0]=Z*e+o*K+A*F+l*g,b[4]=Z*$+o*r+A*X+l*L,b[8]=Z*Y+o*H+A*G+l*x,b[12]=Z*t+o*M+A*T+l*E,b[1]=V*e+c*K+S*F+I*g,b[5]=V*$+c*r+S*X+I*L,b[9]=V*Y+c*H+S*G+I*x,b[13]=V*t+c*M+S*T+I*E,b[2]=D*e+B*K+n*F+k*g,b[6]=D*$+B*r+n*X+k*L,b[10]=D*Y+B*H+n*G+k*x,b[14]=D*t+B*M+n*T+k*E,b[3]=j*e+W*K+m*F+p*g,b[7]=j*$+W*r+m*X+p*L,b[11]=j*Y+W*H+m*G+p*x,b[15]=j*t+W*M+m*T+p*E,this},lookAt:(pk=new G$,function(p,E,b){return pk.subVectors(p,E),this.lookAtDirection(pk,b)}),lookAtDirection:(w3=new G$,i3=new G$,f3=new G$,function(p,E){E=E||G$.UP;var b=this.el;return f3.copy(p),0===f3.lengthSq()&&(f3.z=1),f3.normalize(),w3.crossVectors(E,f3),0===w3.lengthSq()&&(1===Math.abs(E.z)?f3.x+=1e-4:f3.z+=1e-4,f3.normalize(),w3.crossVectors(E,f3)),w3.normalize(),i3.crossVectors(f3,w3),b[0]=w3.x,b[4]=i3.x,b[8]=f3.x,b[1]=w3.y,b[5]=i3.y,b[9]=f3.y,b[2]=w3.z,b[6]=i3.z,b[10]=f3.z,this}),extractScale:function(p){s3===K$&&(s3=new G$),p===K$&&(p=new G$);var E=s3.setFromMatrixColumn(this,0).length(),b=s3.setFromMatrixColumn(this,1).length(),Z=s3.setFromMatrixColumn(this,2).length();return p.set(E,b,Z),p},extractRotation:function(p){R3===K$&&(R3=new G$),p===K$&&(p=new T$);var E=this.el,b=p.el,Z=1/R3.setFromMatrixColumn(p,0).length(),o=1/R3.setFromMatrixColumn(p,1).length(),p=1/R3.setFromMatrixColumn(p,2).length();return E[0]=b[0]*Z,E[1]=b[1]*Z,E[2]=b[2]*Z,E[4]=b[4]*o,E[5]=b[5]*o,E[6]=b[6]*o,E[8]=b[8]*p,E[9]=b[9]*p,E[10]=b[10]*p,this},multiplyScalar:function(p){var E=this.el;return E[0]*=p,E[4]*=p,E[8]*=p,E[12]*=p,E[1]*=p,E[5]*=p,E[9]*=p,E[13]*=p,E[2]*=p,E[6]*=p,E[10]*=p,E[14]*=p,E[3]*=p,E[7]*=p,E[11]*=p,E[15]*=p,this},getPosition:function(p){return(p=p===K$?new G$:p).setFromMatrixColumn(this,3)},setPosition:function(p){var E=this.el;return E[12]=p.x,E[13]=p.y,E[14]=p.z,this},copyPosition:function(p){var E=this.el,p=p.el;return E[12]=p[12],E[13]=p[13],E[14]=p[14],this},toArray:function(p,E){var b=this.el;return(p=p===K$?[]:p)[E=E===K$?0:E]=b[0],p[E+1]=b[1],p[E+2]=b[2],p[E+3]=b[3],p[E+4]=b[4],p[E+5]=b[5],p[E+6]=b[6],p[E+7]=b[7],p[E+8]=b[8],p[E+9]=b[9],p[E+10]=b[10],p[E+11]=b[11],p[E+12]=b[12],p[E+13]=b[13],p[E+14]=b[14],p[E+15]=b[15],p},determinant:function(){var p=this.el||this,E=p[0],b=p[4],Z=p[8],o=p[12],A=p[1],l=p[5],V=p[9],c=p[13],S=p[2],I=p[6],D=p[10],B=p[14];return p[3]*(+o*V*I-Z*c*I-o*l*D+b*c*D+Z*l*B-b*V*B)+p[7]*(+E*V*B-E*c*D+o*A*D-Z*A*B+Z*c*S-o*V*S)+p[11]*(+E*c*I-E*l*B-o*A*I+b*A*B+o*l*S-b*c*S)+p[15]*(-Z*l*S-E*V*I+E*l*D+Z*A*I-b*A*D+b*V*S)},copy:function(p){var E=this.el,p=p.el||p;return E[0]=p[0],E[1]=p[1],E[2]=p[2],E[3]=p[3],E[4]=p[4],E[5]=p[5],E[6]=p[6],E[7]=p[7],E[8]=p[8],E[9]=p[9],E[10]=p[10],E[11]=p[11],E[12]=p[12],E[13]=p[13],E[14]=p[14],E[15]=p[15],this},composeFromArray:function(p,E,b){var Z,o,A,l,V,c,S,I,D,E=E?(Z=E[0],o=E[1],A=E[2],E[3]):(A=o=Z=0,1);return b?(l=b[0],V=b[1],c=b[2]):l=V=c=1,p?(S=p[0],I=p[1],D=p[2]):S=I=D=0,this._composeImpl(Z,o,A,E,l,V,c,S,I,D)},compose:function(p,E,b){var Z,o,A,l,V,c,S,I,D,E=E?(Z=E._x,o=E._y,A=E._z,E._w):(A=o=Z=0,1);return b?(l=b.x,V=b.y,c=b.z):l=V=c=1,p?(S=p.x,I=p.y,D=p.z):S=I=D=0,this._composeImpl(Z,o,A,E,l,V,c,S,I,D)},_composeImpl:function(p,E,b,Z,o,A,l,V,c,S){var I=this.el,D=b+b,B=p*(j=p+p),n=p*(W=E+E),p=p*D,k=E*W,E=E*D,b=b*D,j=Z*j,W=Z*W,Z=Z*D;return I[0]=(1-(k+b))*o,I[1]=(n+Z)*o,I[2]=(p-W)*o,I[3]=0,I[4]=(n-Z)*A,I[5]=(1-(B+b))*A,I[6]=(E+j)*A,I[7]=0,I[8]=(p+W)*l,I[9]=(E-j)*l,I[10]=(1-(B+k))*l,I[11]=0,I[12]=V,I[13]=c,I[14]=S,I[15]=1,this},decompose:(q3=new G$,u3=new T$,function(p,E,b){var Z=this.el,o=q3.set(Z[0],Z[1],Z[2]).length(),A=q3.set(Z[4],Z[5],Z[6]).length(),l=q3.set(Z[8],Z[9],Z[10]).length(),p=(this.determinant()<0&&(o=-o),p.x=Z[12],p.y=Z[13],p.z=Z[14],u3.copy(this),1/o),Z=1/A,V=1/l;return u3.el[0]*=p,u3.el[1]*=p,u3.el[2]*=p,u3.el[4]*=Z,u3.el[5]*=Z,u3.el[6]*=Z,u3.el[8]*=V,u3.el[9]*=V,u3.el[10]*=V,E.setFromRotationMatrix(u3),b.x=o,b.y=A,b.z=l,this}),equals:function(p){for(var E=this.el,b=p.el,Z=0;Z<16;Z++)if(E[Z]!==b[Z])return!1;return!0},transpose:function(){var p=this.el,E=p[1];return p[1]=p[4],p[4]=E,E=p[2],p[2]=p[8],p[8]=E,E=p[6],p[6]=p[9],p[9]=E,E=p[3],p[3]=p[12],p[12]=E,E=p[7],p[7]=p[13],p[13]=E,E=p[11],p[11]=p[14],p[14]=E,this}}),new T$),Eq=new T$,bq=(T$.determinantOfArray=(Zk=u.Math.Matrix4.prototype.determinant,function(p){return p?Zk.call(p):0}),T$.multiplyMatrixArray=function(p,E,b,Z,o,A){var l=p.el||p,E=E.el||E,b=b.el||b,V=E[o+0],c=E[o+4],S=E[o+8],I=E[o+12],D=E[o+1],B=E[o+5],n=E[o+9],k=E[o+13],j=E[o+2],W=E[o+6],m=E[o+10],e=E[o+14],$=E[o+3],Y=E[o+7],t=E[o+11],E=E[o+15],o=b[A+0],K=b[A+4],r=b[A+8],H=b[A+12],M=b[A+1],F=b[A+5],X=b[A+9],G=b[A+13],T=b[A+2],g=b[A+6],L=b[A+10],x=b[A+14],C=b[A+3],h=b[A+7],P=b[A+11],b=b[A+15];return l[Z+0]=V*o+c*M+S*T+I*C,l[Z+4]=V*K+c*F+S*g+I*h,l[Z+8]=V*r+c*X+S*L+I*P,l[Z+12]=V*H+c*G+S*x+I*b,l[Z+1]=D*o+B*M+n*T+k*C,l[Z+5]=D*K+B*F+n*g+k*h,l[Z+9]=D*r+B*X+n*L+k*P,l[Z+13]=D*H+B*G+n*x+k*b,l[Z+2]=j*o+W*M+m*T+e*C,l[Z+6]=j*K+W*F+m*g+e*h,l[Z+10]=j*r+W*X+m*L+e*P,l[Z+14]=j*H+W*G+m*x+e*b,l[Z+3]=$*o+Y*M+t*T+E*C,l[Z+7]=$*K+Y*F+t*g+E*h,l[Z+11]=$*r+Y*X+t*L+E*P,l[Z+15]=$*H+Y*G+t*x+E*b,p},u.Math.Triangle=function(p,E,b){this.a=p!==K$?p:new G$,this.b=E!==K$?E:new G$,this.c=b!==K$?b:new G$}),Zq=(t$.assign(bq,{barycoordFromPoint:(Ak=new G$,lk=new G$,Vk=new G$,function(p,E,b,Z,o){Ak.subVectors(Z,E),lk.subVectors(b,E),Vk.subVectors(p,E);var Z=Ak.dot(Ak),b=Ak.dot(lk),p=Ak.dot(Vk),E=lk.dot(lk),A=lk.dot(Vk),l=Z*E-b*b,o=o||new G$;return 0==l?o.set(-2,-1,-1):o.set(1-(E=(E*p-b*A)*(l=1/l))-(Z=(Z*A-b*p)*l),Z,E)}),uvIntersection:(ok=new G$,function(p,E,b,Z,o,A,l){return bq.barycoordFromPoint(p,E,b,Z,ok),o.multiplyScalar(ok.x),A.multiplyScalar(ok.y),l.multiplyScalar(ok.z),o.add(A).add(l),o.clone()})}),u.Math.Euler=function(p,E,b,Z,o){this.set(p,E,b,Z,o)}),oq=(Zq.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Zq.DefaultOrder="XYZ",Zq.ReverseOrder=(ck={xyz:"ZYX",xzy:"YZX",yxz:"ZXY",yzx:"XZY",zxy:"YXZ",zyx:"XYZ"},function(p){return ck[p]}),t$.defineProperties(Zq.prototype,{x:{get:function(){return this._x},set:function(p){this._x=p,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(p){this._z=p,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(p){this._order=p,this.onChangeCallback()}}}),t$.assign(Zq.prototype,{isEuler:!0,set:function(p,E,b,Z,o){return X$(p)&&(o=b,Z=E,b=p[2],E=p[1],p=p[0]),Z?o&&(Z=Zq.ReverseOrder(Z)):Z=this._order||"ZYX",this._x=p||0,this._y=E||0,this._z=b||0,this._order=Z,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(p){return this._x=p._x,this._y=p._y,this._z=p._z,this._order=p._order,this.onChangeCallback(),this},setFromRotationMatrix:function(p,E,b){var Z=u.Math.clamp,o=(p=p.el||p)[0],A=p[4],l=p[8],V=p[1],c=p[5],S=p[9],I=p[2],D=p[6],p=p[10];return"XYZ"===(E=E||this._order)?(this._y=Math.asin(Z(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-S,p),this._z=Math.atan2(-A,o)):(this._x=Math.atan2(D,c),this._z=0)):"YXZ"===E?(this._x=Math.asin(-Z(S,-1,1)),Math.abs(S)<.9999999?(this._y=Math.atan2(l,p),this._z=Math.atan2(V,c)):(this._y=Math.atan2(-I,o),this._z=0)):"ZXY"===E?(this._x=Math.asin(Z(D,-1,1)),Math.abs(D)<.9999999?(this._y=Math.atan2(-I,p),this._z=Math.atan2(-A,c)):(this._y=0,this._z=Math.atan2(V,o))):"ZYX"===E?(this._y=Math.asin(-Z(I,-1,1)),Math.abs(I)<.9999999?(this._x=Math.atan2(D,p),this._z=Math.atan2(V,o)):(this._x=0,this._z=Math.atan2(-A,c))):"YZX"===E?(this._z=Math.asin(Z(V,-1,1)),Math.abs(V)<.9999999?(this._x=Math.atan2(-S,c),this._y=Math.atan2(-I,o)):(this._x=0,this._y=Math.atan2(l,p))):"XZY"===E?(this._z=Math.asin(-Z(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(D,c),this._y=Math.atan2(l,o)):(this._x=Math.atan2(-S,p),this._y=0)):console.warn("unsupported order: "+E),this._order=E,!1!==b&&this.onChangeCallback(),this},setFromQuaternion:(jk=new T$,function(p,E,b){return jk.makeRotationFromQuaternion(p),this.setFromRotationMatrix(jk,E,b)}),setFromVector3:function(p,E){return this.set(p.x,p.y,p.z,E||this._order)},reorder:(kk=new uB,function(p){return this.order===p?this:(kk.setFromEuler(this),this.setFromQuaternion(kk,p))}),equals:function(p){return p._x===this._x&&p._y===this._y&&p._z===this._z&&p._order===this._order},fromArray:function(p,E){return this._x=p[E=E===K$?0:E],this._y=p[E+1],this._z=p[E+2],p[E+3]!==K$&&(this._order=p[E+3]),this.onChangeCallback(),this},toArray:function(p,E){return(p=p===K$?[]:p)[E=E===K$?0:E]=this._x,p[E+1]=this._y,p[E+2]=this._z,p[E+3]=this._order,p},toVector3:function(p){return p?p.set(this._x,this._y,this._z):new G$(this._x,this._y,this._z)},simpleXYZRotation:function(p,E){return p.x=E.x+f.angleMod(p.x-E.x),p.y=E.y+f.angleMod(p.y-E.y),p.z=E.z+f.angleMod(p.z-E.z),p},nearestRotation:(Sk=new G$,Ik=new G$,Dk=new G$,Bk=new G$,nk={X:"x",Y:"y",Z:"z"},function(p){X$(p)&&(p=Bk.copy(p));var E,b=this.order;return this.simpleXYZRotation(this,p),E=nk[b[0]],Dk[E]=R$+this[E],E=nk[b[1]],Dk[E]=R$-this[E],E=nk[b[2]],Dk[E]=R$+this[E],this.simpleXYZRotation(Dk,p),Sk.subVectors(this,p),Ik.subVectors(Dk,p),Sk.lengthSq()>Ik.lengthSq()&&(this.x=Dk.x,this.y=Dk.y,this.z=Dk.z),this}),onChange:function(p){return this.onChangeCallback=p,this},onChangeCallback:function(){}}),Wk=new uB,mk=new Zq,f.eulerArrayToQuaternionArray=function(p,E){return Wk.setFromEuler(mk.fromArray(p)).toArray(E)},f.eulerArrayToQuaternion=function(p){return Wk.setFromEuler(mk.fromArray(p))},f.quaternionArrayToEulerArray=function(p,E,b){return b&&(mk.order=b),mk.setFromQuaternion(Wk.fromArray(p)).toArray(E)},f.quaternionArrayToEuler=function(p,E){return E&&(mk.order=E),mk.setFromQuaternion(Wk.fromArray(p))},u.Math.Interpolant=function(p,E,b,Z){this.parameterPositions=p,this._cachedIndex=0,p=E.length/p.length,b&&(p/=b),this.resultBuffer=Z!==K$?Z:new E.constructor(p),this.sampleValues=E,this.valueSize=p,this.settings=null,this.DefaultSettings_={}}),Aq=(t$.assign(oq.prototype,{evaluate:function(p){var E,b=this.parameterPositions,Z=this._cachedIndex,o=b[Z],A=b[Z-1];p:{E:{b:{Z:if(!(p<o)){for(var l=Z+2;;){if(o===K$){if(p<A)break Z;return Z=b.length,this._cachedIndex=Z,this.copySampleValue_(Z-1,p,A)}if(Z===l)break;if(A=o,p<(o=b[++Z]))break E}E=b.length;break b}if(A<=p)break p;var V=b[1];for(p<V&&(Z=2,A=V),l=Z-2;;){if(A===K$)return this._cachedIndex=0,this.copySampleValue_(0,p,o);if(Z===l)break;if(o=A,(A=b[--Z-1])<=p)break E}E=Z,Z=0}for(;Z<E;){var c=Z+E>>>1;p<b[c]?E=c:Z=1+c}if(o=b[Z],(A=b[Z-1])===K$)return this._cachedIndex=0,this.copySampleValue_(0,p,o);if(o===K$)return Z=b.length,this._cachedIndex=Z,this.copySampleValue_(Z-1,A,p)}this._cachedIndex=Z,this.intervalChanged_(Z,A,o)}return this.interpolateImpl(Z,A,p,o)},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(p){for(var E=this.resultBuffer,b=this.sampleValues,Z=this.valueSize,o=p*Z,A=0;A!==Z;++A)E[A]=b[o+A];return E},interpolateImpl:function(){},intervalChanged_:function(){}}),t$.create(oq.prototype).interpolateImpl=function(p){return this.copySampleValue_(p-1)},t$.create(oq.prototype).interpolateImpl=function(p,E,b,Z){for(var o=this.resultBuffer,A=this.sampleValues,l=this.valueSize,V=p*l,c=V-l,S=(b-E)/(Z-E),I=1-S,D=0;D!==l;++D)o[D]=A[c+D]*I+A[V+D]*S;return o},t$.create(oq.prototype).interpolateImpl=function(p,E,b,Z){for(var o=this.resultBuffer,A=this.sampleValues,l=this.valueSize,V=(b-E)/(Z-E),c=p*l,S=c+l;c!==S;c+=4)uB.slerpFlat(o,0,A,c-l,A,c,V);return o},t$.create(oq.prototype).intervalChanged_=function(p,E,b){var Z=this.parameterPositions,o=p-2,A=p+1,l=Z[o],V=Z[A];if(l===K$)switch(this.getSettings_().endingStart){case"ZeroSlope":o=p,l=2*E-b;break;case"WrapAround":l=E+Z[o=Z.length-2]-Z[o+1];break;default:o=p,l=b}if(V===K$)switch(this.getSettings_().endingEnd){case"ZeroSlope":A=p,V=2*b-E;break;case"WrapAround":V=b+Z[A=1]-Z[0];break;default:A=p-1,V=E}var c=.5*(b-E),S=this.valueSize;this._weightPrev=c/(E-l),this._weightNext=c/(V-b),this._offsetPrev=o*S,this._offsetNext=A*S},t$.create(oq.prototype).copySampleValue_=function(p){for(var E=this.resultBuffer,b=this.sampleValues,Z=this.valueSize,o=p*Z*3+Z,A=0;A!==Z;A++)E[A]=b[o+A];return E},new uB,u.Math.BitArray=function(p){p instanceof Aq?this.fromString(p.toString()):"string"==typeof p?this.fromString(p):(this.size=p=p||0,this.data=new Uint32Array(Math.ceil(p/32)))}),lq=(t$.assign(Aq.prototype,{set:function(p,E,b){var Z=p>>5,p=31&p;b&&1<b?(b=8==b?255:4===b?15:3,E?E&=b:E=0,this.data[Z]=this.data[Z]&~(b<<p)|E<<p):E?this.data[Z]|=1<<p:this.data[Z]&=~(1<<p)},get:function(p,E){var b=p>>5,p=31&p;return E&&1<E?this.data[b]>>p&(8==E?255:4===E?15:3):0!=(this.data[b]&1<<p)},toString:(ek=["","0","00","000","0000","00000","000000","0000000","00000000"],function(){for(var p,E="",b=0,Z=this.data.length;b<Z;b++)p=this.data[b].toString(16),E+=ek[8-p.length]+p;return E}),fromString:function(p){var E=p.length/8;this.size=32*E,this.data=new Uint32Array(E);for(var b=0;b<E;b++)this.data[b]=El(p.substr(8*b,8),16);return this}}),u.Easing=u.Math.Easing={}),Vq=lq.Mode={In:0,Out:1,InOut:2},cq={},Sq=function(){};t$.assign(Sq.prototype,{setEasingMode:function(p){return this.mode=p,this},getEasingMode:function(){return this.mode},easeImpl:function(p){return p},ease:function(p){return this.mode===Vq.Out?1-this.easeImpl(1-p):this.mode===Vq.InOut?p<.5?this.easeImpl(2*p)/2:1-this.easeImpl(2*(1-p))/2:this.easeImpl(p)}});var Iq={},Dq=((bl=function(p,E){var b,Z=p.indexOf("(");if(-1!==Z)for(var o=p.substring(Z+1,p.length-1).split(","),A=(p=p.substring(0,Z),b=o.length,Iq[p]=[]),l=0;l<b;l++){var V=o[l].split("=");A.push({name:V[0].trim(),value:parseFloat(V[1].trim())})}return(Z=function(){Sq.call(this),function(p,E){var b=Iq[p];if(b)for(var Z=0;Z<b.length;Z++){var o=E[Z];o===K$&&(o=b[Z].value),this[b[Z].name]=o}}.call(this,this.name,arguments)}).prototype=t$.create(Sq.prototype),(Z.prototype.constructor=Z).prototype.name=p,E&&(y1(E)?t$.assign(Z.prototype,{easeImpl:E}):t$.assign(Z.prototype,E)),lq[p]=Z})("Discrete",{easeImpl:function(p){return p<1?0:1}}),bl("Linear"),bl("Circle",{easeImpl:function(p){return 1-Math.sqrt(1-p*p)}}),bl("Quadratic",{easeImpl:function(p){return p*p}}),bl("Cubic",{easeImpl:function(p){return p*p*p}}),bl("Quartic",{easeImpl:function(p){return p*p*p*p}}),bl("Power(power=2)",{easeImpl:function(p){var E=Math.max(0,this.power);return Math.pow(p,E)}}),bl("Back(amplitude=1)",{easeImpl:function(p){return Math.pow(p,3)-p*this.amplitude*Math.sin(R$*p)}}),bl("Bounce(bounces=3, bounciness=2)",{easeImpl:function(p){var E=Math.max(0,this.bounces),b=this.bounciness;b<=1&&(b=1.001);var Z=(1-(Z=Math.pow(b,E)))/(V=1-b)+.5*Z,o=Math.log(-p*Z*(1-b)+1)/Math.log(b),A=(o=Math.floor(o))+1,l=(1-Math.pow(b,o))/(V*Z),V=p-(A=.5*(l+(1-Math.pow(b,A))/(V*Z))),Z=A-l;return-Math.pow(1/b,E-o)/(Z*Z)*(V-Z)*(V+Z)}}),bl("Elastic(oscillations=3, springiness=3)",{easeImpl:function(p){var E=Math.max(0,this.oscillations),b=Math.max(0,this.springiness);return(b=0==b?p:(Math.exp(b*p)-1)/(Math.exp(b)-1))*Math.sin((j$*E+s$)*p)}}),bl("Exponential(exponent=2)",{easeImpl:function(p){return this.exponent<=0?p:(Math.exp(this.exponent*p)-1)/(Math.exp(this.exponent)-1)}}),bl("Sine",{easeImpl:function(p){return 1-Math.sin(s$*(1-p))}}),bl("Bezier(x1=0, y1=0, x2=1, y2=1)",{easeImpl:function(p){for(var E=this.x1,b=this.y1,Z=this.x2,o=this.y2,A=1-3*Z+3*E,l=3*Z-6*E,V=3*E,c=p,S=0;S<5;S++){var I=c*c;c-=1/(3*A*I+2*l*c+V)*(I*c*A+l*I+V*c-p),c=Math.min(1,Math.max(0,c))}return 3*Math.pow(1-c,2)*c*b+3*(1-c)*Math.pow(c,2)*o+Math.pow(c,3)}}),bl("Spring(stiffness=100, damping=15, mass=1)",{easeImpl:function(p){if(0===p)return 0;var E=this.mass,b=this.stiffness,Z=this.damping,o=(E<=0&&(E=1e-6),b<=0&&(b=1e-6),Z<0&&(Z=0),Math.sqrt(b/E));if((Z=Z/(2*Math.sqrt(b*E)))<1-1e-6){if(b=o*Math.sqrt(1-Z*Z),!(Math.abs(b)<1e-6))return 1+Math.exp(-Z*o*p)*(-Math.cos(b*p)-Z*o/b*Math.sin(b*p));Z=1}return Math.abs(Z-1)<1e-6?1+(-1-o*p)*Math.exp(-o*p):(E=-Z*o+o*Math.sqrt(Z*Z-1),b=-Z*o-o*Math.sqrt(Z*Z-1),1+(Math.abs(E-b)<1e-6?(-1-o*p)*Math.exp(-o*p):(Z=E/(b-E),-b/(b-E)*Math.exp(E*p)+Z*Math.exp(b*p))))}}),$k={"+":lq.Mode.In,"-":lq.Mode.Out,"*":lq.Mode.InOut},Yk=CO("Linear"),tk={Linear:Yk},function(p){return p?tk[p]||(tk[p]=CO(p)):Yk}),bl=((oq=function(p,E){0<=E.indexOf("(")||"*"===E[0]||"+"===E[0]||"-"===E[0]?cq[p]=E:lq[p]=lq[E]})("Quad","Quadratic"),oq("Quart","Quartic"),oq("Pow","Power"),oq("Expo","Exponential"),oq("Sin","Sine"),E(H$,{setEasing:bl,createEasing:Dq,setEasingAlias:oq},!0),u.Math.Line3=function(p,E){this.start=p!==K$?p:new G$(0,0,0),this.end=E!==K$?E:new G$(0,0,0)}),Bq=(t$.assign(bl.prototype,{set:function(p,E){return this.start.copy(p),this.end.copy(E),this},copy:function(p){return this.start.copy(p.start),this.end.copy(p.end),this},getCenter:function(p){return(p=p||new G$).addVectors(this.start,this.end).multiplyScalar(.5),p},delta:function(p){return(p=p||new G$).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(p,E){return E=E||new G$,this.delta(E).multiplyScalar(p).add(this.start)},closestPointToPointParameter:(Kk=new G$,rk=new G$,function(p,E){return Kk.subVectors(p,this.start),rk.subVectors(this.end,this.start),p=rk.dot(rk),p=rk.dot(Kk)/p,E?f.clamp(p,0,1):p}),closestPointToPoint:function(p,E,b){return b=b||new G$,p=this.closestPointToPointParameter(p,E),this.delta(b).multiplyScalar(p).add(this.start)},applyMatrix4:function(p){return this.start.applyMatrix4(p),this.end.applyMatrix4(p),this},equals:function(p){return p.start.equals(this.start)&&p.end.equals(this.end)},clone:function(){return(new this.constructor).copy(this)}}),{}),nq={},kq={},jq={},Wq=H$.checkLoadingTypeForView=function(p,E){kq[E]&&!p["_loading_"+E+"_"]&&(jq[E][p["_loading_"+E+"_"]=pf()]=p)},mq=function(p,E,b,Z){var o,A=jq[p];if(E&&A){for(var l in A)(o=A[l]).invalidateAll&&o.invalidateAll(K$,p+"Loaded",b),o.redraw&&o.redraw(),o.iv(),delete o["_loading_"+p+"_"];jq[p]={}}else if(Z&&!s1(A))for(var l in A)(o=A[l]).invalidateAll&&o.invalidateAll(K$,p+"Loading",b),o.redraw&&o.redraw(),o.iv()},eq="placeholderResource",$q=r$,Yq=(jq[eq]={},H$.addPendingPlaceholder=function(p,E){($q=$q||(kq[eq]={}))[p]||($q[p]=!0,Ef(function(){H$.removePendingPlaceholder(p,!1)},r$,r$,E||1e5))},H$.removePendingPlaceholder=function(p,E){var b;$q&&(delete $q[p],(b=s1($q))&&($q=kq[eq]=r$),mq(eq,b,p,E))},H$.isLoading=function(){if(e1)return!0;if(rd)return!0;for(var p in kq)if(kq[p])return!0;return!1},H$.countActiveLoadings=function(){var p,E=0;for(p in e1&&(E+=t$.keys(e1).length),rd&&(E+=t$.keys(rd).length),kq)kq[p]&&(E+=t$.keys(kq[p]).length);return E},H$.isMaxConcurrencyReached=function(p){return!!(p=p||H$.maxConcurrencyLimit)&&H$.countActiveLoadings()>p},function(V,c){function S(p,E){(b=o(p,E))&&(E=b),n[p]=E,delete B[p];var b=s1(B);b&&(B=kq[V]=r$),mq(V,b,p,E),Hq(V+"::"+p,E)}function I(p,E){S(p,E),E&&H$[b](p,E)}var D,B=r$,n=Bq[V]={},k=V.charAt(0).toUpperCase()+V.substr(1),Z=(jq[V]={},(c=c||D1).pattern),o=c.handleLoaded||n1,A="load"+k+"ByURL",b="handle"+k+"Loaded";nq[A]=function(b,Z){if((Z=Z||b)&&!H$.isMaxConcurrencyReached()&&!(B=B||(kq[V]={}))[b]){var o=new UP,A=!(B[b]={request:o,url:Z});if("string"==typeof Z&&(A=Z1.test(Z),Z=H$.beforeLoadURL(Z,b)),Z.data){var p=Z.data;A&&p&&(p=H$.parse(p)),c.delayToNextFrame?Ef(function(){I(b,p)}):I(b,p)}else{o.onload=function(p){var E=this.status;200===E||0===E||206===E?(E=o.getResponseText(),A&&(E=H$.parse(E)),I(b,E)):S(b,H$["handleUnfound"+k](b,Z)||r$)},o.onerror=function(p){S(b,H$["handleUnfound"+k](b,Z)||r$)};var E={};if(E.url=H$.encodeURI(Z),E.sync=!1,c.loadingParam)for(var l in c.loadingParam)E[l]=c.loadingParam[l];c.beforeSend&&c.beforeSend(o,E),o.send(E)}}},H$["get"+k]=function(p,E){var b=n[p];return b!==K$||Z&&!Z.test(p)?(E&&E(b),b):(rq(V+"::"+p,E),nq[A](p),n[p])},H$["get"+k+"Map"]=function(){return n},"shader"==V?(D=function(p,E){if(E===K$)return delete n[p],void delete uV[p];E&&null!==E.data&&(n[p]=null,uV[p]=null),nq[A](p,E)},H$.setShader=function(E,p,b){var Z,o,A,l;F$(p)&&(p.match(/\/\/ *FS/i)||-1<p.indexOf("ShaderX"))?(uV[E]=null,n[E]=p):F$(p)&&F$(b)?(A=0,l=function(){var p;0<A||(B&&(B[E]&&((p=B[E].request)&&(p.onload=p.onerror=n1,(p=p.getXhr())&&(p.onload=p.onerror=n1)),delete B[E]),s1(B)&&(B=kq[V]=r$)),D(E,Z&&o?{data:Z+"\n// FS\n"+o}:{data:null}))},p.match(/void\s+main/i)?Z=p:(A++,H$.xhrLoad(p,function(p){Z=p,A--,l()})),b.match(/void\s+main/i)?o=b:(A++,H$.xhrLoad(b,function(p){o=p,A--,l()})),A&&((B=B||(kq[V]={}))[E]={}),l()):D(E,p)}):"shaderChunk"===V?H$.setShaderChunk=function(p,E,b){F$(E)?(b==K$&&(E.match(/\n/i)?b=!1:E.match(/\.(glsl|fs|vs|shader|txt|js)$/)&&(b=!0)),b?nq[A](p,E):n[p]=E):E===K$&&delete n[p]}:H$["set"+k]=function(p,E){(E=F$(E)&&E.substr(0,12)==La?H$.parse(E):E)===K$?delete n[p]:y1(E)||P1(E)||null===E?n[p]=E:nq[A](p,E)},H$[b]=function(p,E){},H$["handleUnfound"+k]=function(p,E){}}),tq=(H$.registerResourceLoader=function(p,E){Yq(p,E)},function(b){b=b||H$.resourceLoaderEventTimeout;var l={},V={};function Z(p,E){var b=l[p];if(b){for(var Z=0,o=b.length;Z<o;Z++)b[Z](E);delete l[p];var A=V[p];A&&(ll(A),delete V[p])}}return{add:function(p,E){l[p]||(l[p]=[],V[p]=Al(function(){Z(p,null)},b)),l[p].push(E)},fire:Z}}),Kq=null,rq=function(p,E){E&&(Kq=Kq||new tq).add(p,E)},Hq=function(p,E){Kq&&Kq.fire(p,E)},Mq={ms_ac:function(p,E){for(var b=E.ms_ac,Z=0;Z<b.length;Z++)!function(p,b){var Z="_"+b;p[L1(b)]=function(){return this[Z]},p[x1(b)]=function(p){var E=this[Z];this[Z]=p,this.fp(b,E,p)}}(p,b[Z])},ms_listener:function(p,E){p.addListeners=function(){var E=this,p=Pa;u.ui&&E instanceof u.ui.Interactor?H$.uiMockTouch&&(p=xa.concat(Ca).concat(ha)):H$.mockTouch&&(p=xa.concat(Ca).concat(ha));for(var b=0,Z=(E.__events__=p).length;b<Z;b++){var o=p[b];"wheel"===o&&!E.handle_wheel&&E.handle_mousewheel&&(E.handle_wheel=function(p){Q1(E,p)}),E["handle_"+o]&&function(E,p,b){function Z(p){"mousedown"!==E&&"mouseup"!==E&&"touchstart"!==E&&"touchend"!==E||kf(p),b.disabled||b["handle_"+E](p)}var o="__"+E;b[o]||(b[o]=Z,U$(p,E,Z))}(o,E.getView(),E)}},p.removeListeners=function(){var p=this.__events__;if(p){this.__events__=K$;for(var E,b,Z,o,A=0,l=p.length;A<l;A++)this["handle_"+p[A]]&&(E=p[A],b=this.getView(),0,(o=this[Z="__"+E])&&(N$(b,E,o),delete this[Z]))}}},ms_fire:function(p,E){p.mp=function(p,E,b){this.addPropertyChangeListener(p,E,b)},p.ump=function(p,E){this.removePropertyChangeListener(p,E)},p.fp=function(p,E,b,Z,o){return this.firePropertyChange(p,E,b,Z,o)},p.addPropertyChangeListener=function(p,E,b){this._62I||(this._62I=new um),this._62I.add(p,E,b)},p.removePropertyChangeListener=function(p,E){this._62I&&this._62I.remove(p,E)},p.firePropertyChange=function(p,E,b,Z,o){if(Z){if(Z(E,b))return!1}else if(E===b)return!1;return(Z=o||{}).property=p,Z.oldValue=E,Z.newValue=b,Z.source=this,(Z.data=this)._62I&&this._62I.fire(Z),this.onPropertyChanged&&this.onPropertyChanged(Z),!0}},ms_attr:function(p,E){function o(p,E){if(P1(p)&&"dataBindings"in p)for(var b=p.dataBindings,Z=b.length-1;0<=Z;Z--){var o=b[Z];if(o.attr===E)return"defaultValue"in o?o:K$}}p.a=function(p,E){if(2===arguments.length)this.setAttr(p,E);else{if(!P1(p))return this.getAttr(p);for(var b in p)this.setAttr(b,p[b])}return this},p.getAttr=function(p,E){if(E===K$&&(E=1),this._attrObject&&p in this._attrObject)return this._attrObject[p];if(this.getCurrentDrawingImage){var b=this.getCurrentDrawingImage();if(b=o(b=F$(b)?ua[b]:b,p))return b.defaultValue;var Z=this.s("shape3d");if(Z&&(b=o(wV(Z),p)))return b.defaultValue}return E?L[p]:K$},p.setAttr=function(p,E){this._attrObject||(this._attrObject={});var b=this._attrObject[p];E===K$?delete this._attrObject[p]:this._attrObject[p]=E,this.fp&&this.fp("a:"+p,b,E)&&this.onAttrChanged&&this.onAttrChanged(p,b,E)},p.getSerializableAttrs=function(){var p,E={};for(p in this._attrObject)E[p]=1;return E}},ms_bnb:function(p,E){p.getBodyColor=function(p){return p.s("body.color")},p.getBorderColor=function(p){return p.s("border.color")}},_51o:function(p,E){p.mi=function(p,E,b){this.addInteractorListener(p,E,b)},p.umi=function(p,E){this.removeInteractorListener(p,E)},p.fi=function(p){this.fireInteractorEvent(p)},p.addInteractorListener=function(p,E,b){this._63I||(this._63I=new um),this._63I.add(p,E,b)},p.removeInteractorListener=function(p,E){this._63I&&this._63I.remove(p,E)},p.fireInteractorEvent=function(p){this._63I&&this._63I.fire(p)},p.setInteractors=function(p){var E=this._interactors;E&&E.each(function(p){p.tearDown()}),X$(p)&&(p=new q(p)),(this._interactors=p)&&p.each(function(p){p.setUp()}),this.fp("interactors",E,p),this.invalidateSelection()},p.getInteractors=function(){return this._interactors}},_49o:function(p,E){p._44O=r$,p._45O=r$,p.getTopPainters=function(){return this._44O},p.getBottomPainters=function(){return this._45O},p.addTopPainter=function(p){this._44O||(this._44O=new q),this._44O.contains(p)||(this._44O.add(p),this.redraw&&this.redraw())},p.removeTopPainter=function(p){this._44O&&(this._44O.remove(p),this.redraw&&this.redraw())},p.addBottomPainter=function(p){this._45O||(this._45O=new q),this._45O.contains(p)||(this._45O.add(p),this.redraw&&this.redraw())},p.removeBottomPainter=function(p){this._45O&&(this._45O.remove(p),this.redraw&&this.redraw())},p._93db=function(E,b){var Z=this;Z._45O&&Z._45O.each(function(p){p.draw?p.draw(E,b):p.call(Z,E,b)})},p._92db=function(E,b){var Z=this;Z._44O&&Z._44O.each(function(p){p.draw?p.draw(E,b):p.call(Z,E,b)})}},ms_sm:function(p,E){p.sm=function(){return this.getSelectionModel()},p.setSelectableFunc=function(p){this.sm().setFilterFunc(p)},p.getSelectableFunc=function(){return this.sm().getFilterFunc()},p.getSelectionModel=function(){return this._selectionModel||this.dm().sm()},p.isSelectionModelShared=function(){return!this._selectionModel},p.setSelectionModelShared=function(p){var E=this,b=E.sm(),Z=!E._selectionModel,o=E.handleSelectionChange,A=E.dm();Z!==p&&(E.invalidateSelection&&E.invalidateSelection(),p?(A.sm().ms(o,E),E._selectionModel.ums(o,E),E._selectionModel.dispose(),E._selectionModel=r$):(A.sm().ums(o,E),E._selectionModel=new im(A),E._selectionModel.ms(o,E)),E.onSelectionModelSharedChanged(),E.fp("selectionModelShared",Z,p),E.fireViewEvent({kind:"selectionModelSharedChange",oldValue:Z,newValue:p,oldSelectionModel:b,newSelectionModel:E.sm()}))},p.onSelectionModelSharedChanged=function(){this.redraw(),this.invalidateSelection&&this.invalidateSelection()},p.removeSelection=function(){var p=this.dm();p.beginTransaction(),this.sm().toSelection().each(p.remove,p),p.endTransaction()},p.selectAll=function(){var E=this;E.sm().ss(E.dm().toDatas(function(p){return E.isVisible(p)&&E.isSelectable(p)}))},p.isSelected=function(p){return this.sm().co(p)},p.isSelectedById=function(p){return!!(p=this.dm().getDataById(p))&&this.isSelected(p)},p.isSelectable=function(p){return this.sm().isSelectable(p)}},ms_tx:function(p,E){p._64I=0,p._65O=0,p.isScrollable=function(){return this.getWidth()<this._64I},p._40o=function(){return this.isScrollable()},p.getLogicalPoint=function(p){return Gf(p,this._canvas||this._view,this.tx(),this.ty?this.ty():0)},p.tx=function(p){if(p===K$)return this.getTranslateX();this.setTranslateX(p)},p.getTranslateX=function(){return this._65O},p.setTranslateX=function(p){var E=this.getWidth()-this._64I,E=(p=O$(p=0<(p=p<E?E:p)?0:p),this._65O);this._65O=p,this.fp(Qx,E,p)}},ms_ty:function(p,E){p._23Q=0,p._66O=0,p._41o=function(){return this.getHeight()<this._23Q},p.getLogicalPoint=function(p){return Gf(p,this._canvas||this._view,this.tx?this.tx():0,this.ty())},p.ty=function(p){if(p===K$)return this.getTranslateY();this.setTranslateY(p)},p.getTranslateY=function(){return this._66O},p.setTranslateY=function(p){var E=this.getHeight()-this._23Q,E=(p=O$(p=0<(p=p<E?E:p)?0:p),this._66O);this._66O=p,this.fp(qx,E,p)}},ms_txy:function(p,E){p._65O=0,p._66O=0,p.tx=function(p){if(p===K$)return this.getTranslateX();this.setTranslateX(p)},p.ty=function(p){if(p===K$)return this.getTranslateY();this.setTranslateY(p)},p.onTranslateEnded=function(){},p.setTranslate=function(E,b,p){var Z,o,A=this;(p=v1(p))?(A._65I&&A._65I.stop(!0),Z=A.tx(),o=A.ty(),p.action=function(p){A.setTranslate(Z+(E-Z)*p,o+(b-o)*p)},p._37o=function(){delete A._66I,delete A._65I,A.onTranslateEnded()},A._66I=1,A._65I=Af(p)):(A.tx(E),A.ty(b))},p.getTranslateX=function(){return this._65O},p.setTranslateX=function(p){p=this.adjustTranslateX(p);var E=this._65O;this._65O=p,this.fp(Qx,E,p)},p.getTranslateY=function(){return this._66O},p.setTranslateY=function(p){p=this.adjustTranslateY(p);var E=this._66O;this._66O=p,this.fp(qx,E,p)},p.adjustTranslateX=function(p){return O$(p)},p.adjustTranslateY=function(p){return O$(p)},p.translate=function(p,E,b){this.setTranslate(this.tx()+p,this.ty()+E,b)},p.getLogicalPoint=function(p){return Gf(p,this._canvas||this._view,this.tx(),this.ty())}},ms_dm:function(p,E){p.dm=function(p){if(!p)return this.getDataModel();this.setDataModel(p)},p.getDataModel=function(){return this._dataModel}},ms_lp:function(p,E){p.lp=function(p){return this.getLogicalPoint(p)}},ms_v:function(p,E){p._disabled=!1,p.setDisabled=function(p,E){var b=this._disabled;b!==p&&(b&&(Lf(this._63O),delete this._63O),p&&(eW(this._view,this._63O=GW(E)),this.iv()),this._disabled=p,this.fp("disabled",b,p))},p.isDisabled=function(){return this._disabled},p.getDisabledDiv=function(){return this._63O},p.getView=function(){return this._view},p.addToDOM=function(p){var E=this,b=E.getView(),Z=b.style;(p=p||n.body).appendChild(b),Z.left="0",Z.right="0",Z.top="0",Z.bottom="0",E._domResizeEventHandler&&N$(h,"resize",E._domResizeEventHandler),E._domResizeEventHandler=function(){E.iv()},U$(h,"resize",E._domResizeEventHandler),E.iv()},p.removeFromDOM=function(){var p=this.getView();p.parentNode&&p.parentNode.removeChild(p),this._domResizeEventHandler&&(N$(h,"resize",this._domResizeEventHandler),delete this._domResizeEventHandler)},p.setCursor=function(p){"default"===p&&(p=this._defaultCursor||p);var E=this.getView().style;E.cursor=p,E.cursor="-webkit-"+p,E.cursor="-moz-"+p},p.getWidth=function(){return this._view.clientWidth},p.getHeight=function(){return this._view.clientHeight},p.setWidth=function(p){this._view.style.width=p+Ll,this.iv(),this.fp&&this.fp(zl,r$,p)},p.setHeight=function(p){this._view.style.height=p+Ll,this.iv(),this.fp&&this.fp(_l,r$,p)},p.setFocus=function(p){var E=this._currentEditor;return!(p&&E&&(E=E.getView?E.getView():E).contains(p.target)||(aW(this._view),this.endEditing&&this.endEditing(),this.fireViewEvent("focus"),0))},p.iv=function(p){this.invalidate(p)},p.invalidate=function(p){this._68I||(this._68I=1,this._ivTimerId=Ef(this._validateImpl,this,r$,p),this._ivTimerDelay=p,this.onInvalidated&&this.onInvalidated(),this.fireViewEvent("invalidate"))},p.validate=function(){var p=this._ivTimerId,E=this._ivTimerDelay;!1!==this._validateImpl()&&p&&bf(p,E)},p._validateImpl=function(){var p=this,E=p._view;if(!p._68I)return!1;if(delete p._68I,E.parentNode)if(0===E.offsetWidth&&0===E.offsetHeight&&p._67I!==r$)p._67I===K$&&(p._67I=H$.reinvalidateCount),0<p._67I?p._67I--:p._67I=r$,p.iv();else{p.fireViewEvent("beginValidate"),p.validateImpl(),p.onValidated&&p.onValidated(),p.fireViewEvent("validate");var b,Z=p._63O,o=(Z&&(E.lastChild!==Z&&(Lf(Z),eW(E,Z)),dW(Z,0,0,p.getWidth(),p.getHeight())),t1(p),Md(p),p);for(b in kq)Wq(o,b)}},p.layout=function(p,E,b,Z){1===arguments.length?dW(this,p):dW(this,p,E,b,Z)},p.addViewListener=function(p,E,b){this._67O||(this._67O=new um),this._67O.add(p,E,b)},p.removeViewListener=function(p,E){this._67O.remove(p,E)},p.fireViewEvent=function(p){this._67O&&(F$(p)&&(p={kind:p}),this._67O.fire(p)),H$.viewListener&&H$.viewListener(this,p)}},ms_tip:function(p,E){p.setToolTipEnabled=function(p){p?kl||this._13o||(this.enableToolTip(),this.fp("toolTipEnabled",!1,!0)):this._13o&&(this.disableToolTip(),this.fp("toolTipEnabled",!0,!1))},p.isToolTipEnabled=function(){return!!this._13o},p.enableToolTip=function(){var p,b=this;kl||b._13o||(b._13o=function(p){var E;p.toolTipView||((E=(p.toolTipView=b).getToolTip(p))!=r$?(H$.toolTipContinual&&H$.isToolTipShowing()?Lq(p,E):(xq(),Ja={timeout:Al(Oa,Gq),e:p,info:E}),da={e:p,view:b}):xq())},p=b.getView(),U$(p,ta,b._13o),U$(p,"mouseleave",H$.hideToolTip))},p.disableToolTip=function(){var p;this._13o&&(p=this.getView(),N$(p,ta,this._13o),N$(p,"mouseleave",H$.hideToolTip),delete this._13o)},p.getToolTip=function(p){return this.getDataAt?(p=this.getDataAt(p))?p.getToolTip():r$:this.getValue?this.getValue():void 0}},_52o:function(p,E){p._zoom=1,p._29I=W1,p.zoomIn=function(p,E){this.setZoom(this._zoom*_q,p,E)},p.zoomOut=function(p,E){this.setZoom(this._zoom/_q,p,E)},p.zoomReset=function(p,E){this.setZoom(1,p,E)},p.scrollZoomIn=function(p){this.setZoom(this._zoom*vq,r$,p)},p.scrollZoomOut=function(p){this.setZoom(this._zoom/vq,r$,p)},p.pinchZoomIn=function(p){this.setZoom(this._zoom*Qq,r$,p)},p.pinchZoomOut=function(p){this.setZoom(this._zoom/Qq,r$,p)},p.adjustZoom=function(p){return p<uq?uq:qq<p?qq:p},p.getZoom=function(){return this._zoom},p.setZoom=function(E,p,b){var Z,o=this;(p=v1(p))?(o._14o&&o._14o.stop(!0),Z=o._zoom,p.action=function(p){o._96O(Z+(E-Z)*p,b)},p._37o=function(){delete o._zooming,delete o._14o,o.onZoomEnded()},o._zooming=1,o._14o=Af(p)):o._96O(E,b)},p._96O=function(p,E){var b,Z;(p=this.adjustZoom(p))!==this._zoom&&(this.validate(),b=this._29I,Z=this._zoom,0!==b.width&&0!==b.height&&(E=E||{x:b.x+b.width/2,y:b.y+b.height/2},this.tx((E.x-b.x)*Z-E.x*p),this.ty((E.y-b.y)*Z-E.y*p)),this._zoom=p,this.fp("zoom",Z,p))}},ms_edge:function(p,E){p._2I=function(p){this._44I||(this._44I=new q),this._42I||(this._42I=new q),this._44I.add(p),this._42I.add(p),this._20I()},p._4I=function(p){this._44I||(this._44I=new q),this._43I||(this._43I=new q),this._44I.add(p),this._43I.add(p),this._20I()},p._16I=function(p){this._44I.remove(p),this._42I.remove(p),this._44I.isEmpty()&&delete this._44I,this._42I.isEmpty()&&delete this._42I,this._20I()},p._18I=function(p){this._44I.remove(p),this._43I.remove(p),this._44I.isEmpty()&&delete this._44I,this._43I.isEmpty()&&delete this._43I,this._20I()},p._20I=function(){var E,b=this;delete b._45I,!b._44I||b._44I.isEmpty()?delete b._70O:(b._44I.each(function(p){p.isLooped()&&!(E=E||{})[p._id]&&(b._45I||(b._45I=new q),b._45I.add(p),E[p._id]=p)}),E?(b._70O=new q,b._44I.each(function(p){E[p._id]?"A"!==E[p._id]&&(E[p._id]="A",b._70O.add(p)):b._70O.add(p)})):b._70O=b._44I)},p.hasAgentEdges=function(){return!!this._49I&&!this._49I.isEmpty()},p.getSourceAgentEdges=function(){return this._46I},p.getTargetAgentEdges=function(){return this._47I},p._1I=function(p){this._46I||(this._46I=new q),this._48I||(this._48I=new q),this._46I.add(p),this._48I.add(p),this._19I()},p._3I=function(p){this._47I||(this._47I=new q),this._48I||(this._48I=new q),this._47I.add(p),this._48I.add(p),this._19I()},p._15I=function(p){this._46I.remove(p),this._48I.remove(p),this._46I.isEmpty()&&delete this._46I,this._48I.isEmpty()&&delete this._48I,this._19I()},p._17I=function(p){this._47I.remove(p),this._48I.remove(p),this._47I.isEmpty()&&delete this._47I,this._48I.isEmpty()&&delete this._48I,this._19I()},p._19I=function(){var E,b=this,p=(delete b._49I,b._48I);p&&!p.isEmpty()&&(E={},p.each(function(p){E[p._id]?b._49I||(b._49I=new q):E[p._id]=p}),b._49I?p.each(function(p){E[p._id]&&(b._49I.add(p),delete E[p._id])}):b._49I=p)},p.getLoopedEdges=function(){return this._45I},p.getEdges=function(){return this._70O},p.getAgentEdges=function(){return this._49I},p.getSourceEdges=function(){return this._42I},p.getTargetEdges=function(){return this._43I},p._8I=function(){this._70O&&this._70O.each(function(p){p._7I()})}}},Fq=(E(H$,{getVersion:function(){return"8.1.3"}},!0),function(p){return p.devicePixelRatio||(p.screen&&p.screen.logicalXDPI?p.screen.deviceXDPI/p.screen.logicalXDPI:1)}),Xq=(E(H$,{numberDigits:5,crossOrigin:"",baseZIndex:K$,isTouchable:kl,mockTouch:!Sl,devicePixelRatio:Fq(h),reinvalidateCount:3,hitMaxArea:3e3,imageCacheThreshold:20,imageCacheSizeCap:262144e3,autoMakeVisible:!0,autoHideScrollBar:!0,disabledOpacity:.4,disabledBackground:s.disabledBackground,forceHierarchicalSerialization:!0,extractBatchTranslation:!1,extractShapeTranslation:!1,extractPolylineTranslation:!1,extractVerticesTranslation:!1,ignoreHTMLZoom:!0,touchHitTolerance:5,mouseHitTolerance:3,envmapProbeMinWaitTime:300,envmapProbeMaxWaitTime:25e3,EnvmapTextureSize:1024,hoverDelay:600,clickDelay:200,toolTipDelay:800,toolTipContinual:!1,getDragger:function(){return zW},lineCap:"butt",lineJoin:"round",lineJoinBorderExpand:K$,imageGradient:"linear.northeast",dashPattern:[16,16],blockMinSize:1,textExtraWidth:4,encodeStringKey:null,doubleClickSpeed:500,doubleClickRange:1,doubleTouchRange:20,checkDoubleClickTarget:!1,touchMoveThreshold:10,animDuration:200,animEasing:function(p){return p*p},labelColor:D3,labelSelectColor:B3,labelFont:"12px arial, sans-serif",widgetIndent:kl?30:20,widgetRowHeight:kl?30:20,widgetHeaderHeight:kl?32:22,widgetTitleHeight:kl?34:24,scrollBarColor:T,scrollBarSize:7,scrollBarTimeout:1e3,scrollBarMinLength:20,scrollBarInteractiveSize:kl?32:16,zoomIncrement:1.3,scrollZoomIncrement:1.05,pinchZoomIncrement:1.08,pinchZoomThreshold:1,zoomMax:20,zoomMin:.01,segmentResolution:12,shapeResolution:24,shapeSide:24,resourceLoaderEventTimeout:3e5,enableWorkerSplatParse:!0,blockThroughContinuous:!1,globalFuncMap:{},intersectionLineRect:EW,intersectionLineLine:bW,isEnter:V6,isEsc:c6,isDelete:wW,isSpace:l6,isLeft:b6,isUp:Z6,isRight:o6,isDown:A6,isTouchEvent:NW,getTarget:function(p){return(NW(p)?UW(p):p).target},isString:F$,isNumber:C1,isBoolean:h1,isArray:X$,isSelectAll:sW,isFunction:y1,isObject:P1,getPropertyValue:ZW,setPropertyValue:oW,addMethod:E,createGradient:function(p,E,b,Z,o,A,l,V){return(0,N6[E])(p,b,Z,o,A,l,V)},appendToScreen:function(p){p=p.getView?p.getView():p,(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement||n.body).appendChild(p)},encodeString:function(p){return u.Math.encodeBase64(p,H$.encodeStringKey)},decodeString:function(p){return u.Math.decodeBase64(p,H$.encodeStringKey)},findView:function(p){function E(p,E){for(var b,Z,o=-1,A=null,l="2d"===E?TY.GraphView:R.Graph3dView,V=0,c=p.length;V<c;V++)p[V]instanceof l&&o<(Z=(b=p[V]).getWidth()*b.getHeight())&&(o=Z,A=b);return A}var b=[];return H$.traverse(n.body,function(p){p._ht&&b.push(p._ht)},null,"children"),"all"===p?b:"2d"===p?E(b,"2d"):"3d"===p?E(b,"3d"):E(b,"3d")||E(b,"2d")},toggleFullscreen:function(E){var b,Z,o,A,l,V,c,p,S,I,D=!!E.getView,B=D?E.getView():E;n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen():(b=!0,I=E.isSelfViewEvent?(Z=E.getX(),o=E.getY(),V=E.getWidth(),c=E.getHeight(),p=B.style.background,S=B.style.backgroundColor,p||S||(B.style.backgroundColor="white"),B.requestFullscreen?B.requestFullscreen():B.msRequestFullscreen?B.msRequestFullscreen():B.mozRequestFullScreen?B.mozRequestFullScreen():B.webkitRequestFullscreen&&B.webkitRequestFullscreen(),setInterval(function(){var p;B!==(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)?(clearInterval(I),E.setX(Z),E.setY(o),E.setWidth(V),E.setHeight(c),E._fullscreen=!1,B.style.oldBackgroundColor=S,E.iv()):(p=u.Default.getWindowInfo(),!b&&p.width===E.getWidth()&&p.height===E.getHeight()||(E.setX(p.left),E.setY(p.top),E.setWidth(p.width),E.setHeight(p.height),E._fullscreen=!0,E.iv(),b=!1))},500)):(A=B.style.left,l=B.style.top,V=B.style.width,c=B.style.height,p=B.style.background,S=B.style.backgroundColor,p||S||(B.style.backgroundColor="white"),B.requestFullscreen?B.requestFullscreen():B.msRequestFullscreen?B.msRequestFullscreen():B.mozRequestFullScreen?B.mozRequestFullScreen():B.webkitRequestFullscreen&&B.webkitRequestFullscreen(),setInterval(function(){var p;B!==(n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement)?(clearInterval(I),B.style.left=A,B.style.top=l,B.style.width=V,B.style.height=c,B.style.oldBackgroundColor=S,D&&E.iv()):(p=u.Default.getWindowInfo(),D&&(b||p.width!==E.getWidth()||p.height!==E.getHeight())&&(dW(E),b=!1))},500)))},appendTimeStamp:function(p){return p},drawCompType:function(p,E,b,Z,o,A){p(E,b,Z,o,A)},numberListener:(Qk={46:1,8:1,9:1,27:1,13:1,109:1,110:1,189:1,190:1},function(p){var E=p.keyCode;Qk[E]||65===E&&H$.isCtrlDown(p)||86===E&&H$.isCtrlDown(p)||67===E&&H$.isCtrlDown(p)||88===E&&H$.isCtrlDown(p)||35<=E&&E<=40||(p.shiftKey||E<48||57<E)&&(E<96||105<E)&&p.preventDefault()}),ignoreKeyCodes:[122,123],preventDefault:function(p){var E=p.target.tagName;"DIV"!==E&&"CANVAS"!==E||0<=H$.ignoreKeyCodes.indexOf(p.keyCode)||!("keydown"!==p.type||b6(p)||o6(p)||Z6(p)||A6(p)||wW(p)||65===p.keyCode&&(p.metaKey||p.ctrlKey))||!0!==p.cancelable||(p.preventDefault(),p.preventManipulation&&p.preventManipulation())},getWindowInfo:function(){var p=n.documentElement;return{target:p=p&&(p.scrollLeft||p.scrollTop)?p:n.body,left:p.scrollLeft,top:p.scrollTop,width:h.innerWidth||p.clientWidth,height:h.innerHeight||p.clientHeight}},isDragging:function(){return!!zW},isLeftButton:function(p){return!!NW(p)||0===p.button},isMiddleButton:function(p){return!NW(p)&&p&&(1===p.button||4&(p.buttons||0))},isRightButton:function(p){return!NW(p)&&p&&(2===p.button||2&(p.buttons||0))},isInput:function(p){return!!p&&("INPUT"===(p=p.tagName)||"TEXTAREA"===p||"SELECT"===p)},getTouchCount:function(p){return NW(p)?p.touches.length:1},isDoubleClick:(vk={},Qa=new g,S$=Qa.getTime(),function(p){if(1<nf(p))return!1;var E=p.button==r$?"":p.button,b=(E=p.type+E)+"_isDoubleClick",Z=(Z=vk[E])||(vk[E]={details:0,timeout:null,lastPoint:null});return p[b]===K$&&(p[b]=!0,E=mf(p),Z.timeout&&(ll(Z.timeout),Z.timeout=null),b=NW(p)?H$.doubleTouchRange:H$.doubleClickRange,Z.lastPoint&&$f(Z.lastPoint,E)>b&&_O(Z),Z.lastPoint=E,Z.details++,Z.timeout=Al(function(){_O(this)}.bind(Z),H$.doubleClickSpeed)),2===Z.details}),isShiftDown:function(p){return p?p.shiftKey:fa[16]},isCtrlDown:function(p){return p?nl?p.metaKey:p.ctrlKey:nl?fa[91]:fa[17]},getClientPoint:function(p){return{x:(p=NW(p)?UW(p):p).clientX,y:p.clientY}},isMouseEvent:function(p){return p instanceof MouseEvent||0===p.type.indexOf("mouse")},getTargetElement:function(p){var E=ef(p),b=H$.isMouseEvent(p)||!n.elementFromPoint?p.target:n.elementFromPoint(E.x,E.y);if(Sl&&n.elementFromPoint){for(var Z=[],o=[];"none"===b.style.pointerEvents;)Z.push(b),o.push(b.style.display||""),b.style.display="none",b=n.elementFromPoint(E.x,E.y);Z.forEach(function(p,E){p.style.display=o[E]})}return b},getPagePoint:function(p){return{x:(p=NW(p)?UW(p):p).pageX,y:p.pageY}},createObject:function(p,E){var b,Z=new p;for(b in E){var o,A=E[b];y1(A)?Z[b]=A:0===b.indexOf("s:")?Z.s(b.substr(2),E[b]):0===b.indexOf("a:")?Z.a(b.substr(2),E[b]):(o=x1(b),A=E[b],Z[o]?(Z[o](A),"setToolTip"===o&&Z.enableToolTip&&Z.enableToolTip()):Z[b]=A)}return Z},setImage:function(p,E,b,Z){var o=arguments.length;4===o?K1(p,Z,E,b):2===o?F$(E)?E.substr(0,12)==La?Y1(p,H$.parse(E)):K1(p,E):Y1(p,E):1===o&&K1(p,p)},getImage:function(p,E,b,Z){var o,A;return y1(E)&&(Z=E,E=null),p==r$?(Z&&Z(r$),r$):(P1(p)?o=p:(o=ua[p],p&&o===K$&&(rq(p,Z),Z=null,e1&&e1[p]||(K1(p,p),o=ua[p]))),E&&o&&o.tagName?(o[p="override"===b?"colors_override":"override_rgb"===b?"colors_override_rgb":"override_a"===b?"colors_override_a":"colors"]||(o[p]={__count__:0}),(A=o[p][E])||(o[p].__count__>H$.imageCacheThreshold&&(o[p]={__count__:0}),A=function(p,E,b,Z,o){var A=kW(),l=(A.width=b,A.height=Z,A.getContext("2d"));l.drawImage(p,0,0,b,Z);try{for(var V=l.getImageData(0,0,b,Z),c=V.data,S=0,I=c.length;S<I;S+=4){var D=c[S+0],B=c[S+1],n=c[S+2],k=c[S+3];"override_a"===o?c[S+3]=255*E[3]:"override_rgb"===o?(c[S+0]=255*E[0],c[S+1]=255*E[1],c[S+2]=255*E[2]):"override"===o?(c[S+0]=255*E[0],c[S+1]=255*E[1],c[S+2]=255*E[2],c[S+3]=255*E[3]):(c[S+0]=E[0]*D,c[S+1]=E[1]*B,c[S+2]=E[2]*n,c[S+3]=E[3]*k)}l.putImageData(V,0,0)}catch(E){return p}return A}(o,W6(E),o.width,o.height,b),o[p][E]=A,o[p].__count__++),Z&&Z(A),A):(Z&&Z(o),o))},isImageComplete:function(p,E,b){var Z=Q(p);if(!Z)return!1;if(Z.tagName)return"CANVAS"===Z.tagName||("VIDEO"===Z.tagName?2<=Z.readyState:Z.complete);for(var o=Z.comps,A=!0,l=0,V=o.length;l<V;l++){var c,S=(c=o[l]).type;if("image"===c.type){if((p=c.name)&&p.func&&(p=O(p,E)),!wq(p,E,b)){A=!1;break}}else if(Z1.test(S)&&H$.getCompType(S)===K$){A=!1;break}}return A},getId:(_k=1,function(){return++_k}),callLater:function(p,E,b,Z){function o(){p.apply(E,b)}return Z?Al(o,Z):h.requestAnimationFrame(o)},cancelLater:function(p,E){E?ll(p):h.cancelAnimationFrame(p)},clone:function(p){if(null==p||"object"!=typeof p)return p;if(p instanceof Date)return(E=new Date).setTime(p.getTime()),E;if(p instanceof Array){for(var E=[],b=0,Z=p.length;b<Z;b++)E[b]=p$(p[b]);return E}if(zf)for(b=0,Z=zf.length;b<Z;b++)if(p instanceof zf[b])return new zf[b](p);if(p instanceof q){for(E=new q,b=0,Z=p.length;b<Z;b++)E.set(b,p$(p.get(b)));return E}if(p instanceof sm)return p;if(p instanceof wm)return(E=new wm).deserialize(p.serialize()),E;if(p instanceof t$){var o,E={};for(o in p)p.hasOwnProperty(o)&&(E[o]=p$(p[o]));return E}return p},callWhenLoaded:function(p,E){var b=va(p,E=E||100);(_a=_a||{})[b]={tick:b,cb:p,delay:E}},beforeLoadURL:function(p,E){if(_a){var b={};for(E in _a){var Z=_a[E],o=(ll(Z.tick),va(Z.cb,Z.delay));b[o]={tick:o,delay:Z.delay,cb:Z.cb}}_a=b}return H$.convertURL?H$.convertURL(p,E):p},encodeURI:function(p){return encodeURI(p)},convertURL:function(p){return p},handleRefGraphLoaded:function(p,E,b){},handleImageLoaded:function(p,E){},handleUnfoundImage:function(p,E){return H$.getImage("default_blank")},resizeImage:function(p,E,b,Z){b=b||E;var o=(Z=Z||kW()).getContext("2d");return mW(Z,E,b,1),o.drawImage(p,0,0,E,b),Z},resizeImagePOT:function(p,E,b){if(!p||!p.tagName)return p;var Z,o=p.width,A=p.height;return o&&A&&(!f.isPOT(o)||!f.isPOT(A)||E&&o!==A)?(E=E?Z=f.nearestPOT(Math.min(o,A)):(Z=f.nearestPOT(o),f.nearestPOT(A)),H$.resizeImage(p,Z,E,b)):p},sortFunc:function(p,E){if(p===E)return 0;if(p==r$&&E!=r$)return 1;if(p!=r$&&E==r$)return-1;if(p==r$&&E==r$)return 0;var b,Z=typeof p,o=typeof E;return Z==Da&&o==Da?b=p.localeCompare(E):Z==ja&&o==ja&&(b=p-E),0<(b=b===K$?(""+p).localeCompare(""+E):b)?1:b<0?-1:0},getClassMap:function(){return qa},getClass:function(p){if(F$(p)){if(!(b=qa[p])){for(var E=p.split("."),b=h,Z=0;Z<E.length;Z++)b=b[E[Z]];qa[p]=b}return b}return p},def:function(p,E,b){function Z(){}var o,A,l;if(Z.prototype=E.prototype,o=new Z,F$(p)){if(qa[p])throw"'"+p+"' already defined";l=of(p),o.getClassName=function(){return p}}else l=p;if(o.constructor=l,o.getClass=function(){return l},o.getSuperClass=function(){return E},b)for(A in b)Mq[A]&&Mq.hasOwnProperty(A)?Mq[A](o,b):s6(o,b,A);l.prototype=o,l.superClass=E.prototype},startAnim:function(E){return(E=p$(E)).easing=E.easing||H$.animEasing,E.duration||E.frames||(E.duration=H$.animDuration),E.t=0,E.duration?E.interval=0:(E.frame=0,E.interval=E.interval||10),E.tick=function(){var p;E.duration?(p=(M1()-E.startTime)/E.duration,E.t=p=1<p?1:p,E.action(E.easing(p),p),E.isRunning()&&(1===p?E.stop():E._isPaused||(E.timeId=Ef(E.tick)))):(E.frame++,p=E.t=E.frame/E.frames,E.action(E.easing(p),p),E.isRunning()&&(E.frame<E.frames?E._isPaused||(E.timeId=Ef(E.tick,r$,r$,E.interval)):E.stop()))},E.resume=function(){E._isPaused&&(delete E._isPaused,E.duration?E.t<1&&(E.startTime=M1()-E.duration*E.t,E.timeId=Ef(E.tick)):E.frame<E.frames&&(E.timeId=Ef(E.tick,r$,r$,E.interval)))},E.pause=function(){bf(E.timeId,!E.duration),E._isPaused=!0},E.isPaused=function(){return this._isPaused},E.stop=function(p){E.isRunning()&&(bf(E.timeId,!E.duration),delete E.timeId,E.duration?E.t<1&&p&&(E.t=1,E.action(E.easing(1),1)):E.frame<E.frames&&p&&(E.frame=E.frames,E.action(E.easing(1),1)),E._37o&&E._37o(),E.finishFunc&&E.finishFunc())},E.isRunning=function(){return E.timeId!=r$},E.delay?Ef(zO,r$,[E],E.delay):zO(E),E},getTextSize:(Ok={},zk=n?kW().getContext("2d"):r$,function(p,E){return zk.font=p||aq,(p=Ok[zk.font])||(p=2*zk.measureText("e").width+4,Ok[zk.font]=p),{width:zk.measureText(E).width+H$.textExtraWidth,height:p}}),drawText:function(p,E,b,Z,o,A,l,V,c,S,I){var D,B;E!=r$&&(D=Sf(b,E),(B={}).y=S&&S!==Fl?S===Kl?A+D.height/2:A+V-D.height/2:A+V/2,B.x=c&&c!==Yl?c===tl?o+l-D.width/2:o+l/2:o+D.width/2,HW(p,E,B,b,Z),I&&tW(p,E,b,Z,B.x,B.y,D.width,I))},getDistance:function(p,E){var b=p.length;return E?3===b?v$(ol(p[0]-E[0])+ol(p[1]-E[1])+ol(p[2]-E[2])):2===b?v$(ol(p[0]-E[0])+ol(p[1]-E[1])):p.z===K$?v$(ol(E.x-p.x)+ol(E.y-p.y)):v$(ol(E.x-p.x)+ol(E.y-p.y)+ol(E.z-p.z)):3===b?v$(ol(p[0])+ol(p[1])+ol(p[2])):2===b?v$(ol(p[0])+ol(p[1])):void 0},brighter:function(p,E){return H6(p,(E=E<0?-E:E)||40)},darker:function(p,E){return H6(p,(E=0<E?-E:E)||-40)},traverse:(Nk={},function(p,E,b,Z){var o,c;(o=(o=Nk[Z=Z||""])?o:Nk[Z]=(c=Z,function p(E,b,Z,o){var A;if(Z&&Z(E,b),A=(A=""===c?E.getChildren():E[c])instanceof u.List?A.getArray():A)for(var l=0,V=A.length;l<V;l++)p(A[l],E,Z,o);o&&o(E,b)}))(p,null,E,b)}),unionPoint:function(p,E){if(!p)return r$;if(2===arguments.length)return p&&E?{x:Z$(p.x,E.x),y:Z$(p.y,E.y),width:a(p.x-E.x),height:a(p.y-E.y)}:r$;var b=p;if((b=b._as||b).length===K$)return r$;var Z=b.length;if(Z<=0)return r$;for(var o=1,A={x:(l=b[0]).x,y:l.y,width:0,height:0};o<Z;o++){var l=b[o],V=Z$(A.x,l.x),c=b$(A.x+A.width,l.x),S=Z$(A.y,l.y),I=b$(A.y+A.height,l.y);A.x=V,A.y=S,A.width=c-V,A.height=I-S}return A},unionRect:function(p,E){return p&&!E?p$(p):!p&&E?p$(E):p&&E?((b={x:Z$(p.x,E.x),y:Z$(p.y,E.y)}).width=b$(p.x+p.width,E.x+E.width)-b.x,b.height=b$(p.y+p.height,E.y+E.height)-b.y,b):r$;var b},containsPoint:function(p,E,b,Z){var o,A,l,V;return Z!=r$&&1!==Z&&(o=p.x+p.width/2,A=p.y+p.height/2,p={x:o-p.width/2*Z,y:A-p.height/2*Z,width:p.width*Z,height:p.height*Z}),b?(o=p.width/2,A=p.height/2,Z=k$(-b),b=M$(-b),l=E.x-p.x-o,V=E.y-p.y-A,Kf({x:-o,y:-A,width:p.width,height:p.height},E={x:b*l-Z*V,y:Z*l+b*V})):!(!p||E.x<p.x||E.y<p.y||E.x>p.x+p.width||E.y>p.y+p.height)},containsRect:function(p,E){if(!p||!E)return!1;var b=E.x,Z=E.y,o=E.width,E=E.height,A=p.width,l=p.height;if((A|l|o|E)<0)return!1;var V=p.x,p=p.y;if(b<V||Z<p)return!1;if(A+=V,(o+=b)<=b){if(V<=A||A<o)return!1}else if(V<=A&&A<o)return!1;if(l+=p,(E+=Z)<=Z){if(p<=l||l<E)return!1}else if(p<=l&&l<E)return!1;return!0},intersectsRect:function(p,E){if(!p||!E)return!1;var b=E.width,Z=E.height,o=p.width,A=p.height;if(o<=0||A<=0||b<=0||Z<=0)return!1;var l=E.x,E=E.y,V=p.x;return A+=p=p.y,b+=l,Z+=E,l<(o+=V)&&E<A&&V<b&&p<Z},intersection:function(p,E){if(!p||!E)return r$;var b=E.x,Z=E.y,o=p.x,A=p.y,l=b,V=Z,c=o,S=A;return l+=E.width,V+=E.height,(c+=p.width)<l&&(l=c),(S+=p.height)<V&&(V=S),V-=Z=Z<A?A:Z,(l-=b=b<o?o:b)<=0||V<=0?r$:{x:b,y:Z,width:l,height:V}},grow:function(p,E,b){b===K$&&(b=E),p.x-=E,p.y-=b,p.width=p.width+2*E,p.height=p.height+2*b},getScreenPoint:function(p,E,b,Z,o,A,l){var V=b.getBoundingClientRect(),p=p*(A||1)-b.scrollLeft+(Z||0),A=E*(l||1)-b.scrollTop+(o||0);return(Z=R6(b,!1))?((E=new G$(p,A,0)).applyMatrix4(Z),{x:E.x,y:E.y}):{x:p+V.left,y:A+V.top}},getLogicalPoint:function(p,E,b,Z,o,A){var l,V=E.getBoundingClientRect(),c=p.target?(Wf(p)?nl?fa[91]=!0:fa[17]=!0:nl?fa[91]=!1:fa[17]=!1,jf(p)?fa[16]=!0:fa[16]=!1,l=(p=NW(p)?UW(p):p).clientX,p.clientY):(l=p.x,p.y),S=R6(E,!0);if(S){var I=new G$(l,c,0);I.applyMatrix4(S);do{if(Math.abs(I.z)<=1e-6)break;var D=new G$(l,c,1);if(D.applyMatrix4(S),Math.abs(D.z)<=1e-6){I=D;break}}while(D.sub(I),!(Math.abs(D.z)<=1e-6)&&(I.addScaledVector(D,-I.z/D.z),0));return{x:(I.x+E.scrollLeft-(b||0))/(o||1),y:(I.y+E.scrollTop-(Z||0))/(A||1)}}return{x:(l-V.left+E.scrollLeft-(b||0))/(o||1),y:(c-V.top+E.scrollTop-(Z||0))/(A||1)}},removeHTML:function(p){return!(!(p=p&&p.getView?p.getView():p)||!p.parentNode||(Uk!==p&&((Uk=p).parentNode.removeChild(p),Uk=r$),0))},getToolTipDiv:function(){var p;return ya||(ya=nW(),aa=nW(),p=ya.style,H$.baseZIndex!=r$&&(p.zIndex=El(H$.baseZIndex)+3+""),p.whiteSpace="nowrap",p.color=H$.toolTipLabelColor,p.background=H$.toolTipBackground,p.font=H$.toolTipLabelFont,p.padding="5px",p.boxShadow="0px 0px 3px "+H$.toolTipShadowColor),ya},isToolTipShowing:function(){return!(!ya||!ya.parentNode)||!(!aa||!aa.parentNode)},updateToolTipContent:function(p,E){H$.isToolTipShowing()&&(E=E||da&&da.view,(p=p===K$&&E&&da.e?E.getToolTip(da.e):p)!=r$&&((p.html?(p=p.html,aa):ya).innerHTML=p))},hideToolTip:function(){var p;Na(),H$.isToolTipShowing()&&(Lf(ya),Lf(aa),(p=da&&da.view)&&p.onHideToolTip&&p.onHideToolTip(),da=r$)},showToolTip:function(p,E,b){var Z,o,A,l,V,c;p&&E!=r$?(H$.getToolTipDiv(),E.html?(E=E.html,Z=aa,Lf(ya)):(Z=ya,Lf(aa)),o=Z.style,Z.innerHTML="",E instanceof HTMLElement?Z.appendChild(E):Z.innerHTML=E,Z.parentNode||u.Default.appendToScreen(Z),p.target?(p=ef(p),E=Ff(),A=p.x,l=p.y,V=kl?60:12,kl?(c=Z.getBoundingClientRect(),o.left=A-c.width/2+Ll,l-c.height-V<E.top?o.top=l+V+Ll:o.top=l-c.height-V+Ll):(o.left=A+V+Ll,o.top=l+V+Ll,(c=Z.getBoundingClientRect()).left+c.width>E.width&&(o.left=A-V-c.width+Ll),c.top+c.height>E.height&&(o.top=l-V-c.height+Ll),c.left<0&&(o.left=A+V+Ll),c.top<0&&(o.top=l+V+Ll))):(o.left=p.x+Ll,o.top=p.y+Ll),Na(),b===K$?b=da&&da.view:da={e:p,view:b},b&&b.onShowToolTip&&b.onShowToolTip()):xq()},startDragging:function(p,E,b){b==K$&&(b=!0),p!==zW&&(zW?b&&(NW(E)?zW.handleWindowTouchEnd(E):zW.handleWindowMouseUp(E)):NW(E)?(U$(h,Ma,_W),U$(h,Fa,vW),U$(h,"blur",vW)):(U$(h,ta,QW),U$(h,Ka,qW),U$(h,"blur",qW)),zW=p)},getImageMap:function(){return ua},toBoundaries:function(p,E,b,Z){var o=[];return K6(p,E,b,Z).forEach(function(p){var E=[];p.forEach(function(p){E.push(p.x,p.y)}),o.push(E)}),o},getCurrentKeyCodeMap:function(){return fa},drawCenterImage:function(p,E,b,Z,o,A,l,V,c){!o&&A&&A.isSelfViewEvent&&(o=A);var S=tm(E,o,A),I=Km(E,o,A);rm(p,E,O$(b-S/2),O$(Z-I/2),S,I,o,A,l,V,c)},drawStretchImage:function(p,E,b,Z,o,A,l,V,c,S,I,D,B){!V&&c&&c.isSelfViewEvent&&(V=c);var n,k=tm(E,V,c,A),j=Km(E,V,c,l);"uniform"===b?(j*=n=Z$(A/k,l/j),Z+=O$((A-(k*=n))/2),o+=O$((l-j)/2),A=k,l=j):"centerUniform"===b?((A<k||l<j)&&(k*=n=Z$(A/k,l/j),j*=n),Z+=O$((A-k)/2),o+=O$((l-j)/2),A=k,l=j):"cover"===b&&(j*=n=k/A<j/l?A/k:l/j,Z+=O$((A-(k*=n))/2),o+=O$((l-j)/2),A=k,l=j),"center"===b?((n=!1!==I&&(A<k||l<j))&&(p.save(),p.beginPath(),p.rect(Z,o,A,l),p.clip()),rm(p,E,Z+A/2-k/2,o+l/2-j/2,k,j,V,c,S,D,B),n&&p.restore()):rm(p,E,Z,o,A,l,V,c,S,D,B)},toCanvas:function(p,E,b,Z,o,A,l,V,c,S){p=Q(p,l),E=E||tm(p,o),b=b||Km(p,o);var I=kW(),D=TW(I);return V?X$(V)?(I.width=_$(E*V[0]),I.height=_$(b*V[1]),I.style.width=E+"px",I.style.height=b+"px",D.scale(V[0],V[1])):(mW(I,E,b,V),D.scale(V,V)):mW(I,E,b,1),fq(D,p,Z,0,0,E,b,o,A,l,K$,c,S),p&&p.clampToEdge&&(I.clampToEdge=p.clampToEdge),D.restore(),I},toGrayColor:function(p){if(!p)return p;var p=af(p),E=O$(.299*p[0]+.587*p[1]+.114*p[2]);return"rgba("+E+","+E+","+E+","+p[3]/255+")"},createGradientImage:function(p,E,b,Z){for(var o=["L",0,0,p,0,1,0,0,1,0,0],A=0,l=Math.min(E.length,b.length);A<l;A++)o.push(b[A],E[A]);return u.Default.toCanvas({width:p,height:p,clampToEdge:!0,comps:[{type:"shape",rotation:Z||0,points:[0,0,p,0,p,p,0,p],background:"#ffffff",gradientPack:o}]})},createElement:function(p,E,b,Z){return p=n.createElement(p),jW(p,E||s.widgetBorder,2),p.style.font=b||aq,Z!=r$&&(p.value=Z),H$.onElementCreated&&H$.onElementCreated(p),p},containedInView:function(p,E){return E=JW(E).getBoundingClientRect(),Kf({x:E.left,y:E.top,width:E.width,height:E.height},mf(p))},isIsolating:function(){return 0<za},setIsolating:function(p){p?za++:za--},getMSMap:function(){return Mq},stringify:function(Z,o,p){var E=Date.prototype.toJSON,b=(Date.prototype.toJSON=function(){return"__ht__date"+this.getTime()},wm.prototype.toJSON),A=(wm.prototype.toJSON=function(){return"__ht__dataModel"+this.serialize(0)},o=p?0:o==r$?2:o,JSON.stringify(Z,function(p,E){if("function"==typeof E)return"__ht__"+(E.__ht__||E.toString());if(C1(E))return(b=E)==r$||H$.numberDigits==r$?b:parseFloat(b.toFixed(H$.numberDigits));if(pj(E))return null;if(E instanceof u.List)return"__ht__list"+(E.__ht__list||H$.stringify(E._as));if(ArrayBuffer.isView(E))return"__ht__typedArray"+E.constructor.name+":"+JSON.stringify(Array.from(E),o);if("states"===p&&(b=dh(E,Z))){var b,p=H$.stringify(E,o);if(H$.stringify(b={__states:b},o).length<p.length)return b}return E},o));return Date.prototype.toJSON=E,wm.prototype.toJSON=b,p?La+function(p){for(var E=8+f.randomInt(8),b=yB[8*f.randomInt(8)+(E-8)],Z="",o=0;o<E;o++)Z+=yB[f.randomInt(64)];var A=L6(Z+o$+zx+sx);return b+Z+aB(p,A)}(A):A},parse:function(p,c){return F$(p)&&(p.substr(0,12)==La&&(p=function(p){var E=p[0];if((E=yB.indexOf(E))<0)return"";var b=p.slice(1,1+(E=8+(7&E))),b=L6(b+o$+zx+sx);return JB(p,b,1+E)}(p.substr(12)),!F$(p))||(c=c||{},p=JSON.parse(p,function(p,E){if(F$(E)&&"__ht__"==E.substr(0,6)){var b=E;if((o=c).ignoreFunction||"function"!=b.substr(6,8)){if(!o.ignoreDate&&"date"==b.substr(6,4))return new Date(El(b.substr(10)));if("list"===b.substr(6,4))return new q(H$.parse(b.substr(10)));if(!o.ignoreDataModel&&"dataModel"===b.substr(6,9))return(Z=new wm).deserialize(H$.parse(b.substr(15)),r$,{setId:o.setId}),Z;if("typedArray"===b.substr(6,10))return o=b.indexOf(":"),Z=b.substring(16,o),new h[Z](JSON.parse(b.substr(o+1)));if("ref_function"===b.substr(6,12))return H$.globalFuncMap[b.substring(18)]}else{var Z=b.indexOf("{")+1,o=b.lastIndexOf("}"),A=b.indexOf("(")+1,l=b.indexOf(")");if(Z&&o&&A&&l)try{var V=new Function(b.substring(A,l),b.substring(Z,o));return V.__ht__=b.substr(6),V}catch(p){throw console.info("=== SyntaxError ===\n",b),p}}return b}return OO(E),E}),OO(p))),p},loadJS:function(p,E){E&&p.push(E);var b,E=p.shift();X$(E)?(p=E.contact(p),H$.loadJS(p)):y1(E)?(E(),H$.loadJS(p)):F$(E)?((b=n.createElement("script")).onload=function(){H$.loadJS(p)},b.setAttribute("src",E),n.getElementsByTagName("head")[0].appendChild(b)):p.length&&H$.loadJS(p)},extendClass:function(p,E){var b,Z=p.prototype;for(b in E)Mq[b]&&Mq.hasOwnProperty(b)?Mq[b](Z,E):Z[b]=E[b]},toRoundedCorner:(yk=new G$,ak=new G$,Jk=new G$,dk=new G$,function(p,E){var b,Z=0,o=(p.getPoints&&(Z=p.getElevation(),p=p.getPoints()),(b=p instanceof q?p:new q(p)).size());if(E<=0)return{points:b};var A=new q,l=new q,V=b.get(0);NO(yk,V,Z),A.add(V),l.add(1);for(var c,S,I=1;I<o;I++)I+1<o?(c=b.get(I),S=b.get(I+1),NO(ak,c,Z),NO(Jk,S,Z),dk.subVectors(yk,ak).setLength(Math.min(.99*dk.length(),E)).add(ak),c.e!==K$||V.e!==K$?A.add({x:dk.x,y:dk.z,e:dk.y}):A.add({x:dk.x,y:dk.z}),A.add(c),dk.subVectors(Jk,ak).setLength(Math.min(.99*dk.length(),E)).add(ak),c.e!==K$||S.e!==K$?A.add(V={x:dk.x,y:dk.z,e:dk.y}):A.add(V={x:dk.x,y:dk.z}),yk.copy(dk),l.addAll([2,3])):(A.add(b.get(I)),l.add(2));return{points:A,segments:l}}),setCanvas:mW,createDiv:nW,createDisabledDiv:GW,createView:BW,createCanvas:kW,appendChild:eW,initContext:TW,checkLoadingImage:t1,translateAndScale:gW,layout:dW,getPosition:i6,drawPoints:t6,drawRoundRect:C6,drawBorder:h6,setFocus:aW,getter:L1,setter:x1,isEmptyObject:s1,cameraPriority:(Pk={skybox:0,main:1e4,top:1e7,infinity:1/0},t$.seal(t$.defineProperties({},{skybox:{configurable:!1,enumerable:!1,get:function(){return Pk.skybox},set:function(p){if(p>=Pk.main)throw new RangeError("Skybox camera must have lower priority than the main camera.");Pk.skybox=Number(p)}},main:{configurable:!1,enumerable:!1,get:function(){return Pk.main},set:function(p){if(p<=Pk.skybox)throw new RangeError("Main camera must have higher priority than the skybox camera.");if(p>=Pk.top)throw new RangeError("Main camera must have lower priority than the top camera.");Pk.main=Number(p)}},top:{configurable:!1,enumerable:!1,get:function(){return Pk.top},set:function(p){if(p<=Pk.main)throw new RangeError("Top camera must have higher priority than the main camera.");Pk.top=Number(p)}},infinity:{get:function(){return Pk.infinity},set:function(p){throw new RangeError("Infinity camera cannot be changed.")}}}))),addFontFace:(xk={ttf:"truetype",otf:"opentype",eot:"embedded-opentype"},hk={eot:0,woff2:1,woff:2,ttf:3,otf:4},Ck=n&&n.fonts&&n.fonts.load?function(p,E,b){n.fonts.load("12px "+p,"").then(function(){b&&b(E)})}:function(p,E,b){b&&b(E)},function(p,E,b,Z){if(p){var o;if(Z&&H$.removeFontFace(p,!0),Z=Ra[p])return Z.parentNode||n.head.appendChild(Z),void Ck(p,Z,b);0!==(E=(E=F$(E)?[E]:E).filter(function(p){return!!F$(p)&&0<p.length})).length&&(E=E.map(dO),o="",E.sort(UO).forEach(function(p){o+=", "+p.url}),o=o.substr(2),(Z=n.createElement("style")).innerText='@font-face{font-family: "'+p+'";src: '+o+";font-display: auto;}",n.head.appendChild(Z),Ra[p]=Z,Ck(p,Z,b))}}),clearFontFace:function(){if(!s1(Ra)){for(var p in Ra)H$.removeFontFace(p);Ra={}}},removeFontFace:function(p,E){if(p){var b=p;if(b.tagName){if(Lf(b),E){var Z,o=[];for(Z in Ra)Ra[Z]===b&&o.push(Z);if(0<o.length)for(var A=0,l=o.length;A<l;A++)delete Ra[o[A]]}}else(b=Ra[p])&&(Lf(b),E&&delete Ra[p])}},getFontFaceMap:function(){return Ra},handleFontFacesLoaded:function(p){},toColorData:function(){var Z,p,o={};for(p in h){var E=ml.length;if(p.length==E&&p[0]===ml[2]&&p[1]===gl[1]&&p[4]===ml[3]&&p[5]===ml[4]&&p.substr(E-2)===gl[1]+gl[2]){var b,A=h[p];for(b in A)b.length===E&&b.substr(0,3)===tl[3]+Nl[3]+$x[0]&&b.substr(E-2)===ml[0]+bx[3]&&(Ta=A[b])}}return function(p){var E,b=o[p];return b||(Z||(Z=kW(),mW(Z,1,1,1)),(E=Z.getContext("2d",{willReadFrequently:!0})).clearRect(0,0,1,1),M6(E,0,0,1,1,p),b=E.getImageData(0,0,1,1).data,b=o[p]=[b[0],b[1],b[2],b[3]]),b}}(),convertColor:r$,getGradientOffset:(Hk={},Mk=/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})(?:\s*,\s*(\d*\.?\d+|\d+\.?\d*))?\s*\)/i,Fk=[],Xk=[],Gk=[],Tk=[],gk=[],Lk=[],function(p,E,b){var Z=hO(p),o=hO(E);if(Z||o){gk.length=0,Lk.length=0,Z?o?(A=aO(p),JO(gk,0,p),l=aO(E),JO(Lk,0,E)):(A=l=aO(p),JO(Lk,0,p,0,A),Lk.push(0,E,1,E),JO(gk,0,p)):(A=l=aO(E),JO(gk,0,E,0,l),gk.push(0,p,1,p),JO(Lk,0,E)),Gk.length=0,JO(Gk,0,gk,A,gk.length-A),Tk.length=0,JO(Tk,0,Lk,l,Lk.length-l);var A,l,V,c=Gk,S=Tk;if(0!=(k=S.length-c.length))for(var I,D=0<k?c:S,B=D[(I=D.length)-1],n=D[I-2],k=.5*Math.abs(k);k--;)k%2==0?D.unshift(D[0],D[1]):D.push(n,B);for(V=0,I=S.length;V<I;V+=2){var j=c[V],W=S[V];S[V]=f.clamp(j+(W-j)*b,0,1),S[V+1]=yO(c[V+1],S[V+1],b)}if(JO(Xk,0,Lk,1,l-1),gk[0]===Lk[0])for(JO(Fk,0,gk,1,A-1),V=0,I=Fk.length;V<I;V++)Xk[V]=Fk[V]+(Xk[V]-Fk[V])*b;return Lk.length=1,JO(Lk,1,Xk),JO(Lk,l,S),Lk.slice(0)}return yO(p,E,b)})},!0),n&&n.fonts&&n.fonts.addEventListener&&n.fonts.addEventListener("loadingdone",function(p){H$.handleFontFacesLoaded(p.fontfaces),H$.findView("all").forEach(function(p){p.redraw?p.redraw():p.iv()})}),E(w,{autoAdjustIndex:1,hierarchicalRendering:1,adjustChildrenToTop:1,autoHideScrollBar:1,autoUpdate:1,firstPersonMode:1,ortho:1,strict:1,stickToRight:1,instant:1,closePath:1,hierarchical:1,doubleClickToToggle:1,continuousLayout:1,syncSize:1,flowAlphaDiscard:1},!0),H$.disabledOpacity),Gq=H$.toolTipDelay,Tq=H$.devicePixelRatio,oq=H$.autoMakeVisible,bl=H$.autoHideScrollBar,gq=H$.imageGradient,Lq=H$.showToolTip,xq=H$.hideToolTip,Cq=H$.dashPattern,hq=H$.lineCap,Pq=H$.lineJoin,yq=H$.labelColor,D3=H$.labelSelectColor,aq=H$.labelFont,Jq=H$.widgetIndent,B3=H$.widgetRowHeight,dq=H$.widgetHeaderHeight,Uq=H$.widgetTitleHeight,g=H$.scrollBarColor,Qa=H$.scrollBarSize,Nq=H$.scrollBarTimeout,Oq=H$.scrollBarMinLength,zq=H$.scrollBarInteractiveSize,_q=H$.zoomIncrement,vq=H$.scrollZoomIncrement,Qq=H$.pinchZoomIncrement,qq=H$.zoomMax,uq=H$.zoomMin,Rq=H$.createObject,sq=H$.preventDefault,k3=H$.setImage,Q=H$.getImage,wq=H$.isImageComplete,iq=H$.drawCenterImage,fq=H$.drawStretchImage,pf=H$.getId,Ef=H$.callLater,bf=H$.cancelLater,Zf=H$.sortFunc,p$=H$.clone,of=H$.getClass,Af=H$.startAnim,lf=H$.brighter,Vf=H$.darker,cf=H$.drawText,Sf=H$.getTextSize,If=H$.isLeftButton,Df=H$.isMiddleButton,Bf=H$.isRightButton,nf=H$.getTouchCount,kf=H$.isDoubleClick,jf=H$.isShiftDown,Wf=H$.isCtrlDown,mf=H$.getClientPoint,ef=H$.getPagePoint,$f=H$.getDistance,Yf=H$.unionPoint,tf=H$.unionRect,Kf=H$.containsPoint,rf=H$.containsRect,Hf=H$.intersectsRect,Mf=H$.intersection,Ff=H$.getWindowInfo,Xf=H$.grow,Gf=H$.getLogicalPoint,Tf=H$.getScreenPoint,gf=H$.startDragging,Lf=H$.removeHTML,xf=H$.createElement,Cf=H$.segmentResolution,hf=H$.shapeResolution,Pf=H$.shapeSide,yf=(H$.getGradientOffset,H$.def),af=H$.toColorData,Jf=function(p,E,b){yf("ht."+p,E,b)},df=(uk=!(qk=[]),E(H$,{registerHeartbeat:function(p,E,b){qk.push({callback:p,priority:E=E||0,onError:b}),qk.sort(function(p,E){return E.priority-p.priority}),uk||(uk=!0,Rk=Date.now(),requestAnimationFrame(vO))},unregisterHeartbeat:function(p){for(var E=0;E<qk.length;E++)if(qk[E].callback===p){qk.splice(E,1);break}}},!(Rk=0)),E(H$,{toolTipLabelColor:yq,toolTipLabelFont:aq,toolTipBackground:s.toolTipBackground,toolTipShadowColor:T,debugTipLabelFont:aq,debugTipLabelColor:yq,debugTipBackground:s.toolTipBackground,drawBreakableText:rW,setDevicePixelRatio:function(p){Tq=H$.devicePixelRatio="number"==typeof p?p:Fq(h),H$.traverse(n.body,function(p){(p=p._ht)&&p._canvas&&(mW(p._canvas,p.getWidth(),p.getHeight()),p.redraw?p.redraw():p.iv())},null,"childNodes")},getPosition3dGap:function(){return jj()}},!0),1e-6),Uf="undefined"!=typeof Uint16Array?Uint16Array:Array,Nf="undefined"!=typeof Uint32Array?Uint32Array:Uf,Of="undefined"!=typeof Float32Array?Float32Array:Array,zf="undefined"!=typeof Float32Array?[Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint16Array,Uint32Array]:null,_f=function(p,E,b){return p=[p[0]-E[0],p[1]-E[1],p[2]-E[2]],b&&0<(E=$f(p))&&(p[0]/=E,p[1]/=E,p[2]/=E),p},vf=function(){var p,E="charCodeAt",b=2*(2*xl.length+1);for(p in h)if(p===o$+Yl[0]+(Ll.length+2)){var Z=h[p];if(!Z)break;for(var o=Z.length,A=0;A<o;A++)if(Z[A][E](0)===b&&Z[A+1]!=r$&&Z[A+1]===Ll[0]&&Z[A+2]!=r$&&Z[A+2][E](0)===b){for(var l=A+3;l<o;l++)if(Z[l][E](0)===b){if(0==Z[l+1])for(var V,c=l+2;c<o;c++){if(Z[c][E](0)===b){0==Z[c-1]&&V&&(cl=V.substr(0,V.length-1));break}V==r$?V=Z[c]:V+=Z[c]}break}break}break}return function(p){return[-p[0],-p[1],-p[2]]}}(),Qf=function(p,E){return 3===p.length?p[0]*E[0]+p[1]*E[1]+p[2]*E[2]:p[0]*E[0]+p[1]*E[1]},qf=function(){var p=new Array(16);return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},uf=qf(),Rf=function(p){var E=new Array(16);return E[0]=p[0],E[1]=p[1],E[2]=p[2],E[3]=p[3],E[4]=p[4],E[5]=p[5],E[6]=p[6],E[7]=p[7],E[8]=p[8],E[9]=p[9],E[10]=p[10],E[11]=p[11],E[12]=p[12],E[13]=p[13],E[14]=p[14],E[15]=p[15],E},sf=function(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=1,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=1,p[11]=0,p[12]=0,p[13]=0,p[14]=0,p[15]=1,p},wf=function(p,E){var b=p[0],Z=p[1],o=p[2];return p[0]=E[0]*b+E[4]*Z+E[8]*o+E[12],p[1]=E[1]*b+E[5]*Z+E[9]*o+E[13],p[2]=E[2]*b+E[6]*Z+E[10]*o+E[14],p},ff=function(p,E){var b=p[0],Z=p[1],o=p[2],A=p[3];return p[0]=E[0]*b+E[4]*Z+E[8]*o+E[12]*A,p[1]=E[1]*b+E[5]*Z+E[9]*o+E[13]*A,p[2]=E[2]*b+E[6]*Z+E[10]*o+E[14]*A,p[3]=E[3]*b+E[7]*Z+E[11]*o+E[15]*A,p},pm=function(p,E,b){var Z,o;if("number"==typeof p?o=p:p&&(o=p.length,Z=!0),o)for(var A,l=0,V=0;l<o;l++)A=E?Z$(o-1,1==V?l+1:2==V?l-1:l):l,b(Z?p[A]:A),2<++V&&(V=0)},Em=(fk=q1(p[1]+p[7]),p9=q1(p[0]+p[3]-p[10]),E9=q1(p[8]+2),b9=function(){return wk=ik.charAt(sk),sk+=1,wk},Z9=function(){var p="";if(wk===E9)for(;b9();){if(wk===E9)return b9(),p;p+=wk}else b9()},o9=function(){for(;wk&&wk<=" ";)b9()},A9=function(){if(o9(),wk!==fk)return Z9();var p,E={};if(wk===fk){if(b9(),o9(),wk===p9)return b9(),E;for(;wk;){if(p=Z9(),o9(),b9(),E[p]=A9(),o9(),wk===p9)return b9(),E;b9(),o9()}}},function(p){if(V$={},p&&(ik=p,sk=0,wk=" ",p=A9(),o9(),!wk))return p}),bm=function(p,E){var b,Z,o,A,l,V,c,S,I;E&&(b=k$(E),E=M$(E),Z=p[4],o=p[5],A=p[6],l=p[7],V=p[8],c=p[9],S=p[10],I=p[11],p[4]=Z*E+V*b,p[5]=o*E+c*b,p[6]=A*E+S*b,p[7]=l*E+I*b,p[8]=V*E-Z*b,p[9]=c*E-o*b,p[10]=S*E-A*b,p[11]=I*E-l*b)},Zm=function(p,E){var b,Z,o,A,l,V,c,S,I;E&&(b=k$(E),E=M$(E),Z=p[0],o=p[1],A=p[2],l=p[3],V=p[8],c=p[9],S=p[10],I=p[11],p[0]=Z*E-V*b,p[1]=o*E-c*b,p[2]=A*E-S*b,p[3]=l*E-I*b,p[8]=Z*b+V*E,p[9]=o*b+c*E,p[10]=A*b+S*E,p[11]=l*b+I*E)},om=function(p,E){var b,Z,o,A,l,V,c,S,I;E&&(b=k$(E),E=M$(E),Z=p[0],o=p[1],A=p[2],l=p[3],V=p[4],c=p[5],S=p[6],I=p[7],p[0]=Z*E+V*b,p[1]=o*E+c*b,p[2]=A*E+S*b,p[3]=l*E+I*b,p[4]=V*E-Z*b,p[5]=c*E-o*b,p[6]=S*E-A*b,p[7]=I*E-l*b)},Am=function(p,E,b){return lm(r$,!1===b?r$:p.getFinalScale3d(),p.getFinalRotation3d(),p.getRotationMode(),p.p3(),r$,E)},lm=function(p,E,b,Z,o,A,l){return A=A||qf(),o&&Yj(A,o),FP(A,b,Z),l&&Kj(A,A,l),E&&tj(A,E),p&&Kj(A,A,p),A},Vm=function(p,E,b){E=El(E),b=El(b),this.g=p,this._84O=E,this._85O=b,this._70I=!0,this.F=0,this._83O=E+b,this.pen={x:0,y:0}},cm="lineDashOffset",Sm="setLineDash",Im=function(p,E,b){return w1(E)?p:p[Sm]?(p[Sm](E),b&&(p.lineDashOffset=b),p):new Vm(p,E[0],1<E.length?E[1]:E[0])},Dm=function(p,E){!w1(E)&&p[Sm]&&(p[Sm](I1),p.lineDashOffset=0)},Bm=(yf(Vm,t$,{_69I:6,moveTo:function(p,E){var b=this.pen;b.x=p,b.y=E,this.g.moveTo(p,E),this.start||(this.start={x:p,y:E})},lineTo:function(p,E){var b=this,Z=b.pen,o=p-Z.x,A=E-Z.y,A=i$(A,o),o=M$(A),A=k$(A),l=b._23O(Z.x,Z.y,p,E),V=b._85O,c=b._84O,S=b._83O;if(b.F){if(b.F>l)return b._70I?b._72I(p,E):b.moveTo(p,E),void(b.F-=l);if(b._70I?b._72I(Z.x+o*b.F,Z.y+A*b.F):b.moveTo(Z.x+o*b.F,Z.y+A*b.F),l-=b.F,b.F=0,b._70I=!b._70I,!l)return}var I=z$(l/S);if(I){for(var D=o*c,B=A*c,n=o*V,k=A*V,j=0;j<I;j++)b._70I?(b._72I(Z.x+D,Z.y+B),b.moveTo(Z.x+n,Z.y+k)):(b.moveTo(Z.x+n,Z.y+k),b._72I(Z.x+D,Z.y+B));l-=S*I}b._70I?c<l?(b._72I(Z.x+o*c,Z.y+A*c),b.moveTo(p,E),b.F=V-(l-c),b._70I=!1):(b._72I(p,E),l===c?(b.F=0,b._70I=!b._70I):(b.F=c-l,b.moveTo(p,E))):V<l?(b.moveTo(Z.x+o*V,Z.y+A*V),b._72I(p,E),b.F=c-(l-V),b._70I=!0):(b.moveTo(p,E),l===V?(b.F=0,b._70I=!b._70I):b.F=V-l)},quadraticCurveTo:function(p,E,b,Z){var o,A=this,l=(c=A.pen).x,V=c.y,c=A._22O(l,V,p,E,b,Z),S=0,I=0,D=A._85O,B=A._84O;if(A.F){if(A.F>c)return A._70I?A._71I(p,E,b,Z):A.moveTo(b,Z),void(A.F-=c);if(S=A.F/c,o=A._20O(l,V,p,E,b,Z,S),A._70I?A._71I(o[2],o[3],o[4],o[5]):A.moveTo(o[4],o[5]),A.F=0,A._70I=!A._70I,!c)return}var n,k=z$((c-c*S)/A._83O),j=B/c,W=D/c;if(k)for(var m=0;m<k;m++)A._70I?(o=A._21O(l,V,p,E,b,Z,S,I=S+j),A._71I(o[2],o[3],o[4],o[5]),S=I,o=A._21O(l,V,p,E,b,Z,S,I=S+W),A.moveTo(o[4],o[5])):(o=A._21O(l,V,p,E,b,Z,S,I=S+W),A.moveTo(o[4],o[5]),S=I,o=A._21O(l,V,p,E,b,Z,S,I=S+j),A._71I(o[2],o[3],o[4],o[5])),S=I;n=c-c*S,A._70I?B<n?(o=A._21O(l,V,p,E,b,Z,S,I=S+j),A._71I(o[2],o[3],o[4],o[5]),A.moveTo(b,Z),A.F=D-(n-B),A._70I=!1):(o=A._19O(l,V,p,E,b,Z,S),A._71I(o[2],o[3],o[4],o[5]),c===B?(A.F=0,A._70I=!A._70I):(A.F=B-n,A.moveTo(b,Z))):D<n?(o=A._21O(l,V,p,E,b,Z,S,I=S+W),A.moveTo(o[4],o[5]),o=A._19O(l,V,p,E,b,Z,I),A._71I(o[2],o[3],o[4],o[5]),A.F=B-(n-D),A._70I=!0):(A.moveTo(b,Z),n===D?(A.F=0,A._70I=!A._70I):A.F=D-n)},bezierCurveTo:function(){var p=arguments;this.pen={x:p[4],y:p[5]},this.g.bezierCurveTo(p[0],p[1],p[2],p[3],p[4],p[5])},arc:function(p,E,b,Z,o,A){A||(Z=-Z,o=-o);var l,V,c,S,I,D=p,B=E,A=Z,n=b,k=b,E=!1,j=-((p=a(p=o-Z)>2*R$?2*R$:p)/(l=_$(a(p)/(R$/4)))),W=-A;if(0<l){p=D+M$(A)*n,A=B+k$(-A)*k,E?this.lineTo(p,A):this.moveTo(p,A);for(var m=0;m<l;m++)I=(W+=j)-j/2,V=D+M$(W)*n,c=B+k$(W)*k,S=D+M$(I)*(n/M$(j/2)),I=B+k$(I)*(k/M$(j/2)),this.quadraticCurveTo(S,I,V,c)}},rect:function(p,E,b,Z){this.pen={x:p,y:E},this.moveTo(p,E),this.lineTo(p,E+Z),this.lineTo(p+b,E+Z),this.lineTo(p+b,E),this.lineTo(p,E)},beginPath:function(){this.g.beginPath()},closePath:function(){this.lineTo(this.start.x,this.start.y)},_23O:function(p,E,b,Z){return v$((b-=p)*b+(p=Z-E)*p)},_22O:function(p,E,b,Z,o,A,l){for(var V,c,S,I,D=0,B=p,n=E,k=0<l?l:this._69I,j=1;j<=k;j++)D+=this._23O(B,n,V=(c=(S=1-(I=j/k))*S)*p+(S*=2*I)*b+(I*=I)*o,c=c*E+S*Z+I*A),B=V,n=c;return D},_21O:function(p,E,b,Z,o,A,l,V){return 0===l?this._20O(p,E,b,Z,o,A,V):1===V?this._19O(p,E,b,Z,o,A,l):((p=this._20O(p,E,b,Z,o,A,V)).push(l/V),this._19O.apply(this,p))},_20O:function(p,E,b,Z,o,A,l){var V,c;return 1!==l&&(V=b+(o-b)*l,c=Z+(A-Z)*l,o=(b=p+(b-p)*l)+(V-b)*l,A=(Z=E+(Z-E)*l)+(c-Z)*l),[p,E,b,Z,o,A]},_19O:function(p,E,b,Z,o,A,l){var V;return 1!==l&&(p=(V=p+(b-p)*l)+((b+=(o-b)*l)-V)*l,E=(V=E+(Z-E)*l)+((Z+=(A-Z)*l)-V)*l),[p,E,b,Z,o,A]},_72I:function(p,E){var b=this.pen;p===b.x&&E===b.y||(b.x=p,b.y=E,this.g.lineTo(p,E))},_71I:function(p,E,b,Z){var o=this.pen;p===b&&E===Z&&b===o.x&&Z===o.y||(o.x=b,o.y=Z,this.g.quadraticCurveTo(p,E,b,Z))}}),Mq.ms_quickVisible=function(p,E){p._4BQ=!1,p._4CQ=function(p){var E=p._4EQ;return E!==K$?E:p._4EQ=this._4FQ(p)},p._4DQ=function(p){var E;p?(p._4EQ=K$,E=this,p instanceof gP||d1(p)||p instanceof aP||p.ISubGraph||p.s("visibleCascade")?p.eachChild(function(p){E.invalidateQuickVisible(p)}):p.getEdges&&(p=p.getEdges())&&p.each(function(p){E.invalidateQuickVisible(p)})):this.dm().each(function(p){p._4EQ=K$})},p.enableQuickVisibleMode=function(){return!this._4BQ&&!this._visibleFunc&&(this._4BQ=!0,this._4FQ=this.isVisible,this.isVisible=this._4CQ,this.invalidateQuickVisible=this._4DQ,!0)},p.disableQuickVisibleMode=function(){return!!this._4BQ&&(this._4BQ=!1,this.isVisible=this._4FQ,this.invalidateQuickVisible=n1,!0)},p.isQuickVisibleMode=function(){return this._4BQ},p.invalidateQuickVisible=n1},Mq.ms_renderEvents=function(E,p){var b=p.ms_renderEvents;b.forEach(function(p){E["on"+p]=n1}),E.initRenderEvents=function(){var E=this;b.forEach(function(p){function Z(p){if(o)for(var E=0;E<o.length;E++)if(o[E].listener===p)return E;return-1}var b,o,A;A="on"+(p=p),(b=E)["add"+p+"Listener"]=function(p,E){o=o||[];var b=Z(p);if(0<=b){if(o[b].priority===E)return!1;o[b].priority=E}else o.push({listener:p,priority:E||0});return o.sort(function(p,E){return E.priority-p.priority}),!0},b["remove"+p+"Listener"]=function(p){return!((p=Z(p))<0||(o.splice(p,1),o.length||(o=K$),0))},b["get"+p+"Listeners"]=function(){return o},b["emit"+p]=function(){if(o)for(var p=0,E=o.length;p<E;p++)o[p].listener.apply(b,arguments);this[A]()}})}},Mq.ms_interactorDamping=function(p,E){p.initDamping=function(){this._enableDamping=!1,this._dampingFactor=.1,this._rotateDelta={rx:0,ry:0},this._panDelta={dx:0,dy:0},this._scaleDelta=0,this._dampingAnimationId=null,this._lastUpdateTime=0,this._dampingThreshold=.001},p.enableDamping=function(){this._enableDamping=!0},p.disableDamping=function(){this._enableDamping=!1,this._stopDamping(),this._rotateDelta.rx=0,this._rotateDelta.ry=0,this._panDelta.dx=0,this._panDelta.dy=0,this._scaleDelta=0},p.isDampingEnabled=function(){return!!this._enableDamping},p.getDampingFactor=function(){return this._dampingFactor},p.setDampingFactor=function(p){this._dampingFactor=Math.max(.01,Math.min(1,p))},p._startDamping=function(){var Z=this;!Z._dampingAnimationId&&Z._enableDamping&&(Z._lastUpdateTime=performance.now(),Z._dampingAnimationId=requestAnimationFrame(function p(){var E=(b=performance.now())-Z._lastUpdateTime,b=(Z._lastUpdateTime=b,Z._updateDamping(E));Z._dampingAnimationId=b?requestAnimationFrame(p):null}))},p._stopDamping=function(){this._dampingAnimationId&&(cancelAnimationFrame(this._dampingAnimationId),this._dampingAnimationId=null)},p._updateDamping=function(p){var E,b,Z=this,o=Z.gv,A=!1,l=Z._dampingFactor,V=Z._dampingThreshold;return(Math.abs(Z._rotateDelta.rx)>V||Math.abs(Z._rotateDelta.ry)>V)&&o.isRotatable()&&(b=Z._rotateDelta.rx*l,E=Z._rotateDelta.ry*l,Z._handleRotate?Z._handleRotate(b,E):o.rotate(b,E),Z._rotateDelta.rx*=1-l,Z._rotateDelta.ry*=1-l,A=!0),(Math.abs(Z._panDelta.dx)>V||Math.abs(Z._panDelta.dy)>V)&&o.isPannable()&&(b=Z._panDelta.dx*l,E=Z._panDelta.dy*l,Z._handlePan?Z._handlePan(b,E):o.pan(b,E),Z._panDelta.dx*=1-l,Z._panDelta.dy*=1-l,A=!0),Math.abs(Z._scaleDelta)>V&&o.isZoomable()&&(b=Z._scaleDelta*l,Z._handleZoom?Z._handleZoom(b):(o._lastZoomLP=Z._scaleLogicalPoint,o.setZoom(1+b),o._lastZoomLP=null),Z._scaleDelta*=1-l,A=!0),A}},p=f$()+1,pl&&h.console,Yq("compType",{pattern:Z1}),H$.checkLoadingCompType=function(p){Wq(p,"compType")},s.chart),nm="",km=!0,jm=H$.compStack=[],Wm=/^style@/,mm=/^attr@/,em=/^field@/,$m={x:.5,y:.5},Ym=function(p,E,b){return!!p&&((Z=b&&b.isImageFitSize?b.isImageFitSize(E,p):Z)==r$?O(p.fitSize,E,b):Z);var Z},tm=function(p,E,b,Z){return p?!(Ym(p,E,b)&&Z||null!=(Z=O(p.width,E,b)))?20:Z:0},Km=function(p,E,b,Z){return p?!(Ym(p,E,b)&&Z||null!=(Z=O(p.height,E,b)))?20:Z:0},O=function(p,E,b){if(!p||!p.func)return p;var Z=p.func,o=p.value,p=y1(Z)?b&&b.vectorDataBindingDisabled&&!p.isSafeFunc?o:Z(E,b):E instanceof sm||E&&E.getInteractorClasses&&E.initView?mm.test(Z)?E.a(nm+Z.slice(5)):Wm.test(Z)?E.s(nm+Z.slice(6)):em.test(Z)?E[Z.slice(6)]:E[Z]?E[Z](b):o:o;return o!==K$&&p==r$?o:p},rm=H$.drawImage=(B9=function(){if((V9 instanceof X_||V9 instanceof Kn)&&l9&&l9.dm){var p=V9.dm();if(p instanceof wm&&p!==l9.dm())return l9}return K$},_=function(p,E,b){var Z,o,A=!1;return p.prefix&&l9 instanceof sm&&(o=l9.a(nm+E))!==K$&&(A=!0,Z=o),Z===K$&&(D9&&(o=D9[p.id])&&(Z=o[E])!==K$?A=!0:Z=p[E]),Z&&Z.func&&(A=!0,Z=O(Z,l9,V9)),b&&(Z=b(Z),A||(p[E]=Z)),Z},n9=function(p,E,b){var Z,o=E?_(p,E):p;return H$.convertColor&&(Z={data:l9,view:V9},E&&(Z.comp=p,Z.name=E),b&&t$.assign(Z,b),o=H$.convertColor(o,Z),S9&&z.convertBlend&&(S9=H$.convertColor(S9,Z))),z&&z.compGray&&o?H$.toGrayColor(o):S9&&o?j6(o,S9,I9):o},k9=function(p){var E=_(p,"anchorX"),b=_(p,"anchorY");return E!==K$||b!==K$?{x:E===K$?$m.x:E,y:b===K$?$m.y:b}:(E=_(p,"type"),b=_(p,"name"),"image"===E&&b&&(p=Q(b))&&p.anchorX!==K$&&p.anchorY!==K$?{x:p.anchorX,y:p.anchorY}:$m)},j9=function(p,E){p.compInfos.push(E),p._parentCompInfo=E},W9={border:function(p,E){h6(z,n9(p,na),E.x,E.y,E.width,E.height,_(p,"width"))},image:function(p,E){var b,Z,o,A,l,V=S9||_(p,na),c=I9||_(p,"blendMode"),S=_(p,"name"),S=Q(S,V,c),I=_(p,"imageState");!S||S.cacheRule==r$||I&&"string"!=typeof I||(o=z.getTransform(),b=V9._zoom,A=o.a,l=o.b,Z=o.c,o=o.d,A=Math.sqrt(A*A+l*l)/b,l=Math.sqrt(Z*Z+o*o)/b,S=xY(z,S,_(p,"stretch"),E.width,A,E.height,l,l9,V9,V,I)),S?fq(z,S,_(p,"stretch"),E.x,E.y,E.width,E.height,l9,V9,V,null,c,I):km=!1},text:function(p,V){var E,c,b,S,Z,I,D,B,n,k,j,W,m,e,$,Y,o,t,A,l,K=_(p,"text"),r=_(p,"background"),H=_(p,"outlineColor"),M=_(p,"outlineWidth"),F=_(p,"cornerRadius");(r||M&&H)&&(l=V.x,E=V.y,b=V.width,Z=V.height,z.beginPath(),C6(z,l,E,b,Z,F||0),r&&(z.fillStyle=$6(z,r,qO,!1,V,r$,uO(p,"background")),z.fill(),z.restore()),M&&H&&(z.lineWidth=M,z.strokeStyle=$6(z,H,qO,!0,V,r$,uO(p,"outlineColor")),z.stroke(),z.restore())),K!=r$&&(K+="",l=_(p,"gradientPack"),E=_(p,"gradient"),c=_(p,"font"),b=_(p,"vertical"),S=_(p,"verticalGap")||0,Z=_(p,"align"),I=_(p,"vAlign"),D=_(p,"decoration"),B=_(p,"letterGap")||0,F=_(p,"wrap"),n=_(p,"borderWidth"),k=_(p,"borderColor"),j=Sf(c,K),l?(W=$6(z,l,qO,!1,V,r$,uO(p,"gradientPack")),z.restore()):W=n9(p,na),!l&&E&&(r=n9(p,"gradientColor"),W=H$.createGradient(z,E,W||H$.labelColor,r||s.imageGradient,V.x,V.y,V.width,V.height)),n&&X$(k)&&(k=$6(z,k,qO,!1,V,r$,uO(p,"borderColor")),z.restore()),b?(null==S&&(S=1),m=[],e=[],A=F?YW(K,V.height,c,B,b,S):[K],z.textBaseline=Kl,z.font=c,A.forEach(function(p){for(var E=p.length,b=0,Z=(E-1)*S,o=0;o<E;o++){var A=z.measureText(p[o]);m.push(A),Z+=A.fontBoundingBoxDescent||j.height,b=b$(b,A.width)}e.push({width:b,height:Z})}),o=(A.length-1)*B,e.forEach(function(p){o+=p.width}),$=Z&&Z!==Yl?Z===tl?V.x+V.width-o:V.x+(V.width-o)/2:V.x,t=0,A.forEach(function(p,E){var b=e[E],Z=p.length;Y=I&&I!==Fl?I===Kl?V.y:V.y+V.height-b.height:V.y+(V.height-b.height)/2;for(var o=0;o<Z;o++){var A=p[o],l=m[t].fontBoundingBoxDescent||j.height;KW(z,A,c,W,{x:$,y:Y,width:b.width,height:l},Hl,I,D,B,n,k),Y+=l+S,t++}$+=b.width+B})):1<(M=(A=F?YW(K,V.width,c,B,b,S):K.split("\n")).length)?(H=M*Sf(c,K).height+S*(M-1),l=p$(V),I&&I!==Fl?I===rl&&(l.y=V.y+V.height-H):l.y=V.y+(V.height-H)/2,l.height=H,rW(z,A,l,c,W,Z||Yl,D,B,n,k)):KW(z,K,c,W,V,Z,I,D,B,n,k))},pieChart:function(p,E){var b=_(p,wl),Z=0;if(b&&(b.forEach(function(p){Z+=p}),0<Z)){for(var o=_(p,"colors")||Bm,A=_(p,"startAngle")||0,l=_(p,"hollow"),V=_(p,px),c=_(p,Ax),S=_(p,lx),I=V?new q:r$,p=E.x,D=E.y,B=E.width,n=p+B/2,k=D+(E=E.height)/2,j=Z$(B,E)/2,W=0,m=0;m<b.length;m++){var e,$,Y,t,K=b[m],r=A+j$*K/Z;z.fillStyle=o[W++],W===o.length&&(W=0),z.beginPath(),l?(e=n+M$(A)*j/2,$=k+k$(A)*j/2,Y=n+M$(r)*j,t=k+k$(r)*j,z.moveTo(e,$),z.arc(n,k,j/2,A,r,!1),z.lineTo(Y,t)):z.moveTo(n,k),z.arc(n,k,j,r,A,!0),I&&(e=(A+r)/2,I.add({text:y1(V)?V(K,m,Z,l9):K,x:n+M$(e)*j*.75,y:k+k$(e)*j*.75})),z.closePath(),z.fill(),A=r}I&&I.each(function(p){cf(z,p.text,c,S,p.x,p.y,0,0,Hl)})}},columnChart:function(p,E){var b=_(p,il);if(b&&0<b.length){var Z=b.length,o=_(p,px),A=_(p,Ax),l=_(p,lx),V=o?new q:r$,c=_(p,"minValue")||0,S=_(p,"maxValue");if(S==r$&&(S=0,b.forEach(function(p){_(p,wl).forEach(function(p){S=b$(S,p)})})),c!==S){for(var I=E.height/(S-c),D=E.y+S*I,B=_(b[0],wl).length,n=E.width/(3*B+1),k=2*n/Z,j=0,W=0;W<Z;W++)for(var m=b[W],e=_(m,na),$=_(m,"colors"),Y=_(m,wl),t=0;t<B;t++){$?z.fillStyle=$[t]:e?z.fillStyle=e:(z.fillStyle=Bm[j++],j===Bm.length&&(j=0));var K,r=Y[t],H=r*I,M=E.x+(1+3*t)*n+W*k;M6(z,M,D-H,k,H),V&&(r=y1(o)?o(r,t,m,l9):r,K=Sf(A,r).height,V.add({x:M,y:D-H-K,width:k,height:K,text:r}))}V&&V.each(function(p){cf(z,p.text,A,l,p.x,p.y,p.width,p.height,Hl)})}}},stackedColumnChart:function(p,E){var b=_(p,il);if(b&&0<b.length){var Z=b.length,o=_(b[0],wl).length,A=E.width/(3*o+1),l=0,V=_(p,"maxValue"),c=_(p,px),S=_(p,Ax),I=_(p,lx),D=c?new q:r$;if(V==r$)for(var V=0,B=0;B<o;B++){for(var n=0,k=0;k<Z;k++)n+=_(b[k],wl)[B];V=b$(V,n)}if(0<V){for(B=0;B<o;B++)for(var j=E.y+E.height,k=0;k<Z;k++){var W=b[k],m=_(W,na),e=_(W,wl)[B],$=e/V*E.height,m=(m?z.fillStyle=m:(z.fillStyle=Bm[l++],l===Bm.length&&(l=0)),j-=$,{x:E.x+(1+3*B)*A,y:j,width:2*A,height:$});M6(z,m.x,m.y,m.width,m.height),D&&(m.text=y1(c)?c(e,B,W,l9):e,D.add(m))}D&&D.each(function(p){cf(z,p.text,S,I,p.x,p.y,p.width,p.height,Hl)})}}},percentageColumnChart:function(p,E){var b=_(p,il);if(b&&0<b.length){for(var Z=b.length,o=_(b[0],wl).length,A=E.width/(3*o+1),l=0,V=_(p,px),c=_(p,Ax),S=_(p,lx),I=V?new q:r$,D=0;D<o;D++){for(var B=0,n=0;n<Z;n++)B+=_(b[n],wl)[D];if(0<B)for(var k=E.y+E.height,n=0;n<Z;n++){var j=b[n],W=_(j,na),m=_(j,wl)[D],e=m/B*E.height,W=(W?z.fillStyle=W:(z.fillStyle=Bm[l++],l===Bm.length&&(l=0)),k-=e,{x:E.x+(1+3*D)*A,y:k,width:2*A,height:e});M6(z,W.x,W.y,W.width,W.height),I&&(W.text=y1(V)?V(m,D,j,l9):m,I.add(W))}}I&&I.each(function(p){cf(z,p.text,c,S,p.x,p.y,p.width,p.height,Hl)})}},lineChart:function(p,E){var b=_(p,il);if(b&&0<b.length){var Z=b.length,o=_(p,"minValue")||0,A=_(p,"maxValue");if(A==r$&&(A=0,b.forEach(function(p){_(p,wl).forEach(function(p){A=b$(A,p)})})),o!==A)for(var l=E.height/(A-o),V=E.y+A*l,c=_(b[0],wl).length,S=E.width/(3*c+1),I=0,D=_(p,Xx)||2,B=_(p,"line3d"),n=_(p,"linePoint"),k=_(p,px),j=_(p,Ax),W=_(p,lx),m=0;m<Z;m++){var e=b[m],$=_(e,na),Y=_(e,wl);$?z.strokeStyle=$:($=z.strokeStyle=Bm[I++],I===Bm.length&&(I=0)),z.beginPath();for(var t=0;t<c;t++){var K=E.x+(2+3*t)*S,r=V-Y[t]*l;0===t?z.moveTo(K,r):z.lineTo(K,r)}if(z.lineWidth=D,z.stroke(),B&&r6(z,$,r$,D,c9),n||k)for(var H,M=D/2+2,t=0;t<c;t++){var F,X,G,T,g=Y[t],K=E.x+(2+3*t)*S,r=V-g*l;y1(n)?n(z,K,r,$,t,e,l9):n&&(z.fillStyle=$,z.beginPath(),z.arc(K,r,M,0,j$,!0),z.fill()),y1(k)?H=k(g,t,e,l9):k&&(H=g),H&&(g=Sf(j,H).height,(F=z.shadowBlur)&&(X=z.shadowOffsetX,G=z.shadowOffsetY,T=z.shadowColor,z.shadowOffsetX=0,z.shadowOffsetY=0,z.shadowBlur=0,z.shadowColor=r$),cf(z,H,j,W,K,r-g-M+2,0,g,Hl),F&&(z.shadowOffsetX=X,z.shadowOffsetY=G,z.shadowBlur=F,z.shadowColor=T))}}}}},function(p,P,E,b,Z,o,y,A,l,V,c){if(P&&Z&&o){var S,I,D,a,B,n,k,j,W,m,J,e=[z,l9,V9,c9,S9,I9,D9],p=(z=p,V9=A,!(l9=y)&&V9&&V9.isSelfViewEvent&&(l9=V9),c9=V9&&V9._zoom||1,S9=l,I9=V,D9=Ph(P,c),Z),A=o;if(RY()&&(0===z.maxSize&&!RY[0]||(S=!0),z.texureImage2D&&!RY[1]||(I=!0),z.texureImage3D&&!RY[2]||(D=!0),u[Hx[1]+tx[0]+Bx[1]]&&!RY[tx[0]]||(n=!0),B1.widget[0]&&!RY[4]||(B=!0),S&&(I||D)&&B&&n&&(p=E,A=b)),P.tagName)return F$(cl)&&!h[cl]||z.drawImage(P,p,A,Z,o),void EN(e);0!=_(P,"visible")&&((l=z.interactiveInfo)&&(c={x:E,y:b,width:Z,height:o},l.rect?(S=l._parentCompInfo)&&(c.image=P,l.compInfos.push({comp:{type:"image",name:P,rect:c,pixelPerfect:S.comp.pixelPerfect},rect:c,matrix:S.matrix,prefix:S.prefix,refRect:S.refRect,exData:B9()})):l.rect=c),S9=S9||O(P.color,l9,V9),V||(I9=O(P.blendMode,l9,V9)),F$(cl)&&!h[cl]&&(Z=p,o=A),I=tm(P,l9,V9,Z),D=Km(P,l9,V9,o),a={x:0,y:0,width:I,height:D,fitSize:Ym(P,l9,V9)},B=_(P,"clip"),n=_(P,"opacity"),a.fitSize&&(_(P,"dynamicSize")?((k=P.width)&&k.func&&(k=k.value||20),(j=P.height)&&j.func&&(j=j.value||20)):(k=O(P.width,l9,V9)||20,j=O(P.height,l9,V9)||20),a.rw=k,a.widthScale=I/k,a.rh=j,a.heightScale=D/j),z.save(),z.interactiveInfo&&(W=(E=z.interactiveInfo.matrix).clone(),E.appendTranslate(p,A).appendScale(Z/I,o/D),m=z.interactiveInfo.refRect,z.interactiveInfo.refRect=a),LW(z,p,A),I===Z&&D===o||z.scale(Z/I,o/D),B&&(y1(B)?B(z,I,D,l9,V9,P):(z.beginPath(),z.rect(0,0,I,D),z.clip())),n!=r$&&(z.globalAlpha*=n),J=z.compGray,_(P,"comps").forEach(function(p){p.prefix&&(E=nm,(G=O(p.prefix,l9,V9))&&(nm=nm+G+"."));var E,b=_(p,"type");if(0==(G=P,X=p,V9&&V9.getDrawableState?F=V9.getDrawableState(l9):(F=l9 instanceof sm?l9.s(Rx):null)!==K$&&null!==F||(F=_(G,Rx)),((G=_(X,Rx))===K$||null===G||G===F)&&_(X,jx))&&["clip","save","restore","endClip"].indexOf(b)<0)p.prefix&&(nm=E);else{var Z,o,A,l,V,c,S,I,D,B,n,k,j,W,m,e,$,Y,t,K,r,H,M,F=_(p,"composite"),X=(F&&(z.save(),z.globalCompositeOperation=F),O(p.gray,l9,V9)&&(z.compGray=!0),jm.splice(0,0,p),z.interactiveInfo&&(Z=z.interactiveInfo.matrix.clone(),o=z.interactiveInfo._parentCompInfo),_(p,"opacity")),G=_(p,"shadow"),T=_(p,"shadowInset"),g=_(p,"refRect")||a,L=(B=g,I=_(D=p,Pl),Y=k9(D),X$(I)&&(H=I.length,m=_(D,"relative"),M=B.width,t=B.height,4===H?(I={x:I[0],y:I[1],width:I[2],height:I[3]},m&&(I.x*=M,I.y*=t,I.width*=M,I.height*=t)):3===H&&(H=I[0],I={width:I[1],height:I[2]},m&&(I.width*=M,I.height*=t),"object"==typeof H?H.length&&(H={x:H[0],y:H[1]}):H=i6(H,B,I),I.x=H.x-I.width*Y.x,I.y=H.y-I.height*Y.y),I.x+=_(D,"offsetX")||0,I.y+=_(D,"offsetY")||0,!m&&B.fitSize&&(I=sO(D,I,B))),I);if(X!=r$&&(A=z.globalAlpha,z.globalAlpha*=X),G&&!T&&(M=c9*H$.devicePixelRatio,l=z.shadowOffsetX,V=z.shadowOffsetY,c=z.shadowBlur,S=z.shadowColor,t=_(p,"shadowOffsetX"),H=_(p,"shadowOffsetY"),Y=_(p,"shadowBlur"),m=n9(p,"shadowColor"),z.shadowOffsetX=(t==r$?3:t)*M,z.shadowOffsetY=(H==r$?3:H)*M,z.shadowBlur=(Y==r$?6:Y)*M,z.shadowColor=m||n9(I3)),"save"===b)z.save();else if("endClip"===b||"restore"===b)z.restore();else if("clip"===b)z.save(),pN(p,b,L,g);else if(N6[b]){if(pN(p,b,L=L||{x:0,y:0,width:g.width,height:g.height},g),p.prefix&&F$(p.prefix)&&0===p.prefix.indexOf("ui.")&&V9&&V9.getInteractorClasses&&V9.initView){V9._vectorCompInfo||(V9._vectorCompInfo=[]);for(var x=!1,C=0;C<V9._vectorCompInfo.length;C++){var h=V9._vectorCompInfo[C];if(p.prefix===h.comp.prefix&&y===h.data){V9._vectorCompInfo[C]={comp:p,type:b,rect:L,compRefRect:g,data:y,image:P,transform:z.getTransform()},x=!0;break}}x||V9._vectorCompInfo.push({comp:p,type:b,rect:L,compRefRect:g,data:y,image:P,transform:z.getTransform()})}}else b===Jl?pN(p,b,L,g):"SVGPath"===b?(D=b,B=L,T=_(I=p,"path"),Y=_(I,nx),t=_(I,"scaleX"),K=_(I,"scaleY"),r=k9(I),H=r$,M=e6(null,T),B||((B=I.unionRect)||(B=Yf(M),I.path.func||(I.unionRect=B)),H=B),B&&((H=H||I.unionRect)||(H=Yf(M),I.path.func||(I.unionRect=H)),M=iO(I,B,H,Y,t,K,r),B=_(I,"borderPattern"),Y=Im(z,B),t=n9(I,"background"),K=n9(I,"borderColor"),r=_(I,"borderWidth"),m=_(I,"gradient"),$=_(I,"border3d"),n=n9(I,"border3dColor"),k=_(I,"border3dAccuracy"),j=z.lineJoin,W=z.lineCap,z.lineJoin=_(I,"borderJoin")||Pq,z.lineCap=_(I,"borderCap")||hq,t?(m&&(e=n9(I,"gradientColor")),X6(z,t,m,e,H),e6(z,T),z.fill(),Y!==z&&e6(z,T)):e6(z,T),(m=_(I,"borderWidthAbsolute"))&&hW(z),r&&K&&(z.lineWidth=r,z.strokeStyle=K,z.stroke(),$&&r6(z,K,n,r,c9,k)),Dm(z,B),_(I,"dash")&&0<(e=_(I,"dashWidth")||r)&&(B=_(I,"dashPattern")||Cq,Y=Im(z,B,_(I,"dashOffset")),$=n9(I,"dashColor")||n9(p3),Y!==z&&e6(z,T),z.strokeStyle=$,z.lineWidth=e,z.stroke(),_(I,"dash3d")&&r6(z,$,n9(I,"dash3dColor"),e,c9,_(I,"dash3dAccuracy")),Dm(z,B)),m&&z.restore(),D===Pl&&P6(z,t,_(I,"depth"),H),z.lineJoin=j,z.lineCap=W,M&&fO())):(Y=iO(p,L=L||{x:0,y:0,width:g.width,height:g.height},L,K=_(p,nx),n=_(p,"scaleX"),k=_(p,"scaleY"),r=k9(p)),y1(b)?(QO(p,b),H$.drawCompType(b,z,L,p,l9,V9)):H$.getCompType(b)?($=(T=H$.getCompType(b)).func||T,QO(p,T),H$.drawCompType($,z,L,p,l9,V9)):W9[b]?W9[b](p,L):H$.getCompType(b)===K$&&(km=!1),Y&&fO());G&&(z.shadowOffsetX=l,z.shadowOffsetY=V,z.shadowBlur=c,z.shadowColor=S),X!=r$&&(z.globalAlpha=A),z.interactiveInfo&&(z.interactiveInfo.matrix=Z,z.interactiveInfo._parentCompInfo=o),p.prefix&&(nm=E),jm.splice(0,1),z.compGray=J,F&&z.restore()}}),z.interactiveInfo&&(z.interactiveInfo.matrix=W,z.interactiveInfo.refRect=m),z.restore()),EN(e)}}),Hm=(H$.getCurrentComp=function(){return jm[0]},H$.getParentComp=function(){return jm[1]},H$.compContextSave=function(p){var E,b,Z;p.save(),(p=p.interactiveInfo)&&((E=p._compContextTransformStack)||(E=p._compContextTransformStack=[]),b={},(Z=p.matrix)&&(b.matrix=Z.clone()),p._parentCompInfo&&(Z=p._parentCompInfo.matrix)&&(b.parentMatrix=Z.clone()),E.push(b))},H$.compContextRestore=function(p){var E,b;p.restore(),(p=p.interactiveInfo)&&(E=p._compContextTransformStack)&&(E=E.pop(),(b=p.matrix)&&b.copy(E.matrix),p._parentCompInfo&&(b=p._parentCompInfo.matrix)&&b.copy(E.parentMatrix))},H$.compContextTranslate=function(p,E,b){var Z;p.translate(E,b),(p=p.interactiveInfo)&&((Z=p.matrix)&&Z.appendTranslate(E,b),p._parentCompInfo&&(Z=p._parentCompInfo.matrix)&&Z.appendTranslate(E,b))},H$.compContextScale=function(p,E,b){var Z;p.scale(E,b),(p=p.interactiveInfo)&&((Z=p.matrix)&&Z.appendScale(E,b),p._parentCompInfo&&(Z=p._parentCompInfo.matrix)&&Z.appendScale(E,b))},H$.compContextRotate=function(p,E){var b;p.rotate(E),(p=p.interactiveInfo)&&((b=p.matrix)&&b.appendRotate(E),p._parentCompInfo&&(b=p._parentCompInfo.matrix)&&b.appendRotate(E))},H$.compContextTransform=function(p,E,b,Z,o,A,l){p.transform(E,b,Z,o,A,l),(p=p.interactiveInfo)&&(E=QB.TEMP_MATRIX.set(E,b,Z,o,A,l),(b=p.matrix)&&b.append(E),p._parentCompInfo&&(b=p._parentCompInfo.matrix)&&b.append(E))},H$.getInternal=function(){return{isEnter:V6,isEsc:c6,isSpace:l6,isLeft:b6,isUp:Z6,isRight:o6,isDown:A6,addMethod:E,superCall:R1,toPointsArray:K6,translateAndScale:gW,appendArray:_1,createWorldMatrix:lm,vec3TransformMat4:wf,setCanvas:mW,createDiv:nW,createView:BW,createCanvas:kW,createImage:F1,initContext:TW,layout:dW,fillRect:M6,Mat:qB,drawBorder:h6,isString:F$,setBorder:jW,getPropertyValue:ZW,setPropertyValue:oW,drawVerticalLine:lW,draw3DRect:P6,getPinchDist:z6,isSameRect:i1,getPosition:i6,intersectionLineRect:EW,getNodeRect:fm,getEdgeAgentPosition:$Y,getEdgeHostPosition:eY,getEdge3dHostPosition:eL,getImageWidth:tm,getImageHeight:Km,initItemElement:DW,compileShaderAndFetchUniforms:HE,composeShaderSource:LE,decomposeShaderSource:gE,registerShaderToLib:hE,getShaderInternal:CE,makeUVMatrixArray:gL,drawPoints:t6,createG2:Im,closePopup:OW,isH:T1,createAnim:v1,createNormalMatrix:BL,makeUVMatrix:TL,toColorArray:W6,createNormals:Lj,toFloatArray:AE,glMV:nL,glPop:DL,batchShape:nd,createNodeMatrix:Am,getShapeModel:ZE,getFaceInfo:rL,transformAppend:Sj,drawFaceInfo:HL,glUploadData:lL,glUploadElementData:cL,glDrawArray:bL,glDrawElement:ZL,glBindTexture:Pj,glRequestPickColor:function(p,E){return jL(null,p.pickColorMap,!0,E,fl,!0)},prefabRenderMethodNames:["early","post"],decodeText:H1,pickValueToColor:Nn,to3dPointsArray:SE,hanlePointsWithCornerRadius:cE,setGLDebugMode:function(p){z_=p},cube:function(){return{vs:Cd,is:hd,uv:Pd}},ui:function(){return{DataUI:NP,NodeUI:zP,EdgeUI:_P,GroupUI:QP,ShapeUI:uP,GridUI:sP,Data3dUI:oH,Node3dUI:AH,Shape3dUI:cH}},getInternalVersion:function(){return"U2FsdGVkX1+4XtPipBthwF+f6MVL7v4cUSLhTD8pyKA="},getDragger:function(){return zW},addMSMap:function(p){E(Mq,p)},k:A$,overrideTimerFunc:function(p,E){Ef=u.Default.callLater=p,bf=u.Default.cancelLater=E},canEnterEditDetailMode:GY,addEventListener:U$,removeEventListener:N$,createGradientByPackedData:$6,constrainModelScaleRatio:xL,completeCubeCenterOfModel3d:CL,completeCommonProertiesOfModel3d:hL,completeCommonPropertiesOfModel3d:hL,completeObjModelMapToShape3d:PL,batchModel3dByMaterial:yL,batchModel3dByMaterialAsync:aL,addResourceLoaderEventListener:rq,fireResourceLoaderEvent:Hq,getLightProbeByName:FL,unfoldShapeModel:GL}},function(p){var Y="toString",E="";function e(p,E,b){p!=r$&&(E==r$&&Da!=typeof p?this._54O(p,256):this._54O(p,E))}l$=p["D"+11182[Y](q$(2,5))];var b=e.prototype;function $(){return new e(r$)}mx+=Gl.substr(0,1);for(var p="Microsoft Internet Explorer"==(p=p.navigator?p.navigator.appName:"")?(b.am=function(p,E,b,Z,o,A){for(var l=32767&E,V=E>>15;0<=--A;){var c=32767&this[p],S=this[p++]>>15,I=V*c+S*l;o=((c=l*c+((32767&I)<<15)+b[Z]+(1073741823&o))>>>30)+(I>>>15)+V*S+(o>>>30),b[Z++]=1073741823&c}return o},30):"Netscape"!=p?(b.am=function(p,E,b,Z,o,A){for(;0<=--A;){var l=E*this[p++]+b[Z]+o;o=z$(l/67108864),b[Z++]=67108863&l}return o},26):(b.am=function(p,E,b,Z,o,A){for(var l=16383&E,V=E>>14;0<=--A;){var c=16383&this[p],S=this[p++]>>14,I=V*c+S*l;o=((c=l*c+((16383&I)<<14)+b[Z]+o)>>28)+(I>>14)+V*S,b[Z++]=268435455&c}return o},28),y=(b.DB=p,b.DM=(1<<p)-1,b.DV=1<<p,b.FV=q$(2,52),b.F1=52-p,b.F2=2*p-52,"0123456789abcdefghijklmnopqrstuvwxyz"),S=[],l=function(p){return String.fromCharCode(p)},Z="0".charCodeAt(0),o=0;o<=9;++o)S[Z++]=o;for(Z="a".charCodeAt(0),o=10;o<36;++o)S[Z++]=o;for(Z="A".charCodeAt(0),o=10;o<36;++o)S[Z++]=o;function I(p){return y.charAt(p)}function A(p){var E=$();return E._58O(p),E}function t(p){var E,b=1;return 0!=(E=p>>>16)&&(p=E,b+=16),0!=(E=p>>8)&&(p=E,b+=8),0!=(E=p>>4)&&(p=E,b+=4),0!=(E=p>>2)&&(p=E,b+=2),0!=(E=p>>1)&&(p=E,b+=1),b}function V(p){this.m=p}function c(p){this.m=p,this.mp=p._50O(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<p.DB-15)-1,this.mt2=2*p.t}function K(p,E){return new e(p,E)}function D(){this.n=r$,this.e=0,this.d=r$,this.p=r$,this.q=r$,this.dmp1=r$,this.dmq1=r$,this._10A=r$}(p=V.prototype)._73O=function(p){return p.s<0||0<=p._52O(this.m)?p.mod(this.m):p},p.revert=function(p){return p},p._74O=function(p){p._49O(this.m,r$,p)},p._75O=function(p,E,b){p._47O(E,b),this._74O(b)},p._76O=function(p,E){p._48O(E),this._74O(E)},(p=c.prototype)._73O=function(p){var E=$();return p.abs()._59O(this.m.t,E),E._49O(this.m,r$,E),p.s<0&&0<E._52O(e.ZERO)&&this.m._78O(E,E),E},p.revert=function(p){var E=$();return p._77O(E),this._74O(E),E},p._74O=function(p){for(var E=this;p.t<=E.mt2;)p[p.t++]=0;for(var b=0;b<E.m.t;++b){var Z=32767&p[b],o=Z*E.mpl+((Z*E.mph+(p[b]>>15)*E.mpl&E.um)<<15)&p.DM;for(p[Z=b+E.m.t]+=E.m.am(0,o,p,b,0,E.m.t);p[Z]>=p.DV;)p[Z]-=p.DV,p[++Z]++}p._57O(),p._45O(E.m.t,p),0<=p._52O(E.m)&&p._78O(E.m,p)},p._75O=function(p,E,b){p._47O(E,b),this._74O(b)},p._76O=function(p,E){p._48O(E),this._74O(E)},b._77O=function(p){for(var E=this.t-1;0<=E;--E)p[E]=this[E];p.t=this.t,p.s=this.s},b._58O=function(p){this.t=1,this.s=p<0?-1:0,0<p?this[0]=p:p<-1?this[0]=p+this.DV:this.t=0},b._54O=function(p,E){var b,Z=this;if(16==E)b=4;else if(8==E)b=3;else if(256==E)b=8;else if(2==E)b=1;else if(32==E)b=5;else{if(4!=E)return void Z.fromRadix(p,E);b=2}Z.t=0,Z.s=0;for(var o,A=p.length,l=!1,V=0;0<=--A;){var c=8==b?255&p[A]:(c=A,(o=S[(o=p).charCodeAt(c)])==r$?-1:o);c<0?"-"==p.charAt(A)&&(l=!0):(l=!1,0==V?Z[Z.t++]=c:V+b>Z.DB?(Z[Z.t-1]|=(c&(1<<Z.DB-V)-1)<<V,Z[Z.t++]=c>>Z.DB-V):Z[Z.t-1]|=c<<V,(V+=b)>=Z.DB&&(V-=Z.DB))}8==b&&0!=(128&p[0])&&(Z.s=-1,0<V&&(Z[Z.t-1]|=(1<<Z.DB-V)-1<<V)),Z._57O(),l&&e.ZERO._78O(Z,Z)},b._57O=function(){for(var p=this.s&this.DM;0<this.t&&this[this.t-1]==p;)--this.t},b._59O=function(p,E){for(var b=this.t-1;0<=b;--b)E[b+p]=this[b];for(b=p-1;0<=b;--b)E[b]=0;E.t=this.t+p,E.s=this.s},b._45O=function(p,E){for(var b=p;b<this.t;++b)E[b-p]=this[b];E.t=b$(this.t-p,0),E.s=this.s},b._44O=function(p,E){for(var b=this,Z=p%b.DB,o=b.DB-Z,A=(1<<o)-1,l=z$(p/b.DB),V=b.s<<Z&b.DM,c=b.t-1;0<=c;--c)E[c+l+1]=b[c]>>o|V,V=(b[c]&A)<<Z;for(c=l-1;0<=c;--c)E[c]=0;E[l]=V,E.t=b.t+l+1,E.s=b.s,E._57O()},b._46O=function(p,E){var b=this,Z=(E.s=b.s,z$(p/b.DB));if(Z>=b.t)E.t=0;else{var o=p%b.DB,A=b.DB-o,l=(1<<o)-1;E[0]=b[Z]>>o;for(var V=Z+1;V<b.t;++V)E[V-Z-1]|=(b[V]&l)<<A,E[V-Z]=b[V]>>o;0<o&&(E[b.t-Z-1]|=(b.s&l)<<A),E.t=b.t-Z,E._57O()}},b._78O=function(p,E){for(var b=this,Z=0,o=0,A=Z$(p.t,b.t);Z<A;)o+=b[Z]-p[Z],E[Z++]=o&b.DM,o>>=b.DB;if(p.t<b.t){for(o-=p.s;Z<b.t;)o+=b[Z],E[Z++]=o&b.DM,o>>=b.DB;o+=b.s}else{for(o+=b.s;Z<p.t;)o-=p[Z],E[Z++]=o&b.DM,o>>=b.DB;o-=p.s}E.s=o<0?-1:0,o<-1?E[Z++]=b.DV+o:0<o&&(E[Z++]=o),E.t=Z,E._57O()},b._47O=function(p,E){var b=this.abs(),Z=p.abs(),o=b.t;for(E.t=o+Z.t;0<=--o;)E[o]=0;for(o=0;o<Z.t;++o)E[o+b.t]=b.am(0,Z[o],E,o,0,b.t);E.s=0,E._57O(),this.s!=p.s&&e.ZERO._78O(E,E)},b._48O=function(p){for(var E=this.abs(),b=p.t=2*E.t;0<=--b;)p[b]=0;for(b=0;b<E.t-1;++b){var Z=E.am(b,E[b],p,2*b,0,1);(p[b+E.t]+=E.am(b+1,2*E[b],p,2*b+1,Z,E.t-b-1))>=E.DV&&(p[b+E.t]-=E.DV,p[b+E.t+1]=1)}0<p.t&&(p[p.t-1]+=E.am(b,E[b],p,2*b,0,1)),p.s=0,p._57O()},b._49O=function(p,E,b){var Z=this;if(!((I=p.abs()).t<=0)){var o=Z.abs();if(o.t<I.t)return E!=r$&&E._58O(0),void(b!=r$&&Z._77O(b));b==r$&&(b=$());var A=$(),l=Z.s,p=p.s,V=Z.DB-t(I[I.t-1]),c=(0<V?(I._44O(V,A),o._44O(V,b)):(I._77O(A),o._77O(b)),A.t),S=A[c-1];if(0!=S){var I=S*(1<<Z.F1)+(1<c?A[c-2]>>Z.F2:0),D=Z.FV/I,B=(1<<Z.F1)/I,n=1<<Z.F2,k=b.t,j=k-c,W=E==r$?$():E;for(A._59O(j,W),0<=b._52O(W)&&(b[b.t++]=1,b._78O(W,b)),e.ONE._59O(c,W),W._78O(A,A);A.t<c;)A[A.t++]=0;for(;0<=--j;){var m=b[--k]==S?Z.DM:z$(b[k]*D+(b[k-1]+n)*B);if((b[k]+=A.am(0,m,b,j,0,c))<m)for(A._59O(j,W),b._78O(W,b);b[k]<--m;)b._78O(W,b)}E!=r$&&(b._45O(c,E),l!=p&&e.ZERO._78O(E,E)),b.t=c,b._57O(),0<V&&b._46O(V,b),l<0&&e.ZERO._78O(b,b)}}},b._50O=function(){if(this.t<1)return 0;var p=this[0];if(0==(1&p))return 0;var E=3&p;return 0<(E=(E=(E=(E=E*(2-(15&p)*E)&15)*(2-(255&p)*E)&255)*(2-((65535&p)*E&65535))&65535)*(2-p*E%this.DV)%this.DV)?this.DV-E:-E},b._51O=function(){return 0==(0<this.t?1&this[0]:this.s)},b.exp=function(p,E){if(4294967295<p||p<1)return e.ONE;var b,Z=$(),o=$(),A=E._73O(this),l=t(p)-1;for(A._77O(Z);0<=--l;)E._76O(Z,o),0<(p&1<<l)?E._75O(o,A,Z):(b=Z,Z=o,o=b);return E.revert(Z)},b.toString=function(p){var E,b=this;if(b.s<0)return"-"+b._85O()[Y](p);if(16==p)E=4;else if(8==p)E=3;else if(2==p)E=1;else if(32==p)E=5;else{if(4!=p)return b.toRadix(p);E=2}var Z,o=(1<<E)-1,A=!1,l="",V=b.t,c=b.DB-V*b.DB%E;if(0<V--)for(c<b.DB&&0<(Z=b[V]>>c)&&(A=!0,l=I(Z));0<=V;)c<E?(Z=(b[V]&(1<<c)-1)<<E-c,Z|=b[--V]>>(c+=b.DB-E)):(Z=b[V]>>(c-=E)&o,c<=0&&(c+=b.DB,--V)),(A=0<Z||A)&&(l+=I(Z));return A?l:"0"},b._85O=function(){var p=$();return e.ZERO._78O(this,p),p},b.abs=function(){return this.s<0?this._85O():this},b._52O=function(p){var E=this.s-p.s;if(0!=E)return E;var b=this.t;if(0!=(E=b-p.t))return this.s<0?-E:E;for(;0<=--b;)if(0!=(E=this[b]-p[b]))return E;return 0},b._55O=function(){return this.t<=0?0:this.DB*(this.t-1)+t(this[this.t-1]^this.s&this.DM)},b.mod=function(p){var E=$();return this.abs()._49O(p,r$,E),this.s<0&&0<E._52O(e.ZERO)&&p._78O(E,E),E},b._53O=function(p,E){return E=new(p<256||E._51O()?V:c)(E),this.exp(p,E)},e.ZERO=A(0),e.ONE=A(1),b._86O=function(){var p=this;if(p.s<0){if(1==p.t)return p[0]-p.DV;if(0==p.t)return-1}else{if(1==p.t)return p[0];if(0==p.t)return 0}return(p[1]&(1<<32-p.DB)-1)<<p.DB|p[0]},e$=function(){p=(S=d).split(""),E=r(S),p.forEach(function(p){0<p.length&&E&&(c$+=El(p))});var E,p=(S=E).substr(0,4),b=S.substr(4,2),Z=S.substr(6,2),o=!1,A=A$,l=[],V=ma.charAt(7);if(l$&&(l$[Y]().indexOf("nat")<0||l$[mx][Y]().indexOf("nat")<0||!S?I=r$:(p=(S=new l$(+p,b-1,+Z)).setHours(9),l$[mx]()>p?I=Y6[V]:o=!0)),S&&I&&I[0]&&I[_$(.5)]&&A){var c,b=Em(I[0]);for(c in Z=Em(I[1]))l.push(c);var p=0,S=b[l[0]],I=Z[l[p++]],D=Z[l[p++]],B=Z[l[p++]],n=Z[l[p++]],k=Z[l[p++]],j=Z[l[p++]],b=b[l[6]],Z=Z[l[+p]],p=P._27O(A);if(S===I&&p&&Z){var A=I+D+B+n+k+j,W=!j||j===Ta||!Ta&&j===(Z1+"")[0];if(!W&&j)for(var m,e=0,$=j.length;e<$;e++)j[e]===xx[7]?m===Ta||m[0]===Vx[5]&&Ta&&0<=Ta.indexOf(m.substr(1))?W=!0:m=r$:(m==r$?m=j[e]:m+=j[e],e===$-1&&(m===Ta||m[0]===Vx[5]&&Ta&&0<=Ta.indexOf(m.substr(1)))&&(W=!0));A&&p._31O(A,Z)&&p._31O(S,b)&&W&&(!k||l$[mx]()<k)&&(o=!0)}}return o||(F6=w1),V};(p=D.prototype)._37O=function(p){return p._53O(this.e,this.n)},p._38O=function(p,E){this.isPublic=!0,typeof p!=Da?(this.n=p,this.e=E):p!=r$&&E!=r$&&0<p.length&&0<E.length&&(this.n=K(p,16),this.e=El(E,16))};var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J="=",d="ICYGFQ==";function r(p){for(var E,b,Z="",o=0,A=0;A<p.length&&p.charAt(A)!=J;++A)(b=a.indexOf(p.charAt(A)))<0||(o=0==o?(Z+=I(b>>2),E=3&b,1):1==o?(Z+=I(E<<2|b>>4),E=15&b,2):2==o?(Z=(Z+=I(E))+I(b>>2),E=3&b,3):(Z=(Z+=I(E<<2|b>>4))+I(15&b),0));return 1==o&&(Z+=I(E<<2)),Z}X=(b={})._7A={},B=X._6A={_80O:function(p){N.prototype=this;var E=new N;return p&&E._5A(p),E.hasOwnProperty("_82O")||(E._82O=function(){E.$super._82O.apply(this,arguments)}),(E._82O.prototype=E).$super=this,E},_3A:function(){var p=this._80O();return p._82O.apply(p,arguments),p},_82O:function(){},_5A:function(p){for(var E in p)p.hasOwnProperty(E)&&(this[E]=p[E]);p.hasOwnProperty(Y)&&(this.toString=p.toString)},_88O:function(){return this._82O.prototype._80O(this)}},n=X._39O=B._80O({_82O:function(p,E){p=this._84O=p||[],this._65O=null!=E?E:4*p.length},toString:function(p){return(p||k).stringify(this)},_89O:function(p){var E=this._84O,b=p._84O,Z=this._65O,o=p._65O;if(this._57O(),Z%4)for(var A=0;A<o;A++){var l=b[A>>>2]>>>24-A%4*8&255;E[Z+A>>>2]|=l<<24-(Z+A)%4*8}else if(65535<b.length)for(A=0;A<o;A+=4)E[Z+A>>>2]=b[A>>>2];else E.push.apply(E,b);return this._65O+=o,this},_57O:function(){var p=this._84O,E=this._65O;p[E>>>2]&=4294967295<<32-E%4*8,p.length=_$(E/4)},_88O:function(){var p=B._88O.call(this);return p._84O=this._84O.slice(0),p},_87O:function(p){for(var E=[],b=0;b<p;b+=4)E.push(4294967296*f$|0);return new n._82O(E,p)}}),M=b._2A={},k=M._69O={stringify:function(p){for(var E=p._84O,b=p._65O,Z=[],o=0;o<b;o++){var A=E[o>>>2]>>>24-o%4*8&255;Z.push((A>>>4).toString(16)),Z.push((15&A).toString(16))}return Z.join("")},_68O:function(p){for(var E=p.length,b=[],Z=0;Z<E;Z+=2)b[Z>>>3]|=El(p.substr(Z,2),16)<<24-Z%8*4;return new n._82O(b,E/2)}},j=M._8A={stringify:function(p){for(var E=p._84O,b=p._65O,Z=[],o=0;o<b;o++){var A=E[o>>>2]>>>24-o%4*8&255;Z.push(l(A))}return Z.join("")},_68O:function(p){for(var E=p.length,b=[],Z=0;Z<E;Z++)b[Z>>>2]|=(255&p.charCodeAt(Z))<<24-Z%4*8;return new n._82O(b,E)}},W=M._9A={stringify:function(p){try{return decodeURIComponent(escape(j.stringify(p)))}catch(p){throw new Error("")}},_68O:function(p){return j._68O(unescape(encodeURIComponent(p)))}},m=X._32O=B._80O({_1A:function(){this._83O=new n._82O,this._23O=0},_33O:function(p){typeof p==Da&&(p=W._68O(p)),this._83O._89O(p),this._23O+=p._65O},_25O:function(p){var E=this._83O,b=E._84O,Z=E._65O,o=this._79O,A=Z/(4*o),l=(A=p?_$(A):b$((0|A)-this._22O,0))*o,p=Z$(4*l,Z);if(l){for(var V=0;V<l;V+=o)this._20O(b,V);var c=b.splice(0,l);E._65O-=p}return new n._82O(c,p)},_88O:function(){var p=B._88O.call(this);return p._83O=this._83O._88O(),p},_22O:0}),X._66O=m._80O({cfg:B._80O(),_82O:function(p){this.cfg=this.cfg._80O(p),this._1A()},_1A:function(){m._1A.call(this),this._34O()},_81O:function(p){return this._33O(p),this._25O(),this},_72O:function(p){return p&&this._33O(p),this._21O()},_79O:16,_26O:function(b){return function(p,E){return new b._82O(E)._72O(p)}},_19O:function(b){return function(p,E){return new U._71O._82O(b,E)._72O(p)}}});var B,n,k,j,W,m,U,U=b._67O={},H=b;function N(){}var M=H,O=(X=M._7A)._39O,F=X._66O,X=M._67O,z=[],_=[];function v(p){return 4294967296*(p-(0|p))|0}for(var G=2,T=0;T<64;)!function(p){for(var E=v$(p),b=2;b<=E;b++)if(!(p%b))return;return 1}(G)||(T<8&&(z[T]=v(q$(G,.5))),_[T]=v(q$(G,1/3)),T++),G++;var g=[],X=X._41O=F._80O({_34O:function(){this._64O=new O._82O(z.slice(0))},_20O:function(p,E){for(var b=this._64O._84O,Z=b[0],o=b[1],A=b[2],l=b[3],V=b[4],c=b[5],S=b[6],I=b[7],D=0;D<64;D++){D<16?g[D]=0|p[E+D]:(B=g[D-15],n=g[D-2],g[D]=((B<<25|B>>>7)^(B<<14|B>>>18)^B>>>3)+g[D-7]+((n<<15|n>>>17)^(n<<13|n>>>19)^n>>>10)+g[D-16]);var B=Z&o^Z&A^o&A,n=I+((V<<26|V>>>6)^(V<<21|V>>>11)^(V<<7|V>>>25))+(V&c^~V&S)+_[D]+g[D],I=S,S=c,c=V,V=l+n|0,l=A,A=o,o=Z,Z=n+(((Z<<30|Z>>>2)^(Z<<19|Z>>>13)^(Z<<10|Z>>>22))+B)|0}b[0]=b[0]+Z|0,b[1]=b[1]+o|0,b[2]=b[2]+A|0,b[3]=b[3]+l|0,b[4]=b[4]+V|0,b[5]=b[5]+c|0,b[6]=b[6]+S|0,b[7]=b[7]+I|0},_21O:function(){var p=this._83O,E=p._84O,b=8*this._23O,Z=8*p._65O;return E[Z>>>5]|=128<<24-Z%32,E[14+(64+Z>>>9<<4)]=z$(b/4294967296),E[15+(64+Z>>>9<<4)]=b,p._65O=4*E.length,this._25O(),this._64O},_88O:function(){var p=F._88O.call(this);return p._64O=this._64O._88O(),p}}),L=(M._41O=F._26O(X),M._42O=F._19O(X),new RegExp(""));function x(p){var E=p.substring(0,38);return E&&30==E.indexOf("05000420")?["ss",p.substring(38)]:[]}function Q(p,E,b,Z){if((E=K(E=(E=E.replace(L,"")).replace(/[ \n]+/g,""),16))._55O()>this.n._55O())return 0;if(0==(E=x(this._37O(E)[Y](16).replace(/^1f+00/,""))).length)return!1;for(var o,A,l,V=Pf,c=[0,.5,.75,.875,.9375],S=[],I=[],D=[],B=j$/V,n=(n=E=E[1],p=C._4O.Util._56O(p,"ss"),(l={}).v=p==n,l.t=1,l.s=0,D$=l.v,p),k=l.t=0,j=0;k<c.length;k++)for(var W=k%2==0?0:.5,m=0;m<=V;m++)A=1-c[k],S.push(.5*M$(o=(m+W)*B)*A,.5*c[k]*2-.5,.5*-k$(o)*A),I.push((m+W)/V,A);for(k=0;k<c.length-1;k++)for(var e=k*(V+1),$=(k+1)*(V+1),m=0;m<V;m++)D.push(e+m,$+m+1,$+m,e+m,e+m+1,$+m+1);return D.forEach(function(p){j+=p}),E==n&&10<j}function q(p){return(p=p.replace(L,E)).replace(/[ \n]+/g,E)}L.compile("[^0-9a-f]","gi"),D._28O=-1,D._29O=-2,p._31O=Q,p._63O=Q,D._43O=-2;var C,u,R,h=new function(){var c=this;c._5O=function(p,E){return"8"!=p.substring(E+2,E+3)?1:0==(p=El(p.substring(E+3,E+4)))?-1:0<p&&p<10?p+1:-2},c._13O=function(p,E){var b=c._5O(p,E);return b<1?"":p.substring(E+2,E+2+2*b)},c._12O=function(p,E){return""==(p=c._13O(p,E))?-1:(El(p.substring(0,1))<8?new e(p,16):new e(p.substring(2),16))._86O()},c._6O=function(p,E){return(p=c._5O(p,E))<0?p:E+2*(p+1)},c._11O=function(p,E){var b=c._6O(p,E),E=c._12O(p,E);return p.substring(b,b+2*E)},c._10O=function(p,E){return c._6O(p,E)+2*c._12O(p,E)},c._7O=function(p,E){for(var b=[],Z=c._6O(p,E),o=(b.push(Z),c._12O(p,E)),A=Z,l=0;;){var V=c._10O(p,A);if(V==r$||2*o<=V-Z)break;if(200<=l)break;b.push(V),A=V,l++}return b}},s=(h._90O=l(34),h._91O=o$+l(108),(C=C!=r$&&C?C:{})._4O!=r$&&C._4O||(C._4O={}),C._4O),w=(C._4O.Util=new function(){this._56O=function(p,E){return(new C._4O._3O)._30O(p)},this._4A=function(p,E){return(new C._4O._3O)._36O(p)},this._11A=function(p,E){return(new s._3O)._30O(p)}},C._4O._3O=function(p){var b=this;b._8O=function(p,E){if("ss"==p&&"cj"==E){try{b.md=H._67O._41O._3A()}catch(p){}b._24O=function(p){b.md._81O(p)},b._35O=function(p){p=H._2A._69O._68O(p),b.md._81O(p)},b._60O=function(){return b.md._72O()[Y](H._2A._69O)},b._30O=function(p){return b._24O(p),b._60O()},b._36O=function(p){return b._35O(p),b._60O()}}},b._24O=function(p){},b._35O=function(p){},b._60O=function(){},b._30O=function(p){},b._36O=function(p){},b._8O("ss","cj")},m$=function(p){var E=cW[Aa[7]],b=1,Z=!1;if(I6.a!=cW[ja])return I6.a;if(I6.forEach(function(p){b*=p}),b<p){if(E&&E[1]&&E[0]){var o=E[0],E=(E=E[1]).split(h._90O),o=o.split(h._90O),A=E[3],l=o[3],V=E[7],c=E[11],S=E[15],I=E[19],D=E[23],E=E[27],o=o[7],V=A+V+c+S+I+D,B=!D,S=l===A;if(D=D===l1.toString()[0]?D+D+D:D){var n=D&&D.split(x1("firefox")[3]);if(n)for(var k=0;k<n.length;k++){var j=n[k];if(j[0]===Kx[8]&&(j=j.substring(1)),0<=ca.indexOf(j)){B=!0;break}}}(Z=S&&m1()(l,o)&&m1()(V,E)&&B&&(!I||p<I))&&0<=c.indexOf(Tl.length)&&(m$[Tl.length]=Tl),Z&&0<=c.indexOf(Tl.length+1)&&(m$[Tl.length+1]=Tl),Z&&0<=c.indexOf(Tl.length+3)&&(m$[Tl.length+3]=Tl),Z&&0<=c.indexOf(_x.length)&&(m$[_x.length]=_x),Z&&0<=c.indexOf(al[0])&&(m$[al[0]]=al),Z&&0<=c.indexOf(ax[0])&&(m$[ax[0]]=ax)}Z||(NP.prototype._42=Oa)}else Z=!0,m$[Tl.length]=m$[Tl.length+1]=m$[Tl.length+3]=m$[_x.length]=m$[al[0]]=m$[ax[0]]=Tl;return I6.a=Z},String.fromCharCode(45),K),i=/^1f+00/,P=(b={_18O:function(p){return r(p.replace(/\s+/g,""))},_14O:function(p){return p=this._18O(p),this._15O(p)},_15O:function(p){var E;if("2a864886f70d010101"==(p=this._17O(p))._61O)return p=this._16O(p.key),(E=new D)._38O(p.n,p.e),E},_16O:function(p){var E={},b=(p.substr(0,2),h._7O(p,0));return b.length,p.substr(b[0],2),E.n=h._11O(p,b[0]),p.substr(b[1],2),E.e=h._11O(p,b[1]),E},_17O:function(p){var E={},b=(E._40O=r$,h._7O(p,0)),Z=(b.length,b[0]);return p.substr(Z,2),(Z=h._7O(p,Z)).length,p.substr(Z[0],2),E._61O=h._11O(p,Z[0]),"06"==p.substr(Z[1],2)?E._40O=h._11O(p,Z[1]):"30"==p.substr(Z[1],2)&&(E._40O={},E._40O.p=h._70O(p,Z[1],[0],"02"),E._40O.q=h._70O(p,Z[1],[1],"02"),E._40O.g=h._70O(p,Z[1],[2],"02")),p.substr(b[1],2),E.key=h._11O(p,b[1]).substr(2),E}})._17O?b:r$,f=P._27O=function(p,E,b){return P._14O(p)},p$=(m1=function(){return function(p,E){if(p&&E){if(E=q(E),E=w(E,q$(2,4)),!this||!this.n||E._55O()>this.n._55O())return 0;if(0==(E=x(this._37O(E)[Y](q$(2,4)).replace(i,""))).length)return!1;var b=E[0];return E[1]==C._4O.Util._56O(p,b)}}.bind(f(A$))},hx.length-Cx.length);if(0<p$)for(var E$=0;E$<p$;E$++)u=s.Util,R=q;I$=function(p,E){E=R(E);var b=f(cm),Z=Ll.length,o=2*Z,E=w(E,q$(Z,o)),A=!0;if(A=b&&(l=b[gl[0]])&&E._55O()<=l._55O()?!1:A)return 0;var l=x(b._37O(E)[Y](q$(Z,o)).replace(i,""));return 0!=l.length&&(A=l[0],l[1]==u._11A(p,A))}}(h),u.Binding={}),Mm={},Fm=[],Xm=(t$.assign(Hm,{setBindingRule:function(p,E){if(E===K$)return Hm.removeBindingRule(p);Mm[p]=E},removeBindingRule:function(p){delete Mm[p]},getBindingRule:function(p){return Mm[p]},getBindingRuleMap:function(){return Mm},setBindingRulePattern:function(p,E){if(E===K$)return Hm.removeBindingRulePattern(p);Fm.push({pattern:p,rule:E})},removeBindingRulePattern:function(p){for(var E=Fm,b=0;b<E.length;b++)if(E[b].pattern.toString()===p.toString()){E.splice(b,1);break}},getBindingRulePattern:function(p){for(var E=Fm,b=0;b<E.length;b++)if(E[b].pattern===p)return E[b].rule;return null},getBindingRulePatternMap:function(){return Fm}}),function(E){function b(p){o=y1(p[E])?Z=E:(p=_B(E),Z="get"+p,"set"+p)}var Z,o;return{getter:function(p){return Z||b(p),p[Z]()},setter:function(p,E){o||b(p),p[o](E)}}}),Gm=function(b){return{getter:function(p){return p[b]},setter:function(p,E){p[b]=E}}},Tm=(Hm.setBindingRule("_internalFuncRule__",{func:Xm}),Hm.setBindingRule("_internalFieldRule__",{func:Gm}),Hm.setBindingRulePattern(Wm,{func:function(p){var b=p.slice(6);return{getter:function(p){return p.s(b)},setter:function(p,E){p.s(b,E),p.iv()}}}}),Hm.setBindingRulePattern(mm,{func:function(p){var b=p.slice(5);return{getter:function(p){return p.a(b)},setter:function(p,E){p.a(b,E),p.iv()}}}}),Hm.setBindingRulePattern(em,{func:function(p){return p=p.slice(6),Gm(p)}}),Hm.setBindingRulePattern(/^\./,{func:function(p){return p=p.slice(1),Gm(p)}}),Hm.setBindingRulePattern(/^state@/,{func:function(p,E){var A=p.slice(6).split("."),l=A.length,V=E;return V.getState&&(V=V.getState()),{getter:function(p){for(var E=V,b=0;b<l-1;b++)if(!(E=E[A[b]]))return K$;return E[A[l-1]]},setter:function(p,E){for(var b=V,Z=0;Z<l-1;Z++)var o=A[Z],b=b[o]||(b[o]={});b[A[l-1]]=E}}}}),Hm.setBindingRulePattern(/^material@/,{func:function(p,E){var b=p.slice(9),Z=b.lastIndexOf("###"),o=1;if(0<=Z)o=3;else if((Z=(Z=b.lastIndexOf("#"))<0?b.lastIndexOf("."):Z)<0)return void console.error("Binding pattern error: "+p);var A=b.slice(0,Z),l=b.slice(Z+o);return{getter:function(p){return(p=MH(p,A))?p[l]:K$},setter:function(p,E){var b=MH(p,A);b&&(p.iv(),b[l]=E)}}}}),Hm.setBindingRulePattern(/^func@/,{func:function(p){return p=p.slice(5),Xm(p)}}),Hm.setBindingRulePattern(/^funcFlatten@/,{func:function(p){var p=p.slice(12),E="get"+(p=_B(p)),b="set"+p;return{getter:function(p){return"x"in(p=p[E]())?"z"in p?[p.x,p.y,p.z]:[p.x,p.y]:"width"in p?"tall"in p?[p.width,p.tall,p.height]:[p.width,p.height]:p},setter:function(p,E){X$(E)?p[b].apply(p,E):p[b](E)}}}}),Hm.findFinalRule=function(p,E){var b,Z;do{if(P1(p)&&(p.setter||p.func)||y1(p)){Z=p;break}if(Z=Hm.getBindingRule(p))break;if("string"==typeof p){for(var o=Hm.getBindingRulePatternMap(),A=0,l=o.length;A<l;A++){var V=o[A];if(V.pattern.test(p)){Z=V.rule;break}}if(Z)break}}while(E&&(b="get"+_B(p),b=y1(E[b])||y1(E[p])?"_internalFuncRule__":"_internalFieldRule__",Z=Hm.getBindingRule(b)),0);return Z&&Z.func&&(Z=Z.func(p,E)),y1(Z)?{getter:P,setter:Z}:Z},E(H$,{load:(m9={},function(p,E,b){var Z,o=m9[p],A=b?"c_"+(b.sync?"1":"0")+"_"+(b.post?"1":"0")+"_"+(b.responseType||"H")+"_"+(b.mimeType||"H")+"_"+(b.data?JSON.stringify(b.data):"H"):"";o&&(Z=o[A])?Z.push(E):(m9[p]||(o=m9[p]={count:0}),Z=o[A]=[E],o.count++,H$.xhrLoad(p,function(E){delete o[A],o.count--,o.count||delete m9[p],Z.forEach(function(p){p(E)})},b))}),asyncEach:function(Z,E,o){"function"!=typeof o&&(o=Function.prototype);var A=new Array(Z.length),l=0,V=!1;Z.forEach(function(p,b){E(p,function(p,E){if(!V)return p?(V=!0,o(null)):(A[b]=E,++l===Z.length?o(A):void 0)})})},xhrLoad:function(p,b,o){var Z=!1,A=(X$(p)||(Z=!0,p=[p]),(o=o||{}).sync),l=null,E=o.method||"GET",V=(o.post&&(E="POST"),o.method=E,-1);if(H$.asyncEach(p,function(p,E){var b,Z;p=H$.beforeLoadURL(p),V++,p.data?E(null,p.data):(o.url=H$.encodeURI(p),p=!1,o.responseTypes&&o.responseTypes[V]&&(b=o.responseType,p=!0,o.responseType=o.responseTypes[V]),(Z=new UP).onload=function(p){200===this.status||0===this.status?E(null,Z.getResponseText()):E(!0)},Z.onerror=function(p){E(!0)},Z.send(o),p&&(o.responseType=b))},function(p){var E="function"==typeof b;(E||A)&&(l=Z&&p?p[0]:p,E&&b(l))}),A)return l}}),t$.setPrototypeOf||function(p,E){return p.__proto__=E,p}),gm=t$.getPrototypeOf||function(p){return p.__proto__},Lm=(Sl&&(e9=gm,gm=function(p){return P1(p)?e9(p):null}),t$.freeze),xm=(t$.isFrozen,function(){try{return new Function("return true")()}catch(p){return!1}}()),Cm=xm?function(p){return p&&p.length?new Function("o",["return o['",p.join("']['"),"'];"].join("")):AN}:function(Z){return Z&&Z.length?function(p){for(var E=0,b=Z.length;E<b;)p=p[Z[E++]];return p}:AN},hm=xm?function(p){return p&&p.length?new Function("o","v",["return o['",p.join("']['"),"'] = v;"].join("")):lN}:function(o){return o&&o.length?function(p,E){for(var b=0,Z=o.length-1;b<Z;)p=p[o[b++]];p[o[b]]=E}:lN},Pm=(VN.create=function(p,E){return function p(E,b,Z,o){var A=o(Z),l=new VN(E,b,Z,A);if(!A){for(var V=l.children,c=l.childMap,S=t$.keys(Z),I=0,D=S.length;I<D;++I){var B=p(l,B=S[I],Z[B],o);V.push(B),c[B.name]=B}l.children=Lm(V),l.childMap=Lm(c)}return Lm(l),l}(K$,K$,p,E)},VN.prototype.forEach=function(p,E){for(var b=this.children,Z=0,o=b.length;Z<o;++Z)p(b[Z],E)},VN),ym=function(p){var E=p,b=0,Z=0;return{check:function(){if(E<=0)return!0;var p=performance.now();return!(p-b<Z||((b+=Z)<p&&(b+=Math.floor((p-b)/Z)*Z),0))},setLimit:function(p){Z=1e3/(E=p)},getLimit:function(){return E}}},Lm=t$.freeze,am=1,Jm={main:{mask:1,priority:H$.cameraPriority.main,clearDepth:!1,ignore:!1},top:{mask:2,priority:H$.cameraPriority.top,ignore:!1}},dm="main",Um=Jm[dm].mask,Nm=function(p,E,b,Z){var o;if(p=p||0,b&&E in b)o=b[E].mask;else if(E in Jm)o=Jm[E].mask,!Z&&b&&(b[E]=p$(Jm[E]));else{if(Z)return p;var A,Z=1;if(32<=(Z=b?(A=t$.keys(b),vm.forEach(function(p){A.indexOf(p)<0&&A.push(p)}),A.length):Qm))throw new Error("Only 31 render layer can be defined.");Z={mask:1<<Z,priority:Jm[dm].priority},b?b[E]=Z:(Qm++,Jm[E]=Z,o=Jm[E].mask,vm=_m(t$.keys(Jm)),Qm=vm.length,am++)}return p|o},Om=function(p,E,b){var Z=0;if("string"==typeof p)Z=Nm(Z,p,E,b);else for(var o=0,A=p.length;o<A;++o)Z=Nm(Z,p[o],E,b);return Z},zm=function(p,E){return p&&E&&p&E},_m=function(p){return p.sort(function(p,E){return Jm[p].priority-Jm[E].priority})},vm=_m(t$.keys(Jm)),Qm=vm.length,q=(E(H$,{setRenderLayerInfo:function(p,E){if(Nm(0,p),E){for(var b in E)Jm[p][b]=E[b];E.priority&&(vm=_m(t$.keys(Jm)))}},getRenderLayerInfo:function(p){return Jm[p]}},!0),u.List=function(){this._as=[];var p,E,b=arguments.length;if(1===b){var Z=arguments[0];if(a1(Z)&&(Z=Z._as),X$(Z))for(E=Z.length,p=0;p<E;p++)this._as.push(Z[p]);else Z!=r$&&this._as.push(Z)}else if(1<b)for(p=0;p<b;p++)this._as.push(arguments[p])}),qm=(Jf("List",t$,{forEach:function(p,E){this.each(p,E)},push:function(){for(var p=0;p<arguments.length;p++)this.add(arguments[p])},pop:function(){return this._as.pop()},shift:function(){return this._as.shift()},unshift:function(){return this._as.unshift.apply(this._as,arguments)},size:function(){return this._as.length},isEmpty:function(){return 0===this._as.length},add:function(p,E){return E===K$?this._as.push(p):this._as.splice(E,0,p)},addAll:function(p){a1(p)&&(p=p._as),X$(p)?_1(this._as,p):this._as.push(p)},get:function(p){return this._as[p]},slice:function(p,E){return new q(this._as.slice(p,E))},remove:function(p){return 0<=(p=this._as.indexOf(p))&&p<this._as.length&&this.removeAt(p),p},removeAt:function(p){return this._as.splice(p,1)[0]},set:function(p,E){return this._as[p]=E},clear:function(){return this._as.splice(0,this._as.length)},empty:function(){this._as.length=0},contains:function(p){return 0<=this._as.indexOf(p)},indexOf:function(p){return this._as.indexOf(p)},each:function(p,E){for(var b=0,Z=this._as.length;b<Z;b++){var o=this._as[b];E?p.call(E,o,b,this):p(o,b,this)}},reverseEach:function(p,E){for(var b=this._as.length-1;0<=b;b--){var Z=this._as[b];E?p.call(E,Z):p(Z)}},eachUntil:function(p,E,b){for(var Z=0,o=this._as.length;Z<o;Z++){var A=this._as[Z];if((E?p.call(E,A,Z,this):p(A,Z,this))===b)return Z}return-1},reverseEachUntil:function(p,E,b){for(var Z=this._as.length-1;0<=Z;Z--){var o=this._as[Z];if((E?p.call(E,o):p(o))===b)return Z}return-1},getArray:function(){return this._as},toArray:function(p,E){if(p){for(var b,Z=[],o=0,A=this._as.length;o<A;o++)b=this._as[o],E?p.call(E,b)&&Z.push(b):p(b)&&Z.push(b);return Z}return this._as.concat()},toList:function(p,E){if(p){for(var b,Z=new q,o=0,A=this._as.length;o<A;o++)b=this._as[o],E?p.call(E,b)&&Z.add(b):p(b)&&Z.add(b);return Z}return new q(this)},reverse:function(){this._as.reverse()},sort:function(p){return this._as.sort(p||Zf),this},toString:function(){return this._as.toString()}}),t$.defineProperties(q.prototype,{length:{get:function(){return this._as.length},set:function(p){this._as.length=p}}}),new q),um=(E(qm,{size:function(){return 0},indexOf:function(){return-1},contains:function(){return!1},isEmpty:function(){return!0},sort:n1,each:n1,reverseEach:n1,toArray:function(){return[]},toList:function(){return new q},add:k1,addAll:k1,set:k1,remove:k1,removeAt:k1,clear:k1}),u.Notifier=function(){this._f=0}),Rm=(Jf("Notifier",t$,{contains:function(p,E){if(this._ls)for(var b,Z=0,o=this._ls.size();Z<o;Z++)if(p===(b=this._ls.get(Z)).l&&E===b.s)return!0;return!1},add:function(p,E,b){p={l:p,s:E,a:b},this._ls||(this._ls=new q),this._f?(this._as||(this._as=new q),this._as.add(p)):this._addItem(p)},_addItem:function(p){var E=this._ls;p.a?E.add(p,0):E.add(p)},remove:function(p,E){this._ls&&(this._f?(this._rs||(this._rs=new q),this._rs.add({l:p,s:E})):this._remove(p,E))},_remove:function(p,E){for(var b,Z=this._ls,o=0,A=Z.size();o<A;o++)if((b=Z.get(o)).l===p&&b.s===E)return void Z.removeAt(o)},fire:function(p){var E=this,b=E._ls;if(E._b=1e4,b){++E._f;try{for(var Z,o=0,A=b.size();o<A;o++)(Z=b.get(o)).s?Z.l.call(Z.s,p):Z.l(p)}catch(p){Al(function(){throw p})}finally{if(--E._f)return;if(E._rs){for(A=E._rs.size(),o=0;o<A;o++)Z=E._rs.get(o),E._remove(Z.l,Z.s);delete E._rs}if(E._as){for(A=E._as.size(),o=0;o<A;o++)Z=E._as.get(o),E._addItem(Z);delete E._as}}}}}),u.Notifier2=function(){R1(Rm,this)}),sm=(Jf("Notifier2",um,{_addItem:function(p){var E=this._ls,b=E.size(),Z=p.a;Z==r$&&(Z=p.a=0);for(var o=0;o<b;o++)if(E.get(o).a<Z)return void E.add(p,o);E.add(p)}}),u.Data=function(){this._id=pf()}),wm=(Jf("Data",t$,{ms_ac:["tag","name","displayName","icon","toolTip","attrObject","styleMap","layer","adjustChildrenToTop","dataBindings"],ms_dm:1,ms_attr:1,_icon:r$,_parent:r$,_children:qm,_childMap:r$,_styleMap:r$,_layer:"0",_renderLayer:dm,_renderLayerMask:Um,_adjustChildrenToTop:!1,getRenderLayerMask:function(){return this._renderLayerMask||Um},getRenderLayer:function(){return this._renderLayer||dm},setRenderLayer:function(p){var E=Nm(0,p,null,!0),E=(this._renderLayerMask=E,this._renderLayer);this._renderLayer=p,this.fp("renderLayer",E,this._renderLayer)},testRenderLayer:function(p){return Jm[p]&&zm(this._renderLayerMask,Jm[p].mask)},getUIClass:function(){return r$},get3dUIClass:function(){return r$},beginTransaction:function(){this._dataModel&&this._dataModel.beginTransaction()},endTransaction:function(){this._dataModel&&this._dataModel.endTransaction()},s:function(p,E){if(2===arguments.length)this.setStyle(p,E);else{if(!P1(p))return this.getStyle(p);for(var b in p)this.setStyle(b,p[b])}return this},fp:function(p,E,b,Z,o){return this.firePropertyChange(p,E,b,Z,o)},firePropertyChange:function(p,E,b,Z,o){if(Z){if(Z(E,b))return!1}else if(E===b)return!1;return(Z=o||{}).property=p,Z.oldValue=E,Z.newValue=b,(Z.data=this)._dataModel&&this._dataModel.handleDataPropertyChange(Z),this.onPropertyChanged(Z),!0},onPropertyChanged:function(p){var E,b,Z=this._parent,o=p.property;d1(Z)&&(b="s:ingroup"===o,((E=this.s(vl))&&lY[o]||o===b)&&Z._81I(),(E||b)&&Z.fp("childChange",!0,!1)),!N1(Z)||Z._51I||this._51I||(lY[o]||"elevation"===o||cY[o]||"scaleTall"===o||"tall"===o)&&Z.updateFromChildren(),"s:alwaysOnTop"!==o&&"s:shape3d.alwaysOnTop"!==o||(p.newValue?this.setRenderLayer("top"):this.setRenderLayer(K$))},_21I:function(p){if(p&&this._dataModel)throw"Remove data from dataModel before adding";this._dataModel=p},removeFromDataModel:function(){this._dataModel?this._dataModel.remove(this):this.setParent(null)},clearChildrenFromDataModel:function(p){for(var E=0,b=this._children.toArray(),Z=b.length;E<Z;E++)b[E].removeFromDataModel()},getId:function(){return this._id},setId:function(p){this._id=p},getChildren:function(){return this._children},size:function(){return this._children.size()},toChildren:function(p,E){return this._children.toList(p,E)},eachChild:function(p,E){this._children.each(p,E)},addChild:function(p,E){var b=this;p!==b&&(b._children===qm&&(b._children=new q,b._childMap={}),0<=E||(E=b._children.size()),b._childMap[p._id]||b.isDescendantOf(p)||(p._parent&&p._parent.removeChild(p),(E<0||E>b._children.size())&&(E=b._children.size()),b._children.add(p,E),(b._childMap[p._id]=p).setParent(b),b.onChildAdded(p,E),b.fp(vx,r$,p)))},onChildAdded:function(p,E){},removeChild:function(p){var E;this._childMap&&this._childMap[p._id]&&(E=this._children.remove(p),delete this._childMap[p._id],this.fp(vx,p,r$),p.setParent(r$,E),this.onChildRemoved(p,E))},onChildRemoved:function(p,E){},getChildAt:function(p){return this._children.get(p)},clearChildren:function(){if(!this._children.isEmpty())for(var p=0,E=this._children.toArray(),b=E.length;p<b;p++)this.removeChild(E[p])},getParent:function(){return this._parent},setParent:function(p,E){var b,Z,o=this;o._73I||o._parent===p||o===p||p&&p.isDescendantOf(o)||(b=o._parent,o._parent=p,o._73I=1,b?(E==r$&&(E=b.getChildren().indexOf(o)),b.removeChild(o)):o._dataModel&&E==r$&&(E=o._dataModel.getRoots().indexOf(o)),p&&(p.addChild(o),Z=p.getChildren().indexOf(o)),delete o._73I,o.fp("parent",b,p,K$,{oldIndex:E,newIndex:Z}),o.onParentChanged(b,p))},onParentChanged:function(p,E){},hasChildren:function(){return 0<this._children.size()},isEmpty:function(){return this._children.isEmpty()},isRelatedTo:function(p){return!!p&&(this.isDescendantOf(p)||p.isDescendantOf(this))},isParentOf:function(p){return!(!p||!this._childMap||!this._childMap[p._id])},isDescendantOf:function(p){if(!p||p.isEmpty())return!1;for(var E=this._parent;E;){if(p===E)return!0;E=E._parent}return!1},getOwnStyle:function(p){var E=this._styleMap;return E?E[p]:K$},getStyle:function(p){var E=this._styleMap;return E&&(E=E[p])!==K$?E:L$[p]},setStyle:function(p,E){this._styleMap||(this._styleMap={});var b=this._styleMap[p];E===K$?delete this._styleMap[p]:this._styleMap[p]=E,this.fp("s:"+p,b,E)&&this.onStyleChanged(p,b,E)},onStyleChanged:function(p,E,b){},iv:function(p){this.invalidate(p)},invalidate:function(p){this.fp(p||"*",!1,!0)},toString:function(){return this._displayName||this._name||this._tag||this._id},toLabel:function(){return this._displayName||this._name},addStyleIcon:function(p,E){var b=this.s(ox);this.beginTransaction(),b||this.s(ox,b={}),E?b[p]=E:delete b[p],this.fp(ox,r$,b),this.endTransaction()},removeStyleIcon:function(p){var E,b=this.s(ox);return b&&(E=b[p],delete b[p],this.fp(ox,r$,b)),E},_calcAnchorMatrix3d:function(){},appendAnchorMatrix3d:function(p){var E,b,Z;(this.hasOwnProperty("_anchor")||this.hasOwnProperty("_anchorElevation"))&&(E=(Z=this.getAnchor3d()).x-.5,b=Z.y-.5,Z=Z.z-.5,Yj(p,[-E,-b,-Z]))},getSerializableProperties:function(){return{name:1,displayName:1,icon:1,toolTip:1,parent:1,layer:1,renderLayer:1,tag:1,adjustChildrenToTop:1,dataBindings:1}},getSerializableStyles:function(){var p,E={};for(p in this._styleMap)E[p]=1;return E},getCurrentPrefix:function(){return this._interactPrefix||nm},ca:function(p,E){return p=this.getCurrentPrefix()+p,2===arguments.length?this.a(p,E):this.a(p)}}),u.DataModel=function(){var Z=this,o=(Z._isDeserializing=0,Z._datas=new q,Z._dataMap={},Z._roots=new q,Z._rootMap={},Z._fsDataMap={},Z._78O={},Z._reflectorMap={},Z._36I=new um,Z._35I=new um,Z._serializeNotifier=new um,Z._selectionModel=new im(Z),Z._29Q=[]),A=Z._scheduleCallback=function(){for(var p=Date.now(),E=0;E<o.length;E++){var b=o[E];b.enabled&&p-b.lastTime>b.interval&&(b.beforeAction&&b.beforeAction(),b.action&&Z.each(function(p){b.action(p)}),b.afterAction&&b.afterAction(),b.lastTime=p)}o.length&&(Z._30Q=h.requestAnimationFrame(A))}}),im=(Jf("DataModel",t$,{ms_fire:1,ms_attr:1,ms_ac:["layers","name","autoAdjustIndex","hierarchicalRendering","background","envmapType","envmap","postProcessingData","init"],_name:K$,_autoAdjustIndex:!0,_hierarchicalRendering:!1,_background:K$,_init:K$,_envmap:K$,_envmapType:K$,_postProcessingData:K$,sm:function(){return this.getSelectionModel()},mm:function(p,E,b){this.addDataModelChangeListener(p,E,b)},umm:function(p,E){this.removeDataModelChangeListener(p,E)},md:function(p,E,b){this.addDataPropertyChangeListener(p,E,b)},umd:function(p,E){this.removeDataPropertyChangeListener(p,E)},mh:function(p,E,b){this.addHierarchyChangeListener(p,E,b)},umh:function(p,E){this.removeHierarchyChangeListener(p,E)},getAttrObject:function(){return this._attrObject},setAttrObject:function(p){return this._attrObject=p},getSelectionModel:function(){return this._selectionModel},size:function(){return this._datas.size()},isEmpty:function(){return this._datas.isEmpty()},getRoots:function(){return this._roots},getDatas:function(){return this._datas},getFullscreenDatas:function(){return this._fsDataMap},getReflectors:function(){return this._reflectorMap},getDataById:function(p){return this._dataMap[p]},removeDataById:function(p){this.remove(this.getDataById(p))},toDatas:function(p,E){return this._datas.toList(p,E)},each:function(p,E){this._datas.each(p,E)},getDataByTag:function(p){return this._78O[p]},getTagMap:function(){return this._78O},removeDataByTag:function(p){this.remove(this.getDataByTag(p))},add:function(p,E,b){var Z=this,o=p._id,A=p._tag,l=Z._roots;if(Z._dataMap[o])throw"'"+o+"' already exists";A!=r$&&(Z._78O[A]=p),Z._dataMap[o]=p,0<=b?Z._datas.add(p,b):Z._datas.add(p),p._parent||(Z._rootMap[o]=p,0<=E?l.add(p,E):l.add(p)),p.s("fullscreen")!==K$&&(Z._fsDataMap[o]=p),p.s("shape3d.reflector")&&(Z._reflectorMap[o]=p),p._21I(Z),Z.onAdded(p),Z._36I.fire({kind:"add",data:p,rootsIndex:E,datasIndex:b})},onAdded:function(p){},remove:function(p,E){var b,Z,o,A,l,V,c;p&&(b=this,Z=p._id,o=E&&E.keepStructure,V=E&&E.keepChildren,A=p.getTag(),p._dataModel===b&&((l=p instanceof gP)&&H$.setIsolating(!0),this.beginTransaction(),o?b._removingData||(b._removingData=p):b.prepareRemove(p),V||p.toChildren().each(function(p){b.remove(p,E)},b),o?b._removingData===p&&(p._parent&&p._parent.removeChild(p),delete b._removingData):p._parent&&p._parent.removeChild(p),V=b._datas.remove(p),delete b._dataMap[Z],A!=r$&&delete b._78O[A],b._rootMap[Z]&&(delete b._rootMap[Z],c=b._roots.remove(p)),b._fsDataMap[Z]&&delete b._fsDataMap[Z],b._reflectorMap[Z]&&delete b._reflectorMap[Z],p._21I(r$),b.onRemoved(p),b._36I.fire({kind:Nl,data:p,rootsIndex:c,datasIndex:V}),this.endTransaction(),l&&H$.setIsolating(!1)))},onRemoved:function(p){},prepareRemove:function(p){},clear:function(){var p,E=this;E._datas.size()&&(p=E._historyManager?this.toJSON():K$,E._datas.toArray().forEach(function(p){p._21I(r$)}),E._datas.empty(),E._dataMap={},E._roots.empty(),E._rootMap={},E._fsDataMap={},E._reflectorMap={},E._78O={},E._36I.fire({kind:Ol,json:p}))},contains:function(p){return p&&p._dataModel===this},handleDataPropertyChange:function(p){var E,b,Z,o,A=p.data,l=p.property;"parent"===l?(Z=A._id,b=this._rootMap,E=this._roots,A._parent?b[Z]&&(delete b[Z],E.remove(A)):b[Z]||(b[Z]=A,E.add(A))):"tag"===l?(b=p.oldValue,E=p.newValue,o=this._78O,b!=r$&&delete o[b],E!=r$&&(o[E]=A)):"s:fullscreen"===l?(Z=A._id,b=this._fsDataMap,p.oldValue!=r$&&delete b[Z],p.newValue!=r$&&(b[Z]=A)):"s:shape3d.reflector"===l&&(Z=A._id,o=this._reflectorMap,p.oldValue&&delete o[Z],p.newValue&&(o[Z]=A)),this.onDataPropertyChanged(A,p),this._35I.fire(p)},onDataPropertyChanged:function(p,E){},addDataModelChangeListener:function(p,E,b){this._36I.add(p,E,b)},removeDataModelChangeListener:function(p,E){this._36I.remove(p,E)},addSerializeListener:function(p,E,b){this._serializeNotifier.add(p,E,b)},removeSerializeListener:function(p,E){this._serializeNotifier.remove(p,E)},fireSerializeEvent:function(p){this._serializeNotifier.fire(p)},addDataPropertyChangeListener:function(p,E,b){this._35I.add(p,E,b)},removeDataPropertyChangeListener:function(p,E){this._35I.remove(p,E)},_38I:function(p,E,b){this._37I&&this._37I.fire({data:p,oldIndex:E,newIndex:b})},addHierarchyChangeListener:function(p,E,b){this._37I||(this._37I=new um),this._37I.add(p,E,b)},removeHierarchyChangeListener:function(p,E){this._37I.remove(p,E)},getSiblings:function(p){return(p=p._parent)?p._children:this._roots},eachByHierarchical:function(p,E,b){if(E)return this._eachByHierarchical(p,E,b);for(var Z=0,o=this._roots,A=o.size();Z<A;Z++)if(!1===this._eachByHierarchical(p,o.get(Z),b))return!1;return!0},_eachByHierarchical:function(p,E,b){if(b){if(!1===p.call(b,E))return!1}else if(!1===p(E))return!1;for(var Z=E.size(),o=0;o<Z;o++)if(!1===this._eachByHierarchical(p,E.getChildAt(o),b))return!1;return!0},reverseEachByHierarchical:function(p,E,b){if(E)return this._reverseEachByHierarchical(p,E,b);for(var Z=this._roots,o=Z.size()-1;0<=o;o--)if(!1===this._reverseEachByHierarchical(p,Z.get(o),b))return!1;return!0},_reverseEachByHierarchical:function(p,E,b){for(var Z=E.size()-1;0<=Z;Z--)if(!1===this._reverseEachByHierarchical(p,E.getChildAt(Z),b))return!1;if(b){if(!1===p.call(b,E))return!1}else if(!1===p(E))return!1;return!0},eachByDepthFirst:function(p,E,b){if(E)return this._11I(p,E,b);for(var Z=0,o=this._roots,A=o.size();Z<A;Z++)if(!1===this._11I(p,o.get(Z),b))return!1;return!0},_11I:function(p,E,b){for(var Z=E.size(),o=0;o<Z;o++)if(!1===this._11I(p,E.getChildAt(o),b))return!1;if(b){if(!1===p.call(b,E))return!1}else if(!1===p(E))return!1;return!0},eachByBreadthFirst:function(p,E,b){var Z=new q;for(E?Z.add(E):this._roots.each(Z.add,Z);0<Z.size();)if((E=Z.removeAt(0)).eachChild(Z.add,Z),b){if(!1===p.call(b,E))return!1}else if(!1===p(E))return!1;return!0},moveTo:function(p,E){var b=this.getSiblings(p),Z=b.indexOf(p);Z===E||Z<0||0<=E&&E<=b.size()&&(b.remove(p),E>b.size()&&E--,b.add(p,E),this._38I(p,Z,E))},moveUp:function(p){this.moveTo(p,this.getSiblings(p).indexOf(p)-1)},moveDown:function(p){this.moveTo(p,this.getSiblings(p).indexOf(p)+1)},moveToTop:function(p){this.moveTo(p,0)},moveToBottom:function(p){this.moveTo(p,this.getSiblings(p).size())},moveSelectionUp:function(p){this.beginTransaction(),p=p||this.sm();var E=new q;Q6(p,E,this._roots),E.each(this.moveUp,this),this.endTransaction()},moveSelectionDown:function(p){this.beginTransaction(),p=p||this.sm();var E=new q;q6(p,E,this._roots),E.each(this.moveDown,this),this.endTransaction()},moveSelectionToTop:function(p){this.beginTransaction(),p=p||this.sm();var E=new q;v6(p,E,this._roots),E.each(this.moveToTop,this),this.endTransaction()},moveSelectionToBottom:function(p){this.beginTransaction(),p=p||this.sm();var E=new q;_6(p,E,this._roots),E.each(this.moveToBottom,this),this.endTransaction()},moveToIndex:function(p,E,b){var Z=this.getDatas();(b=null==b?Z.indexOf(p):b)===E||b<0||0<=E&&E<=Z.size()&&(Z.remove(p),E>Z.size()&&E--,Z.add(p,E),this._76I(p,b,E))},bringForward:function(p){this.moveToIndex(p,this.getDatas().indexOf(p)+1)},bringToFront:function(p){this.moveToIndex(p,this.size())},sendBackward:function(p){this.moveToIndex(p,this.getDatas().indexOf(p)-1)},sendToBack:function(p){this.moveToIndex(p,0)},bringSelectionForward:function(p){this.beginTransaction(),p=p||this.sm();for(var E=new q,b=this.getDatas(),Z=!1,o=0;o<b.size();o++){var A=b.get(b.size()-1-o);p.contains(A)?Z&&E.add(A):Z=!0}E.each(this.bringForward,this),this.endTransaction()},bringSelectionToFront:function(p){this.beginTransaction(),p=p||this.sm();for(var E=new q,b=this.getDatas(),Z=0;Z<b.size();Z++){var o=b.get(Z);p.contains(o)&&E.add(o)}E.each(this.bringToFront,this),this.endTransaction()},sendSelectionBackward:function(p){this.beginTransaction(),p=p||this.sm();for(var E=new q,b=this.getDatas(),Z=!1,o=0;o<b.size();o++){var A=b.get(o);p.contains(A)?Z&&E.add(A):Z=!0}E.each(this.sendBackward,this),this.endTransaction()},sendSelectionToBack:function(p){this.beginTransaction(),p=p||this.sm();for(var E=new q,b=this.getDatas(),Z=0;Z<b.size();Z++){var o=b.get(b.size()-1-Z);p.contains(o)&&E.add(o)}E.each(this.sendToBack,this),this.endTransaction()},addScheduleTask:function(p){this.removeScheduleTask(p),p.enabled==r$&&(p.enabled=!0),p.interval==r$&&(p.interval=10),p.lastTime=Date.now(),this._29Q.push(p),this._30Q==r$&&(this._30Q=h.requestAnimationFrame(this._scheduleCallback))},removeScheduleTask:function(p){var E=this._29Q;0<=(p=E.indexOf(p))&&E.splice(p,1),E.length||this._30Q==r$||(h.cancelAnimationFrame(this._30Q),delete this._30Q)},getHistoryManager:function(){return this._historyManager},enableHistoryManager:function(p){this._historyManager||new u.HistoryManager(this),null!=p&&this._historyManager.setMaxHistoryCount(p),this._historyManager.setDisabled(!1)},disableHistoryManager:function(){this._historyManager&&this._historyManager.setDisabled(!0)},clearHistoryManager:function(){this._historyManager&&this._historyManager.clear()},undo:function(p){this._historyManager&&this._historyManager.undo(p)},redo:function(p){this._historyManager&&this._historyManager.redo(p)},beginTransaction:function(){this._historyManager&&this._historyManager.beginTransaction()},endTransaction:function(){this._historyManager&&this._historyManager.endTransaction()},addHistory:function(p){this._historyManager&&this._historyManager.addHistory(p)},onHistoryManagerChanged:function(){},isDeserializing:function(){return 0<this._isDeserializing},setDeserializing:function(p){p?this._isDeserializing++:this._isDeserializing--},isCubicEnvmap:function(){return!1},setCubicEnvmap:function(p){},setEnvmap:function(p){var E=this._envmap;E===(this._envmap=p)&&X$(E)&&X$(p)&&(E=[]),this.fp("envmap",E,p)}}),u.SelectionModel=function(p){this._68O=ml,this._map={},this._73O=new q,this._74I=new um,this._21I(p)}),fm=(Jf("SelectionModel",t$,{ms_fire:1,ms_dm:1,ms:function(p,E,b){this.addSelectionChangeListener(p,E,b)},ums:function(p,E){this.removeSelectionChangeListener(p,E)},fd:function(){return this.getFirstData()},ld:function(){return this.getLastData()},sg:function(){return this._68O===Wl},co:function(p){return this._map[p._id]!=r$},ss:function(p){this.setSelection(p)},as:function(p){this.appendSelection(p)},rs:function(p){this.removeSelection(p)},cs:function(){this.clearSelection()},sa:function(){this.selectAll()},getSelectionMode:function(){return this._68O},setSelectionMode:function(p){var E;this._68O===p||p!==gl&&p!==Wl&&p!==ml||(this.cs(),E=this._68O,this._68O=p,this.fp("selectionMode",E,p))},_21I:function(p){var E=this._dataModel;E!==p&&(E&&(this.cs(),E.umm(this.handleDataModelChange,this)),(this._dataModel=p).mm(this.handleDataModelChange,this,!0),this.fp(ux,E,p))},dispose:function(){this.cs(),this._dataModel.umm(this.handleDataModelChange,this)},handleDataModelChange:function(p){var E;p.kind===Nl?(E=p.data,this.co(E)&&(this._73O.remove(E),delete this._map[E._id],this._75I(Nl,new q(E)))):p.kind===Ol&&this.cs()},getFilterFunc:function(){return this._filterFunc},setFilterFunc:function(p){var E;this._filterFunc!==p&&(this.cs(),E=this._filterFunc,this._filterFunc=p,this.fp("filterFunc",E,this._filterFunc))},_75I:function(p,E,b,Z){b&&(this._73O.each(function(p){Z[p._id]?b.remove(p):b.add(p)}),E=b.toList()),this._74I.fire({kind:p,datas:new q(E)})},addSelectionChangeListener:function(p,E,b){this._74I.add(p,E,b)},removeSelectionChangeListener:function(p,E){this._74I.remove(p,E)},_97O:function(p,E){for(var b,Z=0,o=new q(p);Z<o.size();Z++)b=o.get(Z),(this._filterFunc&&!this._filterFunc(b)||E&&this.co(b)||!E&&!this.co(b)||!this._dataModel.contains(b))&&(o.removeAt(Z),Z--);return o},appendSelection:function(p){var E,b,Z,o=this;o._68O!==gl&&(E=o._73O,(p=o._97O(p,!0)).isEmpty()||(o.sg()&&(b=new q(E),Z=o._map,E.empty(),o._map={},p=new q(p.get(p.size()-1))),p.each(function(p){E.add(p),o._map[p._id]=p}),o._75I("append",p,b,Z)))},removeSelection:function(p){var E=this._97O(p),b=0,Z=E.size();if(0!==Z){for(;b<Z;b++){var o=E.get(b);this._73O.remove(o),delete this._map[o._id]}this._75I(Nl,E)}},toSelection:function(p,E){return this._73O.toList(p,E)},getSelection:function(){return this._73O},each:function(p,E){this._73O.each(p,E)},setSelection:function(p){var E,b,Z=this,o=Z._73O;Z._68O===gl||o.isEmpty()&&!p||1===o.size()&&Z.ld()===p||(E=new q(o),b=Z._map,o.empty(),Z._map={},p=Z._97O(p,!0),(p=Z.sg()&&1<p.size()?new q(p.get(p.size()-1)):p).each(function(p){o.add(p),Z._map[p._id]=p}),Z._75I("set",r$,E,b))},clearSelection:function(){var p,E=this._73O;0<E.size()&&(p=E.toList(),E.empty(),this._map={},this._75I(Ol,p))},selectAll:function(){var p=this;if(p._68O!==gl){var E,b=p._dataModel.toDatas();if(p._filterFunc)for(V=0;V<b.size();V++)E=b.get(V),p._filterFunc(E)||(b.removeAt(V),V--);for(var Z=p._73O,o=new q(Z),A=p._map,l=(Z.empty(),p._map={},(b=p.sg()&&1<b.size()?new q(b.get(b.size()-1)):b).size()),V=0;V<l;V++)E=b.get(V),Z.add(E),p._map[E._id]=E;p._75I("all",r$,o,A)}},size:function(){return this._73O.size()},isEmpty:function(){return this._73O.isEmpty()},contains:function(p){return this._map[p._id]!=r$},getLastData:function(){var p=this._73O;return 0<p.size()?p.get(p.size()-1):r$},getFirstData:function(){var p=this._73O;return 0<p.size()?p.get(0):r$},isSelectable:function(p){return!(!p||this._68O===gl)&&(!this._filterFunc||this._filterFunc(p))},getTopSelection:function(){var b=this,Z=new q;return b._73O.each(function(p){for(var E=p.getParent();E;){if(b.contains(E)){p=r$;break}E=E.parent}p&&Z.add(p)}),Z}}),function(p,E,b,Z){var o=this,p=(E||(E=kl?5:3,Z=b=20),{x:0,y:E,width:b,height:Z});if(b)for(var A=0;A<b;A++)if(3===b)Z=20;else for(var l=0;l<Z;l++)o=h||b;Kf(p,{x:R$,y:2*R$})&&(E=_l[0]+Kl[0]+Ol[1]+Ux.length,m6.eye=[o[E],o[p=kx[0]+dx[0]+Ol[1]+fl.length]],o[E]=x1.eye,o[p]=x1[wx])}(),function(p,E){var b;return(b=U1(E)&&(p=p.getDataUI(E))&&p._88I?p._88I.rect:b)||E.getRect()}),pY=[];E(H$,{edgeGroupAgentFunc:r$,graphViewAutoScrollZone:16,graphViewZoomable:!0,graphViewResettable:!1,graphViewPannable:!0,graphViewRectSelectable:!0,graphViewScrollBarVisible:!0,graphViewRectSelectBorderColor:s.rectSelectBorder,graphViewRectSelectBackground:Bl,graphViewEditPointSize:kl?17:7,graphViewEditPointBorderColor:s.editPointBorder,graphViewEditPointBackground:s.editPointBackground,graphViewZoomCacheLatency:0,setEdgeType:function(p,E,b){p1[p]=E,b1[p]=b},getEdgeType:function(p){return p1[p]},getEdgeTypeMap:function(){return p1},getNodeRect:fm,addViewCreatedListener:function(p){return-1===pY.indexOf(p)&&(pY.push(p),!0)},removeViewCreatedListener:function(p){return-1!==(p=pY.indexOf(p))&&(pY.splice(p,1),!0)}},!0);(pl={"layout.h":K$,"layout.v":K$,"2d.selectable":!0,"2d.visible":!0,"2d.movable":!0,"2d.editable":!0,"2d.move.mode":K$,"2d.attachable":!1,"2d.hostable":!1,interactive:!1,preventDefaultWhenInteractive:!0,disableDoubleClick:!1,"image.stretch":"fill",icons:K$,"icons.getRotation":K$,"icons.getPosition":K$,ingroup:!0,"body.color":K$,"2d.gray":!1,fullscreen:K$,"fullscreen.gap":2,"fullscreen.lock":!1,opacity:K$,pixelPerfect:!0,keepAspectRatio:!1,"attach.points":null,"attach.style":null,"attach.close.threshold":16,"vector.layoutable":!1,"clip.direction":"top","clip.percentage":K$,"clip.host":!1,"host.clip.padding":0,"select.color":I3,"select.width":1,"select.padding":2,"select.type":Pl,"shadow.interactable":!0,shadow:!1,"shadow.blur":6,"shadow.offset.x":3,"shadow.offset.y":3,shadow2:!1,"shadow2.color":I3,"shadow2.blur":6,"shadow2.offset.x":3,"shadow2.offset.y":3,"shadow2.inset":!1,"border.color":K$,"border.width":2,"border.padding":2,"border.type":Pl,label:K$,"label.font":K$,"label.color":yq,"label.background":K$,"label.position":31,"label.position.fixed":!1,"label.offset.x":0,"label.offset.y":2,"label.rotation":K$,"label.max":K$,"label.opacity":K$,"label.scale":1,"label.align":K$,"label.selectable":!0,"label.decoration":K$,"label.border.width":K$,"label.border.color":K$,"label.letter.gap":K$,"label.vertical.gap":K$,label2:K$,"label2.font":K$,"label2.color":yq,"label2.background":K$,"label2.position":34,"label2.position.fixed":!1,"label2.offset.x":0,"label2.offset.y":-2,"label2.rotation":K$,"label2.max":K$,"label2.opacity":K$,"label2.scale":1,"label2.align":K$,"label2.selectable":!0,"label2.decoration":K$,"label2.border.width":K$,"label2.border.color":K$,"label2.letter.gap":K$,"label2.vertical.gap":K$,note:K$,"note.expanded":!0,"note.font":K$,"note.color":D3,"note.background":I3,"note.position":8,"note.offset.x":-3,"note.offset.y":3,"note.max":K$,"note.toggleable":!0,"note.border.width":1,"note.border.color":K$,"note.opacity":K$,"note.scale":1,"note.align":K$,note2:K$,"note2.expanded":!0,"note2.font":K$,"note2.color":D3,"note2.background":I3,"note2.position":3,"note2.offset.x":3,"note2.offset.y":-3,"note2.max":K$,"note2.toggleable":!0,"note2.border.width":1,"note2.border.color":K$,"note2.opacity":K$,"note2.scale":1,"note2.align":K$,"html.layout.anchor.sync":!0,"group.type":K$,"group.image":K$,"group.image.stretch":"fill","group.repeat.image":K$,"group.repeat.image.stretch":K$,"group.repeat.image.rotation":0,"group.border.repeat.image":K$,"group.border.repeat.image.stretch":K$,"group.border.repeat.image.rotation":0,"group.padding":8,"group.padding.left":0,"group.padding.right":0,"group.padding.top":0,"group.padding.bottom":0,"group.position":17,"group.toggleable":!0,"group.title.font":K$,"group.title.color":D3,"group.title.background":s.groupTitleBackground,"group.title.align":Yl,"group.title.orientation":Kl,"group.background":s.groupBackground,"group.depth":1,"group.border.width":1,"group.border.pattern":K$,"group.border.color":k,"group.border.radius":K$,"group.border.cap":hq,"group.border.join":Pq,"group.border.width.absolute":!1,"group.splitLine":!1,"group.gradient":r$,"group.gradient.color":"#FFF",shape:K$,"shape.background":k,"shape.repeat.image":K$,"shape.repeat.image.stretch":K$,"shape.repeat.image.rotation":0,"shape.border.repeat.image":K$,"shape.border.repeat.image.stretch":K$,"shape.border.repeat.image.rotation":0,"shape.border.width":0,"shape.border.width.absolute":!1,"shape.border.color":k,"shape.border.3d":!1,"shape.border.3d.color":K$,"shape.border.3d.accuracy":K$,"shape.border.cap":hq,"shape.border.join":Pq,"shape.border.pattern":K$,"shape.gradient":r$,"shape.gradient.color":"#FFF","shape.depth":0,"shape.dash":!1,"shape.dash.pattern":Cq,"shape.dash.offset":0,"shape.dash.color":p3,"shape.dash.gradient.pack":K$,"shape.dash.width":K$,"shape.dash.3d":!1,"shape.dash.3d.color":K$,"shape.dash.3d.accuracy":K$,"shape.polygon.side":6,"shape.star.side":8,"shape.star.ratio":.382,"shape.arc.from":R$,"shape.arc.to":j$,"shape.arc.close":!0,"shape.arc.oval":!1,"shape.corner.radius":K$,"shape.gradient.pack":K$,"shape.border.gradient.pack":K$,"shape.fill.rule":"nonzero","shape.fill.clip.direction":"top","shape.fill.clip.percentage":K$,"shape.foreground":K$,"shape.foreground.gradient":r$,"shape.foreground.gradient.color":"#FFF","shape.foreground.clip.direction":"top","shape.foreground.clip.percentage":K$,"shape.regular":!0,"autolayout.gap":K$,"autolayout.hgap":K$,"autolayout.vgap":K$,"edge.type":K$,"edge.points":K$,"edge.segments":K$,"edge.color":k,"edge.width":2,"edge.width.absolute":!1,"edge.repeat.image":null,"edge.offset":0,"edge.group":0,"edge.expanded":!0,"edge.gap":12,"edge.toggleable":!0,"edge.center":!1,"edge.3d":!1,"edge.3d.color":K$,"edge.3d.accuracy":K$,"edge.cap":hq,"edge.join":Pq,"edge.source.position":17,"edge.source.anchor.x":K$,"edge.source.anchor.y":K$,"edge.source.offset.x":0,"edge.source.offset.y":0,"edge.source.index":-1,"edge.source.percent":0,"edge.target.position":17,"edge.target.anchor.x":K$,"edge.target.anchor.y":K$,"edge.target.offset.x":0,"edge.target.offset.y":0,"edge.target.index":-1,"edge.target.percent":0,"edge.pattern":K$,"edge.dash":!1,"edge.dash.pattern":Cq,"edge.dash.offset":0,"edge.dash.color":p3,"edge.dash.width":K$,"edge.dash.3d":!1,"edge.dash.3d.color":K$,"edge.dash.3d.accuracy":K$,"edge.independent":!1,"attach.row.index":0,"attach.column.index":0,"attach.row.span":1,"attach.column.span":1,"attach.padding":0,"attach.padding.left":0,"attach.padding.right":0,"attach.padding.top":0,"attach.padding.bottom":0,"attach.index":-1,"attach.offset":0,"attach.offset.relative":!1,"attach.offset.opposite":!1,"attach.thickness":K$,"attach.gap":0,"attach.gap.relative":!1,"grid.row.count":1,"grid.column.count":1,"grid.row.percents":K$,"grid.column.percents":K$,"grid.border":1,"grid.border.left":0,"grid.border.right":0,"grid.border.top":0,"grid.border.bottom":0,"grid.gap":1,"grid.background":s.gridBackground,"grid.depth":1,"grid.cell.depth":-1,"grid.cell.border.color":s.gridCellBorderColor,"grid.block":K$,"grid.block.padding":3,"grid.block.width":1,"grid.block.color":s.gridBlockColor,text:"","text.align":"left","text.vAlign":"middle","text.color":yq,"text.gradient.pack":K$,"text.font":aq,"text.shadow":!1,"text.shadow.color":I3,"text.shadow.blur":6,"text.shadow.offset.x":3,"text.shadow.offset.y":3,"text.scale.x":1,"text.scale.y":1,"text.gradient":K$,"text.gradient.color":"#FFF","text.decoration":K$,"text.vertical":!1,"text.vertical.gap":1,"text.wrap":!1,"text.letter.gap":K$,"text.border.color":I3,"text.border.width":0,"text.corner.radius":0,"text.outline.width":0,"text.outline.color":K$,"text.background":K$,keepPosition:!0,composite:K$,visibleCascade:!1,cursor:K$})[Rx]=K$,E(L$,pl,!0),E(wm,{_76I:function(p,E,b){this._39I&&this._39I.fire({data:p,oldIndex:E,newIndex:b})},addIndexChangeListener:function(p,E,b){this._39I||(this._39I=new um),this._39I.add(p,E,b)},removeIndexChangeListener:function(p,E){this._39I.remove(p,E)},prepareRemove:function(p){J1(p)&&(p.setSource(r$),p.setTarget(r$)),p._70O&&p._70O.toList().each(this.remove,this),p._69O&&p._69O.toList().each(function(p){p.setHost(r$)}),p._host&&p.setHost(r$)},onAdded:function(p){this.isAutoAdjustIndex()&&this.adjustIndex(p)},onDataPropertyChanged:function(p,E){AY[E.property]&&this.isAutoAdjustIndex()&&this.adjustIndex(p)},isAdjustable:function(p){return y(p)||J1(p)},isAdjustedToBottom:function(p){return!!d1(p)&&p.isExpanded()&&jY(p)},adjustIndex:function(p){this.isHierarchicalRendering()||(this.isAdjustedToBottom(p)?(this.sendToBottom(p),p.eachChild(this.adjustIndex,this)):this.sendToTop(p))},sendToTop:function(E){var p,b,Z=this;Z.contains(E)&&Z.isAdjustable(E)&&(b=Z._datas,E!==b.get(Z.size()-1)&&(p=b.indexOf(E),b.removeAt(p),b.add(E),Z._76I(E,p,Z.size()-1)),J1(E)&&((b=E._40I)&&!Z.isAdjustedToBottom(b)&&Z.sendToTop(b),(b=E._41I)&&!Z.isAdjustedToBottom(b)&&Z.sendToTop(b)),E._69O&&E._69O.each(function(p){p.isRelatedTo(E)||y(E)&&p.isLoopedHostOn(E)||Z.sendToTop(p)}),E.ISubGraph||d1(E)&&!E.isExpanded()||E._adjustChildrenToTop&&E.eachChild(function(p){J1(p)||Z.sendToTop(p)}))},sendToBottom:function(p,E){var b,Z;p!==E&&this.contains(p)&&this.isAdjustable(p)&&(E&&!this.contains(E)||(b=(Z=this._datas).remove(p),E=E?this._datas.indexOf(E):0,Z.add(p,E),b!==E&&(this._76I(p,b,E),!(Z=p._parent)||Z.ISubGraph||J1(Z)||this.sendToBottom(p._parent,p))))}});var EY=OB(),bY=(E(Mq,{ms_edit:function(p,E){p._46O=function(p){var E=this,b=E.gv.dm(),Z=E._index,o=E._89I,A=E._node,l=E._shape,V=E._edge,c=E._77I;A&&o?(this.fi({kind:"endEditRect",event:p,data:A,direction:o}),b.endTransaction()):l&&0<=Z?(E.fi({kind:"endEditPoint",event:p,data:l,index:Z}),b.endTransaction()):V&&0<=Z?(E.fi({kind:"endEditPoint",event:p,data:V,index:Z}),b.endTransaction()):c&&(E.fi({kind:"endEditRotation",event:p,data:c}),b.endTransaction())},p._78I=function(p){var E=this,b=(E.autoScroll(p),E.gv.lp(p)),Z=E._index,o=E._89I,A=E._node,l=E._shape,V=E._edge,c=E._77I;A&&o?(E._80O(b),E.fi({kind:"betweenEditRect",event:p,data:A,direction:o})):l&&0<=Z?(b.e=l.getPoints().get(Z).e,l.setPoint(Z,b),E.fi({kind:"betweenEditPoint",event:p,data:l,index:Z})):V&&0<=Z?(A=V.s(Dx),b.e=A.get(Z).e,A.set(Z,b),V.fp(Dx,r$,A),E.fi({kind:"betweenEditPoint",event:p,data:V,index:Z})):c&&(o=c.p(),l=c.getScale(),A=s$+i$(b.y-o.y,b.x-o.x),l.y<0&&(A+=R$),a(A)<.04&&(A=0),c.setRotation(A),E.fi({kind:"betweenEditRotation",event:p,data:c}))},p._80O=function(p){var E=this._node,b=this._rect,Z=b.x,o=b.y,A=b.width,l=b.height,V=this._89I,c=this._anchor,S=this._matrix,p=S.tfi(p);"northwest"===V?b=Yf(p,{x:Z+A,y:o+l}):V===Tl?b=Yf({x:Z,y:p.y},{x:Z+A,y:o+l}):"northeast"===V?b=Yf({x:Z,y:p.y},{x:p.x,y:o+l}):V===Gl?b=Yf({x:p.x,y:o},{x:Z+A,y:o+l}):V===Xl?b=Yf({x:Z,y:o},{x:p.x,y:o+l}):"southwest"===V?b=Yf({x:p.x,y:o},{x:Z+A,y:p.y}):"south"===V?b=Yf({x:Z,y:o},{x:Z+A,y:p.y}):"southeast"===V&&(b=Yf({x:Z,y:o},p)),E.setPosition(S.tf(b.x+b.width*c.x,b.y+b.height*c.y)),E.setWidth(b.width),E.setHeight(b.height)},p._80I=function(p,E,b,Z){var o=this.gv._zoom,o=(this.gv.getEditPointSize()+2)/o;return!!Kf({x:E-o/2,y:b-o/2,width:o,height:o},p)&&(this._89I!==Z&&(this._89I=Z),!0)},p._79I=function(p,E,b){var Z=this,o=Z.gv,A=E?o.getDataUI(E):r$;if(A=A?A._55O:r$){var l,V,c=o._zoom,S=(o.getEditPointSize()+2)/c,I=o.lp(p);if(y(E)){if(A._56O&&y(E)&&(l=A._98o,Kf({x:l.x-S/2,y:l.y-S/2,width:S,height:S},I)))return Z._77I=E,b&&Z.fi({kind:"beginEditRotation",event:p,data:E}),Z.setCursor("crosshair"),!0;if(A._43O&&E instanceof CP)for(n=(V=E.getPoints()).size()-1;0<=n;n--)if(l=V.get(n),Kf({x:l.x-S/2,y:l.y-S/2,width:S,height:S},I))return Z._index=n,Z._shape=E,b&&Z.fi({kind:"beginEditPoint",event:p,data:E,index:n}),Z.setCursor("crosshair"),!0;if(A._42O)for(var D=E.getEditControlPoints(),B=["northwest",-1,-1,Gl,-1,0,"southwest",-1,1,"south",0,1,"southeast",1,1,Xl,1,0,"northeast",1,-1,Tl,0,-1],n=0,k=D.length;n<k;n++){var j,W,m,e=D[n];if(Z._80I(I,e.x,e.y,B[3*n]))return e=(Z._node=E).getWidth(),m=E.getHeight(),j=E.getAnchor(),Z._rect={x:-e*j.x,y:-m*j.y,width:e,height:m},Z._anchor=j,Z._matrix=E.getMatrix(),e=E.getRotation(),m=M$(e),j=k$(e),e=B[3*n+1]*pW(E.getScale().x),W=B[3*n+2]*pW(E.getScale().y),m=Math.atan2(-j*e-m*W,m*e-j*W),e=(Math.round(m/(Math.PI/4))+8)%8,Z.setCursor([Wa,"nesw-resize",ma,"nwse-resize",Wa,"nesw-resize",ma,"nwse-resize"][e]),b&&Z.fi({kind:"beginEditRect",event:p,data:E,direction:Z._89I}),!0}}if(A._43O&&J1(E)&&E.s(Bx)===sl&&(V=E.s(Dx)))for(n=V.size()-1;0<=n;n--)if(l=V.get(n),Kf({x:l.x-S/2,y:l.y-S/2,width:S,height:S},I))return Z._index=n,Z._edge=E,b&&Z.fi({kind:"beginEditPoint",event:p,data:E,index:n}),Z.setCursor("crosshair"),!0}return!1}},ms_gv:function(p,E){function S(p){p.forEach(function(p){p.s("2d.visible",!0),p.s("3d.visible",!0)})}function I(p){p.forEach(function(p){p.s("2d.visible",!1),p.s("3d.visible",!1)})}function D(p,E){E.sm().ss(p)}p._currentSubGraph=r$,p._initView=function(){this._frameId=0,this._fpsInfo={time:0,fps:0,frames:0},this._id=EY.next(),this._uuid=f.generateUUID();for(var p=0,E=pY.length;p<E;p++)try{pY[p](this)}catch(p){console.error(p)}},p.getUUID=function(){return this._uuid},p.upSubGraph=function(){this.setCurrentSubGraph(nY(this._currentSubGraph))},p.getFrameId=function(){return this._frameId},p.isVisible=function(p){var E=this;if(nY(p)!==E._currentSubGraph)return!1;if(J1(p)){var b=p._40I,Z=p._41I;if(!b||!Z)return!1;if(!(p.s("edge.independent")||E.isVisible(b)&&E.isVisible(Z)))return!1;if(p.isEdgeGroupHidden())return!1}else for(var o=p._parent;o&&!o.ISubGraph;){if(d1(o)&&(!o.isExpanded()||!E.isVisible(o)))return!1;o=o._parent}if(((o=p._parent)&&o.s("visibleCascade")||o instanceof gP)&&!E.isVisible(o))return!1;if(p._refGraph instanceof aP&&!E.isVisible(p._refGraph))return!1;if(E instanceof Kn){if(!p.s("3d.visible"))return!1}else{if((b=E.getLayersInfo())&&(Z=b[p._layer])&&!1===Z.visible)return!1;if(!p.s("2d.visible"))return!1}return!E._visibleFunc||E._visibleFunc(p)},p.handleSelectionChange=function(p){var b=this;p.datas.each(function(p){b.invalidateData(p);var E=p._parent;d1(E)&&y(p)&&p.s(vl)&&(b.invalidateData(E),E._49I&&E._49I.each(function(p){b.invalidateData(p)}))}),b.onSelectionChanged(p)},p.onSelectionChanged=function(p){var E=this.sm();1!==E.size()||"set"!==p.kind&&"append"!==p.kind||(p=E.ld(),this.isAutoMakeVisible()&&this.makeVisible(p),this.adjustIndex&&this._dataModel.isAutoAdjustIndex()&&this.adjustIndex(p))},p.makeVisible=function(p){if(p&&(this.getDataUI?this.getDataUI(p):this.getData3dUI(p))){var E=p,b=nY(p);for(b!==this._currentSubGraph&&this.setCurrentSubGraph(b);(E=E._parent)&&E!==b;)d1(E)&&E.setExpanded(!0);this._23I=p,this.iv()}},p.getLabel=function(p){var E=p.getStyle(px);return E===K$?p.getName():E},p.getLabelBackground=function(p){return p.getStyle("label.background")},p.getLabelColor=function(p){return p.getStyle("label.color")},p.getLabel2=function(p){return p.getStyle("label2")},p.getLabel2Background=function(p){return p.getStyle("label2.background")},p.getLabel2Color=function(p){return p.getStyle("label2.color")},p.getNote=function(p){return p.getStyle(bx)},p.getNoteBackground=function(p){return p.getStyle("note.background")},p.getNote2=function(p){return p.getStyle(Zx)},p.getNote2Background=function(p){return p.getStyle("note2.background")},p.handleClick=function(p,E,b){E?(this.fi({kind:"clickData",event:p,data:E,part:b}),this.onDataClicked(E,p)):(this.fi({kind:"clickBackground",event:p}),this.onBackgroundClicked(p))},p.handleDoubleClick=function(p,E,b){var Z=this;If(p)&&(E?(Z.fi({kind:"doubleClickData",event:p,data:E,part:b}),Z.onDataDoubleClicked(E,p,b),Z.checkDoubleClickOnNote(p,E,b)||Z.checkDoubleClickOnRotation&&Z.checkDoubleClickOnRotation(p,E,b)||(J1(E)?Z.onEdgeDoubleClicked(E,p,b):E.ISubGraph?Z.onSubGraphDoubleClicked(E,p,b):d1(E)?Z.onGroupDoubleClicked(E,p,b):E.IDoorWindow?Z.onDoorWindowDoubleClicked(E,p,b):E.ICSGBox&&Z.onCSGBoxDoubleClicked(E,p,b))):(Z.fi({kind:"doubleClickBackground",event:p}),Z.onBackgroundDoubleClicked(p)))},p.onSubGraphDoubleClicked=function(p,E,b){this.setCurrentSubGraph(p)},p.onEdgeDoubleClicked=function(p,E,b){this.isEditable(p)||(p.ISubGraph&&!Wf(E)?this.setCurrentSubGraph(p):p.s("edge.toggleable")&&p.toggle())},p._39Q=function(p){return!!this.isInteractive(p)&&this.preventDefaultWhenInteractive(p)},p.preventDefaultWhenInteractive=function(p){return p.s("preventDefaultWhenInteractive")},p.onGroupDoubleClicked=function(p,E,b){p.s("group.toggleable")&&p.toggle()},p.onDoorWindowDoubleClicked=function(p,E,b){p.s("dw.toggleable")&&p.toggle(!0)},p.onCSGBoxDoubleClicked=function(p,E,b){this instanceof Kn&&(E=this.intersectObject(E,p))&&p.s(E.part+".toggleable")&&p.toggleFace(E.part,!0)},p.onBackgroundClicked=function(p){},p.onBackgroundDoubleClicked=function(p){this.upSubGraph()},p.onDataClicked=function(p,E,b){},p.onDataDoubleClicked=function(p,E,b){},p.onAutoLayoutEnded=function(){},p.onMoveEnded=function(){},p.onPanEnded=function(){},p.onPinchEnded=function(){},p.onRectSelectEnded=function(){},p.onZoomEnded=function(){},p.serialize=function(p){return this.dm().serialize(p)},p.toJSON=function(){return this.dm().toJSON()},p.deserialize=function(p,E){var b=this,Z=((E=E instanceof sm?{rootParent:E}:h1(E)?{setId:E}:y1(E)?{finishFunc:E}:E||{}).view=b).dm();return E.reset&&(Z.setAttrObject({}),Z.setLayers(K$),Z.setName(K$),Z.setAutoAdjustIndex(!0),Z.setHierarchicalRendering(!1),Z.setBackground(K$),Z.setInit(K$),Z.setPostProcessingData(K$),Z.setEnvmap(K$),Z.setEnvmapType(K$),b.disableToolTip(),b instanceof u.graph.GraphView?(b.setZoomable(H$.graphViewZoomable),b.setPannable(H$.graphViewPannable),b.setRectSelectable(H$.graphViewRectSelectable)):b instanceof u.graph3d.Graph3dView&&(b.shadowMap.resetProperties(),b.setDashDisabled(H$.graph3dViewDashDisabled),b.setUvClipEnabled(H$.graph3dViewUvClipEnabled),b.getHighlightHelper().resetProperties(),b.resetHeadlightProperties(),b.resetFogProperties(),b.setBatchInfoMap({}),b.setBatchColorDisabled(H$.graph3dViewBatchColorDisabled),b.setBatchInstancedDisabled(H$.graph3dViewBatchInstancedDisabled),b.setBatchBlendDisabled(H$.graph3dViewBatchBlendDisabled),b.setBatchBrightnessDisabled(H$.graph3dViewBatchBrightnessDisabled),b.setFlowBlendMode(H$.graph3dViewFlowBlendMode),b.setMoveStep(H$.graph3dViewMoveStep),b.setRotateStep(H$.graph3dViewRotateStep),b.setSortable(H$.graph3dViewSortable),b.setSortFunc(K$),b.setSkybox(K$),b.setToneMapping(K$),b.setToneMappingExposure(1),b.disableOIT(),b.setOITPassCount(3),b.setFovy(H$.graph3dViewFovy))),E.__innerHandler__=function(p){h1(Z.a("toolTipEnable"))&&(Z.a("toolTipEnable")?b.enableToolTip():b.disableToolTip()),X$(Z.a("fontFaces"))&&Z.a("fontFaces").forEach(function(p){H$.addFontFace(p.name,p.url)}),b.syncFromDataModel&&b.syncFromDataModel(p)},Z.deserialize(p,E.rootParent,E)},p.isDebugTipShowing=function(){return!!this._debugDiv},p.showDebugTip=function(){var p,o,A=this,l=A._debugDiv;l||((l=A._debugDiv=n.createElement("div")).style.position="absolute",l.style.overflow="hidden",l.style.font=H$.debugTipLabelFont,l.style.padding="6px",l.style.backgroundColor=H$.debugTipBackground,l.style.color=H$.debugTipLabelColor,l.style.zIndex=99999,p=A.getView(),A._79O?p.insertBefore(l,A._79O):p.appendChild(l),o=function(){A.redraw();var p=A._canvas,E="",b=(p&&(E+="<br/>Size: "+(Z=p.width)+" * "+p.height,(p=El(p.style.width))&&Z&&(E+="<br/>Retina: "+Math.round(Z/p*100)/100)),"FPS: "+A.getDebugFps()+"<br/>Datas: "+A.dm().getDatas().length+E+"<br/>Version: "+H$.getVersion()),Z=A.dm()._historyManager;Z&&(b+="<br/>Undoes: "+Z.getHistories().length+" index: "+Z.getHistoryIndex()),(p=A.getDebugTip())&&(b+="<hr>"+p),(E=A._fpsInfo.countTypeList)&&(b+="<hr>",E.forEach(function(p){b+="FPS "+p+": "+A.getDebugFps(p)+"<br/>"})),l.innerHTML=b,A._isDebugging&&requestAnimationFrame(o)},requestAnimationFrame(o),A._isDebugging=!0,A.debugCountFrame=A.debugCountFrameImpl)},p.hideDebugTip=function(){var p=this._debugDiv;p&&(delete this._debugDiv,this.getView().removeChild(p),this._isDebugging=!1,this.debugCountFrame=P)},p.updateDOMAppendMatrix=function(){var p=this.getView();p&&(p.updateAppendMatrix=!0)},p.getDebugFps=function(p){return this.debugCountFrame(p,0)},p.debugCountFrame=P,p.debugCountFrameImpl=function(p,E){var b,Z,o,A,l,V,c;if(this._isDebugging)return E===K$&&(E=1),b=Date.now(),Z=this._fpsInfo,o="time"+p,A="fps"+p,p?(l="count"+p,(V=Z.countTypeList)?-1===V.indexOf(p)&&V.push(p):Z.countTypeList=[p]):l="frames",1e3<b-(V=Z[o]||0)?(c=Z[A]=Math.round(1e5*(Z[l]+E)/(b-V))/100,Z[o]=b,Z[l]=0):(c=Z[A]||0,E&&(Z[l]=(Z[l]||0)+E)),c},p.applyLogicGroupAction=function(p,b,Z){if(!(p<0||32<=p)){var o=this,A=1<<p,l=o instanceof u.graph3d.Graph3dView&&"invisible"===b,V=l?{}:r$,c=("visible"===b?(b=null,Z=S):"invisible"===b?(b=null,Z=I):"select"===b&&(b=null,Z=D),Z?[]:r$);if(o.dm().each(function(p){var E;p.s("logic.group")&A&&(b&&b(p,o),l&&(E=p.s("batch"))&&(V[E]=(V[E]||0)+1),Z&&c.push(p))}),V)for(var E in V)2<V[E]&&o.invalidateBatch(E);Z&&Z(c,o)}},p._getFpsLimiter=function(p,E){p=p||Fn;var b=this._fpsLimiter;if(!b){if(!E)return null;b=this._fpsLimiter={}}var Z=b[p];return Z||E&&(Z=b[p]=new ym(0)),Z},p._isSkippingFrame=function(p){return!(!(p=this._getFpsLimiter(p))||p.check())},p.setFpsLimit=function(p,E){this._getFpsLimiter(p,!0).setLimit(E)},p.getFpsLimit=function(p){return(p=this._getFpsLimiter(p))?p.getLimit():0}},ms_icons:function(p,E){p.getRotation=function(p,E){return p==r$?0:p},p._15O=function(){var p=this,E=p.s(ox);if(E){var b,Z=p.gv,o=p.data||p._data,A=o.getRotation&&o.getRotation(),l=p._38o={icons:E,rects:{}},V=o.s("icons.getRotation"),c=o.s("icons.getPosition");for(b in E){var S=E[b],I=O(S.shape3d,o,Z);if(!(!1===O(S.visible,o,Z)||O(S.for3d,o,Z)&&!p.I3d||I&&!p.I3d)){var D=I?[I]:O(S.names,o,Z),B=D?D.length:0,n=O(S.position,o,Z)||3,k=O(S.offsetX,o,Z)||0,j=O(S.offsetY,o,Z)||0,W=O(S.direction,o,Z)||Xl,m=(e=O(S.gap,o,Z))!=r$?e:1,e=O(S.rotation,o,Z),$=O(S.keepOrien,o,Z),Y=r$,t=r$,K=l.rects[b]=new Array(B);(Y=V&&!p.I3d?V(S,o,Z):Y)==r$&&(Y=O(S.rotationFixed,o,Z)?e:p.getRotation(e,$,n)),C1(A)&&(C1(Y)?Y+=A:Y=A),K.rotation=Y;for(var r=0;r<B;r++){var H,M,F,X,G=D[r],T=X=H=M=r$;I?M=H=0:(G=Q(G),H=O(S.width,o,Z),M=O(S.height,o,Z),H==r$&&(H=tm(G,o)),M==r$&&(M=Km(G,o))),t?W===Xl?k+=H/2:W===Gl?k-=H/2:W===Tl?j-=M/2:j+=M/2:t={width:H,height:M},p.I3d?(G=-H/2,F=-M/2,X={width:H,height:M,mat:p._16O(O(S.autorotate,o,Z),n,t,O(S.face,o,Z)||el,O(S.t3,o,Z),O(S.r3,o,Z),O(S.rotationMode,o,Z),k,j),vs:new Of([G,-F,0,G,-F-M,0,G+H,-F-M,0,G+H,-F,0])}):(X={x:(T=(T=c?c(S,o,Z):T)==r$?p.getPosition(n,k,j,t,O(S.positionFixed,o,Z)):T).x-H/2,y:T.y-M/2,width:H,height:M},p._68o(X,Y)),K[r]=X,W===Xl?k+=H/2+m:W===Gl?k-=H/2+m:W===Tl?j-=M/2+m:j+=M/2+m}}}}}}}),{1:1,2:1,6:1,9:1,10:1,14:1,15:1,16:1,21:1,22:1,26:1,29:1,30:1,34:1,36:1,38:1,40:1,42:1,45:1,50:1,52:1,54:1}),ZY={3:1,7:1,11:1,17:1,23:1,27:1,31:1,44:1,46:1,47:1,49:1},oY={translateX:1,translateY:1,zoom:1,scrollBarVisible:1},AY={sourceAgent:1,targetAgent:1,expanded:1,parent:1,host:1},lY={position:1,width:1,height:1,expanded:1,rotation:1,anchor:1,scale:1,"s:edge.points":1},VY={"edge.type":1,"edge.group":1},cY={rotation:1,rotationX:1,rotationZ:1,rotation3d:1},SY={rotation:1,position:1,width:1,height:1,anchor:1,scale:1,host:1,"s:vector.layoutable":1},IY={position:1,width:1,height:1,anchor:1,scale:1,"s:grid.row.count":1,"s:grid.column.count":1,"s:grid.row.percents":1,"s:grid.column.percents":1,"s:grid.border":1,"s:grid.border.left":1,"s:grid.border.right":1,"s:grid.border.top":1,"s:grid.border.bottom":1,"s:grid.gap":1},DY={"attach.row.index":1,"attach.column.index":1,"attach.row.span":1,"attach.column.span":1,"attach.padding":1,"attach.padding.left":1,"attach.padding.right":1,"attach.padding.top":1,"attach.padding.bottom":1,"attach.index":1,"attach.offset":1,"attach.offset.relative":1,"attach.offset.opposite":1,"attach.gap":1,"attach.gap.relative":1,"attach.thickness":1},BY={shape:1,thickness:1,position:1,anchor:1,scale:1},nY=function(p){if(!p)return r$;var E,b;if(J1(p))return E=p._40I,b=p._41I,E&&b&&(E=nY(E))===nY(b)?E:r$;for(var Z=p._parent;J1(Z)&&!Z.ISubGraph;)Z=Z._parent;return Z?Z.ISubGraph?Z:nY(Z):r$},kY=function(p,E,b,Z){var o=E.getStyle(b)*Z;o&&Xf(p,o),(o=E.getStyle(b+".left")*Z)&&(p.x-=o,p.width+=o),(o=E.getStyle(b+".right")*Z)&&(p.width+=o),(o=E.getStyle(b+".top")*Z)&&(p.y-=o,p.height+=o),(o=E.getStyle(b+".bottom")*Z)&&(p.height+=o),p.width<0&&(p.width=-p.width,p.x-=p.width),p.height<0&&(p.height=-p.height,p.y-=p.height)},jY=function(p){for(var E,b=0,Z=p.size();b<Z;b++)if(E=p.getChildAt(b),y(E)&&jY(E))return!0;return p.hasAgentEdges()},WY=function(p){if(!p)return r$;for(var E=p._parent;d1(E);){if(!d1(E._parent))return E.isExpanded()?p:E;E.isExpanded()||(p=E),E=E._parent}return p},mY=function(p,E){if(!p||!E)return r$;var b,Z,o,A=nY(p),l=nY(E);if(A===l)return p;for(;l&&A!==l;)l=nY(l);if(A===l)return p;(b=new q).add(p,0);for(var V=p._parent;y(V)&&!E.isDescendantOf(V);)b.add(V,0),V=V._parent;for(o=b.size(),Z=0;Z<o;Z++){var c=b.get(Z);if(d1(c)&&!c.isExpanded())return c;if(c.ISubGraph)return c}return p},eY=function(p,E,b){var Z,o,A,l="target"===(b="target"!==b?"source":b)?E.getTargetAgent():E.getSourceAgent(),b="edge."+b+".";return J1(l)?((Z=p.getDataUI(l))._79o(),0<=(o=E.s(b+"index"))?(A=UY(Z))[Math.max(0,Math.min(o,A.length-1))]:(o=E.s(b+"percent")||0,o=Math.max(0,Math.min(o,1)),A=PY(Z),dY(A,100*o))):$Y(p,l,E.s(b+"position"),E.s(b+"offset.x"),E.s(b+"offset.y"),E.s(b+"anchor.x"),E.s(b+"anchor.y"))},$Y=function(p,E,b,Z,o,A,l){if(!E)return r$;var V,c,S,I,D,B=E.getRotation?E.getRotation():0;return b=A!==K$||l!==K$?(A=A===K$?.5:A,l=l===K$?.5:l,S=E.getScale(),B&&!U1(E,p)||S.x<0||S.y<0?(V=E.getPosition(),I=E.getWidth(),c=E.getHeight(),D=E.getAnchor(),new qB(B,V.x,V.y,S.x,S.y).tf((A-D.x)*I,(l-D.y)*c)):{x:(V=fm(p,E)).x+A*V.width,y:V.y+l*V.height}):i6(b,fm(p,E)),B&&(D=Z*(S=M$(B))-o*(I=k$(B)),o=Z*I+o*S,Z=D),b.x+=Z,b.y+=o,b},YY=function(p,E){var b,Z,o=function(p,E){if(!p||!E)return r$;var b,Z,o,A,l,V;if(p===E){if(!(A=p.getLoopedEdges()))return r$;A=new q(A)}else{if(l=p.getAgentEdges(),V=E.getAgentEdges(),!l||!V)return r$;for(Z=l.size(),b=0;b<Z;b++)o=l.get(b),V.contains(o)&&(A=A||new q).add(o)}if(A)for(b=0;b<A.size();b++)(o=A.get(b)).getStyle(Bx)===sl&&(o._22I(r$),A.removeAt(b),b--);return A}(p,E);o&&!o.isEmpty()&&(1===o.size()?o.get(0)._22I(r$):(b=new q,Z=new q,o.each(function(p){p=p.s("edge.group"),b.contains(p)||b.add(p)}),b.sort(),b.each(function(E){Z.add(new u.EdgeGroup(o.toList(function(p){return E===p.s("edge.group")}),Z))}),Z.each(function(E){E.each(function(p){p._22I(E)})})))},tY=function(p,E,b){var Z=p._canvas,p=(p._zoom,Gf(E,Z)),E=Gf(b,Z);return{x:p.x-E.x,y:p.y-E.y}},KY=function(p,E){var b,Z,o,A,l,V,c,S,I,D,B,n,k,j,W,m;E&&(b=E.rect,Z=E.color,o=E.rotation,A=E.labelWidth,l=E.background,V=E.opacity,c=(m=E.scale)!=r$&&1!==m,S=E.borderWidth,I=E.borderColor,D=E.letterGap,B=E.verticalGap,V!=r$&&(n=p.globalAlpha,p.globalAlpha*=V),(o||c)&&(p.save(),k=b.x+b.width/2,j=b.y+b.height/2,LW(p,k,j),o&&xW(p,o),c&&p.scale(m,m),LW(p,-k,-j)),l&&M6(p,b.x,b.y,b.width,b.height,l),A&&(W=b.width,(m=p.createLinearGradient(b.x,b.y,b.x+W,b.y)).addColorStop(0,Z),m.addColorStop(.9,Z),m.addColorStop(1,Sa),Z=m,b.width=A),rW(p,E.ss,b,E.font,Z,E.align,E.decoration,D,S,I,B),A&&(b.width=W),(o||c)&&p.restore(),V!=r$&&(p.globalAlpha=n))},rY=function(p,E){var b,Z,o,A,l,V,c,S,I,D,B,n,k,j,W,m,e;E&&(Z=(b=E.rect).x,o=b.y,A=b.width,l=b.height,V=E.background,c=E.backgroundImage,S=E.borderWidth,I=E.borderColor,D=E.labelWidth,B=E.opacity,n=(e=E.scale)!=r$&&1!==e,B!=r$&&(k=p.globalAlpha,p.globalAlpha*=B),n&&(p.save(),j=b.x+b.width/2,m=b.y+b.height/2,LW(p,j,m),p.scale(e,e),LW(p,-j,-m)),E.expanded?(e=Z$(8,A/4),j=o+l-8,p.fillStyle=V,p.beginPath(),p.moveTo(Z,o),p.lineTo(Z,j),p.lineTo(Z+A/2,j),p.lineTo(Z+A/2,o+l),p.lineTo(Z+A/2+e,j),p.lineTo(Z+A,j),p.lineTo(Z+A,o),p.closePath(),p.fill(),S&&(p.lineWidth=S,p.lineJoin="round",p.lineCap="round",I?p.strokeStyle=I:(p.strokeStyle=Vf(V),p.beginPath(),p.moveTo(Z+A,o),p.lineTo(Z+A,j),p.lineTo(Z+A/2+e,j),p.lineTo(Z+A/2,o+l),p.stroke(),p.strokeStyle=lf(V),p.beginPath(),p.moveTo(Z+A,o),p.lineTo(Z,o),p.lineTo(Z,j),p.lineTo(Z+A/2,j),p.lineTo(Z+A/2,o+l)),p.stroke()),c?fq(p,Q(c),Va,b.x,b.y,b.width,b.height-8,E.data,E.view):(b.height-=8,V=E.color,D&&((m=p.createLinearGradient(Z,o,Z+(W=A),o)).addColorStop(0,V),m.addColorStop(.9,V),m.addColorStop(1,Sa),V=m,b.width=D),rW(p,E.ss,b,E.font,V,E.align),D&&(b.width=W),b.height+=8)):E.icon?rm(p,Q(E.icon),Z,o,A,l,E.data,E.view):(e=A/2,S&&(p.lineWidth=S,p.lineJoin="round",p.lineCap="round",p.strokeStyle=I||Vf(V),p.beginPath(),p.arc(Z+e,o+e,e,s$,1.6*R$,!0),p.moveTo(Z+e,o+l),p.lineTo(Z+A-e/5,o+e),p.stroke(),p.strokeStyle=I||lf(V),p.beginPath(),p.arc(Z+e,o+e,e,1.6*R$,s$,!0),p.moveTo(Z+e,o+l),p.lineTo(Z+e/5,o+e),p.stroke()),p.fillStyle=V,p.beginPath(),p.arc(Z+e,o+e,e,0,j$,!0),p.moveTo(Z+e,o+l),p.lineTo(Z+A-e/5,o+e),p.lineTo(Z+e/5,o+e),p.closePath(),p.fill(),p.fillStyle=E.color,p.beginPath(),p.arc(Z+e,o+e,e/3,0,j$,!0),p.fill()),n&&p.restore(),B!=r$&&(p.globalAlpha=k))},HY=function(p,E){return 2*p<E?p:E/2},MY=function(p,E,b,Z){if(!p||!E)return 0;var o=i$(E.y-p.y,E.x-p.x);return(o=!b&&E.x<p.x?o+R$:o)+Z},FY=function(p,E,b,Z,o,A,l){return l&&(p.x>E.x||p.x===E.x&&p.y>E.y)&&(b=w6[b],o=-o),(l=i6(b,{x:0,y:0,width:$f(p,E),height:0},A)).x+=Z,l.y+=o,(l=new qB(i$(E.y-p.y,E.x-p.x)).tf(l)).x+=p.x,l.y+=p.y,l},XY=function(p,b,E,Z,o){if(p._19Q=!0,!E.getEdgeGroup())return Z?E.s("edge.gap"):0;if(J1(E.getSourceAgent())||J1(E.getTargetAgent()))return 0;var A,l,V=0,c=0,S=E.getEdgeGroup(),I=b.getFrameId();return S._cacheGapFrameId!==I?(S._cacheGapFrameId=I,l=(l=S._cacheGapInfo)||(S._cacheGapInfo={}),S.getSiblings().each(function(p){p.each(function(p){var E;b.isVisible(p)&&p.s(Bx)==o&&(E=p.s("edge.gap"),A?V+=c/2+E/2:A=p,c=E,l[p.getId()]=V)})}),l.firstEdge=A,l.sumGap=V,l.lastGap=c):(l=S._cacheGapInfo,A=l.firstEdge,V=l.sumGap,c=l.lastGap),I=l[E.getId()],Z?V-I+c:(S=I-V/2,A&&E._40I!==A._40I&&(p._19Q=!1),S)},GY=function(p){if(1===(E=p._getValidSelection()).length){var E,b=(E=E[0])instanceof u.Edge;if((E instanceof u.Shape||b)&&(!(b=b&&E.s("edge.type"))||"points"===b))return(b=p.gv).isPointEditable&&!b.isPointEditable(E)||!b.isEditable(E)?void 0:E}},TY=u.graph={},p=function(p,E,b){yf("ht.graph."+p,E,b)},gY=(u.layout={},{}),LY=function(p,E){p._cacheZoomUsing=E,p._cacheImage={},p._cacheImageSize={},(E=p._cacheRefreshTimerId)&&(ll(E),p._cacheRefreshTimerId=K$)},xY=function(p,E,b,Z,o,A,l,V,c,S,I){var D=c._zoom;if(Z*=o,A*=l,!D||!Z||!A)return E;if(D!==c._cacheZoomLast&&(c._cacheZoomLast=D,H=c.getZoomCacheLatency(),n=c._cacheZoomUsing,t=!0,H&&n&&(r=c._cacheZoomTime||0,(e=c._cacheZoomTime=Date.now())-r<H&&(D=n,t=!1,c._cacheRefreshTimerFrame!==c._frameId&&(c._cacheRefreshTimerFrame=c._frameId,(r=c._cacheRefreshTimerId)&&ll(r),c._cacheRefreshTimerId=Al(function(){c.redraw(),LY(c,c._zoom)},H)))),t&&LY(c,D)),D*=Tq,Z=Math.ceil(Z),A=Math.ceil(A),2048<Z*D||2048<A*D)return E;E.uuid||(E.uuid=u.Math.generateUUID());var B=E.uuid,n=[B,Z,A,b,S].join("_");if((r=V.s("state"))&&(n+="_"+r),I&&(n+="_"+I),(H=E.cacheRule)&&(y1(H)?j=H(V,c):y1(H.func)&&(j=H.func(V,c))),j===K$&&V instanceof u.Data){var k=E.dataBindings;if(k){for(var j="",W=k.length-1;0<=W;W--){var m=V.ca(k[W].attr);P1(m)||X$(m)||(j+="_"+m)}j=j.slice(1)}}n+="_"+j,Z<=A&&Z*D<1?($=A/Z,A=(Z=1/D)*$):A<=Z&&A*D<1&&($=Z/A,Z=(A=1/D)*$),Z=Math.ceil(Z),A=Math.ceil(A);var e,$,Y,t=E.cacheExpire,K=c._cacheImage,r=K[n],H=c._cacheImageSize[B]||0;if(r&&t&&(Y=r._cacheNextExpireTime||0)<(e=Date.now())&&(H-=Z*A,r=null,$=H$.imageCacheExpireJitter||.1,Y=e+t*f.randomFloat(1-$,1+$)),!r){if(c._imageCachePoolLocked)return E;if(km=!0,r=u.Default.toCanvas(E,Z/o,A/l,b,V,c,S,[D*o,D*l],K$,I),!km)return E;if(H+Z*A>H$.imageCacheSizeCap){delete E.cacheRule;var M,F=[];for(M in K)M.startsWith(B)&&F.push(M);for(W=0;W<F.length;W++)delete K[F[W]];return c._cacheImageSize[B]=0,console.error("image cache size cap exceeded, image uuid: "+B+", image : ",E),E}c._cacheImageSize[B]=H+Z*A,K[n]=r,Y&&(r._cacheNextExpireTime=Y)}return r};E(H$,{setImageCacheRule:function(p,E){var b,Z;for(Z in E||"object"!=typeof p?(b={})[p]=E:b=p,b){var o=b[Z];F$(Z)?(yf=Q(Z))?yf.cacheRule=o:gY[Z]=o:Z.cacheRule=o}},getCachedImage:xY});(pl={comps:[{type:Jl,points:[85,50,70,115,100,71,86,107,88,49,57,83,86,76,107,66,74,84,86,52,87,122,74,84,43,69,78,57,89,69,56,68,102,85,87,106,99,74,115,74,121,51,81,61],borderWidth:1,borderColor:r$}]})[zl]=pl[_l]=160,h.Image&&((LP=new h.Image).src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAALUlEQVRYR+3QQREAAAABQfqXFsNnFTizzXk99+MAAQIECBAgQIAAAQIECBAgMBo/ACHo7lH9AAAAAElFTkSuQmCC",k3("default_blank",LP)),k3("node_image",F1(30,30,[{type:Pl,rect:[4,5,22,16],gradient:gq,gradientColor:S3,background:k},{type:Pl,rect:[2,3,26,20],borderWidth:1,borderColor:k},{type:Pl,rect:[11,23,8,4],background:k},{type:Pl,rect:[6,27,18,2],background:k}])),k3("node_icon",F1(16,16,[{type:Pl,rect:[2,2,12,10],gradient:gq,gradientColor:S3,background:k},{type:Cl,rect:[2,2,12,10],width:1,color:k},{type:Pl,rect:[6,12,4,2],background:k},{type:Pl,rect:[4,14,8,1],background:k}])),k3("block_icon",F1(16,16,[{type:Cl,rect:[1,1,14,14],width:1,color:k}])),k3("group_image",F1(66,39,[{type:Pl,rect:[44.3,18,18.1,12.8],gradient:gq,gradientColor:S3,background:k},{type:Pl,rect:[3.3,17.8,18.1,12.8],gradient:gq,gradientColor:S3,background:k},{type:Pl,rect:[15.8,3.2,33.5,26.4],borderWidth:1,borderColor:k,gradient:gq,gradientColor:S3,background:k},{type:Pl,rect:[26.2,29.4,12.8,4.2],background:k},{type:Pl,rect:[21.3,33.5,22.5,2.3],background:k},{type:Pl,rect:[5.3,32.7,14.1,2.1],background:k},{type:Pl,rect:[9,30.4,6.7,2.4],background:k},{type:Pl,rect:[50,30.7,6.7,2.4],background:k},{type:Pl,rect:[46.3,33,14.1,2.1],background:k}])),k3("group_icon",F1(16,16,[{type:Pl,rect:[4,12,4,2],background:k},{type:Pl,rect:[2,13,8,1],background:k},{type:Pl,rect:[12,12,2,1],background:k},{type:Pl,rect:[11,13,4,1],background:k},{type:Pl,rect:[10,7,6,5],gradient:gq,gradientColor:S3,background:k},{type:Pl,rect:[1,2,10,10],gradient:gq,gradientColor:S3,background:k},{type:Cl,rect:[1,2,10,10],width:1,color:k}])),k3("refGraph_icon",F1(16,16,[{type:"shape",borderWidth:1,borderColor:k,borderCap:"round",rotation:.7854,points:[12.5502,6.7981,12.5502,6.7981,12.5502,4.8181,12.5502,3.7981,12.5502,2.7781,11.36687,1.7981,10.0502,1.7981,8.73354,1.7981,7.5502,2.8181,7.5502,3.7981,7.5502,4.55989,7.5502,7.79805,7.5502,7.79805,7.5502,7.79805,7.5502,9.7981,10.0502,9.7981],segments:[1,4,4,4,4,4]},{type:"shape",borderWidth:1,borderColor:k,borderCap:"round",rotation:-2.35619,points:[8.4498,11.2019,8.4498,11.2019,8.4498,9.2219,8.4498,8.2019,8.4498,7.1819,7.26646,6.2019,5.9498,6.2019,4.63313,6.2019,3.4498,7.2219,3.4498,8.2019,3.4498,8.9637,3.4498,12.20186,3.4498,12.20186,3.4498,12.20186,3.4498,14.2019,5.9498,14.2019],segments:[1,4,4,4,4,4]}])),k3("edge_icon",F1(16,16,[{type:Pl,rect:[2.1,6.9,11.5,2.6],rotation:-.79,gradient:gq,gradientColor:S3,background:k},{type:Pl,rect:[10.8,1,4,4],background:k},{type:Pl,rect:[1,11,4,4],background:k}])),k3("subGraph_image",F1(72,45,[{type:Jl,points:[9,42,.3,38.4,2.4,28.8,5.7,21.6,11.7,22.5,11.7,15.9,16.8,13.8,21.6,12,24.3,15.9,27.9,3,42.3,2.1,59.4,4.5,57.3,18.3,67.5,18.9,69.6,27.3,69.9,38.4,64.2,41.4],segments:[1,3,3,3,3,3,3,3,3],gradient:gq,gradientColor:S3,background:k},{type:Pl,rect:[29.6,30.7,3.6,1.8],background:k},{type:Pl,rect:[28.4,32.3,6,1.2],background:k},{type:Pl,rect:[37.3,32,10.8,1.8],background:k},{type:Pl,rect:[39.1,29.9,7.2,2.3],background:k},{type:Pl,rect:[26.6,23.7,9.6,7.2],gradient:gq,gradientColor:S3,background:k},{type:Pl,rect:[34.3,16.8,16.8,13.2],borderWidth:1,borderColor:k,gradient:gq,gradientColor:S3,background:k}])),k3("subGraph_icon",F1(17,17,[{type:Jl,points:[2.2,14.6,.2,11.9,.8,8.8,1.8,5.9,5.6,7.4,3.8,1.6,10.3,3,14.5,4.2,12.2,7.5,18.9,7.2,14.5,14.5],segments:[1,3,3,3,3,3],gradient:gq,gradientColor:S3,background:k}])),k3("shape_icon",F1(16,16,[{type:Jl,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],background:k}])),k3("polyline_icon",F1(16,16,[{type:Jl,points:[1.5,1,8.4,1,8.4,7.2,14.6,7.1,14.6,14.9,1.5,14.9,1.5,1],borderWidth:1,borderColor:k},X1(7.5,.4),X1(7.5,6.3),X1(13.6,6.3),X1(13.6,14),X1(.7,13.9),X1(.7,.3)])),k3("grid_icon",F1(16,16,[{type:Pl,rect:[1,1,4,4],background:k,gradient:gq,gradientColor:S3},{type:Pl,rect:[6,1,4,4],background:k,gradient:gq,gradientColor:S3},{type:Pl,rect:[11,1,4,4],background:k,gradient:gq,gradientColor:S3},{type:Pl,rect:[11,6,4,4],background:k,gradient:gq,gradientColor:S3},{type:Pl,rect:[6,6,4,4],background:k,gradient:gq,gradientColor:S3},{type:Pl,rect:[1,6,4,4],background:k,gradient:gq,gradientColor:S3},{type:Pl,rect:[11,11,4,4],background:k,gradient:gq,gradientColor:S3},{type:Pl,rect:[6,11,4,4],background:k,gradient:gq,gradientColor:S3},{type:Pl,rect:[1,11,4,4],background:k,gradient:gq,gradientColor:S3}])),k3("light_icon",F1(16,16,[{type:"rect",rect:[6,9,5,5],borderWidth:1,borderColor:k},{type:"circle",rect:[1,1,15,10],borderWidth:1,borderColor:k,gradient:gq,gradientColor:S3,background:{func:function(p){return p=p?p.s(QV):r$,X$(p)?"rgb("+El(255*p[0])+","+El(255*p[1])+","+El(255*p[2])+")":p||k}}}])),k3("text_icon",F1(16,16,[{type:"shape",points:[3,3,13,3,8,3,8,14],segments:[1,2,1,2],borderWidth:1,borderColor:k}])),k3("border_image",{fitSize:!0,comps:[{type:"border",relative:!0,rect:[0,0,1,1],color:{func:"style@border_color"},width:{func:"style@border_width"}}]}),k3("columnChart_image",{fitSize:!0,boundExtend:150,comps:[{type:{func:"style@chart.type"},relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"}}]}),k3("lineChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"lineChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},series:{func:"style@chart.series"},minValue:{func:"style@chart.min.value"},maxValue:{func:"style@chart.max.value"},linePoint:{func:"style@chart.line.point"},lineWidth:{func:"style@chart.line.width"},line3d:{func:"style@chart.line.3d"}}]}),k3("pieChart_image",{fitSize:!0,boundExtend:150,comps:[{type:"pieChart",relative:!0,rect:[0,0,1,1],label:{func:"style@chart.label"},labelColor:{func:"style@chart.label.color"},labelFont:{func:"style@chart.label.font"},hollow:{func:"style@chart.hollow"},startAngle:{func:"style@chart.start.angle"},values:{func:"style@chart.values"},colors:{func:"style@chart.colors"}}]});var CY=function(p,E,b,Z,o,A){var l,V,c,S,I,D=[],B=-((Z=Math.abs(Z)>2*Math.PI?2*Math.PI:Z)/(l=Math.ceil(Math.abs(Z)/(Math.PI/4)))),n=-b;if(0<l){Z=p+Math.cos(b)*o,b=E+Math.sin(-b)*A,D.push({x:Z,y:b});for(var k=0;k<l;k++)I=(n+=B)-B/2,V=p+Math.cos(n)*o,c=E+Math.sin(n)*A,S=p+Math.cos(I)*(o/Math.cos(B/2)),I=E+Math.sin(I)*(A/Math.cos(B/2)),D.push({x:S,y:I}),D.push({x:V,y:c})}return D},hY=function(p){if(p){var E=p._data;if(E instanceof u.Shape)return{points:E.getPoints(),segments:E.getSegments()};if(E instanceof u.Edge&&(E=p._78o)){var p=E.type,b=E.points,Z=E.segments,o=E.edgeTypeInfo;if(!p||b){var A=(l=E.sourcePoint).x,l=l.y,V=(c=E.targetPoint).x,c=c.y;if(p)Z?((S=new q({x:A,y:l})).addAll(b),S.add({x:V,y:c}),I=new q(Z._as)):(S=new q({x:A,y:l}),b.each(function(p){S.add(p)}),S.add({x:V,y:c}));else if(E.looped)for(var S=new q(CY(A,l,0,2*Math.PI,E.radius,E.radius)),I=new q([1]),D=0;D<(S.size()-1)/2;D++)I.add(3);else S=new q,E.center?(S.add({x:E.c1.x,y:E.c1.y}),S.add({x:A,y:l}),S.add({x:V,y:c}),S.add({x:E.c2.x,y:E.c2.y})):(S.add({x:A,y:l}),S.add({x:V,y:c}))}else o&&(S=new q(o.points._as),o.segments&&(I=new q(o.segments._as)));return{points:S,segments:I}}}},PY=function(p,E,b){if(null==E){if(!(p=hY(p)))return;E=p.points,b=p.segments}if(E){if("number"==typeof(E=Array.isArray(E)?new q(E):E).get(0)){for(var Z=new u.List,o=0;o<E.size();o+=2)Z.add({x:E.get(o),y:E.get(o+1)});E=Z}if(!b){b=[1];for(var A=E.length-1;0<A;A--)b.push(2)}Array.isArray(b)&&(b=new q(b));for(var l=K6(E._as,b._as,50),V=l.length,c=[],o=0;o<V;o++){var S=l[o];1<S.length&&c.push(S)}return c}},yY=function(p){for(var E=0,b=p.length-1,Z=0;Z<b;Z++){var o=p[Z],A=(l=p[Z+1]).x-o.x,l=l.y-o.y;E+=Math.sqrt(A*A+l*l)}return E},aY=function(p,E){for(var b=0,Z=E.length,o=0;o<Z;o++)if(p<(b+=E[o]))return o;return Math.min(o,Z-1)},JY=function(p,E){for(var b=0,Z=0,o=p.length-1,A=0;A<o;A++){var l=p[A],V=p[A+1],c=V.x-l.x,S=V.y-l.y;if(E<(b+=V=Math.sqrt(c*c+S*S))){b-=V,Z=A;break}}var I=p[Z],D=p[Z+1],D=Math.atan2(D.y-I.y,D.x-I.x),B=E-b,S=Math.sin(D)*B,c=Math.cos(D)*B;return{x:I.x+c,y:I.y+S}},dY=function(p,E){if(p){var b;if(E<=0)b=p[0][0];else if(100<=E)b=(p=p[p.length-1])[p.length-1];else{for(var Z=function(p){if(E=p.__segmentLengths__)return E;for(var E=p.__segmentLengths__=[],b=0,Z=0;Z<p.length;Z++){var o=p[Z];1<o.length&&(b+=o=yY(o),E.push(o))}return E.__totalLength__=b,E}(p),E=Z.__totalLength__*E/100,o=aY(E,Z),A=0,l=0;l<o;l++)A+=Z[l];b=JY(p[o],E-=A)}return b}},UY=function(p){for(var E,b,Z,o,A,l=[],V=-1,c=0,S=((Z=p instanceof NP?(b=(E=hY(p)).points,E.segments):(b=p,arguments[1]))||b).length;c<S;c++){if(3===(o=Z?Z.get(c):1))A=2;else if(4===o)A=3;else{if(5===o)continue;A=1}V+=A,l.push(b.get(V))}return l},NY=(E(H$,{_edgeProtectMethod:{getStraightLinePoints:PY,calculateLineLength:yY,calcSegmentIndexByDistance:aY,calculatePointAlongLine:JY,getPercentPosition:dY,getRealPointsFromDataUI:UY}}),function(p,E){for(var b=p.vertices,Z=0;Z<b.length;Z++){var o=b[Z],A=o.y;o.y=o.z,o.z=-A,E&&(o.y+=E)}}),OY=function(p){for(var E,b,Z,o,A,l,V=[],c=[],S=[],I=p.faces,D=0,B=I.length;D<B;D++,0){var n=I[D];1===n.i?(E||(E=[],b=[],Z=[]),zY(n,D,0,0,p,E,Z,b)):2===n.i?(o||(o=[],A=[],l=[]),zY(n,D,0,0,p,o,l,A)):zY(n,D,0,0,p,V,S,c)}return{vs:V,uv:c,ns:S,top_vs:E,top_uv:b,top_ns:Z,bottom_vs:o,bottom_uv:A,bottom_ns:l}},zY=function(p,E,b,Z,o,A,l,V){var c,S,I,D=o.vertices,o=o.faceVertexUvs,B=D[p.a],n=D[p.b],D=D[p.c];A.push(B.x,B.y,B.z,n.x,n.y,n.z,D.x,D.y,D.z);3===(A=p.vertexNormals).length?(c=A[0],S=A[1],I=A[2]):c=S=I=p.normal,l.push(c.x,c.y,c.z,S.x,S.y,S.z,I.x,I.y,I.z),B=o[0][E][0],n=o[0][E][1],D=o[0][E][2];V.push(B.x,B.y,n.x,n.y,D.x,D.y)},_Y=($9=new G$,Y9=new G$,t9=new G$,K9=new G$,r9=new G$,H9=new G$,M9=new G$,F9=new G$,X9=new G$,G9=new G$,T9=new G$,g9=new G$,IN.prototype._findVertex=function(p,E,b){return g9.fromArray(p,3*E),b&&g9.applyMatrix4(b),p=[g9.x,g9.y,g9.z].join(","),(E=this._vertexMap[p])||((b=g9.clone())._key=p,this._vertexMap[p]=E=b),E},IN.prototype._findLine=function(p,E){var b=[p,E];return p._key>E._key&&b.reverse(),b._key=[b[0]._key,b[1]._key].join("|"),(p=this._lineMap[b._key])||((this._lineMap[b._key]=p=b)._triangles={},b._planes={},this._lineList.push(b)),p},L9=new G$(1,0,0),x9=new G$(0,1,0),C9=new G$(0,0,1),h9=new G$,P9=new G$,y9=new n3,IN.prototype._addTriangle=function(p,E,b,Z,o,A,l,V){var c,S=this._findVertex(p,b,A),I=this._findVertex(p,Z,A),p=this._findVertex(p,o,A),A=this._findLine(S,I),D=this._findLine(I,p),B=this._findLine(p,S);E?(c=(new G$).fromArray(E,3*b),b=(new G$).fromArray(E,3*Z),Z=(new G$).fromArray(E,3*o),l&&(c.applyMatrix3(l),b.applyMatrix3(l),Z.applyMatrix3(l)),c._key=nN(c,V),b._key=nN(b,V),Z._key=nN(Z,V),DN(A,0,c,I,b,p,Z),DN(D,0,b,p,Z,S,c),DN(B,0,Z,S,c,I,b)):(P9.subVectors(p,I),h9.subVectors(I,S),(c=(new G$).crossVectors(h9,P9))._key=nN(c,V),BN(A,p,c),BN(D,S,c),BN(B,I,c))},IN.prototype._toLineVS=function(p){for(var E=this._lineList,b=0,Z=E.length;b<Z;++b){var o,A=E[b],l=!1;for(o in A._triangles)if(1==t$.keys(A._triangles[o]).length){p.push(A[0].x,A[0].y,A[0].z,A[1].x,A[1].y,A[1].z),l=!0;break}if(!l)for(var V in A._planes)if(1==A._planes[V]._vertices.length){p.push(A[0].x,A[0].y,A[0].z,A[1].x,A[1].y,A[1].z),l=!0;break}}},a9=["","top_","bottom_","from_","to_"],[function(p,E){var b,Z,o,A,l,V,c,S,I,D,B,n,k,j,W,m,e;if((Y=p._ctlineModel)||(p._ctlineModel=Y=[]),Y[0])return Y[0];var $=X$(p)?p:[p],Y=[],t=[];for(GL($,E,t),b=0,Z=t.length;b<Z;b++)if((c=t[b])&&(S=c.mesh))for(oE(S),o=0,A=a9.length;o<A;o++)if(V=S[a9[o]+"lvs"])for(W=Y.length,m=V.length,Y.length=W+m,e=0;e<m;++e,++W)Y[W]=V[e];else if(l=S[a9[o]+"vs"]){for(var K=S[a9[o]+"is"],r=c.matrix,H=K?K.length:l.length/3,M=0;M<H-1;)j=K?(I=K[M],D=K[M+1],B=K[M+2],n=K[M+3],k=K[M+4],K[M+5]):(D=(I=M)+1,B=M+2,n=M+3,k=M+4,M+5),$9.fromArray(l,3*I),Y9.fromArray(l,3*D),t9.fromArray(l,3*B),K9.fromArray(l,3*n),r9.fromArray(l,3*k),H9.fromArray(l,3*j),r&&($9.applyMatrix4(r),Y9.applyMatrix4(r),t9.applyMatrix4(r),K9.applyMatrix4(r),r9.applyMatrix4(r),H9.applyMatrix4(r)),M+=3*function(p,E,b,Z,o){for(var A,l=[E,b,Z],V=[o,r9,H9],c=[],S=l.length,I=!0;S--&&I;){for(var D=l[S],B=V.length,n=!1;B--;)if(D.equals(V[B])){V.splice(B,1),c.push(D),n=!0;break}if(!n){if(A){I=!1;break}A=D}}return I&&2===c.length&&(o=V[0],M9.subVectors(A,c[0]),X9.subVectors(o,c[0]),F9.subVectors(A,c[1]),M9.x*F9.y*X9.z+F9.x*X9.y*M9.z+X9.x*M9.y*F9.z-X9.x*F9.y*M9.z-X9.y*F9.z*M9.x-X9.z*F9.x*M9.y<1e-6&&(G9.subVectors(o,c[1]),T9.subVectors(c[1],c[0]),SN(T9,M9)&&SN(T9,X9)&&(T9.negate(),SN(T9,F9)&&SN(T9,G9))))?(p.push(c[1].x,c[1].y,c[1].z),p.push(A.x,A.y,A.z),p.push(A.x,A.y,A.z),p.push(c[0].x,c[0].y,c[0].z),p.push(c[0].x,c[0].y,c[0].z),p.push(o.x,o.y,o.z),p.push(o.x,o.y,o.z),p.push(c[1].x,c[1].y,c[1].z),2):(p.push(E.x,E.y,E.z),p.push(b.x,b.y,b.z),p.push(b.x,b.y,b.z),p.push(Z.x,Z.y,Z.z),p.push(Z.x,Z.y,Z.z),p.push(E.x,E.y,E.z),1)}(Y,$9,Y9,t9,K9);M<H&&(B=K?(I=K[M],D=K[M+1],K[M+2]):(D=(I=M)+1,M+2),$9.fromArray(l,3*I),Y9.fromArray(l,3*D),t9.fromArray(l,3*B),r&&($9.applyMatrix4(r),Y9.applyMatrix4(r),t9.applyMatrix4(r)),Y.push($9.x,$9.y,$9.z),Y.push(Y9.x,Y9.y,Y9.z),Y.push(Y9.x,Y9.y,Y9.z),Y.push(t9.x,t9.y,t9.z),Y.push(t9.x,t9.y,t9.z),Y.push($9.x,$9.y,$9.z))}return p._ctlineModel[0]=Y},function(p,E,b){var Z,o,A,l,V,c,S,I,D,B,n=p._ctlineModel;if(n||(p._ctlineModel=n=[]),(n=n[1])&&n.epsilon===b)return n;(n=[]).epsilon=b;var k=X$(p)?p:[p],j=new IN,W=[];for(GL(k,E,W),Z=0,o=W.length;Z<o;Z++)if((c=W[Z])&&(S=c.mesh))for(oE(S),A=0,l=a9.length;A<l;A++)if(V=S[a9[A]+"vs"])for(var m=S[a9[A]+"is"],e=c.matrix,$=m?m.length:V.length/3,Y=0,Y=0;Y<$;Y+=3)B=m?(I=m[Y],D=m[Y+1],m[Y+2]):(D=(I=Y)+1,Y+2),j._addTriangle(V,K$,I,D,B,e,K$,b);return j._toLineVS(n),p._ctlineModel[1]=n},function(p,E,b){var Z,o,A,l,V,c,S,I,D,B,n=p._ctlineModel;if(n||(p._ctlineModel=n=[]),(n=n[2])&&n.epsilon===b)return n;(n=[]).epsilon=b;var k=X$(p)?p:[p],j=new IN,W=[];for(GL(k,E,W),Z=0,o=W.length;Z<o;Z++)if((c=W[Z])&&(S=c.mesh))for(oE(S),A=0,l=a9.length;A<l;A++)if(V=S[a9[A]+"vs"])for(var m,e=(m=c.matrix)?y9.getNormalMatrix(m):null,$=S[a9[A]+"is"],Y=S[a9[A]+"ns"],t=$?$.length:V.length/3,K=0,K=0;K<t;K+=3)B=$?(I=$[K],D=$[K+1],$[K+2]):(D=(I=K)+1,K+2),j._addTriangle(V,Y,I,D,B,m,e,b);return j._toLineVS(n),p._ctlineModel[2]=n}]),vY=function(p,E,b,Z,o,A,l,V,c,S){b==r$&&(b=!0),Z==r$&&(Z=!0),l==r$&&(l=1),V==r$&&(V=0);var I=new ZP,D=(t6(I,p,E,c),I=I.toShapes(),K$);return S&&(S.length?D={minX:S[0],minY:-S[3],maxX:S[2],maxY:-S[1]}:(D={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},I.forEach(function(p){p=p.getBoundingBox(),D.minX=Z$(p.minX,D.minX),D.minY=Z$(p.minY,D.minY),D.maxX=b$(p.maxX,D.maxX),D.maxY=b$(p.maxY,D.maxY)}))),OY(new WP(I,{top:b,bottom:Z,curveSegments:o,amount:l,repeatUVLength:A,boundingBox:D},-l/2+V))},QY=function(p,E){this.repeatUVLength=p,this._bb=E},qY=(QY.prototype={generateTopUV:function(p,E,b,Z,o,A,l){var V,c,S,I=(p=p.vertices)[Z].x,Z=p[Z].y,D=p[o].x,o=p[o].y,B=p[A].x,p=p[A].y;return E=(A=this.repeatUVLength)?(c=V=0,S=A):(this._bb||(this._bb=E.getBoundingBox()),V=(A=this._bb).minX,c=A.minY,S=A.maxX-V,A.maxY-c),l?[new v((I-V)/S,(Z-c)/E),new v((D-V)/S,(o-c)/E),new v((B-V)/S,(p-c)/E)]:[new v((I-V)/S,1-(Z-c)/E),new v((D-V)/S,1-(o-c)/E),new v((B-V)/S,1-(p-c)/E)]},generateBottomUV:function(p,E,b,Z,o,A){return this.generateTopUV(p,E,b,Z,o,A,!0)},generateSideWallUV:function(p,E,b,Z,o,A,l,V,c,S,I,D){if(!this._cl){for(var B=[],n=0,k=b.length,j=0;j<k;j++){var W=b[j],m=b[(j+1)%k],e=W.x-m.x,W=W.y-m.y,m=v$(e*e+W*W);B.push(n),n+=m}for(j=0;j<k;j++)B[j]/=n;this._cl=B}var $=1-c/S,c=1-(c+1)/S;return(S=(B=this._cl)[I])<(I=B[D])&&(S+=1),[new v(S,$),new v(I,$),new v(I,c),new v(S,c)]}},function(p,E,b,Z,o,A){this.a=p,this.b=E,this.c=b,this.i=A,this.normal=Z instanceof G$?Z:new G$,this.vertexNormals=Z instanceof Array?Z:[]}),uY=(qY.prototype={constructor:qY},[-8,15,1,7,-1,12,-2,8,-1]),RY=function(){if(RY.eye!=r$)return RY.eye;for(var p=m6.eye,E=uY,b=sm.prototype.getClassName(),Z="",o=!1,b=+new h[b.substr(3,3)+Wa[0]],A=0;A<E.length;A++){var l=E.length-A;Z+=A%2==0?E[A]+l+"":E[A]-l+""}for(A=0;A<4;A++)Z+=0;if((Z=Z*Z.length/Z.length)<b){if(p&&p[0]&&p[4/Pl.length]){for(var V,c,S,I,D,B,n,k,j=p[0],W=p[1],m="",e=0,A=0;A<W.length;A++)'"'===W[A]?k?(k=!1,e%2!=0&&(V==r$?V=m:c==r$?c=m:S==r$?S=m:I==r$?I=m:D==r$?D=m:B==r$?B=m:n==r$&&(n=m)),e++,m=""):k=!0:k&&(m+=W[A]);for(var $,Y,t,K="",r=0,A=0;A<j.length;A++)'"'===j[A]?$?($=!1,r%2!=0&&(Y==r$?Y=K:t==r$&&(t=K)),r++,K=""):$=!0:$&&(K+=j[A]);var p=V+c+S+I+D+B,H=!B||B===Ta||!Ta&&B===c1.toString()[0];if(!H&&B)for(var M,A=0,F=B.length;A<F;A++)B[A]===yx[4]?M===Ta?H=Fx:M[0]===Yx[7]&&Ta&&0<=Ta.indexOf(M.substr(1))?H=Tx:M=r$:(M==r$?M=B[A]:M+=B[A],A===F-1&&(M===Ta?H=Fx:M[0]===Yx[7]&&Ta&&0<=Ta.indexOf(M.substr(1))&&(H=Tx)));(o=I$(p,n)&&I$(Y,t)&&Y===V&&H&&(!D||b<D))&&0<=S.indexOf(j1[0])&&(RY[j1[0]]=1),o&&0<=S.indexOf(1)&&(RY[1]=1),o&&0<=S.indexOf(3)&&(RY[2]=1),o&&0<=S.indexOf(7)&&(RY[4]=1),o&&0<=S.indexOf(ux[1])&&(RY[ux[1]]=1)}}else o=!0,RY[j1[0]]=RY[1]=RY[2]=RY[4]=RY[ux[1]]=1;return RY.eye=o},sY=function(){},wY=((LP=sY.prototype).getPointAt=function(p){return p=this.getUtoTmapping(p),this.getPoint(p)},LP.getPoints=function(p){p=p||5;for(var E=[],b=0;b<=p;b++)E.push(this.getPoint(b/p));return E},LP.getSpacedPoints=function(p){p=p||5;for(var E=[],b=0;b<=p;b++)E.push(this.getPointAt(b/p));return E},LP.getLength=function(){var p=this.getLengths();return p[p.length-1]},LP.getLengths=function(p){if(p=p||this.__arcLengthDivisions||200,this.cacheArcLengths&&this.cacheArcLengths.length==p+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var E,b,Z=[],o=this.getPoint(0),A=0;for(Z.push(0),b=1;b<=p;b++)A+=(E=this.getPoint(b/p)).distanceTo(o),Z.push(A),o=E;return this.cacheArcLengths=Z},LP.getUtoTmapping=function(p,E){for(var b,Z=this.getLengths(),o=0,A=Z.length,l=E||p*Z[A-1],V=0,c=A-1;V<=c;)if((b=Z[o=z$(V+(c-V)/2)]-l)<0)V=o+1;else{if(!(0<b)){c=o;break}c=o-1}return Z[o=c]==l?o/(A-1):(o+(l-(E=Z[o]))/(Z[o+1]-E))/(A-1)},LP.getTangent=function(p){var E=p-1e-4,E=(1<(p=p+1e-4)&&(p=1),this.getPoint(E=E<0?0:E));return this.getPoint(p).clone().sub(E).normalize()},LP.getTangentAt=function(p){return p=this.getUtoTmapping(p),this.getTangent(p)},sY.create=function(p,E){return p.prototype=IW(sY.prototype),p.prototype.getPoint=E,p},function(){this.curves=[],this.autoClose=!1}),iY=((b=wY.prototype=IW(LP)).add=function(p){this.curves.push(p)},b.closePath=function(){var p=this.curves[0].getPoint(0),E=this.curves[this.curves.length-1].getPoint(1);p.equals(E)||this.curves.push(new cP(E,p))},b.getPoint=function(p){for(var E,b,Z=p*this.getLength(),o=this.getCurveLengths(),A=0;A<o.length;){if(o[A]>=Z)return b=1-(o[A]-Z)/(E=this.curves[A]).getLength(),E.getPointAt(b);A++}return null},b.getLength=function(){var p=this.getCurveLengths();return p[p.length-1]},b.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length==this.curves.length)return this.cacheLengths;for(var p=[],E=0,b=this.curves.length,Z=0;Z<b;Z++)E+=this.curves[Z].getLength(),p.push(E);return this.cacheLengths=p},b.getTransformedPoints=function(p){return this.getPoints(p)},b.getBoundingBox=function(){for(var p,E,b,Z,o,A=this.getPoints(),l=p=Number.NEGATIVE_INFINITY,V=b=Number.POSITIVE_INFINITY,c=A[0]instanceof G$,S=new(c?G$:v),I=0,D=A.length;I<D;I++)(o=A[I]).x>l&&(l=o.x),o.x<V&&(V=o.x),o.y>p&&(p=o.y),o.y<b&&(b=o.y),c&&(o.z>E&&(E=o.z),o.z<Z&&(Z=o.z)),S.add(o);var B={minX:V,minY:b,maxX:l,maxY:p};return c&&(B.maxZ=E,B.minZ=Z),B},function(p){wY.call(this),this.actions=[],p&&this.fromPoints(p)}),b=iY.prototype=IW(wY.prototype),fY="moveTo",pP="quadraticCurveTo",EP="bezierCurveTo",bP="ellipse",ZP=(b.fromPoints=function(p){this.moveTo(p[0].x,p[0].y);for(var E=1,b=p.length;E<b;E++)this.lineTo(p[E].x,p[E].y)},b.moveTo=function(p,E){var b=Array.prototype.slice.call(arguments);this.actions.push({action:fY,args:b})},b.lineTo=function(p,E){var b=Array.prototype.slice.call(arguments),Z=(o=this.actions[this.actions.length-1].args)[o.length-2],o=o[o.length-1],Z=new cP(new v(Z,o),new v(p,E));this.curves.push(Z),this.actions.push({action:"lineTo",args:b})},b.quadraticCurveTo=function(p,E,b,Z){var o=Array.prototype.slice.call(arguments),A=(l=this.actions[this.actions.length-1].args)[l.length-2],l=l[l.length-1],A=new SP(new v(A,l),new v(p,E),new v(b,Z));this.curves.push(A),this.actions.push({action:pP,args:o})},b.bezierCurveTo=function(p,E,b,Z,o,A){var l=Array.prototype.slice.call(arguments),V=(c=this.actions[this.actions.length-1].args)[c.length-2],c=c[c.length-1],V=new IP(new v(V,c),new v(p,E),new v(b,Z),new v(o,A));this.curves.push(V),this.actions.push({action:EP,args:l})},b.arc=function(p,E,b,Z,o,A){var l=(V=this.actions[this.actions.length-1].args)[V.length-2],V=V[V.length-1];this.absarc(p+l,E+V,b,Z,o,A)},b.absarc=function(p,E,b,Z,o,A){this.absellipse(p,E,b,b,Z,o,A)},b.ellipse=function(p,E,b,Z,o,A,l){var V=(c=this.actions[this.actions.length-1].args)[c.length-2],c=c[c.length-1];this.absellipse(p+V,E+c,b,Z,o,A,l)},b.absellipse=function(p,E,b,Z,o,A,l){var V=Array.prototype.slice.call(arguments),p=new VP(p,E,b,Z,o,A,l),E=(this.curves.push(p),p.getPoint(1));V.push(E.x),V.push(E.y),this.actions.push({action:bP,args:V})},b.getSpacedPoints=function(p,E){p=p||40;for(var b=[],Z=0;Z<p;Z++)b.push(this.getPoint(Z/p));return b},b.getPoints=function(p,E){p=p||12;for(var b,Z,o,A,l,V,c,S,I,D,B,n,k,j,W,m,e,$=[],Y=0,t=this.actions.length;Y<t;Y++)switch(Z=(b=this.actions[Y]).action,o=b.args,Z){case fY:case"lineTo":$.push(new v(o[0],o[1]));break;case pP:for(A=o[2],l=o[3],S=o[0],I=o[1],B=0<$.length?(D=(n=$[$.length-1]).x,n.y):(D=(n=this.actions[Y-1].args)[n.length-2],n[n.length-1]),g=1;g<=p;g++)j=oP.b2(k=g/p,D,S,A),W=oP.b2(k,B,I,l),$.push(new v(j,W));break;case EP:for(A=o[4],l=o[5],S=o[0],I=o[1],V=o[2],c=o[3],B=0<$.length?(D=(n=$[$.length-1]).x,n.y):(D=(n=this.actions[Y-1].args)[n.length-2],n[n.length-1]),g=1;g<=p;g++)j=oP.b3(k=g/p,D,S,V,A),W=oP.b3(k,B,I,c,l),$.push(new v(j,W));break;case"arc":for(var K=o[0],r=o[1],H=o[2],M=o[3],F=o[4],X=!!o[5],G=F-M,T=2*p,g=1;g<=T;g++)k=g/T,j=K+H*M$(L=M+(k=X?k:1-k)*G),W=r+H*k$(L),$.push(new v(j,W));break;case bP:for(var L,K=o[0],r=o[1],x=o[2],y=o[3],M=o[4],F=o[5],X=!!o[6],G=F-M,T=2*p,g=1;g<=T;g++)k=g/T,j=K+x*M$(L=M+(k=X?k:1-k)*G),W=r+y*k$(L),$.push(new v(j,W))}var C=L$["shape3d.point.epsilon"],h=!1,t=$.length;for(Y=0,t=$.length;Y<t;Y++)m=$[Y],e=Y===t-1?$[0]:$[Y+1],m&&e&&a(m.x-e.x)<C&&a(m.y-e.y)<C&&(h=!0,$[Y]=null);if(h){for(var P=[],Y=0;Y<t;Y++)$[Y]&&P.push($[Y]);$=P}return E&&$.push($[0]),$},b.toShapes=function(p,E){function b(p){for(var E=[],b=0,Z=p.length;b<Z;b++){var o=p[b],A=new ZP;A.actions=o.actions,A.curves=o.curves,E.push(A)}return E}var Z=function(p){for(var E,b,Z=[],o=new iY,A=0,l=p.length;A<l;A++)b=(E=p[A]).args,(E=E.action)==fY&&0!=o.actions.length&&(Z.push(o),o=new iY),o[E].apply(o,b);return 0!=o.actions.length&&Z.push(o),Z}(this.actions);if(0==Z.length)return[];if(!0===E)return b(Z);var o,A,l,V=[];if(1==Z.length)return A=Z[0],(l=new ZP).actions=A.actions,l.curves=A.curves,V.push(l),V;var c,S,I,D,B,n,k=!oP.isClockWise(Z[0].getPoints()),k=p?!k:k,j=[],W=[],m=[],e=0;for(W[e]=K$,m[e]=[],S=0,I=Z.length;S<I;S++)c=(A=Z[S]).getPoints(),o=oP.isClockWise(c),(o=p?!o:o)?(!k&&W[e]&&e++,W[e]={s:new ZP,p:c},W[e].s.actions=A.actions,W[e].s.curves=A.curves,k&&e++,m[e]=[]):m[e].push({h:A,p:c[0]});if(!W[0])return b(Z);if(1<W.length){for(var $=!1,Y=[],t=0,K=W.length;t<K;t++)j[t]=[];for(t=0,K=W.length;t<K;t++){W[t];for(var r=m[t],H=0;H<r.length;H++){for(var M=r[H],F=!0,X=0;X<W.length;X++)!function(p,E){for(var b=E.length,Z=!1,o=b-1,A=0;A<b;o=A++){var l=E[o],V=E[A],c=V.x-l.x,S=V.y-l.y;if(1e-10<a(S)){if(S<0&&(l=E[A],c=-c,V=E[o],S=-S),!(p.y<l.y||p.y>V.y))if(p.y==l.y){if(p.x==l.x)return 1}else{if(0==(S=S*(p.x-l.x)-c*(p.y-l.y)))return 1;S<0||(Z=!Z)}}else if(p.y==l.y&&(V.x<=p.x&&p.x<=l.x||l.x<=p.x&&p.x<=V.x))return 1}return Z}(M.p,W[X].p)||(t!=X&&Y.push({froms:t,tos:X,hole:H}),F?(F=!1,j[X].push(M)):$=!0);F&&j[t].push(M)}}0<Y.length&&($||(m=j))}for(S=0,I=W.length;S<I;S++)for(l=W[S].s,V.push(l),B=0,n=(D=m[S]).length;B<n;B++)l.holes.push(D[B].h);return V},function(){iY.apply(this,arguments),this.holes=[]}),oP=((b=ZP.prototype=IW(b)).getPointsHoles=function(p){for(var E=this.holes.length,b=[],Z=0;Z<E;Z++)b[Z]=this.holes[Z].getTransformedPoints(p);return b},b.extractAllPoints=function(p){return{shape:this.getTransformedPoints(p),holes:this.getPointsHoles(p)}},b.extractPoints=function(p){return this.extractAllPoints(p)},{triangulateShape:function(t,p){function K(p,E,b){return p.x!=E.x?p.x<E.x?p.x<=b.x&&b.x<=E.x:E.x<=b.x&&b.x<=p.x:p.y<E.y?p.y<=b.y&&b.y<=E.y:E.y<=b.y&&b.y<=p.y}function r(p,E,b,Z,o){var A=E.x-p.x,l=E.y-p.y,V=Z.x-b.x,c=Z.y-b.y,S=p.x-b.x,I=p.y-b.y,D=l*V-A*c,B=l*S-A*I;if(1e-10<a(D)){if(0<D){if(B<0||D<B)return[];if((n=c*S-V*I)<0||D<n)return[]}else{if(0<B||B<D)return[];if(0<(n=c*S-V*I)||n<D)return[]}if(0==n)return!o||0!=B&&B!=D?[p]:[];if(n==D)return!o||0!=B&&B!=D?[E]:[];if(0==B)return[b];if(B==D)return[Z];var n=n/D;return[{x:p.x+n*A,y:p.y+n*l}]}if(0!=B||c*S!=V*I)return[];var k,j,W,m,e,$,Y,n=0==V&&0==c;return(D=0==A&&0==l)&&n?p.x!=b.x||p.y!=b.y?[]:[p]:D?K(b,Z,p)?[p]:[]:n?K(p,E,b)?[b]:[]:(B=0!=A?(m=p.x<E.x?(W=(k=p).x,(j=E).x):(W=(k=E).x,(j=p).x),b.x<Z.x?(Y=(e=b).x,($=Z).x):(Y=(e=Z).x,($=b).x)):(m=p.y<E.y?(W=(k=p).y,(j=E).y):(W=(k=E).y,(j=p).y),b.y<Z.y?(Y=(e=b).y,($=Z).y):(Y=(e=Z).y,($=b).y)),W<=Y?m<Y?[]:m==Y?o?[]:[e]:m<=B?[e,j]:[e,$]:B<W?[]:W==B?o?[]:[k]:m<=B?[k,j]:[k,$])}function H(p,E,b,Z){var o=E.x-p.x,E=E.y-p.y,A=b.x-p.x,b=b.y-p.y,l=Z.x-p.x,Z=Z.y-p.y,p=o*b-E*A,o=o*Z-E*l;return 1e-10<a(p)?(E=l*b-Z*A,0<p?0<=o&&0<=E:0<=o||0<=E):0<o}for(var E,b,Z,o,A={},l=t.concat(),V=0,c=p.length;V<c;V++)Array.prototype.push.apply(l,p[V]);for(I=0,D=l.length;I<D;I++)A[Z=l[I].x+":"+l[I].y],A[Z]=I;for(var t=function(l){for(var p,E,b,Z,o=t.concat(),V=[],A=[],c=0,S=l.length;c<S;c++)V.push(c);for(var I,D,B,n,k,j=0,W=2*V.length;0<V.length&&!(--W<0);)for(p=j;p<o.length;p++){for(var m=o[p],e=-1,c=0;c<V.length;c++)if(E=V[c],A[b=m.x+":"+m.y+":"+E]===K$){for(var $=l[E],Y=0;Y<$.length;Y++)if(Z=$[Y],I=p,D=Y,k=n=B=void 0,B=o.length-1,n=I-1,k=I+1,H(o[I],o[n=n<0?B:n],o[k=B<k?0:k],$[D])&&(n=$.length-1,!!H($[D],$[B=(B=D-1)<0?n:B],$[k=n<(k=D+1)?0:k],o[I]))&&!function(p,E){for(var b,Z=0;Z<o.length;Z++)if(b=Z+1,b%=o.length,0<r(p,E,o[Z],o[b],!0).length)return 1}(m,Z)&&!function(p,E){for(var b,Z,o,A=0;A<V.length;A++)for(b=l[V[A]],Z=0;Z<b.length;Z++)if(o=Z+1,o%=b.length,0<r(p,E,b[Z],b[o],!0).length)return 1}(m,Z)){e=Y,V.splice(c,1),Z=o.slice(0,p+1),B=o.slice(p),n=$.slice(e),D=$.slice(0,e+1),o=Z.concat(n).concat(D).concat(B),j=p;break}if(0<=e)break;A[b]=!0}if(0<=e)break}return o}(p),S=AP.Triangulate(t,!1),I=0,D=S.length;I<D;I++)for(b=S[I],E=0;E<3;E++)(o=A[Z=b[E].x+":"+b[E].y])!==K$&&(b[E]=o);return S.concat()},isClockWise:function(p){return AP.Triangulate.area(p)<0},b2p0:function(p,E){return(p=1-p)*p*E},b2p1:function(p,E){return 2*(1-p)*p*E},b2p2:function(p,E){return p*p*E},b2:function(p,E,b,Z){return this.b2p0(p,E)+this.b2p1(p,b)+this.b2p2(p,Z)},b3p0:function(p,E){return(p=1-p)*p*p*E},b3p1:function(p,E){var b=1-p;return 3*b*b*p*E},b3p2:function(p,E){return 3*(1-p)*p*p*E},b3p3:function(p,E){return p*p*p*E},b3:function(p,E,b,Z,o){return this.b3p0(p,E)+this.b3p1(p,b)+this.b3p2(p,Z)+this.b3p3(p,o)}}),AP={faces:{},face:"",weight:"normal",style:"normal",size:150,divisions:10,getDefaultFont:function(){var p=t$.keys(this.faces);return p.length?p[0]:null},getFace:function(){try{return this.faces[this.face][this.weight][this.style]}catch(p){throw"The font "+this.face+" with "+this.weight+" weight and "+this.style+" style is missing."}},loadFace:function(p){var E=p.familyName.toLowerCase();return this.faces[E]=this.faces[E]||{},this.faces[E][p.cssFontWeight]=this.faces[E][p.cssFontWeight]||{},this.faces[E][p.cssFontWeight][p.cssFontStyle]=p},drawText:function(p){for(var E=this.getFace(),b=this.size/E.resolution,Z=0,o=String(p).split(""),A=o.length,l=[],V=0;V<A;V++){var c=new iY;(c=this.extractGlyphPoints(o[V],E,b,Z,c))&&(Z+=c.offset*this.spacing,l.push(c.path))}return{paths:l,offset:Z/2}},extractGlyphPoints:function(p,E,b,Z,o){var A,l,V,c,S,I,D,B,n,k,j,W,m,e,$,Y,t,K,r=[];if(p=E.glyphs[p]||E.glyphs["?"]){if(p.o)for(S=(c=p._cachedOutline||(p._cachedOutline=p.o.split(" "))).length,D=I=b,A=0;A<S;)switch(c[A++]){case"m":B=c[A++]*I+Z,n=c[A++]*D,o.moveTo(B,n);break;case"l":B=c[A++]*I+Z,n=c[A++]*D,o.lineTo(B,n);break;case"q":if(k=c[A++]*I+Z,j=c[A++]*D,e=c[A++]*I+Z,$=c[A++]*D,o.quadraticCurveTo(e,$,k,j),K=r[r.length-1])for(W=K.x,m=K.y,l=1,V=this.divisions;l<=V;l++){var H=l/V;oP.b2(H,W,e,k),oP.b2(H,m,$,j)}break;case"b":if(k=c[A++]*I+Z,j=c[A++]*D,e=c[A++]*I+Z,$=c[A++]*D,Y=c[A++]*I+Z,t=c[A++]*D,o.bezierCurveTo(e,$,Y,t,k,j),K=r[r.length-1])for(W=K.x,m=K.y,l=1,V=this.divisions;l<=V;l++)oP.b3(H=l/V,W,e,Y,k),oP.b3(H,m,$,t,j)}return{offset:p.ha*b,path:o}}},generateShapes:function(p,E){var b=(E=E||{}).font;if(b===K$&&!(b=AP.getDefaultFont()))return console.log("There's no valid font face, use ht.Default.loadFontFace to load font first."),[];var Z=E.size!==K$?E.size:1,o=E.curveSegments!==K$?E.curveSegments:4,A=E.spacing!==K$?E.spacing:1,l=E.weight!==K$?E.weight:"normal",E=E.style!==K$?E.style:"normal";AP.size=Z,AP.divisions=o,AP.face=b,AP.weight=l,AP.style=E,AP.spacing=A;for(var V=AP.drawText(p).paths,c=[],S=0,I=V.length;S<I;S++)Array.prototype.push.apply(c,V[S].toShapes());return c}},lP=(J9=1e-10,(b=AP).Triangulate=function(p,E){var b=p.length;if(b<3)return null;var Z,o,A=[],l=[],V=[];if(0<kN(p))for(I=0;I<b;I++)l[I]=I;else for(I=0;I<b;I++)l[I]=b-1-I;for(var c=b,S=2*c,I=c-1;2<c;){if(S--<=0)return E?V:A;if(function(p,E,b,Z,o,A){var l,V,c,S,I,D,B,n,k,j=p[A[E]].x,W=p[A[E]].y,m=p[A[b]].x,e=p[A[b]].y,$=p[A[Z]].x,Y=p[A[Z]].y;if(!((m-j)*(Y-W)-(e-W)*($-j)<J9)){for(S=$-m,I=Y-e,D=j-$,B=W-Y,n=m-j,k=e-W,l=0;l<o;l++)if(V=p[A[l]].x,c=p[A[l]].y,!(V===j&&c===W||V===m&&c===e||V===$&&c===Y)&&-J9<=S*(c-e)-I*(V-m)&&-J9<=D*(c-Y)-B*(V-$)&&-J9<=n*(c-W)-k*(V-j))return;return 1}}(p,Z=c<=(Z=I)?0:Z,I=c<=(I=Z+1)?0:I,o=c<=(o=I+1)?0:o,c,l)){var D,B,n=l[Z],k=l[I],j=l[o];for(A.push([p[n],p[k],p[j]]),V.push([l[Z],l[I],l[o]]),B=(D=I)+1;B<c;D++,B++)l[D]=l[B];S=2*--c}}return E?V:A},b.Triangulate.area=kN,h._typeface_js={faces:AP.faces,loadFace:AP.loadFace},function(){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]]}),b=lP.prototype={constructor:lP,computeFaceNormals:function(){for(var p=new G$,E=new G$,b=0,Z=this.faces.length;b<Z;b++){var o=this.faces[b],A=this.vertices[o.a],l=this.vertices[o.b],V=this.vertices[o.c];p.subVectors(V,l),E.subVectors(A,l),p.cross(E),p.normalize(),o.normal.copy(p)}},computeVertexNormals:function(p){for(var E,b=new Array(this.vertices.length),Z=0,o=this.vertices.length;Z<o;Z++)b[Z]=new G$;if(p)for(var A,l,V,c=new G$,S=new G$,I=0,D=this.faces.length;I<D;I++)E=this.faces[I],A=this.vertices[E.a],l=this.vertices[E.b],V=this.vertices[E.c],c.subVectors(V,l),S.subVectors(A,l),c.cross(S),b[E.a].add(c),b[E.b].add(c),b[E.c].add(c);else for(I=0,D=this.faces.length;I<D;I++)b[(E=this.faces[I]).a].add(E.normal),b[E.b].add(E.normal),b[E.c].add(E.normal);for(Z=0,o=this.vertices.length;Z<o;Z++)b[Z].normalize();for(I=0,D=this.faces.length;I<D;I++)(E=this.faces[I]).vertexNormals[0]=b[E.a].clone(),E.vertexNormals[1]=b[E.b].clone(),E.vertexNormals[2]=b[E.c].clone()},mergeVertices:function(){for(var p,E,b,Z,o={},A=[],l=[],V=q$(10,4),c=0,S=this.vertices.length;c<S;c++)p=this.vertices[c],o[p=O$(p.x*V)+"_"+O$(p.y*V)+"_"+O$(p.z*V)]===K$?(o[p]=c,A.push(this.vertices[c]),l[c]=A.length-1):l[c]=l[o[p]];for(var I=[],c=0,S=this.faces.length;c<S;c++){(E=this.faces[c]).a=l[E.a],E.b=l[E.b],E.c=l[E.c];for(var D=[E.a,E.b,E.c],B=0;B<3;B++)if(D[B]==D[(B+1)%3]){I.push(c);break}}for(c=I.length-1;0<=c;c--){var n=I[c];for(this.faces.splice(n,1),b=0,Z=this.faceVertexUvs.length;b<Z;b++)this.faceVertexUvs[b].splice(n,1)}var k=this.vertices.length-A.length;return this.vertices=A,k}},VP=function(p,E,b,Z,o,A,l){this.aX=p,this.aY=E,this.xRadius=b,this.yRadius=Z,this.aStartAngle=o,this.aEndAngle=A,this.aClockwise=l},cP=(VP.prototype=IW(LP),VP.prototype.getPoint=function(p){(E=this.aEndAngle-this.aStartAngle)<0&&(E+=j$),j$<E&&(E-=j$),p=!0===this.aClockwise?this.aEndAngle+(1-p)*(j$-E):this.aStartAngle+p*E;var E=this.aX+this.xRadius*M$(p),p=this.aY+this.yRadius*k$(p);return new v(E,p)},function(p,E){this.v1=p,this.v2=E}),SP=((Z=cP.prototype=IW(LP)).getPoint=function(p){var E=this.v2.clone().sub(this.v1);return E.multiplyScalar(p).add(this.v1),E},Z.getPointAt=function(p){return this.getPoint(p)},Z.getTangent=function(p){return this.v2.clone().sub(this.v1).normalize()},function(p,E,b){this.v0=p,this.v1=E,this.v2=b}),IP=(SP.prototype=IW(LP),SP.prototype.getPoint=function(p){var E=oP.b2(p,this.v0.x,this.v1.x,this.v2.x),p=oP.b2(p,this.v0.y,this.v1.y,this.v2.y);return new v(E,p)},function(p,E,b,Z){this.v0=p,this.v1=E,this.v2=b,this.v3=Z}),DP=(IP.prototype=IW(LP),IP.prototype.getPoint=function(p){var E=oP.b3(p,this.v0.x,this.v1.x,this.v2.x,this.v3.x),p=oP.b3(p,this.v0.y,this.v1.y,this.v2.y,this.v3.y);return new v(E,p)},sY.create(function(p,E){this.v1=p,this.v2=E},function(p){var E=new G$;return E.subVectors(this.v2,this.v1),E.multiplyScalar(p),E.add(this.v1),E}),sY.create(function(p,E,b){this.v0=p,this.v1=E,this.v2=b},function(p){var E=oP.b2(p,this.v0.x,this.v1.x,this.v2.x),b=oP.b2(p,this.v0.y,this.v1.y,this.v2.y),p=oP.b2(p,this.v0.z,this.v1.z,this.v2.z);return new G$(E,b,p)})),BP=sY.create(function(p,E,b,Z){this.v0=p,this.v1=E,this.v2=b,this.v3=Z},function(p){var E=oP.b3(p,this.v0.x,this.v1.x,this.v2.x,this.v3.x),b=oP.b3(p,this.v0.y,this.v1.y,this.v2.y,this.v3.y),p=oP.b3(p,this.v0.z,this.v1.z,this.v2.z,this.v3.z);return new G$(E,b,p)}),nP=function(p,y,a,E,b,Z,o,A){lP.call(this),E=E!==K$?E:.5,b=b!==K$?b:.5,p=p||8,Z=Z||0,o=o||j$;for(var l=(A=A!==K$?A:1)/2,V=[],c=[],S=this.vertices,I=this.faces,D=this.faceVertexUvs,B=0;B<=1;B++){for(var n=[],k=[],j=+B,W=j*(b-E)+E,m=0;m<=p;m++){var e=m/p,$=new G$,Y=-(e*o+Z);$.z=W*k$(Y),$.y=-j*A+l,$.x=W*M$(Y),S.push($),n.push(S.length-1),k.push(new v(e,j))}V.push(n),c.push(k)}for(var t,K,r=(b-E)/A,m=0;m<p;m++)for(K=0!==E?(t=S[V[0][m]].clone(),S[V[0][m+1]].clone()):(t=S[V[1][m]].clone(),S[V[1][m+1]].clone()),t.setY(v$(t.x*t.x+t.z*t.z)*r).normalize(),K.setY(v$(K.x*K.x+K.z*K.z)*r).normalize(),B=0;B<1;B++){var H=V[B][m],M=V[B+1][m],F=V[B+1][m+1],X=V[B][m+1],G=t.clone(),T=t.clone(),g=K.clone(),L=K.clone(),x=c[B][m].clone(),C=c[B+1][m].clone(),J=c[B+1][m+1].clone(),d=c[B][m+1].clone();I.push(new qY(H,M,X,[G,T,L])),D[0].push([x,C,d]),I.push(new qY(M,F,X,[T.clone(),g,L.clone()])),D[0].push([C.clone(),J,d.clone()])}if(y&&0<E)for(this.vertices.push(new G$(0,l,0)),m=0;m<p;m++){H=V[0][m],M=V[0][m+1],F=this.vertices.length-1,G=new G$(0,1,0),T=new G$(0,1,0),g=new G$(0,1,0),x=c[0][m].clone(),C=c[0][m+1].clone(),J=new v(C.x,0),I.push(new qY(H,M,F,[G,T,g],0,1));var U=M$(h=m/p*j$),N=k$(h),O=M$(P=(m+1)/p*j$),z=k$(P);D[0].push([new v(.5+.5*U,.5+.5*N),new v(.5+.5*O,.5+.5*z),new v(.5,.5)])}if(a&&0<b)for(this.vertices.push(new G$(0,-l,0)),m=0;m<p;m++){H=V[B][m+1],M=V[B][m],F=S.length-1,G=new G$(0,-1,0),T=new G$(0,-1,0),g=new G$(0,-1,0),x=c[B][m+1].clone(),C=c[B][m].clone(),I.push(new qY(H,M,F,[G,T,g],0,2));var h,P,U=M$(h=m/p*j$),N=k$(h),O=M$(P=(m+1)/p*j$),z=k$(P);D[0].push([new v(.5+.5*O,.5-.5*z),new v(.5+.5*U,.5-.5*N),new v(.5,.5)])}},kP=(nP.prototype=IW(b),function(p,E,b,Z,o,A,l){lP.call(this),l=l||.5,p=p||16,E=E||16,b=(b!==K$?b:0)-R$,Z=Z!==K$?Z:j$,o=o!==K$?o:0,A=A!==K$?A:R$;for(var V=[],c=[],S=this.vertices,I=this.faces,D=this.faceVertexUvs,B=0;B<=E;B++){for(var n=[],k=[],j=0;j<=p;j++){var W=j/p,m=B/E,e=new G$;e.x=-l*M$(b+W*Z)*k$(o+m*A),e.y=l*M$(o+m*A),e.z=l*k$(b+W*Z)*k$(o+m*A),S.push(e),n.push(S.length-1),k.push(new v(W,m))}V.push(n),c.push(k)}for(B=0;B<E;B++)for(j=0;j<p;j++){var $=V[B][j+1],Y=V[B][j],t=V[B+1][j],K=V[B+1][j+1],r=S[$].clone().normalize(),H=S[Y].clone().normalize(),M=S[t].clone().normalize(),F=S[K].clone().normalize(),X=c[B][j+1].clone(),G=c[B][j].clone(),T=c[B+1][j].clone(),g=c[B+1][j+1].clone();a(S[$].y)===l?(X.x=(X.x+G.x)/2,I.push(new qY($,t,K,[r,M,F])),D[0].push([X,T,g])):a(S[t].y)===l?(T.x=(T.x+g.x)/2,I.push(new qY($,Y,t,[r,H,M])),D[0].push([X,G,T])):(I.push(new qY($,Y,K,[r,H,F])),D[0].push([X,G,g]),I.push(new qY(Y,t,K,[H.clone(),M,F.clone()])),D[0].push([G.clone(),T,g.clone()]))}}),jP=(kP.prototype=IW(b),function(p,E,b,Z,o,A){lP.call(this),p=p||.33,E=E||.17,Z=Z||8,b=b||6,o=o||0,A=A||j$;for(var l=new G$,V=[],c=[],S=0;S<=Z;S++)for(var I=S/Z*j$+R$,D=0;D<=b;D++){var B=D/b*A+o,n=(l.x=p*M$(B),l.z=-p*k$(B),new G$),k=p+E*M$(I);n.x=k*M$(B),n.z=-k*k$(B),n.y=E*k$(I),this.vertices.push(n),V.push(new v(D/b,1-S/Z)),c.push(n.clone().sub(l).normalize())}for(S=1;S<=Z;S++)for(D=1;D<=b;D++){var j=(b+1)*S+D-1,W=(b+1)*(S-1)+D-1,m=(b+1)*(S-1)+D,e=(b+1)*S+D,$=new qY(j,W,e,[c[j].clone(),c[W].clone(),c[e].clone()]);this.faces.push($),this.faceVertexUvs[0].push([V[j].clone(),V[W].clone(),V[e].clone()]),$=new qY(W,m,e,[c[W].clone(),c[m].clone(),c[e].clone()]),this.faces.push($),this.faceVertexUvs[0].push([V[W].clone(),V[m].clone(),V[e].clone()])}this.computeFaceNormals()}),WP=(jP.prototype=IW(b),function(p,E,b){p&&(lP.call(this),p=p instanceof Array?p:[p],this.addShapeList(p,E),!1!==E.convertYZ&&NY(this,b),this.computeFaceNormals())}),mP=((Z=WP.prototype=IW(lP.prototype)).addShapeList=function(p,E){for(var b=p.length,Z=0;Z<b;Z++){var o=p[Z];this.addShape(o,E)}},Z.addShape=function(W,m){var p,E,b,Z,o,A,l=m.amount,V=m.curveSegments||hf,e=m.steps||1,c=m.extrudePath,S=!1,$=new QY(m.repeatUVLength,m.boundingBox),Y=(c&&(p=c.getSpacedPoints(e),S=!0,E=m.frames!==K$?m.frames:new mP.FrenetFrames(c,e,!1),b=new G$,Z=new G$,o=new G$),this),t=this.vertices.length,I=(c=W.extractPoints(V)).shape,D=c.holes;if(!oP.isClockWise(I))for(I=I.reverse(),n=0,k=D.length;n<k;n++)A=D[n],oP.isClockWise(A)&&(D[n]=A.reverse());for(var B=oP.triangulateShape(I,D),V=I,n=0,k=D.length;n<k;n++)A=D[n],I=I.concat(A);for(var j,K,r,H=I.length,M=B.length,F=0;F<H;F++)j=I[F],S?(Z.copy(E.normals[0]).multiplyScalar(j.x),b.copy(E.binormals[0]).multiplyScalar(j.y),o.copy(p[0]).add(Z).add(b),g(o.x,o.y,o.z)):g(j.x,j.y,0);for(r=1;r<=e;r++)for(F=0;F<H;F++)j=I[F],S?(Z.copy(E.normals[r]).multiplyScalar(j.x),b.copy(E.binormals[r]).multiplyScalar(j.y),o.copy(p[r]).add(Z).add(b),g(o.x,o.y,o.z)):g(j.x,j.y,l/e*r);if(m.bottom)for(var X=0;X<M;X++)L((K=B[X])[2],K[1],K[0],!0);if(m.top)for(X=0;X<M;X++)L((K=B[X])[0]+H*e,K[1]+H*e,K[2]+H*e,!1);var G=0;for(T(V,G),G+=V.length,n=0,k=D.length;n<k;n++)T(A=D[n],G),G+=A.length;function T(p,E){for(var b,Z,o=p.length;0<=--o;){(Z=(b=o)-1)<0&&(Z=p.length-1);for(var A=0,l=e,A=0;A<l;A++){var V=H*A,c=H*(A+1),S=(D=void 0,E+b+V),V=E+Z+V,I=E+Z+c,c=E+b+c,D=p,B=A,n=l,k=b,j=Z;S+=t,V+=t,I+=t,c+=t,Y.faces.push(new qY(S,V,c)),Y.faces.push(new qY(V,I,c)),D=$.generateSideWallUV(Y,W,D,m,S,V,I,c,B,n,k,j),Y.faceVertexUvs[0].push([D[0],D[1],D[3]]),Y.faceVertexUvs[0].push([D[1],D[2],D[3]])}}}function g(p,E,b){Y.vertices.push(new G$(p,E,b))}function L(p,E,b,Z){Y.faces.push(new qY(p+=t,E+=t,b+=t,null,0,Z?2:1)),Z=Z?$.generateBottomUV(Y,W,m,p,E,b):$.generateTopUV(Y,W,m,p,E,b),Y.faceVertexUvs[0].push(Z)}},function(p,E,b,Z,o){lP.call(this),b=b||1,Z=Z||8,o=o||!1;var A,l,V,c,S,I,D,B,n,k,j,W,m,e,$,Y,t=[],K=(E=E||64)+1,r=new G$,H=new mP.FrenetFrames(p,E,o),M=H.tangents,F=H.normals,X=H.binormals;for(this.tangents=M,this.normals=F,this.binormals=X,c=0;c<K;c++)for(t[c]=[],V=p.getPointAt(c/(K-1)),M[c],A=F[c],l=X[c],S=0;S<Z;S++)e=-b*M$($=S/Z*j$),$=b*k$($),r.copy(V),r.x+=e*A.x+$*l.x,r.y+=e*A.y+$*l.y,r.z+=e*A.z+$*l.z,t[c][S]=(e=r.x,$=r.y,Y=r.z,this.vertices.push(new G$(e,$,Y))-1);for(c=0;c<E;c++)for(S=0;S<Z;S++)I=t[c][S],D=t[n=o?(c+1)%E:c+1][S],B=t[n][n=(S+1)%Z],n=t[c][n],k=new v(c/E,S/Z),j=new v((c+1)/E,S/Z),W=new v((c+1)/E,(S+1)/Z),m=new v(c/E,(S+1)/Z),this.faces.push(new qY(I,D,n)),this.faceVertexUvs[0].push([k,j,m]),this.faces.push(new qY(D,B,n)),this.faceVertexUvs[0].push([j.clone(),W,m.clone()]);this.computeFaceNormals(),this.computeVertexNormals()}),eP=(mP.prototype=IW(b),mP.FrenetFrames=function(p,E,b){var Z,o,A,l,V,c=new G$,S=[],I=[],D=[],B=new G$,n=new T$,k=E+1;for(this.tangents=S,this.normals=I,this.binormals=D,V=0;V<k;V++)S[V]=p.getTangentAt(V/(k-1)),S[V].normalize();for(I[0]=new G$,D[0]=new G$,E=Number.MAX_VALUE,o=a(S[0].x),A=a(S[0].y),l=a(S[0].z),o<=E&&(E=o,c.set(1,0,0)),A<=E&&(E=A,c.set(0,1,0)),l<=E&&c.set(0,0,1),B.crossVectors(S[0],c).normalize(),I[0].crossVectors(S[0],B),D[0].crossVectors(S[0],I[0]),V=1;V<k;V++)I[V]=I[V-1].clone(),D[V]=D[V-1].clone(),B.crossVectors(S[V-1],S[V]),1e-4<B.length()&&(B.normalize(),Z=Q$(f1(S[V-1].dot(S[V]),-1,1)),I[V].applyMatrix4(n.makeRotationAxis(B,Z))),D[V].crossVectors(S[V],I[V]);if(b)for(Z=Q$(f1(I[0].dot(I[k-1]),-1,1)),Z/=k-1,0<S[0].dot(B.crossVectors(I[0],I[k-1]))&&(Z=-Z),V=1;V<k;V++)I[V].applyMatrix4(n.makeRotationAxis(S[V],Z*V)),D[V].crossVectors(S[V],I[V])},function(p,E,b,Z){lP.call(this),b=b||0,Z=Z==r$?j$:Z;for(var o=1/(p.length-1),A=1/(E=E||18),l=0,V=E;l<=V;l++)for(var c=b+l*A*Z,S=M$(c),I=k$(c),D=0,B=p.length;D<B;D++){var n=p[D],k=new G$;k.x=S*n.x-I*n.y,k.y=I*n.x+S*n.y,k.z=n.z,this.vertices.push(k)}for(var j=p.length,l=0,V=E;l<V;l++)for(D=0,B=p.length-1;D<B;D++){var W=D+j*l,m=W+j,S=W+1+j,e=W+1,$=l*A,Y=D*o,t=$+A,K=Y+o;this.faces.push(new qY(W,e,m)),this.faceVertexUvs[0].push([new v($,Y),new v($,K),new v(t,Y)]),this.faces.push(new qY(m,e,S)),this.faceVertexUvs[0].push([new v(t,Y),new v($,K),new v(t,K)])}this.mergeVertices(),NY(this),this.computeFaceNormals(),this.computeVertexNormals()}),$P=(eP.prototype=IW(b),function(p,E){p=AP.generateShapes(p,E=E||{}),E.amount=E.amount!==K$?E.amount:.5,(E.convertYZ=!1)!==E.fill&&(E.bottom=!0,E.top=!0),WP.call(this,p,E)}),YP=($P.prototype=IW(Z),u.Node=function(){R1(YP,this);var b=this._styleMap={};this.getStyle=function(p){var E=b[p];return E!==K$?E:L$[p]},this.setStyleMap=function(p){var E=b;b=this._styleMap=p||{},this.fp("styleMap",E,b)}}),tP={X:bm,Y:Zm,Z:om},KP={X:0,Y:1,Z:2},rP={xyz:"XYZ",xzy:"XZY",yxz:"YXZ",yzx:"YZX",zxy:"ZXY",zyx:"ZYX"},HP=new uB,MP="xzy",FP=function(p,E,b){var Z,o;E&&(Z=E[0],o=E[1],E=E[2],"xzy"===b?(Zm(p,o),om(p,E),bm(p,Z)):"xyz"===b?(om(p,E),Zm(p,o),bm(p,Z)):"yxz"===b?(om(p,E),bm(p,Z),Zm(p,o)):"yzx"===b?(bm(p,Z),om(p,E),Zm(p,o)):"zxy"===b?(Zm(p,o),bm(p,Z),om(p,E)):"zyx"===b?(bm(p,Z),Zm(p,o),om(p,E)):(Zm(p,o),om(p,E),bm(p,Z)))},XP=(Jf("Node",sm,{ms_ac:["rotationMode","anchorElevation"],ms_edge:!0,_adjustChildrenToTop:!0,_icon:"node_icon",_image:"node_image",_rotationMode:MP,_64O:0,_rotationX:0,_53O:0,_host:r$,_position:{x:0,y:0},_anchor:{x:.5,y:.5},_anchorElevation:.5,_scale:{x:1,y:1},_scaleTall:1,_54O:0,getUIClass:function(){return zP},get3dUIClass:function(){return AH},getX:function(){return this.p().x},setX:function(p){this.p(p,this.p().y)},getY:function(){return this.p().y},setY:function(p){this.p(this.p().x,p)},getAnchorX:function(){return this.getAnchor().x},setAnchorX:function(p){this.setAnchor(p,this.getAnchor().y)},getAnchorY:function(){return this.getAnchor().y},setAnchorY:function(p){this.setAnchor(this.getAnchor().x,p)},getScaleX:function(){return this.getScale().x},setScaleX:function(p){this.setScale(p,this.getScale().y)},getScaleY:function(){return this.getScale().y},setScaleY:function(p){this.setScale(this.getScale().x,p)},p:function(){return 0===arguments.length?this.getPosition():(this.setPosition.apply(this,arguments),this)},p3:function(){return 0===arguments.length?this.getPosition3d():(this.setPosition3d.apply(this,arguments),this)},s3:function(){return 0===arguments.length?this.getSize3d():(this.setSize3d.apply(this,arguments),this)},r3:function(){return 0===arguments.length?this.getRotation3d():(this.setRotation3d.apply(this,arguments),this)},setQuaternion:function(p){return p=(new Zq).setFromQuaternion(p,Zq.ReverseOrder(this.getRotationMode())),this._applyClosestR3(p.x,p.y,p.z)},getQuaternion:(cB=new Zq,SB=new Zq,IB=new uB,function(p){return p=p||new uB,this.getEuler(cB),cB.equals(SB)?p.copy(IB):p.copy(IB.setFromEuler(SB.copy(cB)))}),getEuler:function(p){var E=this.r3();return(p=p||new Zq).set(E[0],E[1],E[2],Zq.ReverseOrder(this.getRotationMode()))},setEuler:function(p){return p=p.clone().reorder(Zq.ReverseOrder(this.getRotationMode())),this.r3(p.x,p.y,p.z)},t3:function(){return this.translate3d.apply(this,arguments),this},translate3dBy:function(p,E){wf(p,lm(r$,r$,this.r3(),this.getRotationMode())),this.translate3d(p[0]*E,p[1]*E,p[2]*E)},translateFront:function(p){this.translate3dBy([0,0,1],p)},translateBack:function(p){this.translate3dBy([0,0,-1],p)},translateLeft:function(p){this.translate3dBy([-1,0,0],p)},translateRight:function(p){this.translate3dBy([1,0,0],p)},translateTop:function(p){this.translate3dBy([0,1,0],p)},translateBottom:function(p){this.translate3dBy([0,-1,0],p)},getPosition3d:function(){return[this._position.x,this._54O,this._position.y]},setPosition3d:function(p,E,b){1===arguments.length&&(E=p[1],b=p[2],p=p[0]),this.p(p,b),this.setElevation(E)},translate3d:function(p,E,b){1===arguments.length&&(E=p[1],b=p[2],p=p[0]),this.translate(p,b),this.setElevation(this._54O+E)},getSize3d:function(){return[this.getWidth(),this.getTall(),this.getHeight()]},setSize3d:function(p,E,b){1===arguments.length&&(E=p[1],b=p[2],p=p[0]),this.setSize(p,b),this.setTall(E)},getRotation3d:function(){return[this._rotationX,-this._64O,this._53O]},setRotation3d:function(p,E,b){var Z=this,o=1===arguments.length;if(o&&p.isEuler)return Z.setEuler(p);Z._updatingRotation3d||(Z._updatingRotation3d=1,o&&(E=p[1],b=p[2],p=p[0]),o=[Z._rotationX,-Z._64O,Z._53O],Z._rotationX=p,Z._64O=-E,Z._53O=b,Z.fp("rotation3d",o,[p,E,b]),delete Z._updatingRotation3d)},_applyClosestR3:(VB=new Zq,function(p,E,b){VB.set(p,E,b,Zq.ReverseOrder(this.getRotationMode())).nearestRotation(this.r3()),this.r3(VB.x,VB.y,VB.z)}),setRotationY:function(p){this.setRotation(-p)},getRotationY:function(){return-this._64O},lookAtDirection:function(p,E){E=E||el;var b=this,Z=$f(p);E===el?(b.r3([-u$(p[1]/Z),-i$(p[2],p[0])+s$,0]),b.setRotationMode("xzy")):E===tl?(b.r3(0,-i$(p[2],p[0]),u$(p[1]/Z)),b.setRotationMode("zyx")):E===Yl?(b.r3(0,-i$(p[2],p[0])+R$,-u$(p[1]/Z)),b.setRotationMode("zyx")):E===Kl?(b.r3([-u$(p[1]/Z)+s$,-i$(p[2],p[0])+s$,0]),b.setRotationMode("xzy")):E===rl&&(b.r3([-u$(p[1]/Z)-s$,-i$(p[2],p[0])+s$,0]),b.setRotationMode("xzy")),E===$l&&(b.r3([-u$(p[1]/Z)+R$,-i$(p[2],p[0])+s$,R$]),b.setRotationMode("zxy"))},lookAt:function(p,E){return this.lookAtDirection(_f(p,this.p3()),E)},lookAtX:(EB=new G$,bB=new G$,ZB=new G$,oB=new T$,AB=new T$,lB=new Zq,function(p,E){var b=Am(this);oB.fromArray(b),ZB.copy(this.p3()),EB.copy(p).sub(ZB),EB.lengthSq()<1e-6||(EB.normalize(),"string"==typeof(E=E||el)?E===el?bB.set(0,0,1):E===$l?bB.set(0,0,-1):E===Yl?bB.set(-1,0,0):E===tl?bB.set(1,0,0):E===Kl?bB.set(0,1,0):E===rl&&bB.set(0,-1,0):bB.copy(E).normalize(),bB.applyMatrix4(oB).sub(ZB).normalize(),(b=Math.acos(EB.dot(bB)))&&((p=EB.clone().cross(bB)).lengthSq()<1e-6&&(E===Kl||E===rl||0===E[0]&&0===E[1]?p.set(0,0,1):p.set(0,1,0)).applyMatrix4(oB).sub(ZB),p.normalize(),lB.set(this.r3(),this.getRotationMode(),!0),oB.makeRotationFromEuler(lB),AB.makeRotationAxis(p,-b),lB.setFromRotationMatrix(AB.multiply(oB)),this._applyClosestR3(lB.x,lB.y,lB.z)))}),getHost:function(){return this._host},setHost:function(p){var E,b=this;b!==p&&b._host!==p&&((E=b._host)&&(E._removeAttach(b),E.updateLayoutAttaches()),b._host=p,b._host&&(b._host._addAttach(b),b._host.updateLayoutAttaches()),b.fp("host",E,p),b.onHostChanged(E,p))},getAttaches:function(){return this._69O},_addAttach:function(p){this._69O||(this._69O=new q),this._69O.add(p),this.fp("attaches",r$,p)},_removeAttach:function(p){this._69O.remove(p),this._69O.isEmpty()&&delete this._69O,this.fp("attaches",p,r$)},getImage:function(){return this._pendingCheckImageJSON&&H$.getImage(this._image)&&(this._pendingCheckImageJSON=!1,this.getParent()instanceof aP&&this.getParent().checkPendingUpdateInfo()),this._image},setImage:function(p){var E=this._image,b=this.getWidth(),Z=this.getHeight();this._image=p,this.fp("image",E,p)&&(null!=p&&(P1(p)||F$(p)&&/\.json$/i.test(p))&&(this._pendingCheckImageJSON=!0),za||(this.fp(zl,b,this.getWidth()),this.fp(_l,Z,this.getHeight())))},getCurrentDrawingImage:function(){return this._drawingImage||this.getImage()},setCurrentDrawingImage:function(p){this._drawingImage=p},getElevation:function(){return this._54O},setElevation:function(p){var E;this._50O||(this._50O=1,E=this._54O,this._54O=p,this.fp(_x,E,p),delete this._50O)},getRotation:function(){return this._64O},setRotation:function(p){var E;this._49O||(this._49O=1,E=this._64O,this._64O=p,this.fp(nx,E,p),delete this._49O)},getRotationX:function(){return this._rotationX},setRotationX:function(p){var E;this._51O||(this._51O=1,E=this._rotationX,this._rotationX=p,this.fp("rotationX",E,p),delete this._51O)},getRotationZ:function(){return this._53O},setRotationZ:function(p){var E;this._52O||(this._52O=1,E=this._53O,this._53O=p,this.fp("rotationZ",E,p),delete this._52O)},getPosition:function(){return this._position},setPosition:function(p,E){this._50I||(this._50I=1,(E=2===arguments.length?{x:p,y:E}:p).x===this._position.x&&E.y===this._position.y||(p=this._position,this._position=E,this.fp(Ox,p,E)),delete this._50I)},translate:function(p,E){var b=this._position;this.p(b.x+p,b.y+E)},hasInheritedSize:function(){var p=this.getStyle("shape3d");if(p){var E=iV(p);if(E&&E.rawS3)return!0;if(("billboard"===p||"plane"===p)&&Q(this.getStyle("shape3d.image")))return!0}return!(!this.hasOwnProperty("_image")||!Q(this._image))},getWidth:function(){if(0<=this._width)return this._width;var p=this.getStyle("shape3d");if(p){var E,b=iV(p);if(b&&b.rawS3)return b.rawS3[0];if("billboard"===p||"plane"===p)return(E=Q(this.getStyle("shape3d.image")))?xn(E,this):20}return(E=Q(this._image))?tm(E,this):20},setWidth:function(p){var E=this._width;this._width=p,this.fp(zl,E,p)},getHeight:function(){if(0<=this._height)return this._height;var p=this.getStyle("shape3d");if(p){var E,b=iV(p);if(b&&b.rawS3)return b.rawS3[2];if("plane"===p)return(E=Q(this.getStyle("shape3d.image")))?Cn(E,this):20;if("billboard"===p)return 2}return(E=Q(this._image))?Km(E,this):20},setHeight:function(p){var E=this._height;this._height=p,this.fp(_l,E,p)},getTall:function(){if(0<=this._tall)return this._tall;var p=this.getStyle("shape3d");if(p){var E=iV(p);if(E&&E.rawS3)return E.rawS3[1];if("billboard"===p)return(E=Q(this.getStyle("shape3d.image")))?Cn(E,this):20;if("plane"===p)return 2}return 20},setTall:function(p){var E=this._tall;this._tall=p,this.fp("tall",E,p)},setSize:function(p,E){2===arguments.length?(this.setWidth(p),this.setHeight(E)):(this.setWidth(p.width),this.setHeight(p.height))},getSize:function(){return{width:this.getWidth(),height:this.getHeight()}},setRect:function(p,E,b,Z,o){var A=this.getAnchor(),l=this.getScale(),V=(arguments.length<=2&&(o=E,E=p.y,b=p.width,Z=p.height,p=p.x),o&&l.x<0?1-A.x:A.x),A=o&&l.y<0?1-A.y:A.y;this.p(p+b*V,E+Z*A),o&&(b/=Math.abs(l.x),Z/=Math.abs(l.y)),this.setWidth(b),this.setHeight(Z)},getMatrix:function(){var p=this._64O,E=this._position,b=this.getScale();return new qB(p,E.x,E.y,b.x,b.y)},getMatrix4:(i9=new G$,f9=new uB,pB=new G$,function(p){return this.getQuaternion(f9),i9.copy(this.p3()),pB.copy(this.getFinalScale3d()),(p=p||new T$).compose(i9,f9,pB)}),getAnchorRect:function(){var p=this.getWidth(),E=this.getHeight(),b=this.getAnchor();return{x:-p*b.x,y:-E*b.y,width:p,height:E}},toLocal:function(p){return this.getMatrix().tfi(p)},toGlobal:function(p){return this.getMatrix().tf(p)},getAttachPosition:(w9=new qB,function(p,E,b,Z){b=b||0,Z=Z||0;var o=this.getAnchor(),A=this._64O,l=this._position,V=this.getScale();return w9.setFromTransform(A,l.x,l.y).tf({x:b+V.x*this.getWidth()*(p-o.x),y:Z+V.y*this.getHeight()*(E-o.y)})}),isInRect:function(p){p=this.toLocal(p);var E=this.getWidth(),b=this.getHeight();return p.x+=E*this.getAnchorX(),p.y+=b*this.getAnchorY(),!(p.x<0||p.y<0||p.x>E||p.y>b)},getRect:function(){var p=this.getWidth(),E=this.getHeight(),b={x:-p*(b=this.getAnchor()).x,y:-E*b.y,width:p,height:E},p=this.getMatrix();return Yf([p.tf(b.x,b.y),p.tf(b.x+b.width,b.y),p.tf(b.x+b.width,b.y+b.height),p.tf(b.x,b.y+b.height)])},getAnchorElevation:function(){return this._anchorElevation},getAnchor3d:function(){var p=this.getAnchor(),E=this._anchorElevation;return{x:p.x,y:E,z:p.y}},setAnchorElevation:function(p){var E=this._anchorElevation;return E!==p&&(this._anchorElevation=p,this.fp("anchorElevation",E,p),!0)},setAnchor3d:function(p,E,b,Z){"number"==typeof p?o={x:p,y:E,z:b}:(o=p.length?{x:p[0],y:p[1],z:p[2]}:p,Z=E),this.beginTransaction();var o,b=this.getAnchor3d(),p=this.setAnchor(o.x,o.z);return(p=!!this.setAnchorElevation(o.y)||p)&&Z&&!za&&(this.getAnchor3d(),E=Am(this),Z=wf([o.x-b.x,o.y-b.y,o.z-b.z],E),this.p3(Z)),this.endTransaction(),p},getAnchor:function(){if(this.hasOwnProperty("_anchor"))return this._anchor;var p=Q(this._image);return p&&p.anchorX!==K$?{x:p.anchorX,y:p.anchorY}:this._anchor},setAnchor:function(p,E,b){var Z,o,A,l,V=this;return"number"==typeof p?l={x:p,y:E}:(l=p.length?{x:p[0],y:p[1]}:p,b=E),((p=V.getAnchor()).x!==l.x||p.y!==l.y)&&(V.beginTransaction(),V._anchor=l,V.fp("anchor",p,l),b&&!za&&(E=V.getPosition(),b=V.getSize(),Z=V.getRotation(),o=V.getScale(),A=-b.width*(p.x-l.x)*o.x,b=-b.height*(p.y-l.y)*o.y,p=k$(Z),l=M$(Z),V.setPosition(E.x+l*A-p*b,E.y+p*A+l*b)),V.endTransaction(),!0)},getLocalQuaternion:function(p){if(!(E=this.getHost()))return this.getQuaternion(p);var E=E.getQuaternion(),b=this.getQuaternion();return(p=p||new uB).copy(E).inverse().multiply(b)},setLocalQuaternion:function(p){var E=this.getHost();if(!E)return this.setQuaternion(p);E=E.getQuaternion(),this.setQuaternion(E.clone().multiply(p))},getLocalEuler:(s9=new uB,function(p){if(!this.getHost())return this.getEuler(p);this.getLocalQuaternion(s9),p=p||new Zq;var E=this._lastLocalEuler;return p.setFromQuaternion(s9,Zq.ReverseOrder(this.getRotationMode())),E?(p.nearestRotation(E),p.toArray(E)):this._lastLocalEuler=p.toArray(),p}),setLocalEuler:(u9=new uB,R9=new Zq,function(p){var E=this.getHost(),b=(p.isEuler||(p=R9.fromArray(p)),this._lastLocalEuler);return b?p.toArray(b):this._lastLocalEuler=p.toArray(),E?(u9.setFromEuler(p),this.setLocalQuaternion(u9)):this.setEuler(p)}),getLocalPosition3d:function(p){(p=p||new G$).copy(this.p3());var E=this.getHost();return E?(E=E.getMatrix4(),p.applyMatrix4(E.getInverse(E))):p},setLocalPosition3d:function(p){var E,b=this.getHost();b?(b=b.getMatrix4(),(E=new G$(p)).applyMatrix4(b),this.p3(E.x,E.y,E.z)):p.x!==K$?this.p3(p.x,p.y,p.z):this.p3(p)},getScale:function(){return this._scale},setScale:function(p,E){E=2===arguments.length?{x:p,y:E}:p,(p=this.getScale()).x===E.x&&p.y===E.y||(this._scale=E,this.fp("scale",p,E))},getScaleTall:function(){return this._scaleTall},getScale3d:function(){var p=this._scaleTall,E=this.getScale();return[E.x,p,E.y]},getFinalScale3d:function(){var p=this.s3(),E=this._dynamicScale3d,b=this.getScale3d();return p&&(b[0]*=p[0],b[1]*=p[1],b[2]*=p[2]),E&&(b[0]*=E[0],b[1]*=E[1],b[2]*=E[2]),b},getFinalRotation3d:function(){return this._dynamicRotation||this.r3()},setScaleTall:function(p){var E=this._scaleTall;E!==p&&(this._scaleTall=p,this.fp("scaleTall",E,p))},setScale3d:function(p,E,b){E="number"==typeof p?{x:p,y:E,z:b}:p.length?{x:p[0],y:p[1],z:p[2]}:p,this.setScaleTall(E.y),this.setScale(E.x,E.z)},getCorners:function(p,E){p==r$&&(p=0),E==r$&&(E=p);var b=this.getAnchor(),Z=this.getWidth(),o=this.getHeight(),A=-Z*b.x-p,b=-o*b.y-E,Z=Z+2*p,p=o+2*E;return[(o=this.getMatrix()).tf(A,b),o.tf(A,b+p),o.tf(A+Z,b+p),o.tf(A+Z,b)]},getEditControlPoints:function(p,E,b){E==r$&&(E=0),b==r$&&(b=E);var Z=this.getAnchor(),o=this.getWidth(),A=this.getHeight(),l=-o*Z.x-E,Z=-A*Z.y-b,o=o+2*E,E=A+2*b;return p?[{x:l,y:Z},{x:l,y:0},{x:l,y:Z+E},{x:0,y:Z+E},{x:l+o,y:Z+E},{x:l+o,y:0},{x:l+o,y:Z},{x:0,y:Z}]:[(A=this.getMatrix()).tf(l,Z),A.tf(l,0),A.tf(l,Z+E),A.tf(0,Z+E),A.tf(l+o,Z+E),A.tf(l+o,0),A.tf(l+o,Z),A.tf(0,Z)]},rotateAt:function(p,E,b){var Z=this._position,o=this._64O,A=new qB(o,Z.x,Z.y).tf(p,E),p=v$(p*p+E*E),E=i$(Z.y-A.y,Z.x-A.x)+b;this.setRotation(o+b),this.p(A.x+p*M$(E),A.y+p*k$(E))},rotateAroundAxis:function(p,E){this.setQuaternion(this.getQuaternion().multiply(HP.setFromAxisAngle(p,E)))},rotateAroundWorldAxis:function(p,E){this.setQuaternion(this.getQuaternion().premultiply(HP.setFromAxisAngle(p,E)))},rotateX:function(p){return this.rotateAroundAxis(G$.AxisX,p)},rotateY:function(p){return this.rotateAroundAxis(G$.AxisY,p)},rotateZ:function(p){return this.rotateAroundAxis(G$.AxisZ,p)},onParentChanged:function(p,E){YP.superClass.onParentChanged.apply(this,arguments),this._8I();var b=this._host;b&&b.updateLayoutAttaches()},onPropertyChanged:(q9={},"width|height|position|anchor|rotation|scale|s:layout.h|s:layout.v".split("|").forEach(function(p){q9[p]=!0}),function(E){var p=this,b=(YP.superClass.onPropertyChanged.call(p,E),E.property),Z=(q9[b]&&!p._layoutUpdating&&p.updateLayoutParameters(null,b),p._69O&&p._69O.each(function(p){p.handleHostPropertyChange(E)}),p._49I&&p._49I.each(function(p){p.fp("agentChange",!0,!1)}),p._host);Z&&0<=["s:2d.visible"].indexOf(b)&&Z.updateLayoutAttaches(),"a:layout"!==b.substring(0,8)&&!SY[b]||(this.updateLayoutAttaches(),Z&&Z.updateLayoutAttaches()),"s:shape3d.autorotate"!==b&&"s:autorotate"!==b&&"s:shape3d.fixSizeOnScreen"!==b&&"s:fixSizeOnScreen"!==b&&"s:hide.overlapping.group"!==b||(p._47Q=p.s("autorotate")||p.s("shape3d.autorotate")||p.s("fixSizeOnScreen")||p.s("shape3d.fixSizeOnScreen")||p.s("hide.overlapping.group")),"a:animation.name"!==b&&"a:animation.time"!==b||((Z=p.a("animation.time"))==r$?(delete p._recordBonePose,p.stopAnimation()):(b=p.a("animation.name"),p._recordBonePose={},p.playAnimation(b,0,Z)))}),onHostChanged:function(p,E){this.updateAttach(),this.updateLayoutParameters()},handleHostPropertyChange:function(p){this.updateAttach(p)},onStyleChanged:(L$["transparent.syncToMaterials"]=!0,Q9={},"shape3d|all|top|bottom|left|right|front|back".split("|").forEach(function(p){Q9[p+".opacity"]=!0,Q9[p+".transparent"]=!0}),function(p,E,b){var Z;YP.superClass.onStyleChanged.apply(this,arguments),DY[p]&&this.updateAttach(),!za&&Q9[p]&&this.s("transparent.syncToMaterials")&&(0<p.indexOf("opacity")?"shape3d.opacity"===p?this.getMaterials().forEach(function(p){p.opacity=b}):(Z=p.replace("opacity","material"),this.setMaterial(Z,"opacity",b)):0<p.indexOf("transparent")&&("shape3d.transparent"===p?this.getMaterials().forEach(function(p){p.transparent=b}):(Z=p.replace("transparent","material"),this.setMaterial(Z,"transparent",b))))}),updateLayoutAttaches:function(){var p;if(!za&&this.s("vector.layoutable"))return!!((p=Q(this.getImage()))&&p.layoutAttach&&(p=p.layoutAttach)&&p(this))||void 0},updateAttach:function(p){za?this.updateLayoutParameters():this._51I||(this._51I=1,this._71O(p),delete this._51I)},_71O:function(p){var E,b,Z,o,A,l,V=this,c=V._host,S=p?p.property:r$,I=p?p.oldValue:r$,D=p?p.newValue:r$;if(c instanceof YP&&c.s("vector.layoutable")&&(!p||SY[S])){var B=Q(c.getImage());if(B&&B.layoutAttach)return}c instanceof u.Grid?S===_x?V.setElevation(V._54O+D-I):p&&!IY[S]||(B=V.s("attach.row.index"),o=V.s("attach.column.index"),(b=c.getCellRect(B,o))&&(Z=V.s("attach.row.span"),E=V.s("attach.column.span"),1===Z&&1===E||(b=tf(b,c.getCellRect(B+Z-1,o+E-1))),kY(b,V,"attach.padding",1),V.setRect(b))):c instanceof CP&&0<=(B=V.s("attach.index"))&&(!p||BY[S])?(Z=V.s("attach.thickness"),o=c.getScale(),E=Math.max(o.x,o.y),0<Z&&V.setHeight(c.getThickness()*Z*E),b=V.s("attach.offset"),B<(Z=(o=c.getPoints()).size())&&(A=c.getPointsMatrix2d(),l=o.get(B),Z=Z===B+1?o.get(0):o.get(B+1),l=A.apply(l),o=[(Z=A.apply(Z)).x-l.x,Z.y-l.y],(B=$f(o))&&(V.s("attach.offset.relative")&&(b*=B),V.s("attach.offset.opposite")&&(b=B-b),A={x:l.x+o[0]/B*b,y:l.y+o[1]/B*b},(l=V.s("attach.gap"))&&(V.s("attach.gap.relative")&&(l*=c.getThickness()*E),A=ej(r$,A,Z,l)),V.p(A),V.setRotation(i$(o[1],o[0]))))):p&&(S===Ox?V.translate(D.x-I.x,D.y-I.y):S===_x?V.setElevation(V._54O+D-I):cY[S]?"rotation3d"===S?V.syncRotation3d(c,D,I):V._11Q(c,S,D-I):"anchor"!==S&&"width"!==S&&"height"!==S&&"scale"!==S||V.layout(c))},_11Q:(O9=new u.Math.Euler,z9=u.Math.Euler.ReverseOrder,_9=new u.Math.Vector2,v9=new u.Math.Vector2,function(p,E,b){var Z=p.p3(),o=p.r3(),A=this.p3(),l=this.r3();if(E===nx&&(E="rotationY",b=-b),(E===nx||"rotationY"===E)&&0===l[0]&&0===l[2]&&0===o[0]&&0===o[2]&&0===A[1]&&0===Z[1])return this.setRotation(-l[1]-b),_9.set(A[0],A[2]).rotateAround(v9.set(Z[0],Z[2]),-b),void this.p(_9.x,_9.y);var p=(l=rP[p.getRotationMode()])[0],V=l[1],l=l[2],c=tP[p],S=tP[V],I=tP[l],D=qf(),p=(E===nx+p?(I(D,o[KP[l]]),S(D,o[KP[V]]),c(D,b),S(D,-o[KP[V]]),I(D,-o[KP[l]])):E===nx+V?(I(D,o[KP[l]]),S(D,b),I(D,-o[KP[l]])):E===nx+l&&I(D,b),_f(A,Z)),c=(wf(p,D),this.p3(Z[0]+p[0],Z[1]+p[1],Z[2]+p[2]),this.getRotationMode());FP(D,this.r3(),c),O9.setFromRotationMatrix(D,z9(c)),this.r3([O9.x,O9.y,O9.z])}),syncRotation3d:(d9=new uB,U9=new Zq,N9=new G$,function(p,E,b){var Z;b[0]===E[0]&&b[1]===E[1]&&b[2]===E[2]||(Z=Zq.ReverseOrder(p.getRotationMode()),HP.setFromEuler(U9.set(b[0],b[1],b[2],Z)),d9.setFromEuler(U9.set(E[0],E[1],E[2],Z)),d9.multiply(HP.inverse()),b=p.p3(),E=this.p3(),N9.set(E[0]-b[0],E[1]-b[1],E[2]-b[2]).applyQuaternion(d9),this.p3(b[0]+N9.x,b[1]+N9.y,b[2]+N9.z),this.setQuaternion(this.getQuaternion(HP).premultiply(d9)))}),isHostOn:function(p){if(this._host&&p&&p._69O)for(var E={},b=this._host;b&&b!==this&&!E[b._id];){if(b===p)return!0;b=(E[b._id]=b)._host}return!1},isLoopedHostOn:function(p){return this.isHostOn(p)&&p.isHostOn(this)},getScaledSize:function(){var p=this.getSize(),E=this.getScale();return p.width*=Math.abs(E.x),p.height*=Math.abs(E.y),p},invalidateView:function(){var p=this.dm();p&&p.firePropertyChange("invalidateView",!1,!0)},layout:function(p){if(p=p||this.getHost()){var E=this,b=E.s("layout.h")||"center",Z=E.s("layout.v")||"center";if("center"!==b||"center"!==Z){var o,A,l,V,c,S,I=new u.Math.Vector2,D=p.getPosition(),B=p.getAnchor(),n=p.getScaledSize(),k=(E.getPosition(),1),j=1;switch(E._layoutUpdating=!0,b){case"left":I.setX(E._layoutHValue-B.x*n.width);break;case"right":I.setX((1-B.x)*n.width-E._layoutHValue);break;case"leftright":o=n.width-E._layoutHValue[2],l=E.getRotation()-p.getRotation(),V=Math.abs(Math.sin(l)),k+=(c=Math.abs(Math.cos(l)))*o/E._layoutHValue[3],j+=V*o/E._layoutHValue[4],I.setX(E._layoutHValue[1]+(E._layoutHValue[5]-B.x)*n.width);break;case"center":I.setX((.5-B.x)*n.width-E._layoutHValue);break;case"scale":l=E.getRotation()-p.getRotation(),V=Math.abs(Math.sin(l)),c=Math.abs(Math.cos(l)),I.setX((.5-B.x)*n.width-E._layoutHValue[1]*n.width/E._layoutHValue[0]),k+=c*(A=n.width/E._layoutHValue[2]-1),j+=V*A}switch(Z){case"top":I.setY(E._layoutVValue-B.y*n.height);break;case"bottom":I.setY((1-B.y)*n.height-E._layoutVValue);break;case"topbottom":l||(l=E.getRotation()-p.getRotation(),V=Math.abs(Math.sin(l)),c=Math.abs(Math.cos(l))),k+=V*(o=n.height-E._layoutVValue[2])/E._layoutVValue[3],j+=c*o/E._layoutVValue[4],I.setY(E._layoutVValue[1]+(E._layoutVValue[5]-B.y)*n.height);break;case"center":I.setY((.5-B.y)*n.height-E._layoutVValue);break;case"scale":l||(l=E.getRotation()-p.getRotation(),V=Math.abs(Math.sin(l)),c=Math.abs(Math.cos(l))),I.setY((.5-B.y)*n.height-E._layoutVValue[1]*n.height/E._layoutVValue[0]),k+=V*(A=n.height/E._layoutVValue[2]-1),j+=c*A}"leftright"!==b&&"scale"!==b&&"topbottom"!==Z&&"scale"!==Z||(Z=this.getScale(),S=Math.abs(Z.x),Z=Math.abs(Z.y),"leftright"===b||"scale"===b?E.setSize(E._layoutHValue[3]*k/S,E._layoutHValue[4]*j/Z):E.setSize(E._layoutVValue[3]*k/S,E._layoutVValue[4]*j/Z)),I.rotateAround(null,p.getRotation()),this.setPosition(I.x+D.x,I.y+D.y),E._layoutUpdating=K$}}},updateLayoutParameters:function(p,E){if(p=p||this.getHost()){var b=this,Z=b.s("layout.h"),o=b.s("layout.v");if(Z||o){var A,l,V,c,S,I,D=new u.Math.Vector2,B=p.getPosition(),n=p.getAnchor(),k=p.getScaledSize(),j=b.getPosition(),W=b.getScaledSize();switch(D.set(j.x-B.x,j.y-B.y),D.rotateAround(null,-p.getRotation()),Z){case"left":b._layoutHValue=D.x+n.x*k.width;break;case"right":b._layoutHValue=-D.x+(1-n.x)*k.width;break;case"center":b._layoutHValue=-D.x+(.5-n.x)*k.width;break;case"leftright":case"scale":A="scale"===Z?-D.x+(.5-n.x)*k.width:(l=b.getAnchor(),V=b.getRotation()-p.getRotation(),c=Math.cos(V),S=Math.sin(V),I=-Math.min(-l.x*c+l.y*S,-l.x*c-(1-l.y)*S,(1-l.x)*c+l.y*S,(1-l.x)*c-(1-l.y)*S),D.x-(I-n.x)*k.width),"position"===E&&"object"==typeof b._layoutHValue?(b._layoutHValue[0]=k.width,b._layoutHValue[1]=A):b._layoutHValue=[k.width,A,k.width,W.width,W.height,I]}switch(o){case"top":b._layoutVValue=D.y+n.y*k.height;break;case"bottom":b._layoutVValue=-D.y+(1-n.y)*k.height;break;case"center":b._layoutVValue=-D.y+(.5-n.y)*k.height;break;case"topbottom":case"scale":A="scale"===o?-D.y+(.5-n.y)*k.height:(V||(l=b.getAnchor(),V=b.getRotation()-p.getRotation(),c=Math.cos(V),S=Math.sin(V)),I=-Math.min(-l.x*S-l.y*c,-l.x*S+(1-l.y)*c,(1-l.x)*S-l.y*c,(1-l.x)*S+(1-l.y)*c),D.y-(I-n.y)*k.height),"position"===E&&"object"==typeof b._layoutVValue?(b._layoutVValue[0]=k.height,b._layoutVValue[1]=A):b._layoutVValue=[k.height,A,k.height,W.width,W.height,I]}}}},getSerializableProperties:function(){var p=YP.superClass.getSerializableProperties.call(this);return E(p,{image:1,host:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,position:1,anchor:1,anchorElevation:1,scale:1,scaleTall:1,_width:1,_height:1,_tall:1,elevation:1,_animations:1,_stateSets:1,_stateSnapProperties:1}),p}}),u.Edge=function(p,E){R1(XP,this),this.setSource(p),this.setTarget(E),this._geometryVersion=0}),GP=(Jf("Edge",sm,{ms_edge:!0,_icon:"edge_icon",getUIClass:function(){return _P},get3dUIClass:function(){return VH},getSource:function(){return this._source},getTarget:function(){return this._target},getSourceAgent:function(){return this._40I},getTargetAgent:function(){return this._41I},canSetSourceTarget:function(p,E){if(p===this)return!1;if(y(p))return!0;for(var b,Z,o,A,l=[this],V=-1,c=0;V<c;)if(b=l[++V]._44I)for(o=0,A=(b=b.getArray()).length;o<A;o++)if(Z=b[o],J1(Z)&&!(0<=l.indexOf(Z))){if(Z===p)return!1;l.push(Z),c++}return!0},setSource:function(p){var E;this._source!==p&&this.canSetSourceTarget(p)&&(E=this._source,this._source=p,E&&E._16I(this),p&&p._2I(this),this._7I(),this.fp("source",E,p))},setTarget:function(p){var E;this._target!==p&&this.canSetSourceTarget(p)&&(E=this._target,this._target=p,E&&E._18I(this),p&&p._4I(this),this._7I(),this.fp("target",E,p))},isLooped:function(){return this._source===this._target&&y(this._source)&&y(this._target)},onPropertyChanged:(DB={},["source","target","sourceAgent","targetAgent","edgeGroup","agentChange","s:edge.width","s:edge.type","s:edge.offset","s:edge.center","s:edge.points","s:edge.segments","s:edge.gap","s:edge.source.t3","s:edge.source.position","s:edge.source.anchor.x","s:edge.source.anchor.y","s:edge.source.anchor.elevation","s:edge.source.offset.x","s:edge.source.offset.y","s:edge.source.offset.elevation","s:edge.source.index","s:edge.source.percent","s:edge.target.t3","s:edge.target.position","s:edge.target.anchor.x","s:edge.target.anchor.y","s:edge.target.anchor.elevation","s:edge.target.offset.x","s:edge.target.offset.y","s:edge.target.offset.elevation","s:edge.target.index","s:edge.target.percent","s:edge.color","s:edge.gradient.color","s:edge.pattern","s:edge.dash","s:edge.dash.color","s:edge.dash.pattern","s:edge.dash.offset","s:repeat.uv.length","s:rotate.uv.length","s:rotate.vs.length","s:body.color","s:shape3d","s:shape3d.visible","s:shape3d.image","s:shape3d.smooth","s:shape3d.resolution","s:shape3d.corner.radius","s:shape3d.color","s:shape3d.blend","s:shape3d.side","s:shape3d.start.angle","s:shape3d.sweep.angle","s:shape3d.top.cap","s:shape3d.top.image","s:shape3d.top.visible","s:shape3d.top.color","s:shape3d.bottom.cap","s:shape3d.bottom.image","s:shape3d.bottom.visible","s:shape3d.bottom.color","s:shape3d.uv.union","s:shape3d.section","s:shape3d.section.angle","s:shape3d.section.twist","s:shape3d.polyline.depth","s:shape3d.polyline.offset","s:shape3d.polyline.radiusScale","s:shape3d.polyline.scaleOffset","s:shape3d.polyline.scaleMap","s:shape3d.polyline.scaleMode","s:shape3d.polyline.normal"].forEach(function(p){DB[p]=!0}),function(p){var E;DB[p.property]&&(this._geometryVersion++,E=!0),E&&this._49I&&this._49I.each(function(p){p.fp("agentChange",!0,!1)}),"s:alwaysOnTop"!==p.property&&"s:shape3d.alwaysOnTop"!==p.property||(p.newValue?this.setRenderLayer("top"):this.setRenderLayer(K$))}),_7I:function(){var p,E=this,b=function(p){if(p.isLooped())return p._source;var E=WY(p._source),b=WY(p._target);return E===b?p._source:mY(E,b)}(E),b=(E._40I!==b&&((p=this._40I)&&p._15I(E),(E._40I=b)&&b._1I(E),E.fp("sourceAgent",p,b),YY(p,E._41I),YY(b,E._41I)),function(p){if(p.isLooped())return p._target;var E=WY(p._source),b=WY(p._target);return E===b?p._target:mY(b,E)}(E));E._41I!==b&&((p=E._41I)&&p._17I(E),(E._41I=b)&&b._3I(E),E.fp("targetAgent",p,b),YY(p,E._40I),YY(b,E._40I))},_22I:function(p){this._52I=p,this.fp("edgeGroup",!0,!1)},getEdgeGroup:function(){return this._52I},isEdgeGroupHidden:function(){return this._52I&&this._52I.get(0)!==this&&!this.getStyle(Ix)},getEdgeGroupSize:function(){return this._52I?this._52I.size():1},getEdgeGroupIndex:function(){return this._52I?this._52I.indexOf(this):0},isEdgeGroupAgent:function(){var p=this._52I;return p&&!this.getStyle(Ix)&&1<p.size()&&this===p.get(0)},toggle:function(){this.beginTransaction();var p=this._52I,E=!this.s(Ix);p&&1<p.size()&&(p.each(function(p){p.s(Ix,E)}),p.getSiblings().each(function(E){E!==p&&E.each(function(p){p.fp("edgeGroup",r$,E)})})),this.endTransaction()},setStyle:function(p,E){var b;p!==Dx&&"edge.segments"!==p||(E=X$(b=E)?new q(b):b),XP.superClass.setStyle.call(this,p,E)},onStyleChanged:function(p,E,b){XP.superClass.onStyleChanged.apply(this,arguments),VY[p]&&YY(this._41I,this._40I)},getSerializableProperties:function(){var p=XP.superClass.getSerializableProperties.call(this);return E(p,{source:1,target:1}),p}}),u.Group=function(){R1(GP,this)}),TP=(Jf("Group",YP,{_image:"group_image",_icon:"group_icon",_57O:!1,getUIClass:function(){return QP},onChildAdded:function(p,E){GP.superClass.onChildAdded.apply(this,arguments),this._81I()},onChildRemoved:function(p,E){GP.superClass.onChildRemoved.apply(this,arguments),this._81I()},_81I:function(){var p;this._54I||za||(p=this.getChildrenRect())&&(this._53I=1,this.p(i6(this.s("group.position"),p,this.getSize())),delete this._53I)},getChildrenRect:function(){var E,b=this;return b.eachChild(function(p){y(p)&&(E=tf(E,b.getChildRect(p)))}),E},getChildRect:function(E){var b;return y(E)&&E.s(vl)&&(d1(E)&&E.isExpanded()&&E.eachChild(function(p){b=tf(b,E.getChildRect(p))}),!b&&E.getRect&&(b=E.getRect())),b},setPosition:function(p,E){this._54I||(E=2===arguments.length?{x:p,y:E}:p,za||this._53I||(this._54I=1,u6(this._children,E.x-this._position.x,E.y-this._position.y),delete this._54I),GP.superClass.setPosition.call(this,E))},toggle:function(){this.setExpanded(!this.isExpanded())},isExpanded:function(){return this._57O},setExpanded:function(p){var E;this._57O!==p&&(E=this._57O,this._57O=p,this.fp("expanded",E,this._57O),this._fireInvalidateDeep(),this._8I())},_fireInvalidateDeep:function(){this.eachChild(function(p){d1(p)?p._fireInvalidateDeep():p.iv()})},_8I:function(){GP.superClass._8I.call(this),this.eachChild(function(p){y(p)&&p._8I()})},onStyleChanged:function(p,E,b){GP.superClass.onStyleChanged.apply(this,arguments),"group.position"===p&&this._81I()},getSerializableProperties:function(){var p=GP.superClass.getSerializableProperties.call(this);return p.expanded=1,p}}),u.Camera=function(){R1(TP,this),this.s({"shadow.cast":!1,"shadow.receive":!1,shape3d:"billboard"}),this._viewMatrix=new f.Matrix4,this._projectMatrix=new f.Matrix4,this.setScale3d(1,1,-1),this.setCullingMask("main,top"),this._projectMatrixDirty=!0}),gP=(TP.CubeDirectionParam=[1,0,0,0,-1,0,-1,0,0,0,-1,0,0,1,0,0,0,1,0,-1,0,0,0,-1,0,0,1,0,-1,0,0,0,-1,0,-1,0],Jf("Camera",YP,{get3dUIClass:function(){return AH},attachView:function(p){this.view=p},detachView:function(){this.view=null},getAttachedView:function(){return this.view},attachRenderTarget:function(p){this._projectMatrixDirty=!0,this.renderTarget=p},detachRenderTarget:function(){this._projectMatrixDirty=!0,this.renderTarget=null},getCullingMask:function(){return this._cullingLayers.join(",")},setCullingMask:function(p){p=p.split(","),this._cullingLayers=p,this._cullingMask=Om(p,null,!0),this.gv&&(this._currentCullingMask=Om(p,this.gv.getRenderLayerInfoMap(),!0))},isLayerVisible:function(p){var E,p=this.gv?(E=this.gv.getRenderLayerInfo(p),this._currentCullingMask):(E=Jm[p],this._cullingMask);return E&&zm(p,E.mask)},isOrtho:function(){return"ortho"===this.s("camera.type")&&!this.isCube()},getRenderTargetStyleOptions:function(p){if(!this.s("camera.renderTarget"))return null;var E=this.s("camera.renderTarget.options");return E&&E[p]},isCube:function(){return this.renderTarget&&this.renderTarget.isCube()||this.getRenderTargetStyleOptions("cube")},isPerspective:function(){return!this.isOrtho()},setViewMatrix:(WB=new u.Math.Matrix4,mB=new u.Math.Euler,function(p){p.isMatrix4?this._viewMatrix.copy(p):this._viewMatrix.fromArray(p),WB.getInverse(this._viewMatrix),this.p3(WB.getPosition().toArray()),mB.set(0,0,0,this.getRotationMode(),!0).setFromRotationMatrix(WB),this.r3([mB.x,mB.y,mB.z])}),getViewMatrix:function(p){var E=lm(null,null,this.r3(),this.getRotationMode(),this.p3()),b=this._viewMatrix;return b.fromArray(E).getInverse(b),b.toArray(p)},setProjectMatrix:function(p){p.isMatrix4?this._projectMatrix.copy(p):this._projectMatrix.fromArray(p),p=this._projectMatrix.getElements(),this.isOrtho()?this.s({"camera.near":(p[14]+1)/p[10],"camera.far":(p[14]-1)/p[10],"camera.ortho.width":2/p[0]}):this.s({"camera.near":p[14]/(p[10]-1),"camera.far":p[14]/(p[10]+1),"camera.fovy":2*Math.atan(1/p[5]),"camera.aspect":p[5]/p[0]}),this._projectMatrixDirty=!1},onPropertyChanged:function(p){var E=this,b=(TP.superClass.onPropertyChanged.call(E,p),p.property);if("s:camera.near"!==b&&"s:camera.far"!==b&&"s:camera.fovy"!==b&&"s:camera.aspect"!==b&&"s:camera.ortho.width"!==b&&"s:camera.type"!==b||(E._projectMatrixDirty=!0),this.s("camera.autoSync")){var Z=this.view;if(Z){var o=p.newValue;switch(b){case"position":case"elevation":Z.setEye(E.p3());break;case"rotation3d":case"rotationX":case"rotationY":case"rotationZ":var A,l=new G$,V=new G$,c=(A=(A=E.s("camera.focal.distance.sync")?E.s("camera.focal.distance"):A)||V.copy(Z.getCenter()).sub(l.copy(Z.getEye())).length(),E.getEuler()),S=new G$;S.set(0,0,-1).applyEuler(c),l.copy(S).setLength(A).add(V.copy(E.p3())),Z.setCenter(l.toArray()),l.set(0,1,0).applyEuler(c),V.set(0,1,0),Math.abs(S.cross(l).dot(V))<1e-5?Z.setUp(V.toArray()):Z.setUp(l.toArray());break;case"s:camera.focal.distance.sync":case"s:camera.focal.distance":(c=E.s("camera.focal.distance"))&&E.s("camera.focal.distance.sync")&&(S=Z.getEye(),V=Z.getCenter(),(l=$f(S,V))!==c&&0!==l&&Z.setCenter([S[0]+(V[0]-S[0])*(c/=l),S[1]+(V[1]-S[1])*c,S[2]+(V[2]-S[2])*c]));break;case"s:camera.aspect.sync":case"s:camera.aspect":E.s("camera.aspect.sync")&&Z.setAspect(o);break;case"s:camera.type":Z.setOrtho("ortho"===o);break;case"s:camera.fovy":Z.setFovy(o);break;case"s:camera.ortho.width":Z.setOrthoWidth(o,!0);break;case"s:camera.near":Z.setNear(o);break;case"s:camera.far":Z.setFar(o)}}}},getAspect:function(){if((p=this.s("camera.aspect"))!==K$)return p;var p=this.gv,E=this.getRenderTargetSize(p);return E&&0!==E[1]?E[0]/E[1]:p?p.getAspect():H$.graph3dViewAspect},getProjectMatrix:function(){var p,E,b,Z,o,A,l,V=this;return V._projectMatrixDirty&&(p=V.gv,b=(E=V.isCube())?1:V.getAspect(),Z=V.s("camera.near"),o=V.s("camera.far"),Z===K$&&(Z=(p?p.getNear():null)||H$.graph3dViewNear),o===K$&&(o=(p?p.getFar():null)||H$.graph3dViewFar),A=qf(),V.isOrtho()?(l=(V.s("camera.ortho.width")||(p?p.getOrthoWidth():null)||H$.graph3dViewOrthoWidth)/2,Mj(A,-l,l,-(l/=b),l,Z,o)):(l=E?Math.PI/2:V.s("camera.fovy")||(p?p.getFovy():null)||H$.graph3dViewFovy,Hj(A,l,b,Z,o)),V._projectMatrix.fromArray(A),V._projectMatrixDirty=!1),V._projectMatrix.toArray()},lookAt:function(p,E){var b=this.p3();return p.x?this.lookAtDirection([p.x-b[0],p.y-b[1],p.z-b[2]],E):this.lookAtDirection([p[0]-b[0],p[1]-b[1],p[2]-b[2]],E)},lookAtDirection:(BB=new u.Math.Matrix4,nB=new u.Math.Euler,kB=new u.Math.Vector3,jB=new u.Math.Vector3,function(p,E){BB.lookAtDirection(kB.copy(p).multiplyScalar(-1),E?jB.copy(E):jB.set(0,1,0)),nB.set(0,0,0,this.getRotationMode(),!0).setFromRotationMatrix(BB),this.r3([nB.x,nB.y,nB.z])}),updateAndRender:function(p,E){(E=!1!==E)&&(p.__uptime=(Date.now()-p.__startTime)/1e3,p._glPrograms.checkParallelLinkStatus()),p.syncRenderState(),p.updateScene();var b=this.render(p);return E&&(p._doBufferGC(p.getGL()),p._glPrograms.scheduleProgramGC(p._shaderGCInterval||500)),b},getRenderTargetSize:function(p){var E=this.renderTarget;return E?[E.width,E.height]:p?(E=p.getDevicePixelRatio(),[p.getWidth()*E,p.getHeight()*E]):[0,0]},getRenderTargetWidth:function(p){return this.getRenderTargetSize(p)[0]},getRenderTargetHeight:function(p){return this.getRenderTargetSize(p)[1]},getEye:function(){return this.p3()},getCenter:function(){var p=new G$,E=this.getEuler();return p.set(0,0,-1).applyEuler(E),this.gv&&(E=new G$(this.gv.getEye()),E=new G$(this.gv.getCenter()).sub(E).length(),p.setLength(E)),[(E=this.p3())[0]+p.x,E[1]+p.y,E[2]+p.z]},getUp:function(){var p=new G$,E=this.getEuler(),E=(p.set(0,0,-1).applyEuler(E),(new G$).set(0,1,0).applyEuler(E)),b=(new G$).set(0,1,0);return(Math.abs(p.cross(E).dot(b))<1e-5?b:E).toArray()},render:function(p){var E=this,b=p.getGL();if(!b)return!1;this._currentCullingMask=Om(this._cullingLayers,p.getRenderLayerInfoMap(),!0);var Z=E.s("camera.renderTarget");if(!(A=E.renderTarget)){if(!Z)return!1;var o=t$.assign({uuid:Z},E.s("camera.renderTarget.options")),A=new an(p,o.width||p.getWidth(),o.height||p.getHeight(),o);E.attachRenderTarget(A)}var l,V=E.getRenderTargetSize(p),o=((E.gv=p).setActiveCamera(E),p.getWidth),c=p.getHeight,S=p._frameState.renderState.glState.color.clear.slice(0),I=(Oj(b,E.s("camera.background")),p.getEye),D=(p.getEye=function(){return E.p3()},p.syncRenderState(),Z&&(l=p.getTexture(Z),p.setTexture(Z,b._emptyTexture,K$,!1)),{renderAxis:E.s("camera.renderAxis"),renderGrid:E.s("camera.renderGrid"),renderEdit:E.s("camera.renderEdit"),renderShadowMap:E.s("camera.renderShadowMap"),renderReflector:!E.isCube()&&!1!==E.s("camera.renderReflector")});if(E.isCube()){p._dynamicRatio=1,p.getWidth=function(){return E.getRenderTargetWidth(p)},p.getHeight=function(){return E.getRenderTargetHeight(p)};for(var B=TP.CubeDirectionParam,n=0;n<6;n++)A&&A.bind(b,n),p._18Q=null,E.lookAtDirection([B[6*n+0],B[6*n+1],B[6*n+2]],[B[6*n+3],B[6*n+4],B[6*n+5]]),!1!==E.s("camera.clear")&&b.clear(16384),p.setViewport(b,0,0,V[0],V[1]),E.s("camera.onlySky")?p.renderSky():p.renderScene(D),p._18Q=null,A&&A.unbind(b)}else{var k,j=!1;A&&A.bind(b),!E.s("camera.onlySky")&&E.s("camera.postProcessing")&&(k=p._postProcessing.getRenderTarget())&&(D.renderTarget=A,k=k.getSize(),A.setSize(b,k[0],k[1]),j=p._postProcessing.render(b,k[0],k[1],D,0<p._transmissionObjects.length&&p.isTransmissionEnabled()||p._oitEnabled||p._depthGrabber.isEnabled()),delete D.renderTarget),j||(p._dynamicRatio=1,p.getWidth=function(){return E.getRenderTargetWidth(p)},p.getHeight=function(){return E.getRenderTargetHeight(p)},p._18Q=null,!1!==E.s("camera.clear")&&b.clear(16384),p.overlappingBox.clear(),p.setViewport(b,0,0,V[0],V[1]),E.s("camera.onlySky")?p.renderSky():p.renderScene(D),p._18Q=null),A&&A.unbind(b)}return Z&&p.setTexture(Z,l,K$,!1),p.getEye=I,Oj(b,S),p.setActiveCamera(null),p.getWidth=o,p.getHeight=c,delete p._dynamicRatio,!(E.gv=null)},getSerializableProperties:function(){var p=TP.superClass.getSerializableProperties.call(this);return E(p,{cullingMask:1}),p}}),u.Block=function(){R1(gP,this),this.s({"shadow.cast":!1,"shadow.receive":!1})}),LP=(Jf("Block",YP,{_icon:"block_icon",_clickThroughEnabled:!1,_syncSize:!0,_scaleMode:"2d",ms_ac:["clickThroughEnabled","syncSize","scaleMode"],getUIClass:function(){return qP},get3dUIClass:function(){return lH},onChildAdded:function(p,E){gP.superClass.onChildAdded.apply(this,arguments),this.updateFromChildren()},onChildRemoved:function(p,E){gP.superClass.onChildRemoved.apply(this,arguments),this.updateFromChildren()},_getBoundingBox:(HB=new T$,function(p,E){if(!(p=p instanceof YP?[p]:p)||0===p.length)return r$;var E=[],b=(function(p,Z){var o=(new T$).makeRotationFromEuler(this.getEuler()).setPosition((new G$).fromArray(this.p3()));o.getInverse(o),p.forEach(function(p){var E,b;y(p)&&(E=Z,b=o,HB.fromArray(Am(p)),p=p.getAnchor3d(),E.push((new G$).set(0-p.x,0-p.y,0-p.z).applyMatrix4(HB).applyMatrix4(b)),E.push((new G$).set(0-p.x,0-p.y,1-p.z).applyMatrix4(HB).applyMatrix4(b)),E.push((new G$).set(0-p.x,1-p.y,0-p.z).applyMatrix4(HB).applyMatrix4(b)),E.push((new G$).set(0-p.x,1-p.y,1-p.z).applyMatrix4(HB).applyMatrix4(b)),E.push((new G$).set(1-p.x,0-p.y,0-p.z).applyMatrix4(HB).applyMatrix4(b)),E.push((new G$).set(1-p.x,0-p.y,1-p.z).applyMatrix4(HB).applyMatrix4(b)),E.push((new G$).set(1-p.x,1-p.y,0-p.z).applyMatrix4(HB).applyMatrix4(b)),E.push((new G$).set(1-p.x,1-p.y,1-p.z).applyMatrix4(HB).applyMatrix4(b)))})}.call(this,p,E),[1/0,1/0,1/0]),Z=[-1/0,-1/0,-1/0];return E.forEach(function(p){b[0]=Math.min(p.x,b[0]),b[1]=Math.min(p.y,b[1]),b[2]=Math.min(p.z,b[2]),Z[0]=Math.max(p.x,Z[0]),Z[1]=Math.max(p.y,Z[1]),Z[2]=Math.max(p.z,Z[2])}),{min:b,max:Z}}),updateFromChildren:function(){var p,E,b,Z,o,A,l,V,c;this.isIsolating()||this._updatingToChildren||!this._syncSize||0===this.size()||this._freezeSyncFromChildren||(E=this._getBoundingBox(this.toChildren(y)))&&(p=new G$(E.min),E=new G$(E.max).sub(p),isNaN(E.x)||isNaN(E.y)||isNaN(E.z)?console.warn("Invalid child node transforms!"):(this._updatingFromChildren=1,b=(new G$).fromArray(this.getScale3d()),l=H$.blockMinSize,Z=this._width==r$||-1===this._width,o=new G$(this.getAnchor3d()),A=b.clone().multiply((new G$).fromArray(this.s3())),c=new G$,V=E.clone(),0===E.x&&(c.x=.5,V.x=l),0===E.y&&(c.y=.5,V.y=l),0===E.z&&(c.z=.5,V.z=l),A=(l=o.clone().multiply(A)).clone().multiplyScalar(-1).sub(p).divide(V).add(l.divide(V)).add(c),l=this.s("keepPosition"),Z||this._anchorChanged||this._scaleChanged||!l?(V=(o=!Z&&l?A:o).clone().multiply(E).add(p).applyEuler(this.getEuler()).add((new G$).fromArray(this.p3())),this.p3([V.x,V.y,V.z])):this.setAnchor3d(A.x,A.y,A.z),b.x=b.x||1,b.y=b.y||1,b.z=b.z||1,c=new G$(1,1,1).divide(b).multiply(E),this.s3(Math.abs(c.x),Math.abs(c.y),Math.abs(c.z)),delete this._updatingFromChildren))},setPosition:function(p,E){this._updatingToChildren||(E=2===arguments.length?{x:p,y:E}:p,this.isIsolating()||this._updatingFromChildren||(this._updatingToChildren=1,p=this.toChildren(function(p){return y(p)&&!p.getHost()}),u6(p,E.x-this._position.x,E.y-this._position.y),delete this._updatingToChildren),gP.superClass.setPosition.call(this,E))},setSize3d:function(){this.beginTransaction(),gP.superClass.setSize3d.apply(this,arguments),this.endTransaction()},setTall:function(p){var E;this._updatingToChildren||(this.beginTransaction(),(p=b$(p,H$.blockMinSize))!==(E=this.getTall())&&gP.superClass.setTall.call(this,p),this.isIsolating()||this._updatingFromChildren||(this._updatingToChildren=1,this._adjustChildTallOrScale(p/E,"size"),delete this._updatingToChildren,this.updateFromChildren()),this.endTransaction())},setWidth:function(p){return this.setSize(p,this.getHeight())},setHeight:function(p){return this.setSize(this.getWidth(),p)},setSize:function(p,E){var b,Z,o=H$.blockMinSize;p=b$(p,o),E=b$(E,o),(o=this)._updatingToChildren||(2!==arguments.length&&(E=p.height,p=p.width),this.beginTransaction(),b=o.getWidth(),Z=o.getHeight(),p!==b&&gP.superClass.setWidth.call(o,p),E!==Z&&gP.superClass.setHeight.call(o,E),o.isIsolating()||o._updatingFromChildren||(o._updatingToChildren=1,o._adjustChildScaleOrSize(p/b,E/Z,"size"),delete o._updatingToChildren,o.updateFromChildren()),this.endTransaction())},_adjustChildScaleOrSize:function(S,I,D){var B,n;this._syncSize&&(B=this.getPosition(),n=this.getRotation(),this.eachChild(function(p){var E,b,Z,o,A,l,V,c;y(p)&&!p.getHost()&&(o=p.getPosition(),c=p.getRotation(),E=p.getWidth(),b=p.getHeight(),l=(Z=p.getScale()).x*E,V=Z.y*b,0!=l&&0!=V&&(S*I<0&&p.setRotation(-1*c),(o=new qB(c,o.x,o.y,l,V)).translate(-B.x,-B.y),o.rotate(-n),c=i$(o.b*Math.sign(l),o.a*Math.sign(l)),o.scale(S,I),V=M$(c),c=Math.abs(V)<.001?(l=k$(c),A=o.b/l,-o.c/l):(A=o.a/V,o.d/V),"scale"===D?p.setScale(A/E,c/b):"size"===D&&(l=A/Z.x,V=c/Z.y,p.setScale(pW(A)*Math.abs(Z.x),pW(c)*Math.abs(Z.y)),p instanceof u.Shape?(p.setWidthForce(Math.max(Math.abs(l),1e-5)),p.setHeightForce(Math.max(Math.abs(V),1e-5))):p.setSize(Math.max(.01,Math.abs(l)),Math.max(.01,Math.abs(V)))),o.rotate(n),o.translate(B.x,B.y),p.setPosition(o.tx,o.ty)))}))},_calcChangeFactor:function(p,E,b,Z){var p=a(p),o=(b=a(b))<p?p/b:b/p;return p=a(E),b=a(Z),b$(o,b<p?p/b:b/p)},setElevation:function(p){var E;this._updatingToChildren||0!=(p-=this.getElevation())&&(this.isIsolating()||this._updatingFromChildren||(this._updatingToChildren=1,E=this.toChildren(function(p){return y(p)&&!p.getHost()}),u6(E,0,p,0),delete this._updatingToChildren),gP.superClass.setElevation.apply(this,arguments))},setScaleTall:function(p){var E=this;if(!E._updatingToChildren){var b,Z=E.getScaleTall();if(a(p)<.01&&(p=.01*(pW(p)||pW(Z))),"3d"===E._scaleMode)return b=E.getScale(),void E.setScale3d(b.x,p,b.y);gP.superClass.setScaleTall.call(E,p),E.isIsolating()||E._updatingFromChildren||(E._updatingToChildren=1,E._adjustChildTallOrScale(p/Z,"scale"),delete E._updatingToChildren,E._scaleChanged=1,this.updateFromChildren(),delete E._scaleChanged)}},_adjustChildTallOrScale:function(b,Z){var o;this._syncSize&&(o=this.getElevation(),this.eachChild(function(p){var E;y(p)&&!p.getHost()&&("size"===Z?(E=p.getTall(),b<0&&p.setScaleTall(-1*p.getScaleTall()),p.setTall(Math.max(.01,Math.abs(E*b)))):(E=p.getScaleTall(),p.setScaleTall(E*b)),p.setElevation(o+(p.getElevation()-o)*b))}))},setAnchor3d:function(){var p;if(!this._updatingToChildren)return this.beginTransaction(),(p=gP.superClass.setAnchor3d.apply(this,arguments))&&!this.isIsolating()&&!this._updatingFromChildren&&this._syncSize&&(this._anchorChanged=1,this.updateFromChildren(),delete this._anchorChanged),this.endTransaction(),p},setAnchor:function(p,E,b){var Z=this;if(!Z._updatingToChildren){var o=Z.getAnchor(),A=gP.superClass.setAnchor.apply(Z,arguments);if(Z.isIsolating()||Z._updatingFromChildren||!Z._syncSize)return A;Z._updatingToChildren=1;var l=Z.getAnchor(),V=(c=Z.getSize()).width*(o.x-l.x),c=c.height*(o.y-l.y),o=(new T$).compose(new G$,this.getQuaternion(),new G$(this.getScale3d())),S=new G$(V,0,c).applyMatrix4(o);return Z.eachChild(function(p){var E;y(p)&&!p.getHost()&&(E=new G$(p.p3()),p.p3(E.add(S).toArray()))}),delete Z._updatingToChildren,A}},setAnchorElevation:function(p){var E=this;if(!E._updatingToChildren){var b=E.getAnchorElevation(),Z=gP.superClass.setAnchorElevation.apply(E,arguments);if(E.isIsolating()||E._updatingFromChildren||!E._syncSize)return Z;E._updatingToChildren=1;var o=E.getAnchorElevation(),b=E.getTall()*(b-o),o=(new T$).compose(new G$,this.getQuaternion(),new G$(this.getScale3d())),A=new G$(0,b,0).applyMatrix4(o);return E.eachChild(function(p){var E;y(p)&&!p.getHost()&&(E=new G$(p.p3()),p.p3(E.add(A).toArray()))}),delete E._updatingToChildren,Z}},setRotation:function(p){this._updateChildrenRotation3d("rotation",p)},setRotationX:function(p){this._updateChildrenRotation3d("rotationX",p)},setRotationZ:function(p){this._updateChildrenRotation3d("rotationZ",p)},setRotation3d:function(p,E,b){var Z,o,A=this;A._updatingToChildren||(Z=A.r3(),gP.superClass.setRotation3d.apply(A,arguments),o=A.r3(),A.isIsolating()||A._updatingFromChildren||(A._updatingToChildren=1,A.eachChild(function(p){y(p)&&!p.getHost()&&p.syncRotation3d(A,o,Z)}),delete A._updatingToChildren))},_updateChildrenRotation3d:function(p,E){var b;this._updatingToChildren||(b=this[L1(p)](),gP.superClass[x1(p)].call(this,E),this.isIsolating()||this._updatingFromChildren||this._updateRotationToChildren(p,E-b))},_updateRotationToChildren:function(E,b){var Z=this;Z._updatingToChildren=1,Z.eachChild(function(p){y(p)&&!p.getHost()&&p._11Q(Z,E,b)}),delete Z._updatingToChildren},setScale:function(p,E){var b,Z=this;Z._updatingToChildren||(null==E&&(E=p.y,p=p.x),b=Z.getScale(),a(p)<.01&&(p=.01*(pW(p)||pW(b.x))),a(E)<.01&&(E=.01*(pW(E)||pW(b.y))),"3d"===Z._scaleMode?Z.setScale3d(p,Z.getScaleTall(),E):(gP.superClass.setScale.call(Z,p,E),Z.isIsolating()||Z._updatingFromChildren||(Z._updatingToChildren=1,p/=b.x,E/=b.y,Z._adjustChildScaleOrSize(p,E,"scale"),delete Z._updatingToChildren,Z._scaleChanged=1,Z.updateFromChildren(),delete Z._scaleChanged)))},onPropertyChanged:function(p){gP.superClass.onPropertyChanged.call(this,p),"s:3d.visible"!==p.property&&"parent"!==p.property||this._invalidateChildrenBatch()},_invalidateChildrenBatch:function(){this.eachChild(function(p){(p.s("batch")||p.s("wf.geometry")||p.s("wf.visible"))&&p.iv(),p instanceof gP&&p._invalidateChildrenBatch()})},getSerializableProperties:function(){var p=gP.superClass.getSerializableProperties.call(this);return p.clickThroughEnabled=1,p.syncSize=1,p.scaleMode=1,p},setScale3d:(eB=new G$,$B=new G$,YB=new G$,tB=new T$,KB=new uB,rB=new G$,function(p,E,b){var Z,o,A=this,E="number"==typeof p?{x:p,y:E,z:b}:p.length?{x:p[0],y:p[1],z:p[2]}:p;"3d"!==A._scaleMode?gP.superClass.setScale3d.apply(A,arguments):A._syncSize&&0!==A.size()&&((Z=A.getMatrix4()).getInverse(Z),gP.superClass.setScaleTall.call(A,E.y),gP.superClass.setScale.call(A,E.x,E.z),o=A.getMatrix4(),A.isIsolating()||A._updatingFromChildren||(A._updatingToChildren=1,A.eachChild(function(p){var E,b;y(p)&&!p.getHost()&&(E=1,p instanceof u.Polyline?((b=p.getThickness())&&(rB.copy(p.getScale3d()).multiplyScalar(b),E=b),p.getQuaternion(KB),eB.copy(p.p3()),YB.copy(p.getFinalScale3d()),YB.x=YB.x||rB.x,YB.y=YB.y||rB.y,YB.z=YB.z||rB.z,tB.compose(eB,KB,YB)):p.getMatrix4(tB),tB.premultiply(Z).premultiply(o),tB.decompose(eB,KB,YB),$B.fromArray(p.s3()),$B.x=$B.x||E,$B.y=$B.y||E,$B.z=$B.z||E,YB.divide($B),p.setQuaternion(KB),p.p3(eB.toArray()),p.setScale3d(YB.toArray()))}),delete A._updatingToChildren,A._scaleChanged=1,A.updateFromChildren(),delete A._scaleChanged))}),setIsolating:function(p){this._isolating=(this._isolating||0)+(p?1:-1),this._isolating<0&&(this._isolating=0)},isIsolating:function(){return!!this._isolating||za}}),u.Grid=function(){R1(u.Grid,this)}),xP=(Jf("Grid",YP,{IRotatable:!1,_icon:"grid_icon",_image:r$,getUIClass:function(){return sP},setRotation:function(){},getCellRect:function(p,E){var b=this.s("grid.row.count"),Z=this.s("grid.column.count");if(b<=0||Z<=0||p<0||b<=p||E<0||Z<=E)return r$;var o,A,l,V=this.getRect(),c=this.s("grid.row.percents"),S=this.s("grid.column.percents");if(kY(V,this,"grid.border",-1),c&&c._as&&(c=c._as),S&&S._as&&(S=S._as),c&&c.length===b){for(o=l=0;o<p;o++)l+=V.height*c[o];V.y+=l,V.height=V.height*c[p]}else V.height=V.height/b,V.y+=V.height*p;if(S&&S.length===Z){for(o=A=0;o<E;o++)A+=V.width*S[o];V.x+=A,V.width=V.width*S[E]}else V.width=V.width/Z,V.x+=V.width*E;return Xf(V,-this.s("grid.gap")),V}}),u.Text=function(){R1(xP,this),this.setSize(100,50),this.s("text","TEXT")}),CP=(Jf("Text",YP,{_icon:"text_icon",_image:"__text__",getUIClass:function(){return wP},setWidth:function(p){xP.superClass.setWidth.call(this,p=p||.001)},setHeight:function(p){xP.superClass.setHeight.call(this,p=p||.001)},toLabel:function(){return this._displayName||this._name||this.s("text")}}),k3("__text__",{width:{value:100,isSafeFunc:!0,func:function(p){return p?p._width:100}},height:{value:50,isSafeFunc:!0,func:function(p){return p?p._height:50}},comps:[{type:"text",relative:!0,rect:[0,0,1,1],text:{func:"style@text"},align:{func:"style@text.align"},vAlign:{func:"style@text.vAlign"},color:{func:"style@text.color"},font:{func:"style@text.font"},shadow:{func:"style@text.shadow"},shadowColor:{func:"style@text.shadow.color"},shadowBlur:{func:"style@text.shadow.blur"},shadowOffsetX:{func:"style@text.shadow.offset.x"},shadowOffsetY:{func:"style@text.shadow.offset.y"},scaleX:{func:"style@text.scale.x"},scaleY:{func:"style@text.scale.y"},gradient:{func:"style@text.gradient"},gradientColor:{func:"style@text.gradient.color"},gradientPack:{func:"style@text.gradient.pack"},decoration:{func:"style@text.decoration"},vertical:{func:"style@text.vertical"},verticalGap:{func:"style@text.vertical.gap"},wrap:{func:"style@text.wrap"},letterGap:{func:"style@text.letter.gap"},borderWidth:{func:"style@text.border.width"},borderColor:{func:"style@text.border.color"},background:{func:"style@text.background"},cornerRadius:{func:"style@text.corner.radius"},outlineColor:{func:"style@text.outline.color"},outlineWidth:{func:"style@text.outline.width"}}]}),u.Shape=function(){R1(CP,this),this._59O=new q}),hP=(CP.__de__=pl,Jf("Shape",YP,{ms_ac:["thickness","closePath"],_icon:"shape_icon",_thickness:10,_closePath:!1,getUIClass:function(){return uP},get3dUIClass:function(){return cH},getLength:function(p){return SW(K6(this._59O,this._58O,p,this._closePath))},getSegments:function(){return this._58O},toSegments:function(){var p=this._58O;return p&&new q(p._as.slice(0))},setSegments:function(p){var E=this._58O;p=p?X$(p)?new q(p.slice(0)):new q(p._as.slice(0)):null,(E&&p&&E._as.join(",")!==p._as.join(",")||E!==p)&&(this._58O=p,delete this._curve,this.fp("segments",E,p))},getPoints:function(){return this._59O},toPoints:function(){var p=this._59O;return new q(p._as.slice(0))},getPointsMatrix2d:function(){var p=new f.Matrix2d,E=this.getPosition(),b=this.getScale(),Z=this.getRotation();return p.translate(-E.x,-E.y).scale(b.x,b.y).rotate(Z).translate(E.x,E.y),p},getPointsMatrix3d:function(){var p=new f.Matrix4,E=p.getElements(),b=this.p3(),Z=(Yj(E,b),FP(E,this.getFinalRotation3d(),this.getRotationMode()),this.getScale3d()),o=this._dynamicScale3d;return o&&(Z[0]*=o[0],Z[1]*=o[1],Z[2]*=o[2]),tj(E,Z),Yj(E,vf(b)),p},setPoints:function(p,E){var b,Z,o=this,A=o._59O;p=p?X$(p)?new q(p.slice(0)):new q(p._as.slice(0)):new q,E&&(b=o.getPosition(),Z=new qB(o.getRotation(),0,0,o.getScale().x,o.getScale().y)),(A&&p&&A._as.join(",")!==p._as.join(",")||A!==p)&&(o._59O=p,o.fs(),o.fp("points",A,p)),E&&(p=(A=o.getPosition()).x-b.x,E=A.y-b.y,b=Z.tf(p,E),o.setPosition(A.x-p+b.x,A.y-E+b.y))},setPoints3d:function(p,E){var b=new G$(this.p3()),Z=this.getPointsMatrix3d();Z.setPosition(new G$),PP.superClass.setPoints.call(this,p),E&&(p=new G$(this.p3()).clone().sub(b).applyMatrix4(Z),b.add(p),this.p3(b.x,b.y,b.z))},addPoint:function(p,E,b){var Z=this.toPoints();Z.add(p,E),this.setPoints(Z,b)},setPoint:function(p,E,b){var Z=this.toPoints();Z.set(p,E),this.setPoints(Z,b)},removePointAt:function(p){var E=this.toPoints();E.removeAt(p),this.setPoints(E)},setWidthForce:function(p){var E,b,Z,o,A=this;A._55I||za||!A.getWidth()||(A._55I=1,E=A._position.x,b=p/A.getWidth(),Z=A.toPoints(),o=new q,1!=b&&(Z.each(function(p){o.add({x:(p.x-E)*b+E,y:p.y,e:p.e})}),A.setPoints(o),Y6(A,[b,0,0,1,E*(1-b),0]),A.fs()),delete A._55I),CP.superClass.setWidth.call(A,p)},setWidth:function(p){return this.setWidthForce(p<df?df:p)},setHeightForce:function(p){var E,b,Z,o,A=this;A._55I||za||!A.getHeight()||(A._55I=1,E=A._position.y,b=p/A.getHeight(),Z=A.toPoints(),o=new q,1!=b&&(Z.each(function(p){o.add({x:p.x,y:(p.y-E)*b+E,e:p.e})}),A.setPoints(o),Y6(A,[1,0,0,b,0,E*(1-b)]),A.fs()),delete A._55I),CP.superClass.setHeight.call(A,p)},setHeight:function(p){return this.setHeightForce(p<df?df:p)},setAnchorElevation:function(p){this._55I=!0;var E,b=this._updatingAnchor3d,p=(za||b||(E=this.getAnchorElevation(),0!=(E=this.getTall()*(E-p))&&this.shiftPointsElevation(E)),CP.superClass.setAnchorElevation.apply(this,arguments));return b||delete this._55I,p},getShapeElevation:function(p){return this._54O-(this.getTall()||0)*(this._anchorElevation-.5)},setAnchor3d:function(p,E,b,Z){var o,A,l,V,c,S=this,p=("number"==typeof p?o={x:p,y:E,z:b}:(o=p.length?{x:p[0],y:p[1],z:p[2]}:p,Z=E),S._55I=!0,S._updatingAnchor3d=!0,S.beginTransaction(),za||(b=S.getAnchor3d(),p=S.getSize(),E=S.getTall(),A=p.width*(b.x-o.x),l=p.height*(b.z-o.z),V=E*(b.y-o.y),Z||S.shiftPoints(A,l,V),c=S.p3()),CP.superClass.setAnchor3d.apply(S,arguments));return za||Z&&(E=S.p3(),S.shiftPoints(E[0]-c[0]+A,E[2]-c[2]+l,E[1]-c[1]+V)),S.endTransaction(),delete S._updatingAnchor3d,delete S._55I,p},setAnchor:function(p,E,b){var Z,o,A,l=this,V=(l._55I=!0,l._updatingAnchor3d),c=!za&&!V,E=(c&&("number"==typeof p?o={x:p,y:E}:(o=p.length?{x:p[0],y:p[1]}:p,b=E),p=l.getAnchor(),Z=(E=l.getSize()).width*(p.x-o.x),o=E.height*(p.y-o.y),b||l.shiftPoints(Z,o),A=l.getPosition()),CP.superClass.setAnchor.apply(l,arguments));return c&&(p=l.getPosition(),b&&l.shiftPoints(p.x-A.x+Z,p.y-A.y+o)),V||delete l._55I,E},shiftPoints:function(b,Z,o){var A,p,l;(b||Z||o)&&(A=this.getElevation()||0,p=this.toPoints(),l=new q,p.each(function(p){var E=p.e;l.add({x:p.x+b,y:p.y+Z,e:E=o?(E==r$?A:E)+o:E})}),this.setPoints(l),this.fs())},shiftPointsElevation:function(p){return this.shiftPoints(0,0,p)},setPosition:function(p,E){var b=this;if(!b._28Q){if(b._28Q=1,!b._55I&&!za){if(p=(E=2===arguments.length?{x:p,y:E}:p).x-b._position.x,E=E.y-b._position.y,0==p&&0==E)return void delete b._28Q;b._55I=1,b.shiftPoints(p,E),Y6(b,[1,0,0,1,p,E]),delete b._55I}CP.superClass.setPosition.apply(b,arguments),delete b._28Q}},fs:function(){this.fireShapeChange()},_70I:function(){if(2!==this._59O.size())return!1;var p=this._58O;return!p||2===p.size()&&1===p.get(0)&&2===p.get(1)},fireShapeChange:function(){var p;this._55I||za||(p=Yf(this._59O))&&(this._55I=1,this.setRect(p),delete this._55I),delete this._curve,this.fp(Jl,!1,!0)},getSerializableProperties:function(){var p=CP.superClass.getSerializableProperties.call(this);return p.segments=1,p.points=1,p.thickness=1,p.closePath=1,p}}),u.Points=function(){R1(hP,this),this.s("shape3d.oit.ignored","pre")}),PP=(Jf("Points",YP,{_59O:[],_colors:[],_sizes:[],_uvoffsets:[],get3dUIClass:function(){return SH},getPoints:function(){return this._59O},setPoints:function(p){var E=this._59O,b=(p=p?p.slice(0):[])[0];if(C1(b)){var Z=p;p=[];for(var o=0,A=Z.length;o<A;o+=3)p.push({x:Z[o],e:Z[o+1],y:Z[o+2]})}this._59O=p,this._pointsDirty=!0,this.fp("points",E,this._59O)},setPoint:function(p,E){var b=this._59O.slice(0);b[p]=E,this.setPoints(b)},addPoint:function(p){this.setPoint(this._59O.length,p)},getColors:function(){return this._colors},setColors:function(p){var E=this._colors;p?ArrayBuffer.isView(p)||(p=p.slice(0)):p=[],this._colors=p,this._colorsDirty=!0,this.fp("colors",E,p)},setPointColor:function(p,E){var b=this._colors.slice(0);b[p]=E,this.setColors(b)},getSizes:function(){return this._sizes},setSizes:function(p){var E=this._sizes;p=p?p.slice(0):[],this._sizes=p,this._sizesDirty=!0,this.fp("sizes",E,this._sizes)},setPointSize:function(p,E){var b=this._sizes.slice(0);b[p]=E,this.setSizes(b)},getUvoffsets:function(){return this._uvoffsets},setUvoffsets:function(p){var E=this._uvoffsets;p=p?p.slice(0):[],this._uvoffsets=p,this._offsetsDirty=!0,this.fp("uvoffsets",E,this._uvoffsets)},setPointUvoffset:function(p,E,b){var Z;"object"==typeof E?(Z=E[0],b=E[1]):Z=E,(E=this._uvoffsets.slice(0))[2*p+0]=Z,E[2*p+1]=b,this.setUvoffsets(E)},getPointInfo:function(p){if(!(E=this.getPoints())||E[p]==r$)return r$;var E=[(E=E[p]).x,E.e,E.y],b=this.mat||Am(this),Z=[E[0],E[1],E[2]];return wf(Z,b),b=this.getColors()[p]||this.s("points.color"),{size:(p=this.getSizes()[p])==r$?this.s("points.size"):p,color:b,local:E,world:Z}},getSerializableProperties:function(){var p=hP.superClass.getSerializableProperties.call(this);return p.points=1,p.colors=1,p.sizes=1,p.uvoffsets=1,p},onPropertyChanged:function(p){hP.superClass.onPropertyChanged.call(this,p),"s:points.color"===(p=p.property)?this._colorsDirty=!0:"s:points.size"===p?this._sizesDirty=!0:"s:points.model"===p&&(this._modelDirty=!0)},getWidth:function(){if(0<=this._width)return this._width;var p=this.getStyle("points.model");return(p=p&&iV(p))&&p.rawS3?p.rawS3[0]:1},getHeight:function(){if(0<=this._height)return this._height;var p=this.getStyle("points.model");return(p=p&&iV(p))&&p.rawS3?p.rawS3[2]:1},getTall:function(){if(0<=this._tall)return this._tall;var p=this.getStyle("points.model");return(p=p&&iV(p))&&p.rawS3?p.rawS3[1]:1}}),u.Polyline=function(){R1(PP,this),this.s({"shape.background":null,"shape.border.width":2}),this._geometryVersion=0}),yP=(Jf("Polyline",CP,{_icon:"polyline_icon",get3dUIClass:function(){return DH},getUIClass:function(){return RP},setClosePath:function(p){},setTall:function(p){var E,b,Z,o,A=this;A.beginTransaction(),A._55I||A._24Q||za||!A.getTall()||(A._24Q=1,E=A._54O,1!=(b=p/A.getTall())&&(Z=A.toPoints(),o=new q,Z.each(function(p){o.add({x:p.x,y:p.y,e:p.e==r$?p.e:(p.e-E)*b+E})}),A.setPoints(o),A.fs()),delete A._24Q),PP.superClass.setTall.call(A,p),A.endTransaction()},setElevation:function(p){this.beginTransaction(),this._55I||this._24Q||za||(this._24Q=1,0!=(p-=this._54O)&&this.shiftPointsElevation(p),delete this._24Q),PP.superClass.setElevation.apply(this,arguments),this.endTransaction()},fireShapeChange:function(){var p=this,E=p._59O;if(!p._55I&&!p._24Q&&!za){var b=E.size();if(b){for(var Z=1,o=E.get(0),A=p._54O,l=(o.e==r$&&(o.e=A),o.e),V=0;Z<b;Z++){(o=E.get(Z)).e==r$&&(o.e=A);var c=Z$(l,o.e),S=b$(l+V,o.e),l=c,V=S-c}p._24Q=1,p.setTall(V),p.setElevation(l+V*p._anchorElevation),delete p._24Q}}PP.superClass.fireShapeChange.apply(p,arguments)},onPropertyChanged:(MB={},["points","segments","thickness","s:shape.border.color","s:shape.border.gradient.color","s:shape.border.pattern","s:shape.dash","s:shape.dash.color","s:shape.dash.pattern","s:shape.dash.offset","s:3d.clip.direction","s:repeat.uv.length","s:rotate.vs.length","s:rotate.uv.length","s:body.color","s:shape3d","s:shape3d.visible","s:shape3d.image","s:shape3d.smooth","s:shape3d.resolution","s:shape3d.corner.radius","s:shape3d.color","s:shape3d.blend","s:shape3d.side","s:shape3d.start.angle","s:shape3d.sweep.angle","s:shape3d.top.cap","s:shape3d.top.image","s:shape3d.top.visible","s:shape3d.top.color","s:shape3d.bottom.cap","s:shape3d.bottom.image","s:shape3d.bottom.visible","s:shape3d.bottom.color","s:shape3d.uv.union","s:shape3d.section","s:shape3d.section.angle","s:shape3d.section.twist","s:shape3d.polyline.depth","s:shape3d.polyline.offset","s:shape3d.polyline.radiusScale","s:shape3d.polyline.scaleOffset","s:shape3d.polyline.scaleMap","s:shape3d.polyline.scaleMode","s:shape3d.polyline.normal"].forEach(function(p){MB[p]=!0}),function(p){PP.superClass.onPropertyChanged.call(this,p),MB[p.property]&&this._geometryVersion++})}),u.SubGraph=function(){R1(yP,this)}),aP=(Jf("SubGraph",YP,{ISubGraph:1,_image:"subGraph_image",_icon:"subGraph_icon",_8I:function(){yP.superClass._8I.call(this),this.eachChild(function(p){y(p)&&p._8I()})}}),H$.loadingRefGraph=0,u.RefGraph=function(){R1(aP,this)}),JP=(Jf("RefGraph",gP,{_icon:"refGraph_icon",getRef:function(){return this._ref},setRef:function(p){var E=this._ref;this._ref=p,this.fp("ref",E,p),this.updateRef()},_21I:function(p){aP.superClass._21I.apply(this,arguments),this.updateRef()},updateRef:function(){var b,E,Z=this;H$.loadingRefGraph++,Z.clearChildrenFromDataModel(),H$.loadingRefGraph--,Z._ref&&Z._dataModel&&(Z._xhrLoadHandler&&(Z._xhrLoadHandler.cancel=!0),b=za,(E=Z._xhrLoadHandler=function(p){var E;p&&Z._dataModel&&(H$.loadingRefGraph++,E=Z._pendingUpdateInfo={needToRestore:b},b&&(E.p3=Z.p3(),E.s3=Z.s3(),E.r3=Z.r3(),E.anchor3d=Z.getAnchor3d(),E.scale3d=Z.getScale3d()),Z.r3(0,0,0),Z.setScale3d(1,1,1),Z.setAnchor3d(.5,.5,.5),Z.p3(0,0,0),E=H$.parse(p),(p=Z._dataModel.deserialize(E,Z,{justDatas:!0})).each(function(p){p._refGraph=Z}),Z.checkPendingUpdateInfo(),H$.loadingRefGraph--,H$.handleRefGraphLoaded(Z,p,E))}).xhrLoadCalled=!1,H$.load(Z._ref,function(p){E.cancel||(E.xhrLoadCalled?E(p):Ef(function(){E(p)}))}),E.xhrLoadCalled=!0)},checkPendingUpdateInfo:function(){var E,p=this,b=p._pendingUpdateInfo;b?(E=!0,this.eachChild(function(p){(p._pendingCheckImageJSON||p._pendingUpdateInfo)&&(E=!1)}),E&&(H$.loadingRefGraph++,p._pendingUpdateInfo=null,p.updateFromChildren(),b.needToRestore&&(p.setAnchor3d(b.anchor3d),p.setScale3d(b.scale3d),p.r3(b.r3),p.p3(b.p3)),this.getParent()instanceof aP&&this.getParent().checkPendingUpdateInfo(),p.onPendingUpdated&&p.onPendingUpdated(),H$.loadingRefGraph--)):p.onPendingUpdated&&(H$.loadingRefGraph++,p.onPendingUpdated(),H$.loadingRefGraph--)},getSerializableProperties:function(){var p=aP.superClass.getSerializableProperties.call(this);return p.ref=1,p}}),u.EdgeGroup=function(p,E){this._70O=p,this._siblings=E;for(var b,Z=0,o=p.size(),A=L$[Ix];Z<o;Z++)if((b=p.get(Z).getOwnStyle(Ix))!=r$){A=b;break}for(A==r$&&(A=!0),(E=(E=H$.edgeGroupAgentFunc)&&E(p))&&E!==p.get(0)&&(p.remove(E),p.add(E,0)),Z=0;Z<o;Z++)p.get(Z).s(Ix,A)},Jf("EdgeGroup",t$,{getEdges:function(){return this._70O},size:function(){return this._70O.size()},get:function(p){return this._70O.get(p)},indexOf:function(p){return this._70O.indexOf(p)},each:function(p,E){this._70O.each(p,E)},getSiblings:function(){return this._siblings},eachSiblingEdge:function(E,b){this._siblings.each(function(p){p._70O.each(E,b)})}}),E(H$,{setConnectAction:function(p,E,b){var Z=E1[p]={type:p,action:E};if(b)for(var o in b)Z[o]=b[o]},getConnectAction:function(p,E){if(!E){if(!p)return null;E=p.getCurrentConnectActionType()}return E1[E]},doConnectAction:function(E,p,b,Z){if(Z=Z||E.getCurrentConnectActionType(),!(Z=E1[Z]))return!1;var o=Z.action;return!!o&&(p instanceof J.Group?E.sm().getSelection().each(function(p){o.call(null,E,p,b)}):o.call(null,E,p,b),!0)},doDeleteConnectionAction:function(E,p,b){if(b=b||E.getCurrentConnectActionType(),!(b=E1[b])||!b.delete)return!1;var Z=b.delete.action;return!!Z&&(p instanceof J.Group?E.sm().getSelection().each(function(p){Z.call(null,E,p)}):Z.call(null,E,p),!0)}}),u.JSONSerializer=function(p,E){this.dm=this._dataModel=p,H$.forceHierarchicalSerialization?this._hierarchical=!0:this._hierarchical=E==r$?p.isHierarchicalRendering():E}),dP=(Jf("JSONSerializer",t$,{ms_ac:["hierarchical"],serialize:function(p){return H$.stringify(this.toJSON(),p)},toJSON:function(){var p,E,b=this,Z=b.dm,o=Z.getRoots(),A=b.json={v:H$.getVersion(),p:{},a:{},d:[]},l=Z.getSerializableAttrs();for(E in(p=Z.getInit())&&(A.init=p),(p=Z.getName())&&(A.p.name=p),(p=Z.getBackground())&&(A.p.background=p),(p=Z.getLayers())&&(A.p.layers=p),(p=Z.getEnvmap())&&(A.p.envmap=p),(p=Z.getEnvmapType())&&(A.p.envmapType=p),A.p.autoAdjustIndex=Z.isAutoAdjustIndex(),A.p.hierarchicalRendering=Z.isHierarchicalRendering(),l){var V=Z.a(E);V!==K$&&b[Aa](E,V,A.a)}return s1(A.a)&&delete A.a,b._hierarchical?o.each(b.serializeData,this):Z.each(function(p){b.serializeData(p)}),Z.fireSerializeEvent({type:"serialize",json:A}),Z.getPostProcessingData()&&(A.p.postProcessingData=Z.getPostProcessingData()),A},isSerializable:function(p){return!0},getProperties:function(p){return p.getSerializableProperties()},getStyles:function(p){return p.getSerializableStyles()},getAttrs:function(p){return p.getSerializableAttrs()},serializeData:function(p){var E=this;if(E.isSerializable(p)&&!p._refGraph){var b,Z,o,A,l,V=new(of(p.getClassName())||p.getClass()),c={c:p.getClassName(),i:p.getId(),p:{},s:{},a:{}};for(b in E.json.d.push(c),E.getProperties(p))/^_/.test(b)?(l=p[b],"_width"!==b&&"_height"!==b||l!=r$&&-1!==l||(A==K$&&(o=(p.s("layout.h")||p.s("layout.v"))&&p.getHost()||p instanceof u.Node&&(o=p.getParent())&&o instanceof u.Block||p.s("fullscreen"),A=p.hasInheritedSize()),o&&A&&(l=p[b]="_width"===b?p.getWidth():p.getHeight())),l!==V[b]&&E[Aa](b.substr(1),l,c.p)):p[Z=L1(b)]&&(l=p[Z]())!==V[Z]()&&E[Aa](b,l,c.p);for(b in E.getStyles(p))(l=p.s(b))!==V.s(b)&&E[Aa](b,l,c.s);for(b in E.getAttrs(p))(l=p.a(b))!==V.a(b)&&E[Aa](b,l,c.a);s1(c.p)&&delete c.p,s1(c.s)&&delete c.s,s1(c.a)&&delete c.a}E._hierarchical&&p.getChildren().each(E.serializeData,E)},serializeValue:function(p,E,b){a1(E)?E={__a:E._as}:E instanceof sm?E={__i:E.getId()}:E instanceof wm&&(E={__dm:E.serialize(0)}),b[p]=E},deserialize:function(p,E,b){var Z=this;if(!F$(p)||!/.json$/.test(p))return Z.deserializeImpl(p,E,b);H$.xhrLoad(p,function(p){Z.deserializeImpl(p,E,b)})},deserializeImpl:function(p,E,b){var Z=this.dm,o=(Z.setDeserializing(!0),b=h1(b)?{setId:b}:y1(b)?{finishFunc:b}:b||{},p=this.json=F$(p)?H$.parse(p,{setId:b.setId}):p,!b.justDatas&&p.a&&p.a.onPreDeserialize&&!b.disableOnPreDeserialize&&p.a.onPreDeserialize(p,Z,b.view),Z.beginTransaction(),za++,this._82I={},new q),A=new q,l=0,V=p.d.length;if(b.justDatas||(!b.disableInit&&y1(p.init)&&p.init(Z),Z.setInit(p.init)),!b.justDatas){for(var c in p.a)Z.a(c,this[la](p.a[c]));for(var S in p.p)Z[x1(S)](p.p[S])}for(;l<V;l++){var I=p.d[l],D=new(of(I.c)),B=I.i;b.setId&&B!=r$&&(D._id=B),this._82I[B]=D,o.add(D),A.add(I)}for(l=0;l<V;l++)this.deserializeData(o.get(l),A.get(l));return o.each(function(p){E&&!p.getParent()&&p.setParent(E),Z.add(p)}),b.__innerHandler__&&b.__innerHandler__(p,Z,b.view,o),Z.fireSerializeEvent({type:"deserialize",json:p}),za--,Z.endTransaction(),!b.justDatas&&p.a&&p.a.onPostDeserialize&&!b.disableOnPostDeserialize&&p.a.onPostDeserialize(p,Z,b.view,o),b.finishFunc&&b.finishFunc(p,Z,b.view,o),Z.setDeserializing(!1),o},deserializeData:function(p,E){for(var b in E.p)p[x1(b)](this[la](E.p[b]));for(b in E.s)p.s(b,this[la](E.s[b]));for(b in E.a)p.a(b,this[la](E.a[b]))},deserializeValue:function(p){if(P1(p)){var E,b=p.__i;if(b!=r$)return this._82I[b];if((b=p.__dm)!=r$)return(E=new u.DataModel).deserialize(b),E;if(b=p.__a,X$(b))return new q(b)}return p}}),E(wm,{serialize:function(p,E){return new JP(this,E).serialize(p)},toJSON:function(p){return new JP(this,p).toJSON()},deserialize:function(p,E,b){return new JP(this).deserialize(p,E,b)}}),u.OverlappingBox=function(p){this.gv=p,this.boxes={}}),UP=(Jf("OverlappingBox",t$,{clear:function(){var p,E=this.boxes;for(p in E)E[p].length=0},isOverlapping:function(p,E){var b,Z,o,A,l=this.boxes,V=l[p];for(V?(b=V.rects,Z=V.length):V=l[p]={rects:b=[],length:Z=0},o=0;o<Z;o++)if((A=b[o]).x<E.x+E.w&&A.x+A.w>E.x&&A.y<E.y+E.h&&A.h+A.y>E.y)return!0;return b.length<=Z?(b.push(E),V.length++):b[V.length++]=E,!1}}),E(H$,{fetch:function(p,E){p.open((E=E||{}).method||"GET",E.url||"",!(null!=E.sync&&E.sync)),"json"===E.dataType&&p.setRequestHeader("Content-Type","application/json");var b=E.headers;if(b)for(var Z in b)p.setRequestHeader(Z,b[Z]);E.responseType&&(p.responseType=E.responseType),p.send(E.data)},convertImageSrc:function(p,E){(E=E&&"function"==typeof E?E:function(){})(p)}},!0),u.Request=function(){}),NP=(Jf("Request",t$,{_mimeType:K$,getXhr:function(){return this._xhr||(this._xhr=new XMLHttpRequest,this.overrideMimeType("text/plain")),this._xhr},send:function(p){var E=this.getXhr();p.mimeType&&this.overrideMimeType(p.mimeType),E.onload=this.onload,E.onerror=this.onerror,H$.fetch(E,p)},onload:function(){},onerror:function(){},getResponseType:function(){return this.getXhr().responseType},setOverrideMimeType:function(p){this.overrideMimeType(p)},getMimeType:function(){return this._mimeType},overrideMimeType:function(p){var E=this.getXhr();E.overrideMimeType&&E.overrideMimeType(this._mimeType=p)},getResponseHeader:function(p){return this.getXhr().getResponseHeader(p)},getResponseText:function(){var p=this.getXhr();return p.response||p.responseText},getStatus:function(){return this.getXhr().status}}),TY.GraphView=function(p){var E=this;E._24I={},E._34I=new q,E._dirtyRectsShadow=new q,E.enableDirtyRect(),E._25I={},E._56I={},E._view=BW(1,E),E._canvas=kW(E._view),E.dm(p||new wm),this._coreInteractor=new l_(this),E.setEditable(!1),E.setScrollBarVisible(H$.graphViewScrollBarVisible),E.initRenderEvents(),E._initView()},p("GraphView",t$,{ms_v:1,ms_gv:1,ms_bnb:1,ms_tip:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,_52o:1,_51o:1,ms_renderEvents:["PreFrame","PostFrame","PreRender","PostRender"],ms_ac:[rx,Hx,tx,Kx,"resettable","editInteractor",Yx,"zoomable","pannable","rectSelectable","autoScrollZone",xx,"movableFunc","editableFunc","pointEditableFunc","rectEditableFunc","rotationEditableFunc","anchorEditableFunc","rectSelectBackground","rectSelectBorderColor","editPointSize","editPointBorderColor","editPointBackground","hoverDelay","zoomCacheLatency","imageCachePoolLocked"],_zoomable:H$.graphViewZoomable,_resettable:H$.graphViewResettable,_pannable:H$.graphViewPannable,_rectSelectable:H$.graphViewRectSelectable,_autoScrollZone:H$.graphViewAutoScrollZone,_rectSelectBackground:H$.graphViewRectSelectBackground,_rectSelectBorderColor:H$.graphViewRectSelectBorderColor,_editPointSize:H$.graphViewEditPointSize,_editPointBorderColor:H$.graphViewEditPointBorderColor,_editPointBackground:H$.graphViewEditPointBackground,_scrollBarColor:g,_scrollBarSize:Qa,_autoHideScrollBar:bl,_autoMakeVisible:oq,_currentActionType:null,_zoomCacheLatency:H$.graphViewZoomCacheLatency,getCoreInteractor:function(){return this._coreInteractor},getLayers:function(){return this._dataModel.getLayers()},setLayers:function(p){this._dataModel.setLayers(p)},setEditable:function(p){var E=this,b=(b=E.__interactorMap__)||(E.__interactorMap__={scrollBar:new D_(E),select:new c_(E),text:new I_(E),move:new S_(E),default:new V_(E),touch:new B_(E,{editable:!1})});p?(E._uieditable=!0,b.edit||(p=E._editInteractorClass||TY.XEditInteractor||k_,b.edit=new p(E)),E.setInteractors([b.scrollBar,b.select,b.text,b.edit,b.move,b.default,b.touch])):(E._uieditable=!1,E.setInteractors([b.scrollBar,b.select,b.move,b.default,b.touch]))},registerEditInteractor:function(p){this._editInteractorClass=p;var E,b=this.__interactorMap__;b&&(E=b.edit,b.edit=new p(this),0<=(E=(p=this.getInteractors().getArray()).indexOf(E))&&(p[E]=b.edit))},getCanvas:function(){return this._canvas},_33I:function(p){var E=p.getUIClass();return E?new E(this,p):r$},getDataUI:function(p){var E=this._25I[p._id];return E===K$&&(E=this._33I(p),this._25I[p._id]=E),E},_5I:function(p){var E=this._25I[p._id];return E||p.dm()!==this.dm()?E:this.getDataUI(p)},getNodeRect:function(p){return H$.getNodeRect(this,p)},getFullscreenDatas:function(){return this._dataModel.getFullscreenDatas()},getEdgeInfo:function(p){return(p=this.getDataUI(p))?(p._79o(),p._78o):null},getEdgeSourcePosition:function(p){var E=(p=this.getDataUI(p)).s,p=p._data._40I;return $Y(this,p,E("edge.source.position"),E("edge.source.offset.x"),E("edge.source.offset.y"),E("edge.source.anchor.x"),E("edge.source.anchor.y"))},getEdgeTargetPosition:function(p){var E=(p=this.getDataUI(p)).s,p=p._data._41I;return $Y(this,p,E("edge.target.position"),E("edge.target.offset.x"),E("edge.target.offset.y"),E("edge.target.anchor.x"),E("edge.target.anchor.y"))},dispose:function(){for(var p in this._25I)(p=this._25I[p])&&p.dispose();this.fireViewEvent("dispose")},invalidateAll:function(p){var E=this;if(p){for(var b in E._25I)(b=E._25I[b])&&b.dispose();E._25I={},E._56I={},E._24I={},E._34I.empty(),E.redraw()}else E.dm().each(function(p){E.invalidateData(p)})},invalidateSelection:function(){var E=this;E.sm().each(function(p){E.invalidateData(p)})},invalidateData:function(p){this._24I[p._id]=p,this._21Q(p),this.iv()},_21Q:function(p){var E,b=this._24I;J1(p)&&b1[p.s(Bx)]&&((E=p.getSourceAgent())&&E.getAgentEdges().each(function(p){b[p._id]=p}),(E=p.getTargetAgent())&&E.getAgentEdges().each(function(p){b[p._id]=p}),this.iv())},redraw:function(p){this._32I||(p?this._34I.add(p):(this._32I=1,this._34I.empty()),this.iv())},_eachImpl:function(E,b,p){var Z,o,A,l,V,c,S=this.getLayers(),I=S?S.length:0,D=this._dataModel,B=D._datas,n=D.isHierarchicalRendering(),k=p?n?D.reverseEachByHierarchical.bind(D):function(p,E,b){return B.reverseEachUntil(p,b,!1)<0}:n?D.eachByHierarchical.bind(D):function(p,E,b){return B.eachUntil(p,b,!1)<0},n=0<I;if(2<I&&(Z=!0,o={},k(function(p){var E=p._layer;(o[E]||(o[E]=new u.List)).add(p)})),n)for(Z||(A=function(p){if(p._layer===j)return b?E.call(b,p):E(p)}),c=p?(l=I-1,V=-1):(l=0,V=I,1);l!==V;l+=c){var j=S[l];if(P1(j)&&(j=j.name),Z){var W=o[j];if(W&&0<=W.eachUntil(E,b,!1))return}else if(!1===k(A,null,b))return}else k(E,null,b)},each:function(p,E){return this._eachImpl(p,E,!1)},reverseEach:function(p,E){return this._eachImpl(p,E,!0)},getViewRect:function(){return this._29I},getContentRect:function(){var p,E,b=this,Z=b._84I;return Z||(p=this.dm().a("width"),E=this.dm().a("height"),0<p&&0<E?b._84I={x:0,y:0,width:p,height:E}:(b.each(function(p){b.isVisible(p)&&(Z=tf(Z,b.getDataUIBounds(p)))}),b._84I=Z||W1)),b._84I},getScrollRect:function(){return tf(this.getContentRect(),this._29I)},makeCenter:function(p,E,b){var Z,o,A,l,V=this;V.getWidth()&&V.getHeight()?(V.makeVisible(p),V.validate(),(o=V.getDataUIBounds(p))&&(l=V.getWidth(),Z=V.getHeight(),A=o.x+o.width/2,o=o.y+o.height/2,A=-A*V._zoom+l/2,l=-o*V._zoom+Z/2,V.setTranslate(A,l,E))):b||Ef(V.makeCenter,V,[p,E,!0],500)},fitData:function(E,b,Z,o,p){var A,l=this;l.getWidth()&&l.getHeight()?(A=function(){l.makeVisible(E),l.validate();var p=l.getDataUIBounds(E);p&&(p=p$(p),Xf(p,Z==r$?20:Z),l.fitRect(p,b,o))},b?H$.callWhenLoaded(A):A()):p||Ef(l.fitData,l,[E,b,Z,o,!0],500)},fitContent:function(E,b,Z,p){var o,A=this;A.getWidth()&&A.getHeight()?(o=function(){A.validate();var p=p$(A.getContentRect());Xf(p,b==r$?20:b),A.fitRect(p,E,Z)},E?H$.callWhenLoaded(o):o()):p||Ef(A.fitContent,A,[E,b,Z,!0],500)},fitRect:function(p,E,b){var Z=this,o=Z.getWidth(),A=Z.getHeight(),l=p.x+p.width/2,V=p.y+p.height/2,c=Z$(o/p.width,A/p.height),l=-l*(p=Z._zoom)+o/2,o=-V*p+A/2;0===c||isNaN(c)||(b&&(c=Z$(1,c)),E?(Z._65I&&(delete Z._65I.finishFunc,Z._65I.stop(!0)),Z._14o&&Z._14o.stop(!0),Z.setTranslate(l,o,{finishFunc:function(){Z.setZoom(c,E)}})):(Z.setTranslate(l,o),Z.setZoom(c)))},fitSelection:function(p,E,b){var Z=this,o=Z.sm(),A=null;o.size()&&(o.each(function(p){A=tf(Z.getDataUIBounds(p),A)}),p&&Xf(A,p),Z.fitRect(A,E,b))},toCanvas:function(p,E,b){E=E||this._zoom,this.validateImpl();var Z=p$(this.getContentRect()),b=(b&&Xf(Z,b),Z.width||(Z.width=10),Z.height||(Z.height=10),kW()),o=Z.x*E,A=Z.y*E,l=_$(Z.width*E),Z=_$(Z.height*E),V=(mW(b,l,Z,1),TW(b)),l=((p=p||this._dataModel.getBackground())&&M6(V,0,0,l,Z,p),LW(V,-o,-A),V.scale(E,E),this._zoom);return this._zoom=E,this._42(V),this._zoom=l,V.restore(),this.redraw(),b},toDataURL:function(p,E,b,Z){return this.toCanvas(p,b,Z).toDataURL(E||"image/png",1)},getClipBounds:function(){return this._74O},_42:function(l,V){var p,E,c=this,b=(c.emitPreRender(),c.dm().getBackground()),Z=(b&&(p=c.dm().a("width"),E=c.dm().a("height"),0<p&&0<E&&(H$.convertColor&&(b=H$.convertColor(b,{view:c,background:!0})),M6(l,0,0,p,E,b))),c.__htmlOrderList),S=[],I=c._forcedLayoutHTML;if(c._93db(l,V),c.each(function(p){var E,b,Z,o,A=c.getDataUI(p);A&&(E=c._56I[p._id],o=A._htmlView,E&&(b=A._79o(),o=A._htmlView,u.HtmlNode&&p instanceof u.HtmlNode?A._42(l):(p=c.getViewRect(),Z=o&&o.layoutHTML,!V||Hf(V,b)?(Z&&(o.layoutHTML(),A.__outerLayout&&delete A.__outerLayout),A._42(l)):Hf(p,b)||!Z||A.__outerLayout&&!I||(o.layoutHTML(),A.__outerLayout=!0))),o&&(S.push(o),(o=o.getView?o.getView():o).style.display!==(p=E?"block":gl)&&(o.style.display=p,o.onHTMLDisplayChanged&&o.onHTMLDisplayChanged())))}),Z&&0<S.length){var o=!1;if(Z.length!==S.length)o=!0;else for(var A=0;A<S.length;A++)if(S[A]!==Z[A]){o=!0;break}o&&(S.forEach(function(p){!1!==p.autoAdjustIndex&&c.appendHTML(p,!0)}),this.__htmlOrderList=S)}else this.__htmlOrderList=S;c._92db(l,V),c.emitPostRender()},disableDirtyRect:function(){this._shouldRedrawAll=C},enableDirtyRect:function(){var p=this;p._shouldRedrawAll=function(){return p._32I}},getCurrentDirtyRectsAndSwap:function(){var p=this._34I;return this._34I=this._dirtyRectsShadow,this._dirtyRectsShadow=p},validateImpl:function(){var b=this;if(b._isSkippingFrame())b.iv();else{++b._frameId,b.emitPreFrame(),b.tryUpdateRootData();var Z,E,o,p,A,l,V,c=b.tx(),S=b.ty(),I=b._zoom,D=b._canvas,B=b.getWidth(),n=b.getHeight(),k=b._29I,j={x:-c/I,y:-S/I,width:B/I,height:n/I},W={},m=b.getCurrentDirtyRectsAndSwap(),e=b._24I,$=b._shouldRedrawAll(),Y=b._23I;for(Z in b._24I={},B===D.clientWidth&&n===D.clientHeight||(mW(D,B,n),b._forcedLayoutHTML=$=1),$||i1(j,k)||(b._forcedLayoutHTML=$=1),b._29I=j,b.each(function(p){Z=p._id;var E=W[Z]=b.isVisible(p);E!==b._56I[Z]&&(e[Z]=p,(o=b.getDataUI(e[Z]))&&o._84o(E),b._84o(p,E))},b),e)(o=b._5I(e[Z]))&&(!$&&b._56I[Z]&&(p=o._79o())&&m.add(p),o.invalidate()),b._83I=1;if(b._56I=W,!$)for(Z in e)W[Z]&&(o=b._5I(e[Z]))&&(p=o._79o())&&m.add(p);$?E=j:(m.each(function(p){Hf(j,p)&&(E=tf(E,p))}),E&&(Xf(E,b$(1,1/I)),E.x=z$(E.x*I)/I,E.y=z$(E.y*I)/I,E.width=_$(E.width*I)/I,E.height=_$(E.height*I)/I,E=Mf(j,E))),(b._74O=E)&&0!==E.width&&0!==E.height&&(k=TW(D),D=E.x,A=E.y,l=E.width,V=E.height,D=Math.floor((D*I+c)*Tq),A=Math.floor((A*I+S)*Tq),l=Math.ceil(l*I*Tq)+1,V=Math.ceil(V*I*Tq)+1,$||(E.x=(D/Tq-c)/I,E.y=(A/Tq-S)/I,E.width=l/Tq/I,E.height=V/Tq/I),k.beginPath(),k.rect(D,A,l,V),k.clip(),k.clearRect(D,A,l,V),gW(k,c,S,I),b._42(k,E),k.restore(),delete b._74O),m.empty(),delete b._32I,delete b._forcedLayoutHTML,Y&&0<B&&0<n&&((o=b._5I(Y))&&(p=o._79o(),A=(D=b._29I).x,l=D.y,V=D.width,c=D.height,I=b._zoom,p&&!Hf(p,D)&&(p.x+p.width<A&&b.tx(-p.x*I),p.x>A+V&&b.tx(-(p.x+p.width-V)*I),p.y+p.height<l&&b.ty(-p.y*I),p.y>l+c&&b.ty(-(p.y+p.height-c)*I))),delete b._23I),b._83I&&(delete b._83I,delete b._84I),b._98O(),b.debugCountFrame(),s1(b._24I)||Ef(b.iv,b),b.emitPostFrame()}},isValidGuideLineSource:function(p){return!0},tryUpdateRootData:function(){if(!this._rootDataUpdating){this._rootDataUpdating=!0;var p,E,b=this.getFullscreenDatas();for(E in b)p=b[E],this.scaleRootData(p);this.onRootDataUpdated&&this.onRootDataUpdated(),this._rootDataUpdating=!1}},scaleRootData:function(p){if("uniform"===(D=p.s("fullscreen"))||"fill"===D){p.getRotation()&&p.setRotation(0);var E=p.s("fullscreen.gap")||0,b=this.getWidth(),Z=this.getHeight();if(b&&Z){var b=b-2*E,Z=Z-2*E,o=p.getAnchor(),A=(l=p.getScaledSize()).width,l=l.height;if(S=p.s("fullscreen.lock"))return"uniform"===D?A/l<b/Z?(I=Z/l,A=l*b/Z):(I=b/A,l=A*Z/b):"v"===S?(A=b/(I=Z/l),p.getWidth()!==A&&p.setWidth(A)):(l=Z/(I=b/A),p.getHeight()!==l&&p.setHeight(l)),this.setZoom(I),V=E-(p.getX()-o.x*A)*I,c=E-(p.getY()-o.y*l)*I,V!==this.tx()&&this.tx(V),void(c!==this.ty()&&this.ty(c));var V=this.tx(),c=this.ty(),S={x:(-V+E)/(I=this._zoom),y:(-c+E)/I,width:b/I,height:Z/I},I=("uniform"===D&&(V=A/l,E=(c=Math.min(S.width,S.height*V))/V,S.x+=.5*(S.width-c),S.y+=.5*(S.height-E),S.width=c,S.height=E),b=S.width/p.getScaleX(),Z=S.height/p.getScaleY(),p.getWidth()==b&&p.getHeight()===Z||p.setSize(b,Z),S.x+o.x*S.width),D=S.y+o.y*S.height;I===(A=p.getPosition()).x&&D===A.y||p.setPosition(I,D)}}},isScrollBarVisible:function(){return!!this._79O},setScrollBarVisible:function(p){var E=this;p!==E.isScrollBarVisible()&&(p?(eW(E._view,E._79O=nW()),eW(E._79O,E._27I=nW()),eW(E._79O,E._28I=nW())):(Lf(E._79O),delete E._79O,delete E._27I,delete E._28I),E.fp("scrollBarVisible",!p,p))},getDebugTip:function(){return""},showScrollBar:function(){var p=this;p._79O&&(p._85I||(Al(function(){p._86I()},Nq),p.iv()),p._85I=new Date)},_86I:function(){var p=this;p._85I&&((new Date).getTime()-p._85I.getTime()>=Nq?(delete p._85I,p.iv()):Al(function(){p._86I()},Nq))},getVScrollBar:function(){return this._27I},getHScrollBar:function(){return this._28I},_98O:function(){var p=this._27I,E=this._28I;if(this._79O){if(this._autoHideScrollBar&&!this._85I)return p.style.visibility=kx,void(E.style.visibility=kx);var b=this.getScrollBarColor(),Z=this._zoom,o=this.getScrollBarSize(),A=this.getViewRect(),l=this.getScrollRect(),V=A.height*Z,c=l.height*Z,S=A.width*Z-o-2,I=V*((A.y-l.y)*Z/c),D=V/c*V,B=p.style,c=(V<c-.5?(D<Oq&&(V<(I=(I=I+D/2-Oq/2)<0?0:I)+Oq&&(I=V-Oq),D=Oq),dW(p,S,I,o,D),B.visibility=jx,B.background=b,B.borderRadius=o/2+Ll):B.visibility=kx,A.width*Z),V=l.width*Z,I=A.height*Z-o-2,S=c*((A.x-l.x)*Z/V),p=c/V*c,B=E.style;c<V-.5?(p<Oq&&(c<(S=(S=S+p/2-Oq/2)<0?0:S)+Oq&&(S=c-Oq),p=Oq),dW(E,S,I,p,o),B.visibility=jx,B.background=b,B.borderRadius=o/2+Ll):B.visibility=kx}},setDataModel:function(p){var E=this,b=E._dataModel,Z=E._selectionModel;b!==p&&(b&&(b.ump(E.handleDataModelPropertyChange,E),b.umm(E.handleDataModelChange,E),b.umd(E.handleDataPropertyChange,E),b.removeIndexChangeListener(E._75O,E),b.removeHierarchyChangeListener(E.handleHierarchyChange,E),Z||b.sm().ums(E.handleSelectionChange,E)),(E._dataModel=p).mp(E.handleDataModelPropertyChange,E),p.mm(E.handleDataModelChange,E),p.md(E.handleDataPropertyChange,E),p.addIndexChangeListener(E._75O,E),p.addHierarchyChangeListener(E.handleHierarchyChange,E),Z?Z._21I(p):p.sm().ms(E.handleSelectionChange,E),E.invalidateAll(!0),E.fp(ux,b,p),E.updateBackground())},getLayersInfo:function(){var p;return this._layersInfo===K$&&((p=this.getLayers())?(this._layersInfo={},p.forEach(function(p){var E=P1(p)?p.name:p;this._layersInfo[E]=p},this)):this._layersInfo=null),this._layersInfo},calculateEdgePosition:function(p,E,b,Z){p instanceof u.Data?(o=this.getDataUI(p),V=PY(o)):(V=PY(null,p,arguments[1]),E=arguments[2],b=Z);var V,o,A,l=E=2===(E=E instanceof MouseEvent?this.lp(E):E).length?new v(E[0],E[1]):E,Z=function(b){var Z=1/0,o=0,A=new v;function p(p){var E;return 0<=p&&p<=1&&(A=dY(V,100*p),(E=(b.x-A.x)*(b.x-A.x)+(b.y-A.y)*(b.y-A.y))<Z&&(Z=E,o=p,1))}for(var E=0;E<100;++E)p(E/100);for(var l=.005;.001<l;)p(o-l)||p(o+l)||(l/=2);return o}(l=Z&&p&&p.getPointsMatrix2d?(A=p.getPointsMatrix2d()).applyInverse(E):l),l=dY(V,100*Z);if(A&&(l=A.apply(l)),!b)for(var c=o?UY(o):UY(p,arguments[1]),S=new v(l.x,l.y),b=this._zoom,I=49/(b*b),D=0,B=c.length;D<B;D++){var n=c[D];if(A&&(n=A.apply(n)),S.distanceToSquared(n)<I)return{index:D,point:n,distance:Math.sqrt((n.x-E.x)*(n.x-E.x)+(c[D].y-E.y)*(c[D].y-E.y))}}return{percent:Z,point:l,distance:Math.sqrt((l.x-E.x)*(l.x-E.x)+(l.y-E.y)*(l.y-E.y))}},getPercentPositionOfPath:function(p,E,b){p instanceof u.Data?(Z=this.getDataUI(p),Z=PY(Z)):(Z=PY(null,p,arguments[1]),E=b);var Z=dY(Z,E);return b&&p&&p.getPointsMatrix2d?p.getPointsMatrix2d().apply(Z):Z},getNeareastPositionOfPath:function(){return this.calculateEdgePosition.apply(this,arguments)},getPointsOfPath:function(p){for(var E,b,Z,o,Z=p instanceof u.Data?(E=this.getDataUI(p),b=(E=hY(E)).points,E.segments):(b=p,arguments[1]),A=p instanceof u.Shape?p.getPointsMatrix2d():new f.Matrix2d,l=[],V=-1,c=-1,S=0,I=(Z||b).length;S<I;S++)5!==(o=Z?Z.get(S):1)&&(c++,3===o?(jN(l,b,V+1,c,"C",A),jN(l,b,V+2,c,"M",A),V+=2):4===o?(jN(l,b,V+1,c-1,"R",A),jN(l,b,V+2,c,"L",A),jN(l,b,V+3,c,"M",A),V+=3):(jN(l,b,V+1,c,"M",A),V+=1));return l},calculateAttachPoint:(FB=new v,XB=new v,GB=new v,function(p,E){var b=this.getAttachPoints(p);if(!b||!b.length)return null;GB.set(E.x,E.y);for(var Z,o,A,l,V=1/0,c=0,S=b.length;c<S;c++)A=b[c],XB.x=A.x,XB.y=A.y,FB.x=A.offsetX||0,FB.y=A.offsetY||0,A=$Y(this,p,0,FB.x,FB.y,XB.x,XB.y),(o=GB.distanceToSquared(A))<V&&(Z=c,V=o,l=A);return V=Math.sqrt(V),"close"===(E=this.getAttachStyle(p))&&p.s("attach.close.threshold")/this._zoom<V?null:{index:Z,distance:V,info:b[Z],point:l}}),getAttachPoints:function(p){var E=p.s("attach.points");return E||((E=Q(p._image))?O(E.attachPoints,p,this)||null:void 0)},getAttachStyle:function(p){var E=p.s("attach.style");return E||((E=Q(p._image))?O(E.attachStyle,p,this)||"close":void 0)},updateLayers:function(){this._layersInfo=K$,this.invalidateSelection(),this.redraw()},updateBackground:function(){var p=this.dm().a("width"),E=this.dm().a("height");0<p&&0<E?this._canvas.style.background="":((p=this.dm().getBackground())&&H$.convertColor&&H$.convertColor(p,{view:this,background:!0}),this._canvas.style.background=this.dm().getBackground()||"")},handleDataModelPropertyChange:function(p){var E,b;"background"===p.property?(E=this._canvas.style.background,b=p.newValue||"",this.updateBackground(),this.fp("canvasBackground",E,b),this.redraw()):"a:width"===p.property||"a:height"===p.property?(this._83I=1,this.updateBackground(),this.redraw()):"layers"===p.property?this.updateLayers():"hierarchicalRendering"===p.property&&this.redraw()},handleDataPropertyChange:function(p){this.dm().isHierarchicalRendering()&&"parent"===p.property&&p.data.hasChildren()&&this.redraw(),this.invalidateData(p.data)},onPropertyChanged:function(p){var E,b=p.property;this.redraw(),"zoom"===b?(E=this.sm().getSelection()).size()&&E.each(function(p){p.invalidate()}):"dataModel"===b&&(this._83I=1),oY[b]?this.showScrollBar():b===Yx&&this.onCurrentSubGraphChanged(p)},onCurrentSubGraphChanged:function(p){this.sm().cs(),this.reset()},handleDataModelChange:function(p){var E,b,Z,o=this,A=p.kind,p=p.data;o._83I=1,"add"===A?(o.invalidateData(p),J1(p)&&p.getEdgeGroup()&&p.getEdgeGroup().eachSiblingEdge(o.invalidateData,o),p.getHost&&p.getHost()&&p.getHost().updateLayoutAttaches()):A===Nl?(o._21Q(p),E=p._id,(b=o._25I[E])&&(o._56I[E]&&(Z=b._79o())&&o.redraw(Z),b.dispose(),delete o._25I[E]),delete o._24I[E],delete o._56I[E],p===o._currentSubGraph&&o.setCurrentSubGraph(r$)):A===Ol&&(o.invalidateAll(!0),o.setCurrentSubGraph(r$))},_75O:function(p){this.invalidateData(p.data)},handleHierarchyChange:function(p){var E,b;this.dm().isHierarchicalRendering()&&((b=p.data).getHost&&(E=b.getHost())&&E.updateLayoutAttaches(),b.hasChildren()&&this.redraw()),this.invalidateData(p.data)},adjustIndex:function(p){if(this.isVisible(p)){this.dm().beginTransaction();for(var E=p;E._parent&&this.isVisible(E._parent);)E=E._parent;E&&E!==p&&this._dataModel.adjustIndex(E),this._dataModel.adjustIndex(p),this.dm().endTransaction()}},getImage:function(p){return p.getImage?p.getImage():K$},getSelectWidth:function(p){var E=Q(this.getImage(p));return E&&O(E.disableSelectedBorder,p,this)?0:p.s("select.width")},getSelectColor:function(p){return p.s("select.color")},isSelectable:function(p,E){if(this.isSelected(p))return!0;if(!E)for(var b=p;(b=b.getParent())&&b instanceof gP;){if(this.isSelectable(b,!0)&&b.isSyncSize())return!1;if(!H$.blockThroughContinuous)break}return(!(E=(E=this.getLayersInfo())&&E[p._layer])||!1!==E.selectable)&&(p.s("2d.selectable")&&this.sm().isSelectable(p))},isMovable:function(p){if(J1(p)&&p.getStyle(Bx)!==sl)return!1;var E=this.getLayersInfo();return(!(E=E&&E[p._layer])||!1!==E.movable)&&(!!p.s("2d.movable")&&(!this._movableFunc||this._movableFunc(p)))},isEditable:function(p){if(u._uiSerializing)return this._uieditable;if(!this._editInteractor||!this.isSelected(p))return!1;if(d1(p)){var E=this.getDataUI(p);if(!E||E._88I)return!1}return(!J1(p)||p.getStyle(Bx)===sl)&&((!(E=(E=this.getLayersInfo())&&E[p._layer])||!1!==E.editable)&&(!!p.s("2d.editable")&&(!this._editableFunc||this._editableFunc(p))))},handleDelete:function(p){this._editInteractor&&(this._editInteractor.handleDelete?this._editInteractor.handleDelete():this.removeSelection())},isPointEditable:function(p){return(!y(p)||0===p.getRotation())&&(!this._pointEditableFunc||this._pointEditableFunc(p))},isRectEditable:function(p){return!this._rectEditableFunc||this._rectEditableFunc(p)},isAnchorEditable:function(p){return!this._anchorEditableFunc||this._anchorEditableFunc(p)},isRotationEditable:function(p){return!(!p.setRotation||!1===p.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(p))},isSourceTargetEditable:function(p,E,b){return!0},getRotationPoint:function(p){var E=p.getAnchor(),b=p.getScale(),Z=this._zoom,E=O6(p.getRotation(),0,-p.getHeight()*b.y*E.y-(b.y<0?-1:1)*(kl?32:16)/Z),b=p.p();return E.x+=b.x,E.y+=b.y,E},getLogicalPoint:function(p){return Gf(p,this._canvas,this.tx(),this.ty(),this._zoom,this._zoom)},getScreenPoint:function(p,E){var b;return"object"==typeof p?E=p.x!==K$?(b=p.x,p.y):(b=p[0],p[1]):b=p,Tf(b,E,this._canvas,this.tx(),this.ty(),this._zoom,this._zoom)},getSelectedDataAt:function(p){var E=this;return this.getDataAt(p,function(p){return E.isSelected(p)})},getDataInfoAt:function(p,E,b){var Z=this.lp(p),o=this.getDataAt(Z,E,b);if(o){var A={data:o,ui:p=this.getDataUI(o),point:Z},l=p._38o;if(l){var V,c=l.icons;for(V in c){var S=c[V],I=l.rects[V];if(I)for(var D=O(S.names,o,this),S=D?D.length:0,B=I.rotation,n=S-1;0<=n;n--){var k=D[n],j=I[n];if(Kf(j,Z,B))return A.part="icons",A.name=V,A.icon=k,A.rect=j,A.index=n,A.rotation=B,A}}}if(this.isNoteVisible(o)){if(p.note2Info&&Kf(p.note2Info.clickRect,Z,r$,p.note2Info.scale))return A.part="note2",A;if(p.noteInfo&&Kf(p.noteInfo.clickRect,Z,r$,p.noteInfo.scale))return A.part="note",A}if(this.isLabelVisible(o)){if(p.label2Info&&Kf(p.label2Info.rect,Z,p.label2Info.rotation,p.label2Info.scale))return A.part="label2",A;if(p.labelInfo&&Kf(p.labelInfo.rect,Z,p.labelInfo.rotation,p.labelInfo.scale))return A.part="label",A}if(o.isInRect&&o.isInRect(Z))return A.part="body",A}return A},getDataAt:function(E,b,Z){E.target&&(E=this.lp(E));var o,A=this._zoom;return this.reverseEach(function(p){if((b?b(p):this.isSelectable(p))&&this.rectIntersects(p,g1(E.x,E.y,Z,A)))return o=p,!1},this),o},getIconInfoAt:function(p,E){if(p.target&&(p=this.lp(p)),E=E||this.getDataAt(p)){var b=this.getDataUI(E);if(b&&b._38o){var Z=b._38o,o=new q;for(l in Z.icons)o.add(l);for(var A=o.size()-1;0<=A;A--){var l=o.get(A),V=Z.rects[l];if(V)for(var c=V.rotation,S=V.length-1;0<=S;S--){var I=V[S],D=I.width,B=I.height,n={x:p.x-I.x-D/2,y:p.y-I.y-B/2};if(c!=r$&&(n=O6(-c,n.x,n.y)),Kf(I={x:-D/2,y:-B/2,width:D,height:B},n))return{key:l,index:S,name:Z.icons[l].names[S],rect:V[S],point:p,rotation:c,relativeRect:I,relativePoint:n,data:E}}}}}return r$},getDatasInRect:function(E,b,Z){Z===K$&&(Z=1);var o=this,A=new q;return o.reverseEach(function(p){Z&&!o.isSelectable(p)||(b?o.rectIntersects(p,E):o.rectContains(p,E))&&A.add(p)}),A},moveSelection:function(p,E){this.dm().beginTransaction(),u6(this.sm().toSelection(this.isMovable,this),p,E),this.dm().endTransaction()},moveDatas:function(p,E,b){this.dm().beginTransaction(),p instanceof q||(p=new q(p)),u6(p,E,b),this.dm().endTransaction()},getDataUIBounds:function(p){return(p=this.getDataUI(p))?p._79o():r$},drawData:function(E,p,b){var Z,o=this.getDataUI(p);o&&(Z=o._79o(),b&&!Hf(b,Z)||(o._42(E),p instanceof u.Block&&p.eachChild(function(p){this.isVisible(p)&&this.drawData(E,p,b)},this)))},getBoundsForGroup:function(p){return p.s(vl)?this.getDataUIBounds(p):r$},isPixelPerfect:function(p){return p.s("pixelPerfect")},rectIntersects:function(p,E){this.validate();var b=r$;if(this._56I[p._id]&&(o=this._25I[p._id])){var Z=o.getInteractiveRect();if(rf(E,Z))b=!0;else if((E=Mf(E,Z))&&(b=o.rectIntersects?o.rectIntersects(E):b)==r$){if(!this.isPixelPerfect(p))return!0;var Z=E.x,o=E.y,A=E.width,l=E.height,V=this._zoom,c=A*l*V*V,S=((S=H$.hitMaxArea)<c&&(V*=Math.sqrt(S/c)),Z*=V,o*=V,k6(A=(A*=V)<2?2:A,l=(l*=V)<2?2:l));LW(S,-Z,-o),S.scale(V,V),this._drawForChecking=!0,this.drawData(S,p,E),this._drawForChecking=!1;try{for(var I=0,D=S.getImageData(0,0,A,l).data;I<D.length;I+=4)if(0!==D[I+3]){b=!0;break}S.restore()}catch(p){D6=r$,b=!1}}}return!!b},rectContains:function(p,E){return!(!this._56I[p._id]||!(p=this._25I[p._id]))&&rf(E,p._79o())},reset:function(){this.setZoom(1),this.setTranslate(0,0)},handleKeyDown:function(p){var E,b,Z,o,A;H$.isInput(p.target)||p.__ht__handled__||(b=(A=(E=this)._focusData)&&E._25I[A._id],o=0,Z=E._dataModel._datas,A&&A._enabled&&A._editable&&b&&b.onKeyDown&&!0===b.onKeyDown(p)||(9===p.keyCode&&(A&&(o=Z.indexOf(A),jf(p)?-1==--o&&(o=0):++o===Z.size()&&(o=0)),E._focusData=A=Z.get(o),E.sm().setSelection(A)),sW(p)?E.selectAll():l6(p)&&E.isResettable()&&E.reset(),E.sm().isEmpty()?E._editing||(b=E.tx(),Z=E.ty(),o=!1,A=jf()?100:10,b6(p)&&(b-=A,o=!0),Z6(p)&&(Z-=A,o=!0),o6(p)&&(b+=A,o=!0),A6(p)&&(Z+=A,o=!0),o&&E.setTranslate(b,Z)):(wW(p)&&E.handleDelete(p),A=jf()?10:1,b6(p)&&(E.moveSelection(-A,0),E.fi({kind:"moveLeft"})),Z6(p)&&(E.moveSelection(0,-A),E.fi({kind:"moveUp"})),o6(p)&&(E.moveSelection(A,0),E.fi({kind:"moveRight"})),A6(p)&&(E.moveSelection(0,A),E.fi({kind:"moveDown"})))))},handleScroll:function(p,E){if(sq(p),this.isZoomable()){if(!this.getEditInteractor()){if(p["ht.preventDefault"])return;var b=this.getDataAt(p);if(b){var Z=Q(this.getImage(b));if(Z&&O(Z.scrollable,b,this))return}}var o,A=this.getFullscreenDatas();for(o in A)if(A[o].s("fullscreen.lock"))return;Z=this.lp(p),0<E?this.scrollZoomIn(Z):E<0&&this.scrollZoomOut(Z)}},handlePinch:function(p,E,b){!this.isZoomable()||Math.abs(E-b)<H$.pinchZoomThreshold||(b<E?this.pinchZoomIn(p):this.pinchZoomOut(p))},checkDoubleClickOnNote:function(p,E){var b=this.lp(p),Z=this.getDataUI(E),o=Z.note2Info;return o&&E.s("note2.toggleable")&&Kf(o.clickRect,b)?(E.s(Sx,!E.s(Sx)),this.fi({kind:"toggleNote2",event:p,data:E}),!0):!!((o=Z.noteInfo)&&E.s("note.toggleable")&&Kf(o.clickRect,b))&&(E.s(cx,!E.s(cx)),this.fi({kind:"toggleNote",event:p,data:E}),!0)},_84o:function(p,E){},isNoteVisible:function(p){return.15<this._zoom},isLabelVisible:function(p){return.15<this._zoom},isEditVisible:function(p){return.15<this._zoom},autoScroll:function(p,E){var b=this,Z=b.getAutoScrollZone(),o=Z/b.getZoom(),A=Z/4,l=b._29I,p=b.lp(p),V={x:b.tx(),y:b.ty()};return p&&0<Z&&l&&(p.x-l.x<o?b.translate(A,0):l.x+l.width-p.x<o&&b.translate(-A,0),p.y-l.y<o?b.translate(0,A):l.y+l.height-p.y<o&&b.translate(0,-A)),V.x=b.tx()-V.x,V.y=b.ty()-V.y,E&&(E.x+=V.x,E.y+=V.y),V},getMoveMode:function(p,E){return(E=E.s("2d.move.mode"))||(fa[88]?"x":fa[89]?"y":"xy")},getSerializableProperties:function(){return{scrollBarColor:1,scrollBarSize:1,autoMakeVisible:1,autoHideScrollBar:1,editable:1,resettable:1,pannable:1,rectSelectable:1,autoScrollZone:1,visibleFunc:1,movableFunc:1,editableFunc:1,pointEditableFunc:1,rectEditableFunc:1,anchorEditableFunc:1,rotationEditableFunc:1,rectSelectBackground:1,rectSelectBorderColor:1,editPointSize:1,editPointBorderColor:1,editPointBackground:1,hoverDelay:1,dataModel:1,selectionModel:1,currentSubGraph:1,zoom:1,translateX:1,translateY:1}},serializeProperty:function(p,E,b){return"currentSubGraph"===E?{__i:p.getId()}:b.serializeProperty(p,E,this)},deserializeProperty:function(p,E,b){return"currentSubGraph"===E?this.dm().__idMap[p.__i]:b.deserializeProperty(p,E,this)},setDefaultCursor:function(p,E){this._defaultCursor=p,!1!==E&&this.setCursor(p)},getCurrentConnectActionType:function(){return this._currentActionType},setCurrentConnectActionType:function(p){return!(p!==r$&&!H$.getConnectAction(null,p)||(this._currentActionType=p,this.redraw(),0))},getEditStyle:function(p){var E=this.getEditInteractor();return E?E.getStyle(p):K$},setEditStyle:function(p,E,b){var Z=this.getEditInteractor();return!!Z&&(Z.setStyle(p,E,b),!0)},isConnectActionVisible:function(p){var E=H$.getConnectAction(this);return!!E&&(E=E.visible,y1(E)?E(this,p):E)},isInteractive:function(p){if(this._drawForChecking)return!1;var E=Q(this.getImage(p));return!(!E||!O(E.interactive,p,this))||p.s("interactive")},getRenderingStyleIconName:function(){return OP},appendHTML:function(p,E){var b=this.getView();if(!(E||p&&p.parentNode!==b))return!1;var Z=p.getView&&p.getView(),o=p.beforeCanvas;return!(!E&&Z&&Z.parentNode===b)&&((p.getView||p.isSelfViewEvent)&&(p=p.getView()),E=this.getEditInteractor(),o?b.insertBefore(p,this.getCanvas()):E&&E._canvas?b.insertBefore(p,E._canvas):this.isScrollBarVisible()?b.insertBefore(p,this.getView().lastChild):eW(b,p),!0)},_layoutHTMLImpl:function(p,E,b){var Z,o,A,l,V,c,S,I,D;1<arguments.length?(o=this._zoom,(E=E.getView?(Z=E).getView():E).style.position="absolute",b?(c=p.getRect(),dW(Z||E,this.tx()+c.x*o,this.ty()+c.y*o,c.width*o,c.height*o)):(b=new QB,A=p.s("html.layout.anchor.sync"),S=p.getPosition(),I=p.getScale(),D=E.style,c=A?p.getAnchorRect():{x:.5*-(l=p.getWidth()),y:.5*-(V=p.getHeight()),width:l,height:V},dW(Z||E,c),b.appendTranslate(this.tx(),this.ty()),b.appendScale(o,o),b.append(new QB(p.getRotation(),S.x,S.y,I.x,I.y)),A||b.appendTranslate(l*(.5-p.getAnchorX()),V*(.5-p.getAnchorY())),XW(D,"transform","matrix("+b.a.toFixed(5)+", "+b.b.toFixed(5)+", "+b.c.toFixed(5)+",\n    "+b.d.toFixed(5)+", "+b.tx.toFixed(5)+", "+b.ty.toFixed(5)+")"),XW(D,"transformOrigin",(-c.x).toFixed(5)+"px "+(-c.y).toFixed(5)+"px"),E.updateAppendMatrix=!0)):this._layoutHTML&&this._layoutHTML()},getTextEditInfo:function(p){if(p instanceof xP)return{name:"text",accessType:"s",font:p.s("text.font"),isMultiline:!0}},getShape:function(p){return p.getStyle(Jl)},syncFromDataModel:function(p){var E=this.dm();h1(E.a("zoomable"))&&this.setZoomable&&this.setZoomable(E.a("zoomable")),h1(E.a("pannable"))&&this.setPannable&&this.setPannable(E.a("pannable")),h1(E.a("rectSelectable"))&&this.setRectSelectable&&this.setRectSelectable(E.a("rectSelectable")),!0===E.a("fitContent")&&this.fitContent&&this.fitContent(!0,0)},preHandleEvent:function(p,E,b){return E},postHandleEvent:function(p,E,b){return E},getClipTarget:function(p){}}),t$.defineProperties(TY.GraphView.prototype,{layoutHTML:{get:function(){return this._layoutHTMLImplBind||(this._layoutHTMLImplBind=this._layoutHTMLImpl.bind(this)),this._layoutHTMLImplBind},set:function(p){this._layoutHTML=p}}}),function(p,E){this.gv=p,this.s=function(p){return E.getStyle(p)},this._data=E,this._87I=new q}),OP=r$,zP=(yf(NP,t$,{_6I:r$,ms_icons:1,_84o:function(p){},dispose:function(){},isShadowed:function(){return this.s("shadow")||this.gv.isSelected(this._data)&&"shadow"===this.s("select.type")},getSelectWidth:function(){return!this.gv.isSelected(this._data)||this.isShadowed()?0:this.gv.getSelectWidth(this._data)},getSelectColor:function(){return this.gv.getSelectColor(this._data)},getBodyColor:function(p){var E=this._data;return(E=this.gv.getBodyColor(E))?p?this.getColor(E,0):E:p?this.getStyleColor(p,0):r$},_2Q:function(p){return this.s(p)},_1Q:function(p,E,b,Z,o,A){var l=this.s,V=(p.lineWidth=b,this.getStyleColor(E+".dash.color",1)),c=l(E+".dash.gradient.pack");c?$6(p,c,this.getGradientStopColor.bind(this),!0,o,A,{style:E+".dash.gradient.pack"}):p.strokeStyle=V,p.stroke(),c&&p.restore(),l(E+".dash.3d")&&(o=this.getStyleColor(E+".dash.3d.color",1),r6(p,V,o,b,this.gv._zoom,l(E+".dash.3d.accuracy"))),Dm(p,Z)},invalidate:function(){this._6I=r$},_79o:function(){var p,E,b=this;return b._6I||(p=b._data,E=b.gv,b.labelInfo=b.label2Info=b.noteInfo=b.note2Info=b._38o=r$,b._87I.empty(),b.interactiveInfo=E.isInteractive(p)?{}:r$,b._interactiveRect=r$,b._3O(),b._55O=E.isEditable(p)?{_42O:E.isRectEditable(p),_43O:E.isPointEditable(p),_56O:E.isRotationEditable(p)}:r$,b._6I=b._81o()),b._6I},prepareBlendInfo:function(){var p=this._data;this._gray=p.s("2d.gray"),this._bodyColor=this.getBodyColor()},getColor:function(p,E,b){if(H$.convertColor&&(Z={data:this._data,view:this.gv},b&&t$.assign(Z,b),p=H$.convertColor(p,Z)),p){var Z=(b=3===(E=E==r$?3:E))||2===E;if(this._gray&&(b||1===E))return H$.toGrayColor(p);if(this._bodyColor&&Z)return j6(p,this._bodyColor)}return p},getStyleColor:function(p,E){var b,Z=this.s;return H$.convertColor&&(b={style:p}),this.getColor(Z(p),E,b)},getGradientStopColor:function(p,E){return this.getColor(p,r$,E)},_3O:function(){},getPosition:function(p,E,b,Z){return W1},_68o:function(p,E){var b,Z;p&&this._87I.add(E?(E=new qB(E),b=p.width/2,Z=p.height/2,(E=Yf([E.tf(-b,-Z),E.tf(b,-Z),E.tf(b,Z),E.tf(-b,Z)])).x+=p.x+b,E.y+=p.y+Z,E):p)},getInteractiveRect:function(){var p=this._6I||this._79o();return this._interactiveRect||p},_81o:function(){var E,p,b,Z=this,o=Z.s;return Z._24O(px,"getLabel"),Z._24O(Ex,"getLabel2"),Z._26O(bx,"getNote"),Z._26O(Zx,"getNote2"),Z._15O(),Z._55O&&Z._48O(),Z._87I.each(function(p){E=tf(E,p)}),E&&(p=Z.isShadowed(),b=o("shadow2"),(p||b)&&(b=p$(E),p?(b.x+=o("shadow.offset.x"),b.y+=o("shadow.offset.y"),Xf(b,o("shadow.blur"))):(b.x+=o("shadow2.offset.x"),b.y+=o("shadow2.offset.y"),Xf(b,o("shadow2.blur"))),b=tf(E,b),o("shadow.interactable")||(Z._interactiveRect=E),E=b)),Z._87I.empty(),E},_42:function(p){var E,b,Z,o,A,l,V=this,c=V._data,S=V.gv,I=V.s,D=I("opacity"),B=this.isShadowed(),n=I("shadow2"),k=I("shadow2.inset");(B||n&&!k)&&(E=p.shadowOffsetX,b=p.shadowOffsetY,Z=p.shadowBlur,o=p.shadowColor,k=S.getZoom()*H$.devicePixelRatio,p.shadowOffsetX=I((A=B?"shadow":"shadow2")+".offset.x")*k,p.shadowOffsetY=I(A+".offset.y")*k,p.shadowBlur=I(A+".blur")*k,p.shadowColor=B?V.getSelectColor():I(A+".color")),D!=r$&&(l=p.globalAlpha,p.globalAlpha=D),V.drawBody(p),S.isLabelVisible(c)&&(S._drawForChecking&&!I("label.selectable")||KY(p,V.labelInfo),S._drawForChecking&&!I("label2.selectable")||KY(p,V.label2Info)),S.isNoteVisible(c)&&(rY(p,V.noteInfo),rY(p,V.note2Info)),V._99O(p),D!=r$&&(p.globalAlpha=l),(B||n)&&(p.shadowOffsetX=E,p.shadowOffsetY=b,p.shadowBlur=Z,p.shadowColor=o)},drawBody:function(p){},_47O:function(p){},_24O:function(p,E){var b,Z,o,A=this._data,l=this.gv,V=this.s,c=l[E](A);c!=r$&&(b=V(p+".scale"),o=V(p+".max"),Z=V(p+".position"),l=this[p+"Info"]={label:c,scale:b,color:this.getColor(l[E+"Color"](A),0),font:V(p+".font"),opacity:V(p+".opacity"),align:V(p+".align"),decoration:V(p+".decoration"),rotation:this.getRotation(V(p+".rotation"),!1,Z),background:this.getColor(l[E+"Background"](A),0),borderWidth:V(p+".border.width"),borderColor:V(p+".border.color"),letterGap:V(p+".letter.gap"),verticalGap:V(p+".vertical.gap")},E=$W(l,c),0<o&&o<E.width&&(l.labelWidth=E.width,E.width=o),1!==b&&(E.width*=b,E.height*=b),A=this.getPosition(Z,V(p+".offset.x"),V(p+".offset.y"),E,V(p+".position.fixed")),E.x=A.x-E.width/2,E.y=A.y-E.height/2,this._68o(l.rect=E,l.rotation),1!==b&&(c=E.width/b,o=E.height/b,l.rect={x:A.x-c/2,y:A.y-o/2,width:c,height:o}))},_26O:function(p,E){var b,Z,o,A,l,V=this.gv,c=this._data,S=this.s,I=V[E](c);I!=r$&&(b=S(p+".scale"),V=this[p+"Info"]={note:I,scale:b,data:c,view:V,expanded:S(p+".expanded"),font:S(p+".font"),color:this.getStyleColor(p+".color",0),opacity:S(p+".opacity"),align:S(p+".align"),icon:S(p+".icon"),backgroundImage:S(p+".backgroundImage"),borderWidth:S(p+".border.width"),borderColor:this.getStyleColor(p+".border.color",0),background:this.getColor(V[E+"Background"](c),0)},Z=(E=this.getPosition(S(p+".position"),S(p+".offset.x"),S(p+".offset.y"))).x,E=E.y,V.expanded?(o=S(p+".max"),(l=(l=S(p+".backgroundImage"))?(l=Q(l),{width:tm(l,c),height:Km(l,c)}):$W(V,I)).width+=6,l.height+=2,0<o&&o<l.width&&(V.labelWidth=l.width,l.width=o),o=l.width,A=l.height+8,V.clickRect={x:Z-o*b/2,y:E-A*b,width:o*b,height:A*b*l.height/A}):(A=(I=S(p+".icon"))?(I=Q(I),o=tm(I,c),Km(I,c)):(o=12,18),V.clickRect={x:Z-o*b/2,y:E-A*b,width:o*b,height:A*b}),V.rect={x:Z-o/2,y:E-A*b/2-A/2,width:o,height:A},l=_$(V.borderWidth/2)*b,this._68o({x:Z-o*b/2-l,y:E-A*b-l,width:o*b+2*l,height:A*b+2*l}))},_48O:function(){},_99O:function(p){var E=this._38o;if(E){var b,Z=this.gv,o=this._data,A=E.icons,l=this.interactiveInfo;for(b in l&&(l._38o={}),A){var V=A[b],c=E.rects[b];if(c){l&&(l._38o[b]=[]);var S,I=O(V.opacity,o,Z),D=O(V.names,o,Z),B=D?D.length:0,n=c.rotation;I!=r$&&(S=p.globalAlpha,p.globalAlpha*=I);for(var k=0;k<B;k++){var j,W,m=D[k],m=Q(m),e=c[k],$=(n&&(j=e.x+e.width/2,W=e.y+e.height/2,p.save(),LW(p,j,W),xW(p,n),LW(p,-j,-W)),l&&l._38o[b].push(p.interactiveInfo={compInfos:[],matrix:n?new QB(n,j,W).appendTranslate(-j,-W):new QB}),OP);OP=b,fq(p,m,O(V.stretch,o,Z),e.x,e.y,e.width,e.height,this._data,this.gv),OP=$,p.interactiveInfo=r$,n&&p.restore()}I!=r$&&(p.globalAlpha=S)}}}}}),function(p,E){R1(zP,this,[p,E])}),_P=(yf(zP,NP,{_checkEmptyRect:!0,_40O:function(p,E){var b,Z=this.s,o=p.rect,A=((p.borderColor=this.gv.getBorderColor(this._data))&&(p.borderType=Z("border.type"),p.borderWidth=Z("border.width"),p.borderPadding=Z("border.padding"),E=b$(E,p.borderPadding+p.borderWidth/2)),this._data.getScale()),A=b$(1,b$(a(A.x),a(A.y)));(p.selectWidth=this.getSelectWidth())&&(b=this.gv._zoom,p.selectType=Z("select.type"),p._97o=this.getSelectColor(),p.selectPadding=Z("select.padding"),E=b$(E,(p.selectPadding+p.selectWidth/2/b)/A)),0<E&&(E*=A,o=p$(o),Xf(o,E)),this._68o(o)},_39O:function(p,E){var b,Z,o,A,l,V=E.rect;0<E.borderWidth&&(l=E.borderPadding,p.strokeStyle=E.borderColor,p.lineWidth=E.borderWidth,F6(p,E.borderType,{x:V.x-l,y:V.y-l,width:V.width+2*l,height:V.height+2*l}),p.stroke()),0<E.selectWidth&&(Z=this.gv._zoom,l=E.selectPadding,p.strokeStyle=E._97o,p.lineWidth=E.selectWidth/Z,E.rotation!=r$&&(p.save(),p.translate(E.position.x,E.position.y),p.rotate(E.rotation),b=(Z=this._data).getWidth(),Z=Z.getHeight(),o=E.scale,A=E.anchor,V={x:o.x*(-b*A.x),y:o.y*(-Z*A.y),width:o.x*b,height:o.y*Z}),F6(p,E.selectType,{x:V.x-l,y:V.y-l,width:V.width+2*l,height:V.height+2*l}),E.rotation!=r$&&p.restore(),p.stroke())},dispose:function(){var p=this._htmlView;zP.superClass.dispose.call(this),p&&(p.onHTMLRemoved&&p.onHTMLRemoved(),Lf(p))},_3O:function(){var p,E,b=this,Z=(b.prepareBlendInfo(),b.s),o=b._data,A=b.gv,l=A.getShape(o),V=b.getBodyColor();l?(p=b.getStyleColor("shape.border.color",1),(p={shape:l,_53o:b.getBodyColor("shape.background"),_27Q:Q(Z("shape.repeat.image"),V),shapeRepeatImageStretch:Z("shape.repeat.image.stretch"),shapeRepeatImageRotation:Z("shape.repeat.image.rotation"),shapeGradientPack:Z("shape.gradient.pack"),shapeBorderGradientPack:Z("shape.border.gradient.pack"),_54o:Z("shape.border.width"),_55o:p,shapeBorderRepeatImage:Q(Z("shape.border.repeat.image"),p),shapeBorderRepeatImageStretch:Z("shape.border.repeat.image.stretch"),shapeBorderRepeatImageRotation:Z("shape.border.repeat.image.rotation"),_56o:Z("shape.border.3d"),_57o:b.getStyleColor("shape.border.3d.color",1),_58o:Z("shape.border.3d.accuracy"),shapeGradient:Z("shape.gradient"),_60o:Z("shape.border.pattern"),_61o:Z("shape.border.cap"),_62o:Z("shape.border.join"),shapeForeground:b.getStyleColor("shape.foreground",1),bodyColor:V,gray:Z("2d.gray")}).shapeGradient&&(p._59o=b.getStyleColor("shape.gradient.color",1))):p={img:Q(A.getImage(o),V),bodyColor:V,gray:Z("2d.gray"),stretch:Z("image.stretch"),imageState:o.getImageState()};(V=(b._83o=p).img)&&V.renderHTML?(b._htmlInfo&&b._htmlInfo.img!==V&&(b._htmlInfo=r$),b._htmlInfo||(b._htmlInfo={img:V,cache:{}}),c=V.renderHTML(o,A,b._htmlInfo.cache)):b._htmlInfo=r$,b._htmlView&&b._htmlView!==c&&(b._htmlView.onHTMLRemoved&&b._htmlView.onHTMLRemoved(),Lf(b._htmlView.getView?b._htmlView.getView():b._htmlView)),(b._htmlView=c)&&A.appendHTML(c)&&(c.onHTMLAddedSync&&c.onHTMLAddedSync(),c.onHTMLAdded&&Ef(c.onHTMLAdded)),p.rect=o.getRect(),p.position=o.p(),p.scale=o.getScale(),p.anchor=o.getAnchor(),p.rotation=o.getRotation(),l===Pl&&(p._63o=Z("shape.depth"));var c=0;l?(c=m6(r$,p._54o/2,p._62o),b.s("shape.dash")&&(c=b$(c,(b.s("shape.dash.width")||p._54o)/2))):V&&V.boundExtend&&(c=O(V.boundExtend,o,A),V.boundExtendAbsolute?(E=o.getScale(),c/=A._zoom*b$(1,b$(a(E.x),a(E.y)))):O(V.fitSize,o,A)||(E=O(V.width,o,A),V=O(V.height,o,A),c*=b$(o.getWidth()/E,o.getHeight()/V))),b._40O(p,c),(A=Z("clip.percentage"))!=K$&&(p.clipRect=AW(o.getAnchorRect(),Z("clip.direction"),A)),l&&((E=Z("shape.fill.clip.percentage"))!=K$&&(p.shapeClipRect=AW(o.getAnchorRect(),Z("shape.fill.clip.direction"),E)),(V=Z("shape.foreground.clip.percentage"))!=K$&&(p.shapeForegroundClipRect=AW(o.getAnchorRect(),Z("shape.foreground.clip.direction"),V))),p.clipTarget=b.getClipTarget()},getClipTarget:function(p){var E=this.gv;return p=p||this._data,(E=E.getClipTarget(p))||p.s("clip.host")&&(E=p.getHost())?E:void 0},getPosition:function(p,E,b,Z){return(p=i6(p,this._83o.rect,Z)).x+=E,p.y+=b,p},clipByTarget:function(b,p,E){E=E||0;var Z,o,A,l,V,c,S,I,D,B,n,k=this.getClipTarget(p);return k&&(b.save(),b.beginPath(),E=this.clipByTarget(b,k,E),b.clip()),p instanceof CP?(k=p.getPoints().toArray(),S=(S=p.getSegments())?S.toArray():[],Z=p.getMatrix(),o=p.p(),k=k.map(function(p){return(p=p$(p)).x-=o.x,p.y-=o.y,Z.apply(p)}),t6(b,k,S)):(k=this.gv.getShape(p))?("roundRect"===k?A=p.s("shape.corner.radius"):"polygon"===k?(A=p.s("shape.polygon.side"),l=p.s("shape.corner.radius"),V=p.s("shape.regular")):"nStar"===k?(A=p.s("shape.star.side"),l=p.s("shape.corner.radius"),V=p.s("shape.star.ratio"),c=p.s("shape.regular")):"arc"===k&&(A=p.s("shape.arc.from"),l=p.s("shape.arc.to"),V=p.s("shape.arc.close"),c=p.s("shape.arc.oval")),S=p.p(),I=p.getRotation(),B=p.getAnchor(),n=p.getScale(),(D=p.getSize()).x=-D.width*B.x,D.y=-D.height*B.y,b.save(),LW(b,S.x,S.y),xW(b,I),CW(b,n.x,n.y),N6[k](b,D.x,D.y,D.width,D.height,A,l,V,c),b.restore()):(B=p.s("host.clip.padding")||0,n=p.getScale(),p.getCorners(-B/Math.abs(n.x),-B/Math.abs(n.y)).forEach(function(p,E){E?b.lineTo(p.x,p.y):b.moveTo(p.x,p.y)})),++E},drawBody:function(p){var E,b=this,Z=b.s,o=b.gv,A=b._data,l=b._83o,V=l.rect,c=l.position,S=l.rotation,I=l.anchor,D=l.scale,B=l.shape,n=l.clipTarget,k=l.clipRect;if(!b._checkEmptyRect||0<V.width&&0<V.height){(V=Z("composite"))&&(p.save(),p.globalCompositeOperation=V),n&&(p.save(),p.beginPath(),(E=b.clipByTarget(p,n))&&p.clip());var j,W,m,e,$,Y,t,K,r,H,M,F,X,G,T,g,L,x,C=A.getSize();if(C.x=-C.width*I.x,C.y=-C.height*I.y,p.save(),LW(p,c.x,c.y),xW(p,S),CW(p,D.x,D.y),k&&(p.beginPath(),p.rect(k.x,k.y,k.width,k.height),p.clip()),o._drawForChecking&&l.img&&!1===O(l.img.pixelPerfect,A,o)?M6(p,C.x,C.y,C.width,C.height,"#888888"):b.freeDraw?b.freeDraw(p,C,l):B?(k=l._27Q,j=l._54o,x=l.shapeGradientPack,W=l.gray,m=p.lineJoin,e=p.lineCap,r=Z("shape.border.width.absolute"),L=l._60o,H=o._zoom,r&&L&&(L=L.map(function(p){return p*H})),g=Im(p,L),T=function(p){return W?H$.toGrayColor(p):p},"roundRect"===B?$=Z("shape.corner.radius"):"polygon"===B?($=Z("shape.polygon.side"),Y=Z("shape.corner.radius"),t=Z("shape.regular")):"nStar"===B?($=Z("shape.star.side"),Y=Z("shape.corner.radius"),t=Z("shape.star.ratio"),K=Z("shape.regular")):"arc"===B&&($=Z("shape.arc.from"),Y=Z("shape.arc.to"),t=Z("shape.arc.close"),K=Z("shape.arc.oval")),p.lineJoin=l._62o,p.lineCap=l._61o,(M=T(l._53o))||k||x?((G=l.shapeClipRect)&&(p.save(),p.beginPath(),p.rect(G.x,G.y,G.width,G.height),p.clip()),F6(p,B,C,$,Y,t,K),x?$6(p,x,b.getGradientStopColor.bind(b),!1,C,r$,{style:"shape.gradient.pack"}):k?G6(p,k,T(l.bodyColor),null,A,o,l.shapeRepeatImageStretch,C,l.shapeRepeatImageRotation,I):X6(p,M,l.shapeGradient,l._59o,C),p.fill(),x&&p.restore(),G&&p.restore(),p!==g&&F6(g,B,C,$,Y,t,K)):F6(g,B,C,$,Y,t,K),(k=l.shapeForeground)&&(p.save(),T=l.shapeForegroundClipRect,(x=Z("shape.foreground.gradient"))&&(X=b.getStyleColor("shape.foreground.gradient.color",1)),T&&(p.beginPath(),p.rect(T.x,T.y,T.width,T.height),p.clip()),F6(p,B,C,$,Y,t,K),X6(p,k,x,X,C),p.fill(),p.restore()),b.isShadowed()||Z(G="shadow2")&&Z(G+".inset")&&(T=o.getZoom()*H$.devicePixelRatio,k=Z(G+".color"),x=Z(G+".blur"),p.save(),p.shadowOffsetX=Z(G+".offset.x")*T,p.shadowOffsetY=Z(G+".offset.y")*T,p.shadowBlur=x*T,p.shadowColor=k,F6(p,B,C,$,Y,t,K),p.clip(),p.rect(C.x-x,C.y-x,C.width+2*x,C.height+2*x),p.fillStyle=k,p.fill("evenodd"),p.restore(),F6(p,B,C,$,Y,t,K)),r&&(F=b._ctxMat||(b._ctxMat=new u.Math.Matrix2d),hW(p,F)),0<j&&(p.lineWidth=j,X=l._55o,(G=l.shapeBorderGradientPack)?$6(p,G,b.getGradientStopColor.bind(b),!0,C,F,{style:"shape.border.gradient.pack"}):l.shapeBorderRepeatImage?T6(p,l.shapeBorderRepeatImage,X,null,A,o,l.shapeBorderRepeatImageStretch,C,l.shapeBorderRepeatImageRotation,I):p.strokeStyle=X,p.stroke(),G&&p.restore(),l._56o&&r6(p,X,l._57o,j,o._zoom,l._58o)),Dm(p,L),Z("shape.dash")&&0<(T=Z("shape.dash.width")||j)&&(L=Z("shape.dash.pattern"),r&&(L=L.map(function(p){return p*H})),(g=Im(p,L,b._2Q("shape.dash.offset")))!==p&&F6(g,B,C,$,Y,t,K),b._1Q(p,"shape",T,L,C,F)),P6(p,M,l._63o,C),r&&p.restore(),p.lineJoin=m,p.lineCap=e):((x=b.interactiveInfo)&&(p.interactiveInfo=x.bodyInfo={compInfos:[],matrix:new QB(S,c.x,c.y,D.x,D.y)}),l.gray&&(p.compGray=!0),k=l.img,I=l.imageState,!k||k.cacheRule==r$||I&&"string"!=typeof I||(k=xY(p,k,l.stretch,C.width,a(D.x),C.height,a(D.y),A,o,l.bodyColor,I)),I&&I.animation&&A.iv(),fq(p,k,l.stretch,C.x,C.y,C.width,C.height,A,o,l.bodyColor,K$,K$,I),p.compGray=!1,p.interactiveInfo=r$),p.restore(),n)for(;E--;)p.restore();V&&p.restore()}b._39O(p,l)},_48O:function(){},_47O:function(p){}}),function(p,E){R1(_P,this,[p,E])}),vP=function(p,E,b,Z){var o=$f(p,E);return b=(Z?Z$:HY)(b,o),o?b/=o:b=0,{x:p.x+(E.x-p.x)*b,y:p.y+(E.y-p.y)*b}},QP=(yf(_P,NP,{_3O:function(){var p=this;p.prepareBlendInfo();var E,b,Z,o,A,l,V,c,S,I=p._data,D=p.gv,B=p.s,n=B(Bx),k=I.isLooped(),j=B("edge.width"),W=p.getBodyColor("edge.color"),m=B("edge.center"),e=B("edge.offset"),$=p.getColor(D.getBorderColor(I),1),Y=$?B("border.width"):0,t=B("edge.width.absolute"),K=p.getSelectWidth(),r=I._40I,H=I._41I;(W=p._78o=r&&H?{looped:k,type:n,width:j,center:m,color:W,repeatImage:Q(B("edge.repeat.image"),W),borderColor:$,borderWidth:Y,absoluteWidth:t,_97o:K?p.getSelectColor():r$,selectWidth:K,pattern:B("edge.pattern"),cap:B("edge.cap"),join:B("edge.join"),is3d:B("edge.3d"),_67o:p.getStyleColor("edge.3d.color",1),_66o:B("edge.3d.accuracy"),gray:B("2d.gray")}:r$)&&(($=H$.getEdgeType(n))?($=$(I,XY(p,D,I,k,n),D,p._19Q)).points&&1<$.points.size()?(W.edgeTypeInfo=$,E=Yf(W.edgeTypeInfo.points)):$[ex]&&$.rect&&(E=(W.edgeTypeInfo=$).rect):($=B("edge.source.anchor.x"),l=B("edge.source.anchor.y"),o=B("edge.target.anchor.x"),A=B("edge.target.anchor.y"),b=eY(D,I,"source"),Z=eY(D,I,"target"),n===sl?(c=(V=W.points=B(Dx)||qm).size(),W.segments=B("edge.segments"),$=$!==K$||l!==K$||J1(r),l=o!==K$||A!==K$||J1(H),m||(e?($||(b=vP(b,c?V.get(0):Z,e,c)),l||(Z=vP(Z,c?V.get(c-1):b,e,c))):($||(S=EW(b,c?V.get(0):Z,fm(D,r)))&&(b={x:S[0],y:S[1]}),l||(S=EW(c?V.get(c-1):b,Z,fm(D,H)))&&(Z={x:S[0],y:S[1]}))),E=tf(Yf(W.points),Yf(b,Z))):(o=XY(p,D,I,k,n),p._19Q||(o=-o),k?((b=p$(b)).x=D.getNodeRect(r).x,W.radius=o,E={x:b.x-o,y:b.y-o,width:2*o,height:2*o}):(A=$f(b,Z),l={x:$=HY(e,A),y:o},V={x:A-$,y:o},c=i$(Z.y-b.y,Z.x-b.x),H=W.mat=new qB(c),W.orienAngle=c,W.angle=Z.x<b.x?c+R$:c,W.rect={x:l.x,y:l.y,width:V.x-l.x,height:0},W.origin=b,(l=H.tf(l)).x+=b.x,l.y+=b.y,(V=H.tf(V)).x+=b.x,V.y+=b.y,m?((S=H.tf(S={x:A,y:0})).x+=b.x,S.y+=b.y,E=Yf([b,l,V,S]),W.c1=b,W.c2=S):E=Yf(l,V),b=l,Z=V)),W.sourcePoint=b,W.targetPoint=Z,I._lastSourcePoint=b,I._lastTargetPoint=Z),n=0,B("edge.dash")&&(n=B("edge.dash.width")||j),k="square"===W.cap?.71:.5,r=b$(n*k,j*k+Y+K),t&&D.getZoom()<1&&(r/=D.getZoom()),m6(E,r,W.join),p._68o(E))},getRotation:function(p,E,b){p=p||0;var Z=this._78o;if(Z){var o,A=Z.angle,l=Z.points,V=Z.edgeTypeInfo;if(A!=r$)return E?Z.orienAngle+p:A+p;if(V&&V[ex])return V.getRotation?V.getRotation(this,p,E,b):0;if(V&&V.points)return o=(A=V.points).size(),ZY[b]?o&&o%2==0?MY(A.get(o/2-1),A.get(o/2),E,p):p:bY[b]?MY(A.get(0),A.get(1),E,p):MY(A.get(o-2),A.get(o-1),E,p);if(l)return o=l.size(),ZY[b]?o&&o%2==0?MY(l.get(o/2-1),l.get(o/2),E,p):0===o?MY(Z.sourcePoint,Z.targetPoint,E,p):p:bY[b]?MY(Z.sourcePoint,o?l.get(0):Z.targetPoint,E,p):MY(o?l.get(o-1):Z.sourcePoint,Z.targetPoint,E,p)}return p},getPosition:function(p,E,b,Z,o){var A=this._78o;if(A){var l=A.type,V=A.points,c=A.edgeTypeInfo,S=A.sourcePoint,I=A.targetPoint;if(!l)return A.looped?{x:S.x-A.radius+E,y:S.y+b}:(o&&S&&I&&(S.x>I.x||S.x===I.x&&S.y>I.y)&&(p=w6[p],b=-b),(D=i6(p,A.rect,Z)).x+=E,D.y+=b,(D=A.mat.tf(D)).x+=A.origin.x,D.y+=A.origin.y,D);if(c&&c[ex])return c.getPosition?c.getPosition(this,p,E,b,Z,o):{x:(S.x+I.x)/2,y:(S.y+I.y)/2};if(V){var D,B,n=V.size();if(ZY[p]){if(n){if(0==(B=n%2))return FY(V.get(n/2-1),V.get(n/2),p,E,b,Z,o);D=V.get((n-B)/2)}else D={x:(S.x+I.x)/2,y:(S.y+I.y)/2};return(D=i6(p,{x:D.x,y:D.y,width:0,height:0},Z)).x+=E,D.y+=b,D}return bY[p]?FY(S,n?V.get(0):I,p,E,b,Z,o):FY(n?V.get(n-1):S,I,p,E,b,Z,o)}if(c)return n=(l=c.points).size(),ZY[p]?0==(B=n%2)?FY(l.get(n/2-1),l.get(n/2),p,E,b,Z,o):(D=l.get((n-B)/2),(D=i6(p,{x:D.x,y:D.y,width:0,height:0},Z)).x+=E,D.y+=b,D):bY[p]?FY(l.get(0),l.get(1),p,E,b,Z,o):FY(l.get(n-2),l.get(n-1),p,E,b,Z,o)}return W1},_42:function(p){this._78o&&_P.superClass._42.call(this,p)},drawPath:function(E,p){E.beginPath();var b,Z,o,A,l=p.type,V=p.points,c=p.segments,S=p.edgeTypeInfo;!l||V?(b=(Z=p.sourcePoint).x,Z=Z.y,o=(A=p.targetPoint).x,A=A.y,l?c?((l=new q({x:b,y:Z})).addAll(V),l.add({x:o,y:A}),t6(E,l,c)):(E.moveTo(b,Z),V.each(function(p){E.lineTo(p.x,p.y)}),E.lineTo(o,A)):p.looped?E.arc(b,Z,p.radius,0,j$,!0):p.center?(E.moveTo(p.c1.x,p.c1.y),E.lineTo(b,Z),E.lineTo(o,A),E.lineTo(p.c2.x,p.c2.y)):(E.moveTo(b,Z),E.lineTo(o,A))):S&&(S.points?t6(E,S.points,S.segments):S[ex]&&S[ex](E,S))},drawBody:function(p){var E=this.s,b=this._78o,Z=b.width,o=b.selectWidth,A=b.borderWidth,l=b.repeatImage,V=p.lineJoin,c=p.lineCap,S=b.gray,I=b.pattern,D=(p.lineJoin=b.join,p.lineCap=b.cap,this.drawPath(Im(p,I),b),b.absoluteWidth),o=(D&&hW(p),o&&(p.strokeStyle=b._97o,p.lineWidth=Z+2*(A+o),p.stroke()),A&&(p.strokeStyle=b.borderColor,p.lineWidth=Z+2*A,p.stroke()),S?H$.toGrayColor(b.color):b.color);l?T6(p,l,o,null,this._data,this.gv):p.strokeStyle=o,p.lineWidth=Z,p.stroke(),b.is3d&&r6(p,o,b._67o,Z,this.gv._zoom,b._66o),E("edge.dash")&&(I=E("edge.dash.pattern"),(A=Im(p,I,this._2Q("edge.dash.offset")))!==p&&this.drawPath(A,b),this._1Q(p,"edge",E("edge.dash.width")||Z,I)),D&&p.restore(),Dm(p,I),p.lineJoin=V,p.lineCap=c},_48O:function(){},_47O:function(p){}}),function(p,E){R1(QP,this,[p,E])}),qP=(yf(QP,zP,{_3O:function(){var E,b,p,Z,o,A,l,V,c,S,I,D,B,n,k,j,W=this,m=W.s,e=W._data,$=W.gv;W.prepareBlendInfo(),W._88I=r$,e.isExpanded()&&e.eachChild(function(p){y(p)&&(p=$.getBoundsForGroup(p))&&((b=b||[]).push(p),E=tf(E,p))}),E?(A=$.getLabel(e),o=m("group.type"),Z=(p=m("group.border.width")||0)/2,m("group.border.width.absolute")&&(p/=$._zoom),c=b,S=E,E="oval"===(V=o)?(I=0,B=S.height/S.width,D=B*B,k=S.x+S.width/2,j=S.y+S.height/2,cN(c).forEach(function(p){var E=p.x-k,p=p.y-j;I<(E=E*E+p*p/D)&&(I=E)}),B*=I=v$(I),{x:k-I,y:j-B,width:2*I,height:2*B}):"circle"===V?(n=0,k=S.x+S.width/2,j=S.y+S.height/2,cN(c).forEach(function(p){var E=p.x-k,p=p.y-j;n<(E=E*E+p*p)&&(n=E)}),n=v$(n),{x:k-n,y:j-n,width:2*n,height:2*n}):("roundRect"===V&&Xf(S,Z$(S.width,S.height)/16),S),kY(E,e,"group.padding",1),Xf(E,p),e=W._88I={type:o,rect:E,_64o:E,anchor:e.getAnchor()},o||A==r$||(o=W.labelInfo={label:A,color:W.getStyleColor("group.title.color",0),font:m("group.title.font"),align:m("group.title.align")},B=(A=$W(o,A)).width+p,A=A.height+p,c=m("group.title.align"),(V=m("group.title.orientation"))===Kl||V===rl?(E.height+=p,B>E.width&&(E.width=B)):V!==Yl&&V!==tl||(E.width+=p,B>E.height&&(E.height=B)),c=c===Yl?E.x:c===tl?E.x+E.width-B:E.x+E.width/2-B/2,V===rl?(e.titleRect={x:E.x,y:E.y+E.height,width:E.width,height:A},e.rect={x:E.x,y:E.y,width:E.width,height:E.height+A},o.rect={x:c,y:E.y+E.height,width:B,height:A}):V===Yl?(l=e.titleRect={x:E.x-A,y:E.y,width:A,height:E.height},e.rect={x:E.x-A,y:E.y,width:E.width+A,height:E.height},o.rect={x:l.x+A/2-E.height/2,y:l.y+E.height/2-A/2,width:E.height,height:A},o.rotation=-Math.PI/2):V===tl?(l=e.titleRect={x:E.x+E.width,y:E.y,width:A,height:E.height},e.rect={x:E.x,y:E.y,width:E.width+A,height:E.height},o.rect={x:l.x+A/2-E.height/2,y:l.y+E.height/2-A/2,width:E.height,height:A},o.rotation=Math.PI/2):(e.titleRect={x:E.x,y:E.y-A,width:E.width,height:A},e.rect={x:E.x,y:E.y-A,width:E.width,height:E.height+A},o.rect={x:c,y:E.y-A-Z,width:B,height:A+p})),W._40O(e,m("group.border.width")/2)):QP.superClass._3O.call(W)},getPosition:function(p,E,b,Z){var o=this._88I;return o?((p=i6(p,o.rect,Z)).x+=E,p.y+=b,p):QP.superClass.getPosition.apply(this,arguments)},_24O:function(p,E){var b=this._88I;b&&!b.type&&"label2"!==p||QP.superClass._24O.call(this,p,E)},drawBody:function(p){var E=this,b=E._88I;if(b){var Z=E._data,o=E.s,A=E.gv,l=b.type,V=b.rect,c=b._64o,S=b.titleRect,I=E.getBodyColor(),D=Q(o("group.image"),I),B=o("group.image.stretch"),n=E.getBodyColor("group.background"),k=Q(o("group.repeat.image"),I),j=o("group.gradient.pack"),W=o("group.gradient"),m=o("group.border.width"),e=E.getStyleColor("group.border.color",0),$=o("group.border.pattern"),Y=o("group.title.orientation"),t=o("group.depth"),K=o("group.border.radius"),r=o("group.border.join"),H=o("group.border.cap"),M=(o("group.border.width.absolute")&&(m/=A._zoom),e);if((X=(X=o("group.border.repeat.image"))&&Q(X,e))&&(T=p$(V),Xf(T,m/2),M=g6(p,X,e,null,Z,A,o("group.border.repeat.image.stretch"),T,o("group.border.repeat.image.rotation"),b.anchor)),l){var F,X=p.lineJoin,e=p.lineCap;p.lineJoin=r,p.lineCap=H,D?(p.save(),F6(p,l,V,K),p.clip(),fq(p,D,B,V.x,V.y,V.width,V.height,Z,A,I),p.restore(),0<m&&(G=Im(p,$),F6(G,l,V,K),p.lineWidth=m,p.strokeStyle=M,p.stroke(),Dm(p,$))):(G=Im(p,$),n||k||j?(F6(p,l,V,K),j?$6(p,j,E.getGradientStopColor.bind(E),!1,V,r$,{style:"group.gradient.pack"}):k?G6(p,k,I,null,Z,A,o("group.repeat.image.stretch"),V,o("group.repeat.image.rotation"),b.anchor):(W&&(F=E.getStyleColor("group.gradient.color",0)),X6(p,n,W,F,V)),p.fill(),j&&p.restore(),p!==G&&F6(G,l,V,K)):F6(G,l,V,K),0<m&&(p.lineWidth=m,p.strokeStyle=M,p.stroke()),Dm(p,$),l===Pl&&P6(p,n,t,V)),p.lineJoin=X,p.lineCap=e}else{var G,T=E.getStyleColor("group.title.background",0);if((!K||K<0)&&(K=0),D)fq(p,D,B,c.x,c.y,c.width,c.height,Z,A,E.getBodyColor());else if(n||k)if(k?G6(p,k,I,null,Z,A,o("group.repeat.image.stretch"),V,o("group.repeat.image.rotation"),b.anchor):X6(p,n,W,F,c),0===m)F6(p,Pl,c),p.fill(),P6(p,n,t,c);else{switch(p.beginPath(),Y){case rl:C6(p,c.x,c.y,c.width,c.height,K,K,0,0);break;case Yl:C6(p,c.x,c.y,c.width,c.height,0,K,0,K);break;case tl:C6(p,c.x,c.y,c.width,c.height,K,0,K,0);break;case Kl:C6(p,c.x,c.y,c.width,c.height,0,0,K,K)}p.fill()}if(S&&T)if(0===m)M6(p,S.x,S.y,S.width,S.height,T),P6(p,T,t,S);else{switch(p.beginPath(),p.fillStyle=T,Y){case rl:C6(p,S.x,S.y,S.width,S.height,0,0,K,K);break;case Yl:C6(p,S.x,S.y,S.width,S.height,K,0,K,0);break;case tl:C6(p,S.x,S.y,S.width,S.height,0,K,0,K);break;case Kl:C6(p,S.x,S.y,S.width,S.height,K,K,0,0)}p.fill()}0<m&&(G=Im(p,$),F6(G,"roundRect",V,K),p.save(),p.lineWidth=m,p.strokeStyle=M,p.lineJoin=r,p.lineCap=H,p.closePath(),p.stroke(),S&&o("group.splitLine")&&(j=S.x,l=S.y,X=S.width,e=S.height,p.beginPath(),Y===rl?(p.moveTo(j,l),p.lineTo(j+X,l)):Y===Yl?(p.moveTo(j+X,l),p.lineTo(j+X,l+e)):Y===tl?(p.moveTo(j,l),p.lineTo(j,l+e)):(p.moveTo(j,l+e),p.lineTo(j+X,l+e))),p.stroke(),p.restore(),Dm(G,$))}E._39O(p,b)}else QP.superClass.drawBody.call(E,p)}}),function(p,E){R1(qP,this,[p,E])}),uP=(yf(qP,zP,{drawBody:function(p){this._39O(p,this._83o)}}),function(p,E){R1(uP,this,[p,E])}),RP=(yf(uP,zP,{_3O:function(){var p=this,E=(p.prepareBlendInfo(),p._data),b=p.s,Z=p.gv,o=E.getPoints(),A=p.getColor(Z.getBorderColor(E),1),l=A?b("border.width"):0,V=p.getSelectWidth(),c=b("shape.border.width"),S=E.getRect(),I=b("shape.border.width.absolute"),D=E.getAnchorRect(),Z=Z.getBodyColor(E),B=p.getStyleColor("shape.border.color",1),n=E.p();(A=p._99o=o.isEmpty()?r$:{rect:S,rotation:E.getRotation(),fillRule:b("shape.fill.rule"),scale:E.getScale(),anchor:E.getAnchor(),position:n,points:o,segments:E.getSegments(),bodyColor:Z,borderColor:A,borderWidth:l,_94o:b("shape.border.3d"),_95o:p.getStyleColor("shape.border.3d.color",1),_96o:b("shape.border.3d.accuracy"),_97o:V?p.getSelectColor():r$,selectWidth:V,absoluteWidth:I,_53o:p.getStyleColor("shape.background",1),_27Q:Q(b("shape.repeat.image"),Z),shapeRepeatImageStretch:b("shape.repeat.image.stretch"),shapeRepeatImageRotation:b("shape.repeat.image.rotation"),shapeGradientPack:b("shape.gradient.pack"),shapeBorderGradientPack:b("shape.border.gradient.pack"),_54o:c,_55o:B,shapeBorderRepeatImage:Q(b("shape.border.repeat.image"),B),shapeBorderRepeatImageStretch:b("shape.border.repeat.image.stretch"),shapeBorderRepeatImageRotation:b("shape.border.repeat.image.rotation"),shapeGradient:b("shape.gradient"),_59o:p.getStyleColor("shape.gradient.color",1),_60o:b("shape.border.pattern"),_61o:b("shape.border.cap"),_62o:b("shape.border.join"),shapeForeground:p.getStyleColor("shape.foreground",1),gray:b("2d.gray")})&&(D.x+=A.position.x,D.y+=A.position.y,A.gradientRect=D,H$.extractShapeTranslation&&((Z=p$(D)).x-=n.x,Z.y-=n.y,(B=p$(o)).forEach(function(p){p.x-=n.x,p.y-=n.y}),A.translatedInfo={gradientRect:Z,points:B}),D=E.getScale(),o=b$(1,b$(a(D.x),a(D.y))),b("shape.dash")&&b("shape.dash.width")>c&&(c=b("shape.dash.width")),(Z=I?(c+l+V)/p.gv._zoom/o:c*("square"===A._61o?.71:.5)+l+V/p.gv._zoom/o)&&(Z*=o,S=p$(S),m6(S,Z,A._62o)),p._68o(S),B=b("clip.percentage"),D=b("clip.direction"),B!=K$&&("from"===D||"to"===D?(A.clipDirection=D,A.clipPercentage=B):A.clipRect=AW(E.getAnchorRect(),D,B)),(I=b("shape.fill.clip.percentage"))!=K$&&(A.shapeClipRect=AW(E.getAnchorRect(),b("shape.fill.clip.direction"),I)),(c=b("shape.foreground.clip.percentage"))!=K$&&(A.shapeForegroundClipRect=AW(E.getAnchorRect(),b("shape.foreground.clip.direction"),c)),A.clipTarget=p.getClipTarget())},getPosition:function(p,E,b,Z){var o=this._99o;return o?((p=i6(p,o.rect,Z)).x+=E,p.y+=b,p):W1},_42:function(p){this._99o&&uP.superClass._42.call(this,p)},drawBody:function(p){var E,b,Z,o,A,l,V,c=this,S=c.s,I=c._99o,D=I.position,B=I.scale,n=I.rotation,k=I.borderWidth,j=c.gv._zoom,W=I.absoluteWidth,m=I.selectWidth/(W?1:j),e=I._27Q,$=I.shapeGradientPack,Y=I._54o,t=I.clipRect,K=I.shapeClipRect,r=I.segments,H=c._data.isClosePath(),M=I.clipTarget,F=I.fillRule,X=I.gray,G=I._53o,T=G||e||$,n=(M&&(p.save(),p.beginPath(),(E=c.clipByTarget(p,M))&&p.clip()),p.save(),LW(p,D.x,D.y),xW(p,n),CW(p,B.x,B.y),t&&(p.beginPath(),p.rect(t.x,t.y,t.width,t.height),p.clip()),T&&K&&(p.save(),p.beginPath(),p.rect(K.x,K.y,K.width,K.height),p.clip()),H$.extractShapeTranslation&&(M=I.translatedInfo)?(b=M.gradientRect,o=M.points):(b=I.gradientRect,o=I.points,LW(p,-D.x,-D.y)),I._60o),B=(W&&n&&(n=n.map(function(p){return p*j})),Im(p,n)),t=p.lineJoin,M=p.lineCap,X=(p.lineJoin=I._62o,p.lineCap=I._61o,g=I.bodyColor,X?H$.toGrayColor(g):g),g=(I.clipDirection&&(o=(g=c.truncate(o,r,I.clipPercentage,"from"===I.clipDirection)).points,r=g.segments),T?(t6(p,o,r,H),$?$6(p,$,c.getGradientStopColor.bind(c),!1,b,r$,{style:"shape.gradient.pack"}):e?(Z=Yf(o),G6(p,e,X,null,c._data,c.gv,I.shapeRepeatImageStretch,Z,I.shapeRepeatImageRotation,I.anchor)):X6(p,l=X||G,I.shapeGradient,I._59o,b),p.fill(F),$&&p.restore(),K&&(p.restore(),LW(p,-D.x,-D.y)),B!==p&&t6(B,o,r,H)):t6(B,o,r,H),I.shapeForeground);if(g&&(p.save(),T=I.shapeForegroundClipRect,(e=S("shape.foreground.gradient"))&&(V=c.getStyleColor("shape.foreground.gradient.color",1)),T&&(LW(p,D.x,D.y),p.beginPath(),p.rect(T.x,T.y,T.width,T.height),p.clip(),LW(p,-D.x,-D.y)),t6(p,o,r,H),X6(p,g,e,V,b),p.fill(F),p.restore()),c.isShadowed()||S($="shadow2")&&S($+".inset")&&(K=j*H$.devicePixelRatio,T=S($+".color"),D=S($+".blur"),p.save(),p.shadowOffsetX=S($+".offset.x")*K,p.shadowOffsetY=S($+".offset.y")*K,p.shadowBlur=D*K,p.shadowColor=T,t6(p,o,r,H),p.clip(),p.rect(b.x-D,b.y-D,b.width+2*D,b.height+2*D),p.fillStyle=T,p.fill("evenodd"),p.restore(),t6(p,o,r,H)),W&&(A=c._ctxMat||(c._ctxMat=new u.Math.Matrix2d),hW(p,A)),m&&(p.strokeStyle=I._97o,p.lineWidth=Y+2*(k+m),p.stroke()),k&&(p.strokeStyle=I.borderColor,p.lineWidth=Y+2*k,p.stroke()),Y&&(l=I._55o,(g=I.shapeBorderGradientPack)?((e=p$(b)).width<Y?(e.width+=Y,e.x-=.5*Y):e.height&&(e.height+=Y,e.y-=.5*Y),$6(p,g,c.getGradientStopColor.bind(c),!0,e,A,{style:"shape.border.gradient.pack"})):I.shapeBorderRepeatImage?(Z=Z||Yf(o),T6(p,I.shapeBorderRepeatImage,l,null,c._data,c.gv,I.shapeBorderRepeatImageStretch,Z,I.shapeBorderRepeatImageRotation,I.anchor)):p.strokeStyle=l=!G&&X?X:l,p.lineWidth=Y,p.stroke(),g&&p.restore(),I._94o&&r6(p,l,I._95o,Y,j,I._96o)),Dm(p,n),S("shape.dash")&&0<(V=S("shape.dash.width")||Y)&&(n=S("shape.dash.pattern"),W&&(n=n.map(function(p){return p*j})),(B=Im(p,n,c._2Q("shape.dash.offset")))!==p&&t6(B,o,r,H),c._1Q(p,"shape",V,n,b,A)),W&&p.restore(),p.lineJoin=t,p.lineCap=M,p.restore(),E)for(;E--;)p.restore()},_48O:function(){},_47O:function(p){},truncate:function(p,E,b,Z){var o,A=this._data;return b=b$(0,Z$(1,b)),A._curve||(A._curve=new u.graph._editor.Math.Curve,o=[],p.each(function(p){o.push(p.x,p.y)}),E=E||p.toArray().map(function(p,E){return E?2:1}),A._curve.createFromHtShape(o,E)),A._curve.truncate(b,Z)}}),function(p,E){R1(RP,this,[p,E])}),sP=(yf(RP,uP,{getRotation:(xB=new v,CB=new v,hB=new QB,function(p,E,b){p=p||0;var Z,o,A=this._data,l=A.getPoints(),V=l.size();return 1<V?(o=A.p(),A=A.getScale(),hB.identity().translate(-o.x,-o.y).scale(A.x,A.y).translate(o.x,o.y),o=ZY[b]?(Z=l.get((A=(V-V%2)/2)-1),l.get(A)):bY[b]?(Z=l.get(0),l.get(1)):(Z=l.get(V-2),l.get(V-1)),hB.apply(Z,xB),hB.apply(o,CB),MY(xB,CB,E,p)):p}),getPosition:(TB=new v,gB=new v,LB=new v,function(p,E,b,Z,o){var A=this._data,l=A.getPoints(),V=l.size();if(1<V){if(A=A.getPointsMatrix2d(),ZY[p]){var c=V%2,S=(V-c)/2,I=l.get(S-1),S=l.get(S);if(0!=c)return(c=i6(p,W1,Z)).x+=E,c.y+=b,A.apply(I,TB),A.apply(S,gB),A.identity().rotate(LB.copy(gB).sub(TB).angle()).apply(c,TB).add(gB)}else S=bY[p]?(I=l.get(0),l.get(1)):(I=l.get(V-2),l.get(V-1));return A.apply(I,TB),A.apply(S,gB),FY(TB,gB,p,E,b,Z,o)}return W1})}),function(p,E){R1(sP,this,[p,E])}),wP=(yf(sP,zP,{_3O:function(){sP.superClass._3O.call(this);var p=this.s,E=this._83o;this._82o=E.img||E.shape?r$:{background:this.getBodyColor("grid.background"),depth:p("grid.depth"),rect:E.rect,_88o:p("grid.cell.depth"),cellBorderColor:this.getStyleColor("grid.cell.border.color",0),_89o:p("grid.row.count"),_90o:p("grid.column.count"),block:p("grid.block"),_91o:this.getStyleColor("grid.block.color",0),_92o:p("grid.block.padding"),_93o:p("grid.block.width")}},drawBody:function(p){var E=this._82o;if(E){var b,Z,o=this._data,A=E.background,l=E.rect,V=E.block,c=E._91o,S=E._92o,I=E._93o,D=E._88o,B=E.cellBorderColor,n=E._89o,k=E._90o;if(A)if(M6(p,l.x,l.y,l.width,l.height,A),P6(p,A,E.depth,l),D)for(b=0;b<n;b++)for(Z=0;Z<k;Z++)(l=o.getCellRect(b,Z))&&P6(p,A,D,l);else if(B){for(p.beginPath(),b=0;b<n;b++)for(Z=0;Z<k;Z++)(l=o.getCellRect(b,Z))&&p.rect(l.x,l.y,l.width,l.height);p.strokeStyle=B,p.lineWidth=1,p.stroke()}if("h"===V)for(b=0;b<n;b++)l=tf(o.getCellRect(b,0),o.getCellRect(b,k-1)),Xf(l,S),h6(p,c,l.x,l.y,l.width,l.height,I);else if("v"===V)for(Z=0;Z<k;Z++)l=tf(o.getCellRect(0,Z),o.getCellRect(n-1,Z)),Xf(l,S),h6(p,c,l.x,l.y,l.width,l.height,I);this._39O(p,this._83o)}else sP.superClass.drawBody.call(this,p)}}),function(p,E){R1(wP,this,[p,E])}),iP=n?kW().getContext("2d"):r$,fP=(yf(wP,zP,{_checkEmptyRect:!1,_81o:function(){var l,p,V,E,b,Z,c,S,o,A,I,D,B,n,k=this._data,j=wP.superClass._81o.call(this),W=k.s("text"),m=k.s("text.outline.width");return m&&Xf(j,.5*m),W!=r$&&(W+="",l=k.s("text.font"),m=k.s("text.align"),p=k.s("text.vAlign"),D=k.s("text.wrap"),I=k.s("text.vertical"),V=k.s("text.vertical.gap"),n=k.s("text.letter.gap")||0,E=k.getWidth(),b=k.getHeight(),null==V&&(V=1),I?(c=((B=D?YW(W,b,l,n,I,V):[W]).length-1)*n,S=0,iP.textBaseline=Kl,iP.font=l,B.forEach(function(p){for(var E=p.length,b=0,Z=(E-1)*V,o=0;o<E;o++){var A=iP.measureText(p[o]);Z+=A.fontBoundingBoxDescent||Sf(l,p[o]).height,b=b$(b,A.width)}c+=b,S=b$(Z,S)}),B.length,B.forEach(function(p){}),Z={width:c,height:S}):1<(D=(B=D?YW(W,E,l,n,I,V):W.split("\n")).length)?(I=Sf(l,W).height,c=0,S=I*D+V*(D-1),B.forEach(function(p){c=b$(c,Sf(l,p).width)}),Z={width:c,height:S}):(Z=Sf(l,W),n&&(Z.width+=(W.length-1)*n)),I=Z.width,D=Z.height,B=k.getAnchor(),"left"===m?o=-E*B.x:"center"===m?o=-E*B.x+(E-I)/2:"right"===m&&(o=E*(1-B.x)-Z.width),"top"===p?A=-b*B.y:"middle"===p?A=-b*B.y+(b-D)/2:"bottom"===p&&(A=b*(1-B.y)-Z.height),W=k.getMatrix(),n=Yf([W.tf(o,A),W.tf(o+I,A),W.tf(o+I,A+D),W.tf(o,A+D)]),(j=tf(j,n))&&k.s("text.shadow")&&((m=p$(j)).x+=k.s("text.shadow.offset.x"),m.y+=k.s("text.shadow.offset.y"),Xf(m,k.s("text.shadow.blur")),j=tf(j,m))),j}}),TY.Interactor=function(p){this.gv=this._graphView=p}),p_=(p("Interactor",t$,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners(),this.clear()},clear:function(){},fi:function(p){this.gv.fi(p)},setCursor:function(p){kl||this.gv.setCursor(p)},startDragging:function(p){this._lastClientPoint=mf(p),this._lastLogicalPoint=this.gv.lp(p),gf(this,p)},clearDragging:function(p){this._lastClientPoint=this._lastLogicalPoint=this._logicalPoint=r$},autoScroll:function(p){return this.gv.autoScroll(p,this._lastClientPoint)}}),r$),E_="ht.propagation.host",b_=function(p){p_.handleWindowTouchMove(p)},Z_=function(p){p_.handleWindowTouchEnd(p),N$(h,Ma,b_),N$(h,Fa,Z_),p_=r$},o_=function(p){p_.handleWindowMouseMove(p)},A_=function(p){p_.handleWindowMouseUp(p),N$(h,ta,o_),N$(h,Ka,A_),p_=r$},l_=function(p){var E=this;E.gv=p,E._is2d=p instanceof TY.GraphView,E._eventListeners={},["mousedown","mousemove","mouseleave","touchstart","touchmove","touchend","mouseup",ga,"wheel"].forEach(function(p){E.addListener(p)})},V_=(yf(l_,fP,{enableReality:function(p,E){var b,Z,o=this;(b=p._id)||(b=p._id=f.generateUUID()),!(!o._realityEnabled||!o._realityEnabled[b])!==E&&(o._realityEnabled||(o._realityEnabled={}),o._realityEnabled[b]=E,o._realityBindingCallbacks||(o._realityBindingCallbacks={}),Z=o._realityBindingCallbacks[b],E?(Z=Z||(o._realityBindingCallbacks[b]=o.onRealityControllerChange.bind(o,p)),p.mp(Z,o)):Z&&p.ump(Z,o))},onRealityControllerChange:function(p,E){var b=E.property,Z=(E=E.newValue).id;if(p&&p.isPresenting()){var o=p.getController(Z);if(o){var A=o.getRay();if(A)switch(A.controllerId=Z,p.getRayEventType(A,b,E[Rx])){case"down":this.handle_mousedown(A);break;case"up":p_&&A_(A);break;case"move":this.handle_mousemove(A),p_&&this.handleWindowMouseMove(A)}}}},setPreventEventDefault:function(p,E){var b=this._eventListeners[p];b?b._prevent=E:this._eventListeners[p]=b={_removal:K$,_prevent:E}},removeListener:function(p){(p=this._eventListeners[p])&&p._removal&&(p._removal(),p._removal=K$)},addListener:function(E){var p,b=this,Z=b._eventListeners[E];Z||(b._eventListeners[E]=Z={_removal:K$,_prevent:!0}),Z&&Z._removal||(p=function(p){Z._prevent&&H$.preventDefault(p),b.disabled||b.gv._48Q||("wheel"===E?Q1(b,p):b["handle_"+E](p))},U$(b.gv.getView(),E,p),Z._removal=function(){N$(b.gv.getView(),E,p)})},handleWindowTouchMove:function(p){this.handleWindowMouseMove(p)},handleWindowMouseMove:function(p){!this.downInfo||NW(p)&&1!==nf(p)?this.isDragging&&(this.handleDownInfo("onEndDrag",p),this.isDragging=!1):this.isDragging?this.handleDownInfo("onDrag",p):(this.handleDownInfo("onBeginDrag",p),this.isDragging=!0)},handleWindowTouchEnd:function(p){this.handleWindowMouseUp(p)},handleWindowMouseUp:function(p){var E=this;if(E.isDragging&&(E.handleDownInfo("onEndDrag",p),E.isDragging=!1),E.downInfo){var b=E.handle("onUp",p);if(b&&b.data===E.downInfo.data){E.handleMissingUp(p);var Z=2===p.button?"onContextMenu":"onClick";if(b.data.s("disableDoubleClick")||!E._dbclickTimer)return E._dbDownInfo=E.downInfo,void(E._dbclickTimer=Al(function(){delete E._dbclickTimer,E.handleClick(p,Z,b),E._dbDownInfo===E.downInfo&&(E.downInfo=r$,E.propagationDownInfoMap=r$),delete E._dbDownInfo},H$.clickDelay));ll(E._dbclickTimer),delete E._dbclickTimer,Z="onDoubleClick",H$.checkDoubleClickTarget&&b.data!==E._dbDownInfo.data&&(Z="onClick"),E.handleClick(p,Z,b)}else E.handleDownInfo("onUp",p);E.downInfo=r$,E.propagationDownInfoMap=r$,E.downComps=r$}},handle_mouseleave:function(p){var E=this,b=E.gv,Z=(E._hoverTimer&&(ll(E._hoverTimer),delete E._hoverTimer),E.currentInfo?E.currentInfo.data:r$);if(Z){if(Z.s("onLeave")&&Z.s("onLeave")(p,Z,b),E.fire("data","onLeave",p,Z),b=E.currentInfo?E.currentInfo.hits:r$)for(var o in b)E.handleLeave(p,o);E.currentInfo=r$}},handle_mousewheel:function(p){p.scrollDelta=p.wheelDelta/40,this.handle("onScroll",p),this.handle_mousemove(p)},handle_DOMMouseScroll:function(p){p.scrollDelta=2===p.axis?-p.detail:0,this.handle("onScroll",p)},handle_touchstart:function(p){this.handle_mousedown(p)},handle_touchmove:function(p){this.handle("onMove",p)},handle_mousedown:function(p){var E;this.isDragging&&(this.handleDownInfo("onEndDrag",p),this.isDragging=!1),this.downComps=[],this.downInfo=this.handle("onDown",p),this.downInfo&&this!==p_&&(E=NW(p),p_?E?p_.handleWindowTouchEnd(p):p_.handleWindowMouseUp(p):E?(U$(h,Ma,b_),U$(h,Fa,Z_)):(U$(h,ta,o_),U$(h,Ka,A_)),p_=this)},handle_touchend:function(p){this.handle_mouseup(p)},handle_mouseup:function(p){this.downInfo||this.isDragging||this.handle("onUp",p)},mergeExternalData:function(p,E){return E?(E.__gvnode__=p,E):p},handle_mousemove:function(p){var E=this,b=E.gv;if(E._hoverTimer&&(ll(E._hoverTimer),delete E._hoverTimer),!b._panning&&!b._moving){var Z,o,A,l=E.handle("onMove",p),V=this.currentInfo?this.currentInfo.data:r$,c=this.currentInfo?this.currentInfo.hits:r$;if(l&&(o=l.data,A=l.hits,E._hoverTimer=Al(function(){ll(E._hoverTimer),delete E._hoverTimer,E.handle("onHover",p,l)},b.getHoverDelay()||H$.hoverDelay)),o!==V){if(V&&((I=V.s(Ga))&&b.setCursor(""),V.s("onLeave")&&V.s("onLeave")(p,V,b),this.fire("data","onLeave",p,V)),o&&((I=o.s(Ga))&&b.setCursor(I),o.s("onEnter")&&o.s("onEnter")(p,o,b),this.fire("data","onEnter",p,o)),c)for(Z in c)this.handleLeave(p,Z);if(A)for(Z in A){var S,I,D,B=A[Z];(I=(S=o._interactPrefix=B.prefix)&&o.a(S+Ga)||B.target[Ga])&&b.setCursor(I),(D=S&&o.a(S+"onEnter")||B.target.onEnter)&&D.call(B.target,p,E.mergeExternalData(o,B.exData),b,B.point,B.width,B.height),this.fire(B.type,"onEnter",B.event,E.mergeExternalData(B.data,B.exData),B.image,B.comp,B.point,B),o._interactPrefix=null}}else{if(c)for(Z in c)A&&A[Z]||this.handleLeave(p,Z);if(A)for(Z in A)c&&c[Z]||(B=A[Z],(I=(S=o._interactPrefix=B.prefix)&&o.a(S+Ga)||B.target[Ga])&&b.setCursor(I),(D=S&&o.a(S+"onEnter")||B.target.onEnter)&&D.call(B.target,p,E.mergeExternalData(o,B.exData),b,B.point,B.width,B.height),this.fire(B.type,"onEnter",B.event,E.mergeExternalData(B.data,B.exData),B.image,B.comp,B.point,B),o._interactPrefix=null)}this.currentInfo=l}},handle:function(p,E,b){var Z=this.gv;if(this._is2d){if(b=b||Z.getDataInfoAt(E,E.__ht_propagation_filter)){var o=b.data,A=Z.preHandleEvent(E,o,p);if(A!==o)return I=Z.getDataInfoAt(E,function(p){return p===A}),this.handle(p,E,I);var l,V,c,S=Z.isInteractive(o);return S&&(V=b.ui.interactiveInfo)&&(o.s(p)&&o.s(p)(E,o,Z),this.fire("data",p,E,o),"body"===b.part&&V.bodyInfo?b.hits=this.handleImage(k="body",Z.getImage(o),p,E,o,b.point,V.bodyInfo):"icons"===b.part&&V._38o&&(l=V._38o[b.name])&&l[b.index]&&(k="icons|"+b.name+"|"+b.index,b.hits=this.handleImage(k,b.icon,p,E,o,b.point,l[b.index]))),(A=Z.postHandleEvent(E,o,p))!==o?(I=Z.getDataInfoAt(E,function(p){return p===A}),this.handle(p,E,I)):(E[E_]&&o.getHost&&(c=o.getHost())&&(E.__ht_propagation_filter=function(p){return p===c},k=this.handle(p,E),"onDown"===p&&k&&(this.propagationDownInfoMap||(this.propagationDownInfoMap={}),this.propagationDownInfoMap[c.getId()]=k)),S?b:void 0)}}else{if(!b)if(E&&E instanceof u.Math.Ray&&(l=Z.getPresentingReality())){var I=l.intersectWorld(E),o=I.data,D=I.intersect;if(l.renderRayDuringInteraction(E,o,D),!o)return;if(!(V=(B=Z.getData3dUI(o)).interactiveInfo))return;b={data:o,part:D.part,ui:B}}else{if(!(b=Z.getDataInfoDuringInteract(E)))return;b=b&&{data:b.data,part:b.part}}if(Z.isInteractive(b.data)){if(!D){o=b.data;var B=Z.getData3dUI(o);if(!(V=(b.ui=B).interactiveInfo))return b}if(o.s(p)&&o.s(p)(E,o,Z),this.fire("data",p,E,o),!D&&!(D=Z.intersectObject(E,o)))return b;var n,k=D.part;return(n=(n="body"!==k?o.s(k+".image")||o.s("shape3d."+k+".image"):n)||o.s("all.image")||o.s("shape3d.image"))&&(V="object"==typeof n?V[n.uuid]:V[n])&&V.bodyInfo&&(b.part="body",b.interactiveInfo=V,b.point=this._convertUVToPoint(D.uv,V,o,k,n),b.image=n,b.hits=this.handleImage("body",n,p,E,o,b.point,V.bodyInfo)),b}}},_handleLeaveOrMissing:function(p,E,b){var Z,o,A,l,V,c="leave"===p?this.currentInfo:this.downInfo;c&&(Z=c.interactiveInfo||c.ui.interactiveInfo)&&(o=c.data,this._is2d?(l=this.gv.lp(E),"body"===c.part&&Z.bodyInfo?(V="body","leave"===p?this.handleLeaveImage(b,V,this.gv.getImage(o),E,o,l,Z.bodyInfo):this.handleMissingUpImage(V,this.gv.getImage(o),E,o,l,Z.bodyInfo)):"icons"===c.part&&Z._38o&&(A=Z._38o[c.name])&&A[c.index]&&(V="icons|"+c.name+"|"+c.index,"leave"===p?this.handleLeaveImage(b,V,c.icon,E,o,l,A[c.index]):this.handleMissingUpImage(V,c.icon,E,o,l,A[c.index]))):Z.bodyInfo&&(l=(V=this.gv.intersectObject(E,o))&&V.uv?this._convertUVToPoint(V.uv,Z,o,V.part,c.image):{x:1/0,y:1/0},"leave"===p?this.handleLeaveImage(b,"body",c.image,E,o,l,Z.bodyInfo):this.handleMissingUpImage("body",c.image,E,o,l,Z.bodyInfo)))},handleClick:function(p,E,b){var Z,o,A,l,V=this.downInfo;V&&b&&(Z=b.interactiveInfo||b.ui.interactiveInfo,o=b.data,l=this.gv,o.s(E)&&o.s(E)(p,o,l),this.fire("data",E,p,o),Z&&(this._is2d?V.part===b.part&&(A=l.lp(p),"body"===b.part&&Z.bodyInfo&&this.handleClickImage("body",l.getImage(o),E,p,o,A,Z.bodyInfo,b)):Z.bodyInfo&&(l=l.intersectObject(p,o))&&(A=this._convertUVToPoint(l.uv,Z,o,l.part,V.image),this.handleClickImage("body",V.image,E,p,o,A,Z.bodyInfo,b))))},handleDownInfo:function(p,E,b){var Z,o,A,l,V,c,S,I,D=this;D.downInfo&&(Z=D.gv,(b=b?Z.getDataInfoAt(E,E.__ht_propagation_filter):D.downInfo)&&(o=b.interactiveInfo||b.ui.interactiveInfo)&&((l=b.data).s(p)&&l.s(p)(E,l,Z),D.fire("data",p,E,l),D._is2d?(V=Z.lp(E),"body"===b.part&&o.bodyInfo?D.handleDownInfoImage(A="body",Z.getImage(l),p,E,l,V,o.bodyInfo):"icons"===b.part&&o._38o&&(c=o._38o[b.name])&&c[b.index]&&(A="icons|"+b.name+"|"+b.index,D.handleDownInfoImage(A,b.icon,p,E,l,V,c[b.index])),E[E_]&&l.getHost&&(S=l.getHost())&&(E.__ht_propagation_filter=function(p){return p===S},D.handleDownInfo(p,E,!0))):o.bodyInfo&&("onBeginDrag"===p?(I=Z._raycaster.intersectObjectAndRecordTriangle(E,l))&&(o.beginDragIntersectInfo=I.triangleInfo):I=Z.intersectObject(E,l),(I=I||("onDrag"!==p&&"onEndDrag"!==p||!o.beginDragIntersectInfo?I:Z._raycaster.intersectLastTriangle(E,o.beginDragIntersectInfo)))&&(V=D._convertUVToPoint(I.uv,o,l,I.part,b.image),D.handleDownInfoImage("body",b.image,p,E,l,V,o.bodyInfo)))))},fire:function(p,E,b,Z,o,A,l,V){this.gv.fi({kind:E,type:p,event:b,data:Z,image:o,comp:A,view:this.gv,point:l,width:V?V.width:K$,height:V?V.height:K$})},handleImage:function(p,E,b,Z,o,A,l){return this._handleImageImpl(p,E,b,Z,o,A,l,-1,!0)},handleLeave:function(p,E){return this._handleLeaveOrMissing("leave",p,E)},handleMissingUp:function(p){if(!p["ht.ignoreMissingUp"])return this._handleLeaveOrMissing("missing",p)},_handleImageImpl:function(p,E,b,Z,o,A,l,V,c,S){var I=!1;if(-1===V)I=!0,V={};else if(!V)return;if(!E||!(E=Q(E)))return V;for(var D,B=this.gv,n=l.rect,k=this.convertPoint(A,l),j="onLeave"===b,W=(c!==K$&&c!==k.inRect||!I&&!V[p+"|image"]||(j&&E[Ga]&&B.setCursor(""),E[b]&&E[b](Z,o,B,k,n.width,n.height),this.fire("image",b,Z,o,E,K$,k,n),I&&(V[p+"|image"]={target:E,type:"image",image:E,data:o,event:Z,point:k,width:n.width,height:n.height})),l.compInfos),m=E,e=W.length-1;0<=e;e--){var $=W[e],Y=$.comp,k=this.convertPoint(A,$,m,Y,B,o);if(c===K$||c===k.inRect){var n=$.rect,t=o._interactPrefix=$.prefix,K=this.mergeExternalData(o,$.exData),r=!!I||(S?S(p+"|"+e,Y):V[p+"|"+e]);if(r&&(j&&(t&&o.a(t+Ga)||Y[Ga])&&B.setCursor(""),(r=t&&o.a(t+b)||Y[b])&&(D=r.call(Y,Z,K,B,k,n.width,n.height)),this.fire("comp",b,Z,K,E,Y,k,n)),!0!==D&&(E=n.image)&&(I||V[p+"|"+e+"|image"])&&(j&&E[Ga]&&B.setCursor(""),E[b]&&(D=E[b](Z,K,B,k,n.width,n.height)),this.fire("image",b,Z,K,E,K$,k,n)),o._interactPrefix=null,I&&(V[p+"|"+e]={target:Y,type:"comp",comp:Y,image:E,data:o,event:Z,point:k,width:n.width,height:n.height,prefix:t,exData:$.exData},this.downComps&&this.downComps.push(Y),E&&(V[p+"|"+e+"|image"]={target:E,type:"image",image:E,data:o,event:Z,point:k,width:n.width,height:n.height,prefix:t,exData:$.exData})),!0===D)break}}return V},handleLeaveImage:function(p,E,b,Z,o,A,l){var V={};return V[p]=!0,this._handleImageImpl(E,b,"onLeave",Z,o,A,l,V,K$)},handleMissingUpImage:function(p,E,b,Z,o,A){return this._handleImageImpl(p,E,"onUp",b,Z,o,A,this.downInfo.hits,!1)},handleDownInfoImage:function(p,E,b,Z,o,A,l){var V,c=this,S=0<=["onDrag","onEndDrag"].indexOf(b);if(c.downInfo){if(c.downInfo.data===o)V=c.downInfo.hits;else{if(!c.propagationDownInfoMap)return;V=c.propagationDownInfoMap[o.getId()].hits}return c._handleImageImpl(p,E,b,Z,o,A,l,V,K$,function(p,E){return S?c.downComps&&0<=c.downComps.indexOf(E):V[p]})}},handleClickImage:function(p,E,b,Z,o,A,l,V){var c=this.downInfo.hits,S=V.hits;return this._handleImageImpl(p,E,b,Z,o,A,l,c,K$,function(p){return c[p]&&S[p]})},_convertUVToPoint:function(p,E,b,Z,o){if(!p)return{x:1/0,y:1/0};var A,E=E.bodyInfo.rect,Z=(b&&o&&(Z="body"===Z?(A=b.s("shape3d.uv.scale"),b.s("shape3d.uv.offset")):(A=b.s(Z+".uv.scale")||b.s("all.uv.scale"),b.s(Z+".uv.offset")||b.s("all.uv.offset")),(A||Z)&&(o=H$.getImage(o),b=f.isPOT(o.width)&&f.isPOT(o.height),o=p.x*(A?A[0]:1)+(Z?Z[0]:0),A=p.y*(A?A[1]:1)+(Z?Z[1]:0),b&&(o=o%1+(0<o?0:1),A=A%1+(0<A?0:1)),p.set(o,A))),p.clone());return(b=p.multiply({x:E.width,y:E.height})).local=Z,b},convertPoint:function(p,E,b,Z,o,A){if(!(D=E.rect))return!1;var l=E.matrix.applyInverse(p).sub(D);if(!(0<=l.x&&0<=l.y&&l.x<=D.width&&l.y<=D.height))return l;if(Z&&O(Z.pixelPerfect,A,o)){var V=1,c=!1,p=(D=this._is2d?(V=o.getZoom(),g1(p.x,p.y,K$,V)):g1(p.x,p.y)).x,S=D.y,I=D.width,D=D.height,B=I*D*V*V,n=((n=H$.hitMaxArea)<B&&(V*=Math.sqrt(n/B)),p*=V,S*=V,k6(I=(I*=V)<2?2:I,D=(D*=V)<2?2:D)),p=((B=new QB(0,-p,-S,V,V)).append(E.matrix),o._drawForChecking=!0,Z.transform=B,b.fitSize),S=(E.refRect&&E.refRect.fitSize?(Z.refRect=E.refRect,b.fitSize=!0):b.fitSize=!1,b.comps);b.comps=[Z],rm(n,b,0,0,I,D,A,o),b.comps=S,b.fitSize=p,delete Z.refRect,delete Z.unionRect,delete Z.transform,o._drawForChecking=!1;try{for(var k=0,j=n.getImageData(0,0,I,D).data;k<j.length;k+=4)if(0!==j[k+3]){c=!0;break}n.restore()}catch(p){D6=r$,c=!1}l.inRect=c}else l.inRect=!0;return l}}),TY.DefaultInteractor=function(p){R1(V_,this,[p])}),c_=(p("DefaultInteractor",fP,{handle_mousedown:function(p){sq(p);var E,b=this.gv,Z=b.getDataAt(p);!b.setFocus(p)||b._editing||b._scrolling||(kf(p)?b.handleDoubleClick(p,Z):b.handleClick(p,Z),E=Df(p),!l6()&&!E&&Z&&(b.isMovable(Z)||b._39Q(Z))||!b.isPannable()||!If(p)&&!E||Wf(p)||(this._tx=b.tx(),this._ty=b.ty(),this.startDragging(p)))},handleWindowMouseUp:function(p){var E=this.gv;E._panning&&(delete E._panning,E.onPanEnded(),this.fi({kind:"endPan",event:p})),delete this._tx,delete this._ty,this.clearDragging()},handle_mousemove:function(p){var E=this,b=E.gv;E._hoverTimer&&(ll(E._hoverTimer),delete E._hoverTimer),E._hoverTimer=Al(function(){E.fi({kind:"hover",event:p}),ll(E._hoverTimer),delete E._hoverTimer},b.getHoverDelay()||H$.hoverDelay)},handle_mouseleave:function(p){this._hoverTimer&&(ll(this._hoverTimer),delete this._hoverTimer)},handleWindowMouseMove:function(p){var E=this.gv,p=(this.fi({kind:E._panning?"betweenPan":"beginPan",event:p}),E._panning=1,tY(E,p,this._lastClientPoint));E.setTranslate(this._tx+p.x,this._ty+p.y)},handle_mousewheel:function(p){this.gv.handleScroll(p,p.wheelDelta)},handle_DOMMouseScroll:function(p){2===p.axis&&this.gv.handleScroll(p,-p.detail)},handle_keydown:function(p){this.gv.handleKeyDown(p)}}),TY.SelectInteractor=function(p){R1(c_,this,[p])}),S_=(p("SelectInteractor",fP,{_42:function(){var p=this.gv,E=p.getZoom(),b=this.mark,Z=this.div,o=(Z||(Z=this.div=nW(),eW(this.getView(),Z)),{});o.x=b.x*E+p.tx(),o.y=b.y*E+p.ty(),o.width=b.width*E,o.height=b.height*E,dW(Z,o),this.intersects()?(Z.style.border="",Z.style.background=p.getRectSelectBackground()):(Z.style.background="",Z.style.border="1px solid "+p.getRectSelectBorderColor())},checkBlockThroughContinuous:function(p,E){var b,Z=this.gv,o=Z.sm();return E=E instanceof gP&&H$.blockThroughContinuous&&(b=o.ld())&&b.isDescendantOf(E)&&(o=Z.getDataAt(p,function(p){if(!Z.isSelectable(p))return!1;for(var E=p.getParent();E instanceof u.Block&&!Z.isSelectable(E,!0);)E=E.getParent();return E instanceof u.Block&&b.isDescendantOf(E)}))?o:E},handle_mousedown:function(p){var E,b,Z=this,o=Z.gv;Z._57I=r$,Z.paddingClickData=r$,Z.pendingClickThrough=r$,o._editing||o._scrolling||l6()||Df(p)||(E=o.getDataAt(p),b=o.sm(),E?Wf(p)?b.co(E)?b.rs(E):b.as(Z.checkBlockThroughContinuous(p,E)):b.co(E)?E instanceof gP&&E.isClickThroughEnabled()&&If(p)&&(Z.paddingClickData=E,Z.pendingClickThrough=mf(p)):b.ss(Z.checkBlockThroughContinuous(p,E)):Wf(p)||!o.isPannable()?If(p)&&(Wf(p)||b.cs(),o.isRectSelectable()&&(Z.startDragging(p),o._77O=1)):If(p)&&(Z._57I=mf(p)))},handle_mouseup:function(p){var E=this.gv,b=this._57I;if(b&&($f(b,mf(p))<=1&&E.sm().cs(),this._57I=r$),this.pendingClickThrough){if($f(this.pendingClickThrough,mf(p))<=1){var Z=this.paddingClickData,o=H$.blockThroughContinuous,A=o?function(p){return p.isDescendantOf(Z)}:function(p){return p.getParent()===Z},l=E.getDataAt(p,function(p){return A(p)&&E.isSelectable(p,!0)});if(l){for(var V=l;o&&(V=V.getParent())&&V!==Z;)E.isSelectable(V,!0)&&(l=V);p.clickThrough=!0,E.sm().ss(l)}}this.paddingClickData=r$,this.pendingClickThrough=r$}},handleWindowMouseUp:function(p){this.clear(p)},handleWindowMouseMove:function(p){var E=this,b=E.gv;E._logicalPoint=b.lp(p),E.mark?(E.fi({kind:"betweenRectSelect",event:p}),b.isPannable()&&E.autoScroll(p),E.redraw()):E.fi({kind:"beginRectSelect",event:p}),E.mark=Yf(E._lastLogicalPoint,E._logicalPoint),E.redraw()},intersects:function(){var p=this._lastLogicalPoint,E=this._logicalPoint;return p.x>E.x||p.y>E.y},clear:function(p){var E,b,Z,o,A=this,l=A.gv,V=A.mark;A._57I=r$,A.paddingClickData=r$,A.pendingClickThrough=r$,A._lastLogicalPoint&&(V&&(0===V.width||0===V.height||(V=l.getDatasInRect(V,A.intersects())).isEmpty()||(E=l.sm(),b=E.toSelection(),Z=jf(p),o=p.altKey,V.each(function(p){E.co(p)?Z&&!o||b.remove(p):(!o||Z&&o)&&b.add(p)}),E.ss(b)),Lf(A.div),delete A.div,delete A.mark,A.redraw(),A.fi({kind:"endRectSelect",event:p}),l.onRectSelectEnded()),A.clearDragging(),delete l._77O)},redraw:function(){var p=this;p._draw||(p._draw=1,Al(function(){p.mark&&p._42(),delete p._draw},16))}}),TY.MoveInteractor=function(p){R1(S_,this,[p])}),I_=(p("MoveInteractor",fP,{handle_mousedown:function(p){var E,b=this.gv;!If(p)||b._editing||b._scrolling||l6()||(!(E=b.getSelectedDataAt(p))||b._39Q(E)&&!b.isMovable(E)?b._focusData=r$:(this._data=E,b.handleMouseDown&&b.handleMouseDown(p,E),this.startDragging(p),b.isMovable(E)&&(b._moving=1)))},handleWindowMouseUp:function(p){var E=this.gv;E.handleMouseUp&&E.handleMouseUp(p,this._data),this.clear(p)},handleWindowMouseMove:function(p){var E,b,Z,o,A=this,l=A._data,V=A.gv;V._93O&&V._93O(p,l)||V._moving&&(A._logicalPoint||A.fi({kind:"prepareMove",event:p}),E={kind:o=A._logicalPoint?"betweenMove":"beginMove",event:p},b=A._logicalPoint=V.lp(p),"beginMove"!=o||A._alreadyBeginTransaction||(A._alreadyBeginTransaction=!0,V.getDataModel().beginTransaction()),Z=(o=A._calcShift(o,p)).x,o=o.y,(l=A.gv.getMoveMode(p,l))&&("x"===l?o=0:"y"===l?Z=0:"xy"!==l&&(Z=o=0)),V.moveSelection(Z,o),A._lastLogicalPoint=b,A.autoScroll(p),E.info={dx:Z,dy:o},A.fi(E))},_calcShift:function(p,E){var b=this._logicalPoint,Z=this._lastLogicalPoint;return{x:b.x-Z.x,y:b.y-Z.y}},clear:function(p){var E=this.gv;this._lastLogicalPoint&&(this._lastLogicalPoint=this._data=E._moving=r$,this._logicalPoint&&(this.fi({kind:"endMove",event:p}),E.onMoveEnded()),this.clearDragging()),this._alreadyBeginTransaction&&(this._alreadyBeginTransaction=!1,E.getDataModel().endTransaction())}}),TY.TextEditInteractor=function(p){R1(I_,this,[p]),this.init()}),D_=(p("TextEditInteractor",fP,{setUp:function(){I_.superClass.setUp.call(this),this.gv.mp(this.handleGvPropertyChange,this)},teatDown:function(){I_.superClass.teatDown.call(this),this.gv.ump(this.handleGvPropertyChange,this)},handleGvPropertyChange:function(p){this._editTarget&&this.endTextEdit()},init:function(){function p(p){p.stopPropagation()}var b=this,E=this.input=n.createElement("input"),Z=E.style,o=(E.text="text",Z.border="1px solid #d8d8d8",Z.position="absolute",Z.padding="2px 3px",Z.outline="none",Z.marginLeft="-90px",Z.marginTop="-16px",Z.backgroundColor="rgba(255,255,255, 1)",Z.fontSize="14px",Z.width="180px",Z.height="32px",Z.boxShadow="0 0 13px rgba(16,142,233, 0.5)",Z.textAlign="center",Z.boxSizing="border-box",U$(E,"keyup",function(p){V6(p)&&b.endTextEdit(),c6(p)&&b.endTextEdit(!0)}),U$(E,"focus",function(p){E.select()}),this.textarea=n.createElement("textarea")),A=this.wrap=n.createElement("div");A.appendChild(o),(Z=o.style).margin=0,Z.padding="4px",Z.overflow="hidden",Z.boxSizing="border-box",Z.position="absolute",Z.outline="none",Z.backgroundColor="transparent",Z.resize="none",Z.textAlign="center",Z.fontSize="14px",Z.borderWidth=0,Z.width="100%",(Z=A.style).boxSizing="border-box",Z.margin=0,Z.padding=0,Z.position="absolute",Z.boxShadow="0 0 13px rgba(16,142,233, 0.5)",Z.border="1px solid #d8d8d8",Z.backgroundColor="rgba(255,255,255, 1)",Z.zIndex="10",U$(o,"keydown",function(p){(jf()||Wf())&&V6(p)?b.endTextEdit():c6(p)?b.endTextEdit(!0):b._editTarget instanceof xP||b.calculateTextareaHeight(String.fromCharCode(p.keyCode))}),U$(o,"focus",function(p){o.select()}),U$(E,"mousedown",p),U$(E,"touchstart",p),U$(o,"mousedown",p),U$(o,"touchstart",p),U$(o,"click",p),b.SIZING_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],b.HIDDEN_TEXTAREA_STYLE="visibility:hidden; min-height:0 !important;max-height:none !important;height:0 !important;visibility:hidden !important;overflow:hidden !important;position:absolute !important;z-index:-1000 !important;top:0 !important;right:0 !important",b.handleWindowClick=function(p){var E=b._editingDOM;E&&(E=E.getBoundingClientRect(),p=mf(p),Kf(E,p)||b.endTextEdit())}},handle_mousedown:function(p){var E,b=this.gv;kf(p)&&!b._editing&&(p=b.getDataAt(p))&&(E=b.getTextEditInfo(p))&&(this._editInfo=E,this._editTarget=p,b._editing=!0,E.isMultiline?this.handleMultilineEdit():this.handleTextEdit())},handleMultilineEdit:function(){var p=this,E=p.gv,b=p._editTarget,Z=p.getTargetValue(),o=p.textarea,A=p.wrap,l=this._editInfo;this.hiddenTextarea||this.createHiddenTextarea(),o.value=Z=null!==Z&&Z!==K$?Z:"",l.font&&(o.style.font=l.font),p._editingDOM=o,E.appendHTML(A),this.layoutHTML(A,b),b instanceof xP?o.style.height="100%":(o.style.height="auto",this.calculateTextareaHeight()),Al(function(){o.focus(),U$(h,"mousedown",p.handleWindowClick),U$(h,"touchstart",p.handleWindowClick)},10)},handleTextEdit:function(){var p=this,E=p.gv,b=p._editTarget,Z=p.getTargetValue(),o=p.input;o.value=Z=null!==Z&&Z!==K$?Z:"",p._editingDOM=o,E.getView().appendChild(o),this.layoutHTML(o,b),Al(function(){o.focus(),U$(h,"mousedown",p.handleWindowClick),U$(h,"touchstart",p.handleWindowClick)},10)},layoutHTML:function(p,E){var b,Z,o,A=this.gv,l=A.getZoom();E instanceof xP?(o=(Z=A.getDataUI(E))._6I,b=p.style,p.style.left=o.x*l+A.tx()+"px",p.style.top=o.y*l+A.ty()+"px",p.style.width=Z._6I.width+"px",p.style.height=Z._6I.height+"px",XW(b,"transform","scale("+l+","+l+")"),XW(b,"transformOrigin","0px 0px")):E instanceof YP?(b=(o=E.getRect()).width*l,p.style.left=(o.x+o.width/2)*l+A.tx()+"px",p.style.top=(o.y+o.height/2)*l+A.ty()+"px",p.style.width=b+"px",p.style.marginLeft=-b/2+"px"):E instanceof u.Edge&&(o=(Z=A.getDataUI(E))._6I,p.style.left=(o.x+o.width/2)*l+A.tx()+"px",p.style.top=(o.y+o.height/2)*l+A.ty()+"px")},endTextEdit:function(p){var E=this,b=E._editInfo.isMultiline?E.wrap:E.input,Z=E._editInfo.isMultiline?E.textarea:E.input;p||E.setTargetValue(Z.value),E.gv.getView().removeChild(b),E.gv._editing=!1,delete E._editingDOM,delete E._editTarget,N$(h,"mousedown",E.handleWindowClick),N$(h,"touchstart",E.handleWindowClick)},setTargetValue:function(p){var E=this._editTarget,b=this._editInfo,Z=b.accessType;(b=b.name)&&Z||(Z="p",b="name"),"p"===Z?E[u.Default.setter(b)](p):"a"===Z?E.a(b,p):E.s(b,p)},getTargetValue:function(){var p=this._editTarget,E=this._editInfo,b=E.accessType;return(E=E.name)&&b||(b="p",E="name"),"p"===b?p[u.Default.getter(E)]():"a"===b?p.a(E):p.s(E)},createHiddenTextarea:function(){this.hiddenTextarea=n.createElement("textarea"),this.hiddenTextarea.setAttribute("style","margin:0; padding:0; position:absolute; overflowY:scroll; resize:none; box-sizing:border-box;pointer-events: none;opacity:0;"),this.hiddenTextarea.setAttribute("rows","1"),this.gv.getView().appendChild(this.hiddenTextarea)},calculateHTMLStyle:function(p,E){if(E&&this.computedStyleCache)return this.computedStyleCache;var b=h.getComputedStyle(p),p=b.getPropertyValue("box-sizing")||b.getPropertyValue("-moz-box-sizing")||b.getPropertyValue("-webkit-box-sizing"),Z=parseFloat(b.getPropertyValue("padding-bottom"))+parseFloat(b.getPropertyValue("padding-top")),o=parseFloat(b.getPropertyValue("border-bottom-width"))+parseFloat(b.getPropertyValue("border-top-width")),Z={sizingStyle:this.SIZING_STYLE.map(function(p){return p+":"+b.getPropertyValue(p)}).join(";"),paddingSize:Z,borderSize:o,boxSizing:p};return E&&(this.computedStyleCache=Z),Z},calculateTextareaHeight:function(p){p=p||"";var E=this.textarea,b=this.hiddenTextarea,Z=this.wrap,o=(V=this.calculateHTMLStyle(E,!1)).paddingSize,A=V.borderSize,l=V.boxSizing,V=V.sizingStyle,V=(b.setAttribute("style",V+";"+this.HIDDEN_TEXTAREA_STYLE),b.value=E.value+p,b.scrollHeight);"border-box"===l?V+=A:"content-box"===l&&(V-=o),E.style.height=V+"px",Z.style.height=Math.max(V,32)+"px",Z.style.marginTop=-.5*V+"px"}}),TY.ScrollBarInteractor=function(p){R1(D_,this,[p])}),B_=(p("ScrollBarInteractor",fP,{_41o:function(){return this.gv.getViewRect().height<this.gv.getScrollRect().height},_40o:function(){return this.gv.getViewRect().width<this.gv.getScrollRect().width},isV:function(p){var E=this.gv.getViewRect();return this._41o()&&(E.x+E.width-this.gv.lp(p).x)*this.gv.getZoom()<zq},isH:function(p){var E=this.gv.getViewRect();return this._40o()&&(E.y+E.height-this.gv.lp(p).y)*this.gv.getZoom()<zq},handle_mousemove:function(p){this.handle_touchmove(p)},handle_touchmove:function(p){var E;!zW&&If(p)&&this.gv.isScrollBarVisible()&&(E=this.isV(p),p=this.isH(p),(E||p)&&this.gv.showScrollBar(),this.gv._scrolling=E||p)},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handleWindowTouchEnd:function(p){this._state=this._cp=this._tx=this._ty=this.gv._scrolling=r$,this.fi({kind:"endScroll",event:p})},handle_mousedown:function(p){this.handle_touchstart(p)},handle_touchstart:function(p){var E,b=this;b.gv.setFocus(p),sq(p),b.handle_touchmove(p),1<nf(p)||!b.gv._scrolling||!b.gv.isScrollBarVisible()||(b._cp=mf(p),b._tx=b.gv.tx(),b._ty=b.gv.ty(),E=b.isV(p),b._state=E?"vScroll":"hScroll",gf(b,p),b.fi({kind:"beginScroll",event:p}))},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(p){var E=mf(p),b=this.gv.getViewRect(),Z=this.gv.getScrollRect();"vScroll"===this._state?this.gv.ty(this._ty+(this._cp.y-E.y)*Z.height/b.height):"hScroll"===this._state&&this.gv.tx(this._tx+(this._cp.x-E.x)*Z.width/b.width),this.fi({kind:"betweenScroll",event:p})}}),TY.TouchInteractor=function(p,E){(E=E||{}).selectable===K$&&(E.selectable=!0),E.movable===K$&&(E.movable=!0),E.pannable===K$&&(E.pannable=!0),E.pinchable===K$&&(E.pinchable=!0),E.editable===K$&&(E.editable=!0),this.params=E,R1(B_,this,[p])}),J=(p("TouchInteractor",fP,{ms_edit:1,setUp:function(){B_.superClass.setUp.call(this),kl&&this.params.editable&&this.gv.setEditInteractor(this)},tearDown:function(){B_.superClass.tearDown.call(this),kl&&this.params.editable&&this.gv.setEditInteractor(r$)},clear:function(p){var E=this,b=E.gv;b._moving&&(E.fi({kind:"endMove",event:p}),delete b._moving,b.onMoveEnded(),b.dm().endTransaction()),b._panning&&(E.fi({kind:"endPan",event:p}),delete b._panning,b.onPanEnded()),b._pinching&&(E.fi({kind:"endPinch",event:p}),delete b._pinching,b.onPinchEnded()),b._editing&&(E._46O(p),E._77I=E._node=E._edge=E._shape=E._rect=E._89I=E._index=b._editing=r$),E.pendingClickThrough=E._moving=E._panning=E._pinching=E._editing=E._57I=E._data=E._beginHistory=r$,E.clearDragging()},handle_touchstart:function(p){var E,b,Z,o,A,l=this;l.gv._editing||(sq(p),l._57I=r$,l.pendingClickThrough=r$,E=l.params,Z=(b=l.gv).sm(),o=b.getDataAt(p),1===(A=nf(p))?kf(p)?b.handleDoubleClick(p,o):(b.handleClick(p,o),o&&(b.handleMouseDown&&b.handleMouseDown(p,o),l._data=o),(o=E.selectable?o:r$)&&(Z.co(o)?o instanceof gP&&o.isClickThroughEnabled()&&(l.pendingClickThrough=mf(p)):Z.ss(o),E.editable&&b.isEditable(o)&&l._79I(p,o,!0)?(l._editing=1,l.startDragging(p)):E.movable&&b.isMovable(o)&&(l._moving=1,l.startDragging(p))),o&&(b.isMovable(o)||b._39Q(o))||(l._57I=mf(p),E.pannable&&b.isPannable()&&(l._panning=1,l.startDragging(p),l._translate={x:b.tx(),y:b.ty()}))):!E.pinchable||2!==A||!b.getEditInteractor()&&o&&(Z=Q(b.getImage(o)))&&O(Z.scrollable,o,this)||(l._pinching=1,l.startDragging(p),E=b.getView(),A=b.getZoom(),Z=E.getBoundingClientRect(),o=p.touches[0],E=p.touches[1],(o={x:(o.clientX+E.clientX)/2-Z.left,y:(o.clientY+E.clientY)/2-Z.top}).x-=b.tx(),o.y-=b.ty(),o.x/=A,o.y/=A,l._p=o,l._d=z6(p)))},handle_touchend:function(p){var E=this.gv,b=this._57I,Z=this._data;b&&($f(b,mf(p))<=1&&!E.getDataAt(p)&&E.sm().cs(),this._57I=r$),Z&&E.handleMouseUp&&E.handleMouseUp(p,Z),this.pendingClickThrough&&($f(this.pendingClickThrough,mf(p))<=1&&(Z=E.getDataAt(p))instanceof gP&&Z.isClickThroughEnabled()&&(b=E.getDataAt(p,function(p){return p.getParent()===Z&&E.isSelectable(p,!0)}))&&(p.clickThrough=!0,E.sm().ss(b)),this.pendingClickThrough=r$)},handleWindowTouchEnd:function(p){this.clear(p)},handleWindowTouchMove:function(p){var E,b,Z=this,o=Z.gv,A=nf(p);1===A?(E=mf(p),E=tY(o,E,Z._lastClientPoint),b=$f({x:0,y:0},E),Z._editing&&(Z._beginHistory||(Z._beginHistory=1,o.dm().beginTransaction()),o._editing=1,Z._78I(p)),Z._moving?!o._moving&&b<H$.touchMoveThreshold||(Z._beginHistory||(Z._beginHistory=1,o.dm().beginTransaction()),Z.handleMove(p)):!Z._panning||!o._panning&&b<H$.touchMoveThreshold||(o.setTranslate(Z._translate.x+E.x,Z._translate.y+E.y),Z.fi({kind:o._panning?"betweenPan":"beginPan",event:p}),o._panning=1)):2===A&&Z._pinching&&(b=z6(p),o.handlePinch(Z._p,b,Z._d),Z._d=b,Z.fi({kind:o._pinching?"betweenPinch":"beginPinch",event:p}),o._pinching=1)},handleMove:function(p){var E,b,Z,o,A=this,l=A.gv;l._93O&&l._93O(p,A._data)||(Z=A._logicalPoint?"betweenMove":"beginMove",E=A._logicalPoint=l.lp(p),b=(Z=A._calcShift(Z,p)).x,Z=Z.y,(o=A.gv.getMoveMode(p,A._data))&&("x"===o?Z=0:"y"===o?b=0:"xy"!==o&&(b=Z=0)),l.moveSelection(b,Z),A._lastLogicalPoint=E,A.autoScroll(p),A.fi({kind:l._moving?"betweenMove":"beginMove",event:p}),l._moving=1)},_calcShift:function(p,E){var b=this._logicalPoint,Z=this._lastLogicalPoint;return{x:b.x-Z.x,y:b.y-Z.y}}}),u.graph._editor={Math:u.Math,Guide:{}}),n_=(J.getStyle=function(p){var E=J.StyleMap;return E&&(E=E[p])!==K$?E:J.DefaultStyleMap[p]},J.setStyle=function(p,E){(J.StyleMap||(J.StyleMap={}))[p]=E},J.inEdit=function(p){return!0===p._inXEdit},J.startEdit=function(p){p._inXEdit=!0,J.Inject.doInject(p)},J._46O=function(p){p._inXEdit=!1,J.Inject.undoInject(p)},J.toScreenPosition=function(p,E){var b=p.tx(),Z=p.ty(),p=p._zoom;return new J.Math.Vector2(E.x*p+b,E.y*p+Z)},J.checkHit=function(p,E,b){return p.distanceTo(E)<b},J.toWorldPosition=function(p,E){var b=p.tx(),Z=p.ty(),p=p._zoom;return{x:(E.x-b)/p,y:(E.y-Z)/p}},J.setAntialias=function(p,E){for(var b,Z=["imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","oImageSmoothingEnabled","msImageSmoothingEnabled"],o=0,A=Z.length;o<A&&!((b=Z[o])in p);o++);p[b],p[b]=E},J.getTargetCornersOnScreen=function(E,p){if(!p)return null;var b=[];if(U1(p,E))var Z=[{x:(Z=fm(E,p)).x,y:Z.y},{x:Z.x+Z.width,y:Z.y},{x:Z.x+Z.width,y:Z.y+Z.height},{x:Z.x,y:Z.y+Z.height}];else{if(!p.getCorners)return null;Z=p.getCorners()}return Z.forEach(function(p){p=J.toScreenPosition(E,p),b.push(p.x,p.y)}),b},J.log=function(){},J.updateTipInfo=function(p,E,b){PB=b?((p=u.Default.getLogicalPoint(p,E._canvas)).x+=J.Icons.TipShiftX,p.y+=J.Icons.TipShiftY,{helperPos:p,text:b,size:b.length}):r$},J.drawTip=function(p,E){PB&&J.Icons.DrawIcon(E,p,J.Icons.TipHelper,PB)},J.Inject={_modules:[]}),k_=(n_.registAsModule=function(b,Z){var p,o={},E={};for(p in b){var A=Z.prototype[p];o[p]=A}b.getBackup=function(p){return o[p]},b.getBackups=function(){return o},E.doInject=function(p){for(var E in b)"getBackup"!==E&&(Z.prototype[E]=b[E])},E.undoInject=function(p){for(var E in b)"getBackup"!==E&&(Z.prototype[E]=o[E])},n_._modules.push(E)},n_.doInject=function(p){for(var E=n_._modules,b=0,Z=E.length;b<Z;b++)E[b].doInject(p)},n_.undoInject=function(p){for(var E=n_._modules,b=0,Z=E.length;b<Z;b++)E[b].undoInject(p)},fP=u.graph.EditInteractor=function(p){var E=this,b=n.createElement("canvas");b.className="editCanvas",b.style.position="absolute",E._uuid=u.Math.generateUUID(),E._styleMap={},E._canvas=b,E._context=b.getContext("2d"),fP.superClass.constructor.call(E,p),this._editDetail=!1,J.setAntialias(E._context,!1),E._subModules=E.initSubModule(),E._gridGuide=new J.Guide.Grid(E),E._rectGuide=new J.Guide.Rect(E),E._hoverGuide=new J.Guide.Hover(E)});u.Default.def(fP,u.graph.Interactor,{ms_edit:1,ms_fire:1}),t$.defineProperties(fP.prototype,{editDetail:{get:function(){return!!this._editDetail},set:function(p){var E=this._editDetail;E!==p&&(this._editDetail=p,this.gv._editing=p,this.fp("editDetail",E,p),this.fp("pointsEditingMode",E,p),this.fi({kind:p?"beginEditPoints":"endEditPoints"}))}},gvEditing:{get:function(){return this.gv._editing},set:function(p){this._editDetail&&!p||(this.gv._editing=p)||(this.editDetail=!1)}},editing:{get:function(){return this._editing},set:function(p){this._editing=p,this.gvEditing=p}},editingModule:{get:function(){return this._editMod}},pointsEditingMode:{get:function(){return this.editDetail},set:function(p){this.editDetail!==p&&(p?this._tryEnterEditDetailMode():this._tryQuitEditDetailMode())}},gridEnabled:{get:function(){return!!this._gridEnabled&&(this.gv,!0)},set:function(p){p!==this._gridEnabled&&(this._gridEnabled=p,this._42())}},alignmentGuideEnabled:{get:function(){return this._agEnabled},set:function(p){p!==this._agEnabled&&(this._agEnabled=p,this._42())}},gridGuide:{get:function(){return this._gridGuide}},rectGuide:{get:function(){return this._rectGuide}},hoverGuide:{get:function(){return this._hoverGuide}}}),fP.prototype.initSubModule=function(){return[new J.Anchor(this),new J.RotateX(this),new J.MoveDummy(this),new J.Rect(this),new J.Curve(this),new J.MoveHelper(this)]},fP.prototype.getSubModule=function(p){for(var E,b=this._subModules,Z=0,o=b.length;Z<o;Z++)if((E=b[Z]).catalog===p)return E},fP.prototype.invokeSubModule=function(p,E){for(var b,Z,o=this._subModules,A=Array.prototype.slice.call(arguments,2),l=0,V=o.length;l<V;l++)if((Z=(b=o[l])[p])&&Z.apply(b,A)!=K$&&E)return b},fP.prototype.invokeSubModuleInverse=function(p,E){var b=this._subModules;if(b)for(var Z,o,A=Array.prototype.slice.call(arguments,2),l=b.length-1;0<=l;l--)if((o=(Z=b[l])[p])&&o.apply(Z,A)!=K$&&E)return Z},fP.prototype.setUp=function(){J.log("setUp");var p=this.gv,E=p.getView(),b=this._canvas;fP.superClass.setUp.call(this),p.setEditInteractor(this),p._79O?E.insertBefore(b,p._79O):E.appendChild(b),J.startEdit(p),this.invokeSubModule("setUp"),p.dm().mm(this._onDataModelChanged,this),p.dm().md(this._onDataPropertyChanged,this)},fP.prototype.tearDown=function(){J.log("tearDown");var p=this,E=p.gv,b=E.getView();p._resetCustomCursorStyle(),fP.superClass.tearDown.call(p),E.dm().umm(p._onDataModelChanged,p),E.dm().umd(p._onDataPropertyChanged,p),E.setEditInteractor(null),b.removeChild(p._canvas),p._drawTimer&&(ll(p._drawTimer),p._drawTimer=null),J._46O(E),p.invokeSubModule("tearDown")},fP.prototype._onDataModelChanged=function(p){("clear"===p.kind||"remove"===p.kind&&this.editDetail&&p.data===this.getSubModule("Curve").target)&&(this.editDetail=!1,this._42())},fP.prototype._onDataPropertyChanged=function(p){var E,b;this.editDetail&&(E=this.getSubModule("Curve"),(b=p.data)!==E.target||b._writing||E._handleDataChanged(p))},fP.prototype.clear=function(){J.log("clear")},fP.prototype.redraw=function(){this._42()},fP.prototype._42=function(){var p=this;p._drawTimer||(p._drawTimer=Al(function(){p._drawTimer=null,p.drawImpl()},0))},fP.prototype.drawImpl=function(){for(var V in{_42:!0})break;return function(){var p=this._canvas,E=this.gv,b=E.getWidth(),Z=E.getHeight(),o=this._context,A=u.Default.getInternal(),l=H$.devicePixelRatio,A=(p.width===b&&p.height===Z||A.setCanvas(p,b,Z,l),o.clearRect(0,0,p.width,p.height),this._getValidSelection());o.save(),o.scale(l,l),this._gridGuide._42(),this.invokeSubModuleInverse(V,!1,o,E,A),this._rectGuide._42(),this._hoverGuide._42(),J.drawTip(o,this),o.restore()}}(),fP.prototype._getValidSelection=function(){var E=this.gv,p=E.sm().getSelection(),b=[];return p.each(function(p){E.isVisible(p)&&E.isEditable(p)&&b.push(p)}),b},fP.prototype.handle_touchmove=function(p){return this.handle_mousemove(p)},fP.prototype.handle_mousemove=function(p){u.Default.isDragging()||!this.editDetail&&(l6()||Df(p))||this.gv._externalEditing||(this.gvEditing=!1,this._checkEdit(p)?this.gvEditing=!0:this.getStyle("hoverGuideVisible")&&(this.hoverData=this.gv.getDataAt(p)),this._42())},fP.prototype.handle_touchstart=function(p){return this.handle_mousedown(p)},fP.prototype.handle_mousedown=function(p){sq(p);var E=this;if((E.editDetail||!l6()&&!Df(p))&&!E.gv._externalEditing){if(kf(p)&&!p.clickThrough){if(E.editDetail){if(E._tryQuitEditDetailMode(p))return}else if(E._tryEnterEditDetailMode())return;E.gv.dm().beginTransaction();var b=E.invokeSubModule("handleDoubleClick",!0,p);if(E.gv.dm().endTransaction(),b)return}(b=E._checkEdit(p))&&(E._downPosition=E._getLogicalPoint(p),E.gv.dm().beginTransaction(),b.startEdit(E,p),E.editing=!0)}},fP.prototype._checkEdit=function(p){var E=this.gv,b=this._getLogicalPoint(p),E=this.invokeSubModule("check",!0,E,p,b)||null;return this._editMod=E},fP.prototype.handleWindowTouchMove=function(p){return this.handleWindowMouseMove(p)},fP.prototype.handleWindowMouseMove=function(p){var E=this._downPosition;if(E){if(this._getLogicalPoint(p).distanceTo(E)<this.getStyle("moveSensitivity"))return;delete this._downPosition}(E=this._editMod)&&E.handleEdit(this.gv,p),this.redraw()},fP.prototype._getLogicalPoint=function(p){return p=u.Default.getLogicalPoint(p,this._canvas),new J.Math.Vector2(p)},fP.prototype.handleWindowTouchEnd=function(p){return this.handleWindowMouseUp(p)},fP.prototype.handleWindowMouseUp=function(){for(var E in{_46O:!0})break;return function(p){this.editing=!1,this.setCursor("default"),this.invokeSubModule(E,!1,p),this._42(),this.gv.dm().endTransaction()}}(),fP.prototype.handle_mousewheel=function(p){sq(p),this.invokeSubModule("preHandleScroll",!0)||this.gv.handleScroll(p,p.wheelDelta)},fP.prototype.handleDelete=function(){var p;if(!this.editDetail)return this.gv.dm().beginTransaction(),p=this.invokeSubModule("handleNormalStateDelete",!0),this.gv.dm().endTransaction(),void(p||this.gv.removeSelection());this.gv.dm().beginTransaction(),this.invokeSubModule("handleDelete",!0),this.gv.dm().endTransaction(),this._42()},fP.prototype.handle_keydown=function(p){var E,b=this;return(p.metaKey||p.ctrlKey)&&b._42(),l6(p)&&!b.editing?(b.gvEditing=!1,b.setCursor("default"),void b._42()):(E=V6(p),b.editDetail?((E||c6(p))&&(b.editDetail=!1,b._42()),b.gv.dm().beginTransaction(),b.invokeSubModule("handle_keydown",!0,p),void b.gv.dm().endTransaction()):(b.gv.dm().beginTransaction(),b.invokeSubModule("handleNormalStateKeyDown",!0,p),b.gv.dm().endTransaction(),void(E&&b._tryEnterEditDetailMode())))},fP.prototype.handle_keyup=function(p){this.gv.dm().beginTransaction(),this.invokeSubModule("handle_keyup",!0,p),this.gv.dm().endTransaction()},fP.prototype._tryEnterEditDetailMode=function(){if(!this.editDetail&&this.invokeSubModule("canEnterEditDetailMode",!0)&&1===this._getValidSelection().length)return this.editDetail=!0,this._42(),!0},fP.prototype._tryQuitEditDetailMode=function(p){return!(!this.editDetail||p&&!this.invokeSubModule("canQuitEditDetailMode",!0,p)||(this.editDetail=!1,this._42(),0))},fP.prototype.setStyle=function(p,E,b){b?J.setStyle(p,E):this._styleMap[p]=E,"baseColor"===p&&(e_=E),this.fp("styleChanged",null,{key:p,value:E,base:b}),this._42()},fP.prototype.getStyle=function(p,E){var b=this._styleMap[p];return b!==K$?b:J.getStyle(p)},fP.prototype.setCursor=function(p){this._resetCustomCursorStyle(),u.graph.EditInteractor.superClass.setCursor.call(this,p)},fP.prototype._drawHostGuide=function(p){var E=this._context,b=this.gv,Z=(J.Icons.DrawIcon(this,E,J.Icons.NodeHoverGuide,p.corners),p.host);if(Z){var o=b.getAttachPoints(Z);if(o&&o.length)for(var A=0,l=o.length;A<l;A++){var V=o[A],V=$Y(b,Z,0,V.offsetX||0,V.offsetY||0,V.x,V.y);(V=J.toScreenPosition(b,V)).isAttach=p.attach===A,J.Icons.DrawIcon(this,E,J.Icons.AttachPoint,V)}}},fP.prototype._resetCustomCursorStyle=function(){var p;this._customStyle&&((p=this.gv.getView()).classList&&p.classList.remove&&p.classList.remove(this._customStyle),this._customStyle=null)},fP.prototype._setRotateCursor=function(p){var p=(this._cursorFactory||(this._cursorFactory=new J.CursorFactory(this))).getRotateCursor(p),E=this.gv.getView();this._resetCustomCursorStyle(),this._customStyle=p,E.classList&&E.classList.add&&E.classList.add(p)};((b=J.Group=function(p){this._entities=p,this._64O=0,this._position={x:0,y:0},this._scale={x:1,y:1},this._anchor={x:.5,y:.5},this._anchor2={x:.5,y:.5}}).prototype={}).constructor=b;var j_=null,W_=null;b.findOrCreateGroup=function(p,E){return W_===E&&j_&&j_.checkIsMe(p)?j_:(W_=E,(E=new J.Group(p)).getKeyOb()?j_=E:void 0)},b.prototype.checkIsMe=function(p){var E=this._entities;if(E.length!==p.length)return!1;for(var b={},Z=p.length,o=0;o<Z;o++)b[p[o]._id]=!0;for(o=0;o<Z;o++)if(!b[E[o]._id])return!1;return!0},b.prototype.getRotation=function(){return this._64O},b.prototype.getPosition=function(){return this._position},b.prototype.getAnchor=function(){return this._anchor},b.prototype.getWidth=function(){return this._width},b.prototype.getScale=function(){return this._scale},b.prototype.getSize=function(){return{width:this._width,height:this._height}},b.prototype.getHeight=function(){return this._height},b.prototype.getKeyOb=function(){for(var p=this._entities,E=p.length-1;0<=E;E--){var b=p[E];if(this.isNode(b))return b}},b.prototype.getAnchor2=function(){var p=this.rotateCenter;if(p)return p;if(!(p=this.getKeyOb()))return this._anchor;var E=this._anchor2;return p.getMatrix().tf({x:p.getWidth()*(E.x-p.getAnchor().x),y:p.getHeight()*(E.y-p.getAnchor().y)})},b.prototype.setAnchor2=function(p,E){var b=this.getKeyOb();b&&(E="number"==typeof p?{x:p,y:E}:p,p=b.getMatrix().tfi(E),this._anchor2={x:b.getAnchor().x+p.x/b.getWidth(),y:b.getAnchor().y+p.y/b.getHeight()})},b.prototype.setRotation=function(p){},b.prototype.beginRotate=function(p){this.rotateCenter=p.pos,this.rotateMode=p.groupRotateMode},b.prototype.endRotate=function(){delete this.rotateCenter,delete this.rotateMode},b.prototype.addRotation=function(p,E,b){return"batch"===E?this._addRotationInBatchMode(p,b):"block"===E?this._addRotationInBlockMode(p,b):void 0},b.prototype._addRotationInBlockMode=function(Z,o){var A=this,l=A.rotateCenter||A.getPosition();A._entities.forEach(function(p){var E,b;!A.isNode(p)||o&&!o(p)||((E=p.getMatrix()).translate(-l.x,-l.y),E.rotate(Z),E.translate(l.x,l.y),b=Math.sign(p.getScale().x),p.setRotation(i$(E.b*b,E.a*b)),p.setPosition(E.tx,E.ty))})},b.prototype._addRotationInBatchMode=function(o,A){var l=this,V=l._anchor2;l._entities.forEach(function(p){var E,b,Z;!l.isNode(p)||A&&!A(p)||(E=p.getAnchor(),E=(Z=p.getMatrix()).tf({x:p.getWidth()*(V.x-E.x),y:p.getHeight()*(V.y-E.y)}),(b=new J.Math.Matrix2d).set(Z.a,Z.b,Z.c,Z.d,Z.tx,Z.ty),b.translate(-E.x,-E.y),b.rotate(o),b.translate(E.x,E.y),Z=Math.sign(p.getScale().x),p.setRotation(i$(b.b*Z,b.a*Z)),p.setPosition(b.tx,b.ty))})},b.prototype.setPosition=function(p){for(var E,b,Z=this._position,o=p.x-Z.x,A=p.y-Z.y,l=this._entities,V=0,c=l.length;V<c;V++)E=l[V],y(E)&&(b=E.getPosition(),E.setPosition(b.x+o,b.y+A));this._position=p},b.prototype.setScale=function(p,E){var b=p/this._scale.x,Z=E/this._scale.y;this._adjustChildScaleOrSize(b,Z,"size"),this._scale={x:p,y:E}},b.prototype.getRect=function(){var p=this._position,E=this._width,b=this._height;return{x:p.x-E/2,y:p.y-b/2,width:E,height:b}},b.prototype.setSize=function(p,E){var p=Math.max(1,p),E=Math.max(1,E),b=p/this._width,Z=E/this._height;this._adjustChildScaleOrSize(b,Z,"size"),this._width=p,this._height=E},b.prototype._adjustChildScaleOrSize=function(p,E,b){for(var Z,o=this._position,A=this._entities,l=new J.Math.Matrix2d,V=0,c=A.length;V<c;V++){var S,I,D,B,n,k,j,W=A[V];this.isNode(W)&&(S=W.getPosition(),I=W.getRotation(),D=W.getWidth(),B=W.getHeight(),k=(n=W.getScale()).x*D,j=n.y*B,l.identity().scale(k,j).rotate(I).translate(S.x,S.y).translate(-o.x,-o.y).rotate(-this._64O),I=i$(l.b*Math.sign(k),l.a*Math.sign(k)),l.scale(p,E),j=Math.cos(I),S=Math.sin(I),k=Math.abs(j)<.001?(Z=l.b/S,-l.c/S):(Z=l.a/j,l.d/j),"scale"===b?W.setScale(Z/D,k/B):"size"===b&&(I=Z/n.x,S=k/n.y,W.setScale(pW(Z)*Math.abs(n.x),pW(k)*Math.abs(n.y)),W.setSize(Math.max(.1,Math.abs(I)),Math.max(.1,Math.abs(S)))),l.rotate(this._64O).translate(o.x,o.y),W.setPosition(l.tx,l.ty))}},b.prototype.getMatrix=function(){var p=this._position,E=u.Default.getInternal(),b=this._scale;return new E.Mat(this._64O,p.x,p.y,b.x,b.y)},b.prototype.toGlobal=function(p){return this.getMatrix().tf(p)},b.prototype.getCorners=function(){var p=this._width,E=this._height,b=-p*(Z=this._anchor).x,Z=-E*Z.y,o=this.getMatrix();return[o.tf(b,Z),o.tf(b,Z+E),o.tf(b+p,Z+E),o.tf(b+p,Z)]},b.prototype.calcInfo=function(p,E){for(var b,Z=[],o=this._entities,A=this._64O,l=0,V=o.length;l<V;l++){var c,S=o[l];this.isNode(S)?S.getCorners&&Z.push.apply(Z,S.getCorners()):S instanceof XP&&E.getStyle("selectionBoundingContainsEdge")&&((S=p.getEdgeInfo(S)).sourcePoint?((c=S.points?S.points.toArray():[]).unshift(S.sourcePoint),c.push(S.targetPoint)):S.edgeTypeInfo&&(c=S.edgeTypeInfo.points)&&(c=c.toArray()),c&&Z.push.apply(Z,c))}if(Z.length){for(var I=Math.cos(-A),D=Math.sin(-A),B=1/0,n=-1/0,k=1/0,j=-1/0,l=0,V=Z.length;l<V;l++)W=(b=Z[l]).x,m=b.y,b.x=I*W-D*m,b.y=D*W+I*m,B=Math.min(B,b.x),n=Math.max(n,b.x),k=Math.min(k,b.y),j=Math.max(j,b.y);this._width=(n-B)/this._scale.x,this._height=(j-k)/this._scale.y;var I=Math.cos(A),D=Math.sin(A),W=B+(n-B)*(A=this._anchor).x,m=k+(j-k)*A.y;this._position={x:I*W-D*m,y:D*W+I*m}}},b.prototype.isNode=function(p){return!(!y(p)||U1(p)&&p.size())},b.prototype._42=function(p,E,b){var Z,o,A,l,V,c=this._entities;for("batch"===this.rotateMode&&(V=this.getKeyOb()),Z=0,o=c.length;Z<o;Z++)A=c[Z],this.isNode(A)&&(l=A.getRect(),l={min:J.toScreenPosition(b,{x:l.x,y:l.y}),max:J.toScreenPosition(b,{x:l.x+l.width,y:l.y+l.height})},A===V&&(l.isKeyOb=!0),J.Icons.DrawIcon(p,E,J.Icons.GroupSubEntityRect,l))},((Z=J.CurveActiving=function(p,E){for(var b in this._curve=p,this._interactor=p._interactor,this.silent=!0,E)this[b]=E[b];delete this.silent}).prototype={}).constructor=Z,t$.defineProperties(Z.prototype,{point:{get:function(){return this._point},set:function(p){this._point=p,this.editingCtrl||this.silent||this._firePointChange()}},pairs:{get:function(){return this._pairs},set:function(p){this._pairs=p,this.editingCtrl&&!this.silent&&this._firePointChange()}}}),Z.prototype._firePointChange=function(){var p,E,b=this.getCurrentEditingPoint(),Z=this._interactor;b?(E=this._curve.target)&&(E=J.getDataMatrix(E).invert(),p=b.e,(b=E.apply(J.toWorldPosition(Z.gv,b))).e=p,(E=this._lastFirePoint)&&Math.abs(b.x-E.x)<1e-5&&Math.abs(b.y-E.y)<1e-5&&(b.e==K$&&E.e==K$||Math.abs(b.e-E.e)<1e-5)||(this._lastFirePoint=b,Z.fi({kind:"selectPoint",x:b.x,y:b.y,e:b.e}))):Z.fi({kind:"selectPoint"})},Z.prototype.dispose=function(){this._interactor.fi({kind:"selectPoint"})},Z.prototype.getCurrentEditingPoint=function(){var p=this.editingCtrl;if(p){var E=this.pairs;if(E=(E=E&&E[p.pairId])&&E[p.type])return E}return this._point},(((pl=J.CursorFactory=function(p){this._interactor=p,this._rotateCursorStyles={}}).prototype={}).constructor=pl).prototype.getRotateCursor=function(p){p<0&&(p+=2*Math.PI);var E=(b=this._interactor).getStyle("rotateCursorSize"),b=b.getStyle("rotateCursorRound"),p=Math.round(p/Math.PI*180/b),Z=this._rotateCursorStyles,o="htCustomRotateStyle_"+E+"_"+b+"_"+(p=360<=p*b?0:p);return Z[o]||(this._produceRotateCursor(o,E,b,p),Z[o]=!0),o},pl.prototype._produceRotateCursor=function(p,E,b,Z){this._interactor;var o=(o=this._canvas)||(this._canvas=n.createElement("canvas")),A=H$.devicePixelRatio,l=(o.width=o.height=E*A,o.style.width=o.style.height=E+" px",o.getContext("2d"));J.setAntialias(l,!1),l.scale(A,A);var V=(V=Math.round(E/2))+" "+V+",auto !important;",Z=Math.PI/180*Z*b;l.clearRect(0,0,E,E),l.save(),l.scale(E/32,E/32),l.translate(16,15),l.rotate(Z+Math.PI/2),l.beginPath(),l.moveTo(-8,0),l.lineTo(-8,4),l.lineTo(-4,4),l.moveTo(8,0),l.lineTo(8,4),l.lineTo(4,4),l.moveTo(-8,4),l.quadraticCurveTo(0,-6,8,4),l.restore(),l.lineCap="round",l.lineJoin="miter",l.strokeStyle="white",l.lineWidth=4,l.stroke(),l.strokeStyle="black",l.lineWidth=2,l.stroke(),Z="cursor:url("+(b=JSON.stringify(o.toDataURL()))+")"+V,1!==A&&(Z=Z+("cursor:url(data:image/svg+xml;base64,"+btoa('<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+E+'px" height="'+E+'px"><image xlink:href='+b+' width="'+E+'" height="'+E+'"/></svg>'))+")"+V+"cursor:-webkit-image-set(url("+b+")"+A+"x,url("+b+")1x)"+V),(l=n.createElement("style")).textContent="body."+p+" *, ."+p+"{"+Z+"}",n.head.appendChild(l)},((LP=J.Guide.Grid=function(p){this._interactor=p,this._alignmentGuideId=0,this._xAlignmentGuide=[],this._yAlignmentGuide=[]}).prototype={}).constructor=LP,t$.defineProperties(LP.prototype,{gridBlockSize:{get:function(){return this._gridBlockSize||this._interactor.getStyle("gridBlockSize")},set:function(p){this._gridBlockSize=p,this._interactor._42()}},gridThickLinesEvery:{get:function(){return this._gridThickLinesEvery||this._interactor.getStyle("gridThickLinesEvery")},set:function(p){this._gridThickLinesEvery=p,this._interactor._42()}},gridEnabled:{get:function(){return this._interactor.gridEnabled&&this.isValidGrid()}}}),LP.prototype._42=function(){var p=this._interactor;this.gridEnabled&&this.drawGrid(),p.alignmentGuideEnabled&&this.drawAlignmentGuide()},LP.prototype.makeMatrix=function(){var p=this._interactor.getStyle("gridAngle"),E=this._interactor.getStyle("gridRotation"),b=new J.Math.Matrix2d,Z=Math.sin(p),p=Math.cos(p);return b.set(1,0,p,Z,0,0),b.rotate(E),b},LP.prototype.isValidGrid=function(){var p=Math.PI,E=this._interactor;return!(E.gv._zoom<E.getStyle("gridZoomThreshold"))&&(E=E.getStyle("gridAngle"),!((E=Math.abs(E%p/p*180))<1-1e-8||179.00000001<E))},LP.prototype.drawAlignmentGuide=function(){var p=this._interactor,E=p.gv,b=p._canvas,Z=p._context,o=b.width,A=b.height,l=E.tx(),V=E.ty(),c=E._zoom;Z.beginPath(),Z.strokeStyle=p.getStyle("gridAlignmentGuideColor"),Z.lineWidth=1,this._xAlignmentGuide.forEach(function(p){p=p.p*c+l,Z.moveTo(p,0),Z.lineTo(p,A)}),this._yAlignmentGuide.forEach(function(p){p=p.p*c+V,Z.moveTo(0,p),Z.lineTo(o,p)}),Z.stroke()},LP.prototype.drawGrid=function(){var p,E,b,Z=this._interactor,o=this.gridBlockSize,A=this.gridThickLinesEvery,l=Z.getStyle("gridThickColor"),V=Z.getStyle("gridLightColor"),c=Z.gv,S=Z._canvas,I=Z._context,Z=S.width,S=S.height,D=this.makeMatrix(),B=D.applyInverse(J.toWorldPosition(c,{x:0,y:0})),n=D.applyInverse(J.toWorldPosition(c,{x:Z,y:0})),k=D.applyInverse(J.toWorldPosition(c,{x:0,y:S})),Z=D.applyInverse(J.toWorldPosition(c,{x:Z,y:S})),j=Math.min(B.x,n.x,k.x,Z.x),W=Math.max(B.x,n.x,k.x,Z.x),m=Math.min(B.y,n.y,k.y,Z.y),e=Math.max(B.y,n.y,k.y,Z.y),S=Math.ceil(j/o),$=Math.floor(W/o),B=Math.ceil(m/o),Y=Math.floor(e/o);function t(p,E,b,Z){p=J.toScreenPosition(c,D.apply({x:p,y:E})),E=J.toScreenPosition(c,D.apply({x:b,y:Z})),I.moveTo(p.x,p.y),I.lineTo(E.x,E.y)}for(c.tx(),c.ty(),c._zoom,I.save(),I.lineWidth=1,I.beginPath(),I.strokeStyle=l,b=Math.ceil(S/A)*A;b<=$;b+=A)t(p=b*o,m,p,e);for(b=Math.ceil(B/A)*A;b<=Y;b+=A)t(j,E=b*o,W,E);for(I.stroke(),I.beginPath(),I.strokeStyle=V,b=S;b<=$;b++)b%A!=0&&t(p=b*o,m,p,e);for(b=B;b<=Y;b++)b%A!=0&&t(j,E=b*o,W,E);I.stroke(),I.restore()},LP.prototype.getAlignmentGuides=function(){return{x:this._xAlignmentGuide,y:this._yAlignmentGuide}},LP.prototype.addAlignmentGuide=function(p,E,b){var Z,p="x"===p?this._xAlignmentGuide:this._yAlignmentGuide,E={p:E,id:b=b||++this._alignmentGuideId};return p.length?(Z=this._findClosestAlignmentGuide(E.p,p)).dis<0?p.splice(Z.index+1,0,E):p.splice(Z.index,0,E):p.push(E),this._interactor._42(),b},LP.prototype.findClosest=function(p,E,b){var Z=this._interactor,o=Z.gv,A=1/0,l=1/0,V=(p=b?J.toWorldPosition(o,p):p).x,c=p.y;if(this.gridEnabled&&(I=this.gridBlockSize,p=(S=this.makeMatrix()).applyInverse(p),A=(p=S.apply({x:Math.round(p.x/I)*I,y:Math.round(p.y/I)*I})).x-V,l=p.y-c,S=!0),Z.alignmentGuideEnabled&&(I=this._findClosestAlignmentGuide(V,this._xAlignmentGuide).dis,p=this._findClosestAlignmentGuide(c,this._yAlignmentGuide).dis,Math.abs(I)<Math.abs(A)&&(A=I,S=!0),Math.abs(p)<Math.abs(l)&&(l=p,S=!0)),S){var S=!1,V=o._zoom,c=Z.getStyle("smartGuideThreshold")/V,I={};if(Math.abs(A)<c&&"y"!==E&&(I.x=b?A*V:A,S=!0),Math.abs(l)<c&&"x"!==E&&(I.y=b?l*V:l,S=!0),S)return I}},LP.prototype._findClosestAlignmentGuide=function(p,E){if(!E.length)return{dis:1/0};for(var b,Z=0,o=E.length-1;1<o-Z;)E[b=Math.floor((Z+o)/2)].p<p?Z=b:o=b;var A=E[Z].p-p,l=E[o].p-p;return Math.abs(A)<=Math.abs(l)?{line:E[Z],dis:A,index:Z}:{line:E[o],dis:l,index:o}},LP.prototype.removeAllAlignmentGuide=function(p){"y"!==p&&(this._xAlignmentGuide=[]),"x"!==p&&(this._yAlignmentGuide=[]),this._interactor._42()},LP.prototype.removeAlignmentGuide=function(p){for(var E,b,Z,o=this._xAlignmentGuide,A=0;A<2;A++)for(b=(o=(E=0)===A?this._xAlignmentGuide:this._yAlignmentGuide).length;E<b;E++)if((Z=o[E]).id===p)return o.splice(E,1),this._interactor._42(),{axis:0===A?"x":"y",position:Z.p};return!1},LP.prototype.adjustAlignmentGuide=function(p,E){var b=this.removeAlignmentGuide(p);return!!b&&(this.addAlignmentGuide(b.axis,E,p),!0)},(((p=J.Guide.Rect=function(p){this._interactor=p}).prototype={}).constructor=p).prototype.gatherRects=function(){var A,l,V,c,S=this._interactor.gv,I=[],D=[],B={x:I,y:D,xMap:{},yMap:{}},n={},p=S.getDataModel(),E=p.a("width"),b=p.a("height");E&&b&&(l=A=0,V=E,c=b,I.push({node:p,type:0,p:A},{node:p,type:1,p:A+V/2},{node:p,type:2,p:A+V}),D.push({node:p,type:0,p:l},{node:p,type:1,p:l+c/2},{node:p,type:2,p:l+c}),n[p._id||0]={x:A,y:l,width:V,height:c}),p.each(function(E){var b,p,Z,o;y(E)&&!S.isSelected(E)&&S.isVisible(E)&&S.isValidGuideLineSource(E)&&(b=!1,S.sm().getSelection().each(function(p){b||(E.isHostOn(p)||E.isDescendantOf(p))&&(b=!0)}),b||(p=E.getRect(),A=p.x,l=p.y,V=p.width,c=p.height,o=[{node:E,type:0,p:l},{node:E,type:1,p:l+c/2},{node:E,type:2,p:l+c}],(Z=[{node:E,type:0,p:A},{node:E,type:1,p:A+V/2},{node:E,type:2,p:A+V}]).forEach(function(p){var E=B.xMap[p.p];E?E.push(p):B.xMap[p.p]=[p]}),o.forEach(function(p){var E=B.yMap[p.p];E?E.push(p):B.yMap[p.p]=[p]}),I.push.apply(I,Z),D.push.apply(D,o),n[E._id]=p))}),I.sort(function(p,E){var b,Z;return p.p===E.p?(b=p.node.getRect&&p.node.getRect(),Z=E.node.getRect&&E.node.getRect(),b&&Z?b.y+b.height-(Z.y+Z.height):0):p.p-E.p}),D.sort(function(p,E){var b,Z;return p.p===E.p?(b=p.node.getRect&&p.node.getRect(),Z=E.node.getRect&&E.node.getRect(),b&&Z?b.x+b.width-(Z.x+Z.width):0):p.p-E.p}),this._grid=B,this._87I=n},p.prototype.gatherLines=function(p,E,b){var Z,o,A,l,V,c,S,I,D,B=[this.findClosest({x:p.x,y:p.y},E,K$,!0),this.findClosest({x:p.x+p.w/2,y:p.y+p.h/2},E,K$,!0),this.findClosest({x:p.x+p.w,y:p.y+p.h},E,K$,!0)],n={},k=this._87I;for(b=b||255,this._guideLine=[],Z=0;Z<2;Z++)for(n={},S=0===Z?(l="y",(c=p.x)+p.w):(l="x",(c=p.y)+p.h),o=0;o<3;o++)(V=B[o])&&isFinite(V[l])&&b&1<<3*Z+o&&(n[D=(V=V[l+"Line"]).node._id||0]||(n[D]=!0,D=k[D],D="y"===l?(I=D.x,D.x+D.width):(I=D.y,D.y+D.height),A=V.p,this._guideLine.push({type:l,a:c,b:S,c:I,d:D,p:A,center:1===V.type})))},p.prototype.checkAlignAreas=function(l){var V=this._alignGuideAreas;V&&(V.x||V.y)&&["x","y"].forEach(function(p){var E,b,Z,o,A=V[p];A&&(o=A.pre,E=A.next,b=A.sides,Z=A.gap,o?"x"===p&&1e-6<a(Z-(l.x-o.x-o.width))||"y"===p&&1e-6<a(Z-(l.y-o.y-o.height))?delete V[p]:A.list.push([o,l]):E?"x"===p&&1e-6<a(Z-(E.x-l.x-l.width))||"y"===p&&1e-6<a(Z-(E.y-l.y-l.height))?delete V[p]:A.list.push([l,E]):b&&(o=b[0],"x"===p&&1e-6<a(Z-(l.x-o.x-o.width))||"y"===p&&1e-6<a(Z-(l.y-o.y-o.height))?delete V[p]:A.list=[[o,l],[l,b[1]]]))})},p.prototype._binarySearchClosest=function(D,p,B,V){if(!p.length)return{dis:1/0};for(var E,b=D[V],Z=0,o=p.length-1;1<o-Z;)p[E=z$((Z+o)/2)].p<b?Z=E:o=E;function n(p,E){if(!p.node.getRect)return r$;var b=(p=p.node.getRect()).x,Z=p.x+p.width,o=p.y,p=p.y+p.height,A=r$,l=r$;return"x"===V?E.y<o?(A=o-E.y,l="f"):E.y>p&&(A=E.y-p,l="b"):E.x<b?(A=b-E.x,l="f"):E.x>Z&&(A=E.x-Z,l="b"),{distance:A,orn:l}}function A(p){var E=B[p.p];if(!E||1===E.length)return p;var b=p,Z=n(p,D);if(!Z)return p;var o=Z.distance,A=Z.orn;if(o===r$)return p;for(var l=E.length,V=0;V<l;V++){var c=E[V],S=n(c,D),I=S.distance;I!==r$&&A===S.orn&&I<o&&(o=I,b=c)}return b||p}var l=p[Z].p-b,c=p[o].p-b;return a(l)<=a(c)?{line:A(p[Z]),dis:l}:{line:A(p[o]),dis:c}},p.prototype.findClosest=function(p,E,b,Z){var o,A=(S=this._interactor).gv,l=this._grid,V=(b&&(p=J.toWorldPosition(A,p)),this._binarySearchClosest(p,l.x,l.xMap,"x")),p=this._binarySearchClosest(p,l.y,l.yMap,"y"),l=V.dis,c=p.dis,A=A._zoom,S=S.getStyle("smartGuideThreshold")/A,I={};if((!Z&&a(l)<S||Z&&!l)&&"y"!==E&&(I.x=b?l*A:l,I.xLine=V.line,o=!0),(!Z&&a(c)<S||Z&&!c)&&"x"!==E&&(I.y=b?c*A:c,I.yLine=p.line,o=!0),o)return I},p.prototype.gatherRectsGap=function(p,E){for(var b,Z,o,A,l=p.length,V={},c=1;c<l;c++)b=p[c-1],Z=p[c],Hf(b,Z)||(A=E?b.y+b.height:b.x+b.width)<(o=E?Z.y:Z.x)&&((o-=A)<.5||(V[A=o.toFixed(6)]||(V[A]=[]),V[A].push([b,Z])));return V},p.prototype.findAlignClosest=function(p,E){var b,Z,o,A,l,V,c,S,I,D,B,n,k,j=this,W=j._87I,m=(j._alignGuideAreas={x:r$,y:r$},[]),e=[],$=[],Y=[],t=p.x,K=p.x+p.width,r=p.y,H=p.y+p.height,M=1/0;for(k in W)o=(Z=(b=W[k]).x)+b.width,l=(A=b.y)+b.height,Z<=K&&t<=o?(H<A&&Y.push(b),l<r&&e.push(b)):A<=H&&r<=l&&(K<Z&&$.push(b),o<t&&m.push(b));var F,X=j._interactor,G=X.gv._zoom,T=X.getStyle("smartGuideThreshold")/G,g={};if("y"!==E){if(V=function(p,E){return p.x+p.width-(E.x+E.width)},1<m.length)for(var L in m.sort(V),c=j.gatherRectsGap(m),I=(S=m[m.length-1]).x+S.width,c)n=Number(L),(B=a(D=I+n-t))<M&&B<T&&(M=B,g.x=D,j._alignGuideAreas.x={list:c[L],pre:S,gap:n});if(1<$.length)for(var L in $.sort(V),c=j.gatherRectsGap($),I=(S=$[0]).x,c)n=Number(L),(B=a(D=I-K-n))<M&&B<T&&(M=B,g.x=D,j._alignGuideAreas.x={list:c[L],next:S,gap:n});m.length&&$.length&&(X=m[m.length-1],G=$[0],(F=X.x+X.width)<t&&K<G.x&&(n=(G.x-F-p.width)/2,(B=a(D=F+n-t))<M&&B<T&&(g.x=D,j._alignGuideAreas.x={sides:[X,G],gap:n})))}if("x"!==E){if(M=1/0,V=function(p,E){return p.y+p.height-(E.y+E.height)},1<e.length)for(var L in e.sort(V),c=j.gatherRectsGap(e,!0),I=(S=e[e.length-1]).y+S.height,c)n=Number(L),(B=a(D=I+n-r))<M&&B<T&&(M=B,g.y=D,j._alignGuideAreas.y={list:c[L],pre:S,gap:n});if(1<Y.length)for(var L in Y.sort(V),c=j.gatherRectsGap(Y,!0),I=(S=Y[0]).y,c)n=Number(L),(B=a(D=I-H-n))<M&&B<T&&(M=B,g.y=D,j._alignGuideAreas.y={list:c[L],next:S,gap:n});e.length&&Y.length&&(F=e[e.length-1],X=Y[0],(G=F.y+F.height)<r&&H<X.y&&(n=(X.y-G-p.height)/2,(B=a(D=G+n-r))<M&&B<T&&(g.y=D,j._alignGuideAreas.y={sides:[F,X],gap:n})))}return g},p.prototype.drawAlignArea=function(){var p,o,E,b,Z,A,l,V,c,S,I,D,B,n=this._alignGuideAreas;n&&(n.x||n.y)&&(B=(p=this._interactor).gv,o=p._context,E=B.tx(),b=B.ty(),Z=B._zoom,A=function(p){return p.forEach(function(p){p.x=p.x*Z+E,p.y=p.y*Z+b}),Yf(p)},l=[],V=[],o.beginPath(),n.x&&n.x.list&&n.x.list.forEach(function(p){var E=p[0],p=p[1],E=[{x:E.x+E.width,y:E.y},{x:E.x+E.width,y:E.y+E.height},{x:p.x,y:p.y},{x:p.x,y:p.y+p.height}];l.push(A(E))}),n.y&&n.y.list&&n.y.list.forEach(function(p){var E=p[0],p=p[1],E=[{x:E.x,y:E.y+E.height},{x:E.x+E.width,y:E.y+E.height},{x:p.x,y:p.y},{x:p.x+p.width,y:p.y}];V.push(A(E))}),B="rgb(183,232,135)",o.lineWidth=1,o.beginPath(),l.forEach(function(p){var E=p.x,b=p.y,Z=p.width,b=b+p.height/2;o.moveTo(E,b-2),o.lineTo(E,b+2),o.moveTo(E,b),o.lineTo(E+Z,b),o.moveTo(E+Z,b-2),o.lineTo(E+Z,b+2)}),V.forEach(function(p){var E=p.x,b=p.y,Z=p.width,p=p.height;o.moveTo((E=E+Z/2)-2,b),o.lineTo(E+2,b),o.moveTo(E,b),o.lineTo(E,b+p),o.moveTo(E-2,b+p),o.lineTo(E+2,b+p)}),o.strokeStyle=B,o.stroke(),c="12px Arial",S=B,B=p.getStyle("getGuideLineText"),o.textBaseline=Fl,o.textAlign=Hl,o.font=c,n.x&&(I=O$(n.x.gap),B&&(I=B(I)),D=Sf(c,I),l.forEach(function(p){var E=p.x+p.width/2-D.width/2,p=p.y+p.height/2-D.height-2,b=D.width,Z=D.height;o.beginPath(),C6(o,E,p,b,Z,2),o.fillStyle=S,o.fill(),o.fillStyle="#fff",o.fillText(I,E+b/2,p+Z/2)})),n.y&&(I=O$(n.y.gap),B&&(I=B(I)),D=Sf(c,I),V.forEach(function(p){var E=p.x+p.width/2-D.width-2,p=p.y+p.height/2-D.height/2,b=D.width,Z=D.height;o.beginPath(),C6(o,E,p,b,Z,2),o.fillStyle=S,o.fill(),o.fillStyle="#fff",o.fillText(I,E+b/2,p+Z/2)})))},p.prototype._42=function(){if(!u.Default.isCtrlDown()){var p=this._interactor;if(p.getStyle("guideLineVisible")){this.drawAlignArea();var E=this._guideLine;if(E)for(var b,Z,o,A,l,V=p.gv,c=p._context,S=V.tx(),I=V.ty(),D=V._zoom,B=p.getStyle("guideLineTextSpacing"),n=p.getStyle("getGuideLineText"),k=0,j=E.length;k<j;k++){var W=(b=E[k]).type,m=b.p,e=b.a,$=b.b,Y=b.c,t=b.d,K=Z$(e,Y),r=b$($,t),m="x"===W?(o=K*D+I,A=Z=m*D+S,r*D+I):(Z=K*D+S,A=r*D+S,o=m*D+I);J.Icons.DrawIcon(p,c,J.Icons.MoveLineGuide,{rect:[Z,o,A,m],center:b.center}),e<=t&&Y<=$||(K=t<e?t:$,r=t<e?e:Y,"x"===W?(b.center2center||(A=Z-=B),o=K*D+I,m=r*D+I,l=J.Icons.MoveLineGuideDistanceV):"y"===W&&(b.center2center||(m=o-=B),Z=K*D+S,A=r*D+S,l=J.Icons.MoveLineGuideDistanceH),$=O$(r-K),n&&($=n($)),J.Icons.DrawIcon(p,c,l,{x0:Z,y0:o,x1:A,y1:m,dis:$}))}}}},p.prototype.clear=function(){this._guideLine=r$,this._alignGuideAreas=r$};((b=J.Guide.Hover=function(p){this._interactor=p}).prototype={}).constructor=b,t$.defineProperties(b.prototype,{}),b.prototype._42=function(){var p,E,b,Z=this._interactor;Z.getStyle("hoverGuideVisible")&&!Z.gvEditing&&(b=Z.hoverData,E=Z.gv,!y(b)||E.isSelected(b)?Z.hoverData=null:(b=fm(E,b),p=J.toScreenPosition(E,{x:b.x,y:b.y}),E=J.toScreenPosition(E,{x:b.x+b.width,y:b.y+b.height}),(b=Z.getStyle("hoverGuideBorderPattern"))===K$&&(b=[1,4]),J.Icons.DrawIcon(Z,Z._context,J.Icons.HoverDataRect,{min:p,max:E,color:Z.getStyle("hoverGuideColor")||Z.getStyle("baseColor"),borderWidth:Z.getStyle("hoverGuideBorderWidth")||1,borderPattern:b})))},J.DefaultStyleMap={baseColor:"rgb(51,153,255)",pointSize:[24,9],checkSize:7,rotateCheckSize:10,moveSensitivity:10,moveDummyThreshold:32,moveDummyPosition:[0,0,-16,-16],moveDummyLineExtraShift:[-32,0],moveDummySensitivity:16,keepAspectRatio:!1,rotateRound:Math.PI/2,shiftRotateRound:Math.PI/12,rotateSensitivity:Math.PI/60,rotateAsClock:!1,rotateTipVisible:!0,shiftLineRotateRound:Math.PI/4,anchorMovable:!0,anchorVisible:!0,anchorHideThreshold:25,anchorOutsideVisibleThreshold:.25,anchorRound:.25,anchorSensitivity:.02,smartGuideThreshold:8,curveIntersectSize:5,curvePointIntersectSize:8,edgeHostDetectPerFrame:!0,edgeHostEdgeMaxDistance:12,edgeHostEdgeHighlighColor:"#5d5d5d",edgeHostPointHighlighColor:"red",edgeHostHighlighPeriod:1500,edgeElevationEditable:!1,attachThreshold:25,guideLineVisible:!0,guideLineTextSpacing:0,getGuideLineText:K$,hoverGuideVisible:!1,hoverGuideColor:null,gridBlockSize:40,gridThickLinesEvery:10,gridThickColor:"#5d5d5d",gridLightColor:"#d0d0d0",gridZoomThreshold:.25,gridAlignmentGuideColor:"#ff0000",gridAngle:Math.PI/2,gridRotation:0,groupRotateModeDefault:"block",groupRotateModeKey:["ctrlKey","metaKey"],rotateCursorSize:32,rotateCursorRound:45,tipTextColor:"#ffffff",tipBackground:"#333333",curveHighlightColor:"#30599e",rectPointBackground:"white",rectPointBorderColor:"#666666",rectPointShadowColor:"rgba(0,0,0,0.35)",shapeCtrlPointBackground:"white",shapeCtrlPointBorderColor:null,shapeCtrlPointHighlightBorder:null,shapeHighlighPointBackground:"#30599e",curveElevationVisible:!0,curveElevationIntersectSize:8,curveElevationGuideShift:[20,0],curveTipVisible:!0,connectGuideVisible:!0,connectGuideShift:[1,.25,8,0],connectGuideIntersectSize:8,connectGuideGarbageIntersectsize:25,connectGuideGarbageShift:[1,1,-48,-48],moveHelperFilter:r$,rectEditHelperFilter:r$,layoutGuideVisible:!0,selectionBoundingContainsEdge:!1};var o=J.Icons={},m_=null,e_=J.DefaultStyleMap.baseColor,$_="rgb(255,204,153)",Y_=(u.Default.setImage("Icons.RectPoint",{width:6,height:6,comps:[{type:"rect",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return e_}},rect:[0,0,6,6]}]}),o.GroupSubEntityRect={comps:[{type:"shape",points:{func:function(){if(!(E=o.GroupSubEntityRect.data))return[];var p=E.min,E=E.max;return[p.x,p.y,p.x,E.y,E.x,E.y,E.x,p.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return o.GroupSubEntityRect.data.isKeyOb,e_}}}]},o.HoverDataRect={comps:[{type:"shape",points:{func:function(){if(!(b=o.HoverDataRect.data))return[];var p=b.min,E=b.max,b=b.gap;return p.x-=b=b===K$?4:b,p.y-=b,E.x+=b,E.y+=b,[p.x,p.y,p.x,E.y,E.x,E.y,E.x,p.y]}},segments:[1,2,2,2,5],background:null,borderWidth:{func:function(){return o.HoverDataRect.data.borderWidth}},borderColor:{func:function(){return o.HoverDataRect.data.color}},borderCap:"butt",borderPattern:{func:function(){return o.HoverDataRect.data.borderPattern}}}]},o.Line={comps:[{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[o.Line.data.P1.x,o.Line.data.P1.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rect:{func:function(){return[[o.Line.data.P2.x,o.Line.data.P2.y],6,6]}}}]},o.NodeHoverGuide={comps:[{type:"shape",points:{func:function(){return o.NodeHoverGuide.data}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:"#3399FF"}]},o.Rect={comps:[{type:"shape",points:{func:function(){if(!(Z=o.Rect.data))return[];var p=Z.LT,E=Z.LB,b=Z.RB,Z=Z.RT;return[p.x,p.y,E.x,E.y,b.x,b.y,Z.x,Z.y]}},segments:[1,2,2,2,5],background:null,borderWidth:1,borderColor:{func:function(){return e_}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return o.Rect.data.rotation}},rect:{func:function(){return[[o.Rect.data.LT.x,o.Rect.data.LT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return o.Rect.data.rotation}},rect:{func:function(){return[[o.Rect.data.LB.x,o.Rect.data.LB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return o.Rect.data.rotation}},rect:{func:function(){return[[o.Rect.data.RB.x,o.Rect.data.RB.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return o.Rect.data.rotation}},rect:{func:function(){return[[o.Rect.data.RT.x,o.Rect.data.RT.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return o.Rect.data.rotation}},visible:{func:function(){return!!o.Rect.data.L}},rect:{func:function(){return[[o.Rect.data.L.x,o.Rect.data.L.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return o.Rect.data.rotation}},visible:{func:function(){return!!o.Rect.data.R}},rect:{func:function(){return[[o.Rect.data.R.x,o.Rect.data.R.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return o.Rect.data.rotation}},visible:{func:function(){return!!o.Rect.data.T}},rect:{func:function(){return[[o.Rect.data.T.x,o.Rect.data.T.y],6,6]}}},{type:"image",name:"Icons.RectPoint",rotation:{func:function(){return o.Rect.data.rotation}},visible:{func:function(){return!!o.Rect.data.B}},rect:{func:function(){return[[o.Rect.data.B.x,o.Rect.data.B.y],6,6]}}}]},u.Default.setImage("Icons.Anchor",{width:12,height:12,comps:[{type:"shape",borderWidth:1,borderColor:{func:function(){return e_}},borderCap:"round",shadowColor:"#1ABC9C",points:[.50928,6,11.49072,6,6,6,6,.50928,6,11.49072]},{type:"circle",borderWidth:1,borderColor:{func:function(){return e_}},shadowColor:"#1ABC9C",rect:[2.84391,2.84391,6.53697,6.53697]}]}),o.Anchor={comps:[{type:"image",name:"Icons.Anchor",rect:{func:function(){return[[o.Anchor.data.POS.x,o.Anchor.data.POS.y],16,16]}}}]},o.TipShiftX=12,o.TipShiftY=12,[8,28]);o.TipHelper={comps:[{type:"roundRect",rect:{func:function(){return[o.TipHelper.data.helperPos.x,o.TipHelper.data.helperPos.y,Y_[0]*o.TipHelper.data.size,Y_[1]]}},background:{func:function(){return m_.getStyle("tipBackground")}},opacity:.6},{type:"text",text:{func:function(){return o.TipHelper.data.text}},rect:{func:function(){return[o.TipHelper.data.helperPos.x,o.TipHelper.data.helperPos.y,Y_[0]*o.TipHelper.data.size,Y_[1]]}},color:{func:function(){return m_.getStyle("tipTextColor")}},font:"bold 12px Arial",align:"center"}]},o.ShapePoint={comps:[{type:"circle",visible:{func:function(){return!!o.ShapePoint.data.dynamicVisible}},rect:{func:function(){var p=o.ShapePoint.data.point,E=o.ShapePoint.data.size||7;return[p,E+10,E+10]}},background:{func:function(){var p=Date.now(),E=o.ShapePoint.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.5*Math.sin(p%E/E*Math.PI)+")"}},borderWidth:0},{type:"circle",rect:{func:function(){var p=o.ShapePoint.data.point,E=o.ShapePoint.data.size||7;return[p,E,E]}},background:{func:function(){return o.ShapePoint.data.isEnd?"rgba(27,124,222,0.7)":"#ffffff"}},borderWidth:1,borderColor:{func:function(){return o.ShapePoint.data.color||e_}}},{type:"rect",visible:{func:function(){return!!o.ShapePoint.data.dynamicVisible}},background:"red",borderWidth:0,rotation:Math.PI/4,borderColor:{func:function(){return e_}},rect:{func:function(){return[o.ShapePoint.data.point,5,5]}}}]},o.ShapeBgCurve={comps:[{type:"shape",visible:{func:function(){return!!o.ShapeBgCurve.data.dynamicVisible}},points:{func:function(){return o.ShapeBgCurve.data.P}},segments:{func:function(){return o.ShapeBgCurve.data.S}},background:null,borderWidth:6,borderColor:{func:function(){var p=Date.now(),E=o.ShapeBgCurve.data.dynamicPeriod||1500;return"rgba(27,124,22,"+.3*Math.sin(p%E/E*Math.PI)+")"}}},{type:"shape",points:{func:function(){return o.ShapeBgCurve.data.P}},segments:{func:function(){return o.ShapeBgCurve.data.S}},background:null,borderWidth:1,borderColor:{func:function(){return o.ShapeBgCurve.data.color||e_}}}]},o.ShapeHighlighPoint={comps:[{type:"circle",rect:{func:function(){var p=o.ShapeHighlighPoint.data;return[[p.x,p.y],8,8]}},background:{func:function(){return m_.getStyle("shapeHighlighPointBackground")}},borderWidth:0}]},o.ShapeHighlighRealPoint={comps:[{type:"circle",rect:{func:function(){var p=o.ShapeHighlighRealPoint.data;return[[p.x,p.y],10,10]}},background:"#ffffff",borderWidth:2,borderColor:{func:function(){return e_}}}]},o.ShapeHighlighCtrlPoint={comps:[{type:"shape",points:{func:function(){var p=o.ShapeHighlighCtrlPoint.data,E=p.x;return[E-4,(p=p.y)-4,E-4,p+4,E+4,p+4,E+4,p-4]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return m_.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return m_.getStyle("shapeCtrlPointBorderColor")||e_}}}]},o.ShapeHighlightCurve={comps:[{type:"shape",points:{func:function(){return o.ShapeHighlightCurve.data}},segments:[1,4],background:null,borderWidth:3,borderColor:{func:function(){return m_.getStyle("curveHighlightColor")}}}]},o.ShapeGuideLine={comps:[{type:"shape",points:{func:function(){return o.ShapeGuideLine.data}},background:null,borderWidth:1,borderColor:"rgb(255,204,153)"}]},o.MoveLineGuide={comps:[{type:"shape",points:{func:function(){return o.MoveLineGuide.data.rect}},background:null,borderWidth:1,borderColor:{func:function(){return o.MoveLineGuide.data.center?"rgb(183,232,135)":$_}}}]},o.MoveLineGuideDistanceH={comps:[{type:"shape",points:{func:function(){var p=o.MoveLineGuideDistanceH.data,E=p.x0;return[E,(p=p.y0)-5,E,p+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:$_},{type:"shape",points:{func:function(){var p=o.MoveLineGuideDistanceH.data,E=p.x1;return[E,(p=p.y1)-5,E,p+5]}},rotation:-Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:$_},{type:"text",text:{func:function(){return o.MoveLineGuideDistanceH.data.dis}},rect:{func:function(){var p=o.MoveLineGuideDistanceH.data;return[[(p.x0+p.x1)/2,p.y0-10],20,20]}},color:$_,font:"12px Arial",align:"center"}]},o.MoveLineGuideDistanceV={comps:[{type:"shape",points:{func:function(){var p=o.MoveLineGuideDistanceV.data,E=p.x0;return[E-5,p=p.y0,E+5,p]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:$_},{type:"shape",points:{func:function(){var p=o.MoveLineGuideDistanceV.data,E=p.x1;return[E-5,p=p.y1,E+5,p]}},rotation:Math.PI/4,segments:[1,2],background:null,borderWidth:1,borderColor:$_},{type:"text",text:{func:function(){return o.MoveLineGuideDistanceV.data.dis}},rect:{func:function(){var p=o.MoveLineGuideDistanceV.data;return[[p.x0-10,(p.y0+p.y1)/2],20,20]}},color:$_,font:"12px Arial",align:"center"}]},u.Default.setImage("Icons.EdgeElevationGuideImage",{width:16,height:16,comps:[{type:"oval",background:"rgb(255,255,255)",borderWidth:1,borderColor:"rgb(138,138,138)",rect:[.5,.5,15,15]},{type:"shape",borderWidth:2,borderColor:"rgb(44,44,44)",borderCap:"round",points:[4,8,8,4,12,8,8,4,8,13],segments:[1,2,2,1,2]}]}),o.EdgeElevationGuide={comps:[{type:"image",name:"Icons.EdgeElevationGuideImage",rect:{func:function(){var p=(E=o.EdgeElevationGuide.data).x,E=E.y,b=m_.getStyle("curveElevationIntersectSize"),Z=m_.getStyle("curveElevationGuideShift");return[(p+=Z[0])-b,(E+=Z[1])-b,2*b,2*b]}}}]},u.Default.setImage("Icons.ConnectGuideBgImage",{width:12,height:12,comps:[{type:"shape",background:"#3399ff",fillRule:"evenodd",shadowColor:"#1ABC9C",rotation:3.14159,points:[6.00001,11.99999,6.00001,11.99999,2.6863,11.99999,1e-5,9.30695,1e-5,5.99999,1e-5,5.99999,1e-5,2.68628,2.69305,-1e-5,6.00001,-1e-5,12.00001,-1e-5,11.99998,12.00001,6.00001,11.99999],segments:[1,2,4,2,4,2,2,2]}]}),u.Default.setImage("Icons.ConnectGuideHeaderImage",{width:12,height:12,comps:[{type:"oval",background:"#3399FF",borderColor:"#3399FF",shadowColor:"#1ABC9C",rect:[0,0,12,12]},{type:"shape",borderWidth:1,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[4.76,2.56,8.2,5.98,4.76,9.44]}]}),o.ConnectGuide={comps:[{type:"image",name:"Icons.ConnectGuideBgImage",rotation:{func:function(){return o.ConnectGuide.data.rotation}},rect:{func:function(){var p=o.ConnectGuide.data.connect,E=(p.x,p.y,m_.getStyle("connectGuideIntersectSize"));return[[p.x,p.y],2*E,2*E]}}},{type:"image",name:"Icons.ConnectGuideHeaderImage",rect:{func:function(){var p=o.ConnectGuide.data.cursorPos||o.ConnectGuide.data.connect,E=m_.getStyle("connectGuideIntersectSize");return[[p.x,p.y],2*E-2,2*E-2]}}},{type:"shape",background:null,borderColor:"#3399ff",borderWidth:2,segments:[1,4],points:{func:function(){var p=o.ConnectGuide.data.connect,E=o.ConnectGuide.data.cursorPos||p;return[p.x,p.y,p.x+.5*(E.x-p.x),p.y,E.x+.5*(p.x-E.x),E.y,E.x,E.y]}}}]},u.Default.setImage("Icons.ConnectGuideGarbageImage",{width:48,height:48,comps:[{type:"oval",background:"rgba(0,0,0,0.1)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,48,48]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[19.84721,19.69091,19.84721,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[24.10371,19.69091,24.10371,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[28.15279,19.69091,28.15279,32.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[11.23055,15.22377,36.76945,15.189,19.12302,15.17121,20.94722,11.5228,26.41985,11.5228,28.24406,15.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[15.48702,15.22377,17.02595,21.25344]}]}),u.Default.setImage("Icons.ConnectGuideDeletingImage",{width:56,height:56,comps:[{type:"oval",background:"rgba(232,0,0,0.75)",borderColor:"#979797",shadowColor:"#1ABC9C",rect:[0,0,56,56]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[22.67939,27.69091,22.67939,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[26.93588,27.69091,26.93588,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",points:[30.98497,27.69091,30.98497,40.25123]},{type:"shape",borderWidth:2,borderColor:"rgb(255,255,255)",borderCap:"round",shadowColor:"#1ABC9C",anchorX:0,anchorY:1,rotation:5.65062,points:[14.06272,23.22377,39.60163,23.189,21.9552,23.17121,23.7794,19.5228,29.25203,19.5228,31.07623,23.17121]},{type:"rect",borderWidth:2,borderColor:"rgb(255,255,255)",shadowColor:"#1ABC9C",rect:[18.3192,23.22377,17.02595,21.25344]}]}),o.ConnectGuideGarbage={comps:[{type:"image",name:{func:function(){return o.ConnectGuideGarbage.data.hover?"Icons.ConnectGuideDeletingImage":"Icons.ConnectGuideGarbageImage"}},rect:{func:function(){var p=o.ConnectGuideGarbage.data,E=m_.getStyle("connectGuideGarbageIntersectsize");return p.hover&&(E+=5),[[p.x,p.y],2*E,2*E]}}}]},o.ShapeActivingCtrl={comps:[{type:"shape",visible:{func:function(){return!!o.ShapeActivingCtrl.data.c1}},points:{func:function(){var p=o.ShapeActivingCtrl.data;return[p.point.x,p.point.y,p.c1.x,p.c1.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return e_}}},{type:"shape",visible:{func:function(){return!!o.ShapeActivingCtrl.data.c2}},points:{func:function(){var p=o.ShapeActivingCtrl.data;return[p.point.x,p.point.y,p.c2.x,p.c2.y]}},segments:[1,2],background:null,borderWidth:1,borderColor:{func:function(){return e_}}},{type:"shape",visible:{func:function(){return!!o.ShapeActivingCtrl.data.c1}},points:{func:function(){var p=(E=o.ShapeActivingCtrl.data.c1).x,E=E.y,b=3;return"c1"===o.ShapeActivingCtrl.data.hl&&(b+=.5),[p-b,E-b,p-b,E+b,p+b,E+b,p+b,E-b]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return m_.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c1"===o.ShapeActivingCtrl.data.hl?m_.getStyle("shapeCtrlPointHighlightBorder")||e_:m_.getStyle("shapeCtrlPointBorderColor")||e_}}},{type:"shape",visible:{func:function(){return!!o.ShapeActivingCtrl.data.c2}},points:{func:function(){var p=(E=o.ShapeActivingCtrl.data.c2).x,E=E.y,b=3;return"c2"===o.ShapeActivingCtrl.data.hl&&(b+=.5),[p-b,E-b,p-b,E+b,p+b,E+b,p+b,E-b]}},segments:[1,2,2,2,5],borderWidth:2,background:{func:function(){return m_.getStyle("shapeCtrlPointBackground")}},borderColor:{func:function(){return"c2"===o.ShapeActivingCtrl.data.hl?m_.getStyle("shapeCtrlPointHighlightBorder")||e_:m_.getStyle("shapeCtrlPointBorderColor")||e_}}}]},o.RoundPoint={comps:[{type:"circle",background:"rgb(247,247,247)",borderWidth:1,borderColor:{func:function(){return e_}},rect:{func:function(){return[[o.RoundPoint.data.x,o.RoundPoint.data.y],6,6]}}}]},o.AttachPoint={comps:[{type:"rect",background:{func:function(){return o.AttachPoint.data.isAttach?"rgb(51,153,255)":"rgb(247,247,247)"}},borderWidth:1,rotation:Math.PI/4,borderColor:{func:function(){return e_}},rect:{func:function(){var p=o.AttachPoint.data.isAttach?10:6;return[[o.AttachPoint.data.x,o.AttachPoint.data.y],p,p]}}}]},o.SimpleRect={comps:[{type:"rect",background:null,borderWidth:{func:function(){return o.SimpleRect.data.borderWidth||1}},borderColor:{func:function(){return o.SimpleRect.data.color||e_}},rect:{func:function(){var p=o.SimpleRect.data;return[p.x,p.y,p.width,p.height]}}}]},u.Default.setImage("Icons.MoveDummyImage",{width:32,height:32,boundExtend:12,attachStyle:"close",comps:[{type:"oval",background:"rgb(255,255,255)",borderColor:"#979797",shadow:!0,shadowColor:"rgba(0,0,0,0.25)",shadowOffsetX:0,rect:[0,0,32,32]},{type:"shape",background:"rgb(51,153,255)",pixelPerfect:!0,points:[8.65079,11.90713,9.05502,11.46921,9.70629,11.46921,10.11052,11.90713,10.51476,12.28891,10.51476,12.92895,10.11052,13.34441,8.49359,14.97258,12.2889,14.97258,12.85034,14.97258,13.29949,15.42172,13.29949,15.99439,13.29949,16.57828,12.85034,17.0162,12.2889,17.0162,8.49359,17.0162,10.11052,18.6556,10.51476,19.0486,10.51476,19.7111,10.11052,20.09288,9.70629,20.50834,9.05502,20.50834,8.65079,20.09288,5.32709,16.76917,5.28217,16.71303,4.87794,16.32002,4.87794,15.67998,5.28217,15.26452,8.65079,11.90713,8.65079,11.90713,8.65079,11.90713,13.3444,10.09931,13.3444,10.09931,12.94017,10.50354,12.2889,10.50354,11.88467,10.09931,11.48043,9.69507,11.48043,9.0438,11.88467,8.63957,15.27574,5.25973,15.66874,4.86672,16.32001,4.86672,16.73547,5.25973,16.76917,5.31586,20.10409,8.63957,20.50832,9.0438,20.50832,9.68385,20.10409,10.09931,19.69986,10.49231,19.07105,10.50354,18.64436,10.09931,17.02742,8.45991,17.02742,12.26646,17.02742,12.83912,16.55581,13.31072,15.99438,13.31072,15.43295,13.31072,14.98379,12.83912,14.98379,12.26646,14.96134,8.45991,13.3444,10.09931,13.3444,10.09931,13.3444,10.09931,21.90069,13.33318,21.90069,13.33318,21.49646,12.91771,21.49646,12.27768,21.90069,11.89591,22.31615,11.45798,22.94497,11.45798,23.36043,11.89591,26.72904,15.2533,27.12205,15.66876,27.12205,16.3088,26.72904,16.7018,26.6729,16.75794,23.36043,20.08165,22.94497,20.49711,22.31615,20.49711,21.90069,20.08165,21.49646,19.69987,21.49646,19.03737,21.90069,18.64437,23.51763,17.00498,19.72231,17.00498,19.14965,17.00498,18.71173,16.56705,18.71173,15.98316,18.71173,15.41049,19.14965,14.96135,19.72231,14.96135,23.51763,14.96135,21.90069,13.33318,21.90069,13.33318,21.90069,13.33318,11.88467,23.32675,11.88467,23.32675,11.48043,22.94498,11.48043,22.27125,11.88467,21.88948,12.2889,21.48523,12.94017,21.48523,13.3444,21.88948,14.96134,23.52887,14.98379,19.7111,14.98379,19.14966,15.43295,18.67805,15.99438,18.67805,16.55581,18.67805,17.02742,19.14966,17.02742,19.7111,17.02742,23.52887,18.64436,21.88948,19.07105,21.48523,19.69986,21.48523,20.10409,21.88948,20.50832,22.27125,20.50832,22.94498,20.10409,23.32675,16.76917,26.65045,16.73547,26.72905,16.32001,27.13329,15.66874,27.13329,15.27574,26.72905,11.88467,23.32675,11.88467,23.32675,11.88467,23.32675],segments:[1,4,4,2,2,4,4,2,2,4,4,2,2,4,2,2,2,1,2,4,4,2,4,2,2,4,4,2,2,4,4,2,2,2,2,1,2,4,4,2,4,2,2,4,4,2,2,4,4,2,2,2,2,1,2,4,4,2,2,4,4,2,2,4,4,2,2,4,2,2,2]}]}),o.MoveDummy={comps:[{type:"image",name:"Icons.MoveDummyImage",rect:{func:function(){var p=o.MoveDummy.data;return[[p.pos.x,p.pos.y],2*p.size,2*p.size]}}}]},J.Icons.DrawIcon=function(p,E,b,Z){b.width=b.height=1e4,b.data=Z,m_=p,u.Default.drawImage(E,b,0,0,1e4,1e4),m_=K$},J.Icons.MapPoints=function(p,E){for(var b=0,Z=p.length;b<Z;b++)p[b]/=E},J.roundTo=function(p,E,b){var Z=Math.abs(p%E);return Z<b||E-Z<b?E*Math.round(p/E):p},J.toFixed=function(p){return Math.round(100*p)/100},J.getDataMatrix=function(p){var E,b;return p instanceof u.Shape?(E=new u.Math.Matrix2d,b=p.getPosition(),E.translate(-b.x,-b.y).scale(p.getScale().x,p.getScale().y).rotate(p.getRotation()).translate(b.x,b.y),E):p.getMatrix?p.getMatrix():new u.Math.Matrix2d},(((Z=J.Math.Curve=function(){this._curves=[]}).prototype={}).constructor=Z).prototype.createFromHtShape=function(E,p,b){p instanceof u.List&&(p=p.toArray());for(var Z,o,A,l,V=null,c=null,S=0,I=J.Math.Vector2,D=J.Math.CubicBezier,B=function(p){return new I(E[p],E[p+1],b?b[p/2]:K$)},n=0,k=p.length;n<k;n++){switch(o=null,p[n]){case 1:V=c=B(S),S+=2;break;case 2:Z=B(S),S+=2,o=new D(c,c.clone(),Z.clone(),Z),c=Z;break;case 3:A=B(S),Z=B(S+2),S+=4,o=new D(c,A.clone().sub(c).multiplyScalar(2/3).add(c),A.clone().sub(Z).multiplyScalar(2/3).add(Z),Z),c=Z;break;case 4:A=B(S),l=B(S+2),Z=B(S+4),S+=6,o=new D(c,A,l,Z),c=Z;break;case 5:if(!V)break;o=new D(c,c.clone(),V.clone(),V),V=c=null}o&&(o._index=this._curves.length,this._curves.push(o))}},Z.prototype.checkPoint=function(p,E){for(var b,Z,o,A=this._curves,l=0,V=A.length;l<V;l++)if((o=(Z=A[l]).intersectRect(p,E,E)).length)return b=0,o.forEach(function(p){b+=p.t}),b/=o.length,(p=Z.getPointAt(b)).t=b,{bezier:Z,intersection:p}},Z.prototype.insertKnot=function(p,E){E=p.insertKnot(E),this._curves.splice(p._index,1,E[0],E[1])},Z.prototype._isCloseEnough=function(p,E){return Math.abs(p.x-E.x)<1e-6&&Math.abs(p.y-E.y)<1e-6},Z.prototype._isSamePoint=function(p,E){return p===E},Z.prototype.moveRealPoint=function(Z,o){var A=this,p=A._curves,l=o.clone().sub(Z);p.forEach(function(p){var E=p._p1,b=(p._p2,p._p3,p._p4);A._isSamePoint(E,Z)&&(p._p2.add(l),p._p1=o),A._isSamePoint(b,Z)&&(p._p3.add(l),p._p4=o)})},Z.prototype.moveCtrlDueToRealPointMovement=function(Z,E){function o(p){p.add(E),p.e&&E.e&&(p.e+=E.e)}var A=this;A._curves.forEach(function(p){var E=p._p1,b=(p._p2,p._p3,p._p4);A._isSamePoint(E,Z)&&o(p._p2),A._isSamePoint(b,Z)&&o(p._p3)})},Z.prototype.moveCtrlPoint=function(p,b,Z){var o,E,A=p[Z];A&&(A.e!==K$&&(b.e=A.e),E=(o=this)._curves,b.clone().sub(A),E.forEach(function(p){var E;"c2"===Z?E="_p2":"c1"===Z&&(E="_p3"),o._isSamePoint(p[E],A)&&(p[E]=b)}),p[Z]=b)},Z.prototype.deleteRealPoint=function(p,E){for(var b,Z,o,A,l=this._curves,V={},c=[],S=J.Math.CubicBezier,I=0,D=l.length;I<D;I++)Z=(b=l[I])._p1,o=b._p2,b._p3,A=b._p4,!V[I]&&this._isSamePoint(Z,p)||(this._isSamePoint(A,p)?I+1<D&&this._isSamePoint(l[I+1]._p1,p)&&(E||c.push(new S(Z,o,l[I+1]._p3,l[I+1]._p4))):c.push(b));this._curves=c},Z.prototype.findPairs=function(p,E){for(var b,Z,o,A,l=this._curves,V={},c=[],S=0,I=l.length;S<I;S++)b=(o=l[S])._p1,A=o._p2,Z=o._p3,o=o._p4,!V[S]&&this._isSamePoint(b,p)&&(E?c.push({point:b,r2:o}):c.push({point:b,c2:A})),this._isSamePoint(o,p)&&(A=E?{point:o,r1:b}:{point:o,c1:Z},S+1<I&&this._isSamePoint(l[S+1]._p1,p)&&(E?A.r2=l[S+1]._p4:A.c2=l[S+1]._p2,V[S+1]=!0),c.push(A));return c},Z.prototype.toHtShape=function(p){var o=this,p=p||o._curves,A=[],l=[],V={x:1/0,y:1/0};return p.forEach(function(p){var E=p._p1,b=p._p2,Z=p._p3,p=p._p4;if(o._isCloseEnough(E,V)||(A.push(1),l.push(E.clone())),V=p,o._isCloseEnough(E,b)&&o._isCloseEnough(Z,p))return A.push(2),void l.push(p.clone());A.push(4),l.push(b.clone(),Z.clone(),p.clone())}),{segments:A,points:l}},Z.prototype.truncate=function(p,E){for(var b=this.length*(E?1-p:p),Z=0,o=this._curves,A=0,l=0;A<o.length;A++){var V=o[A].length;if(b<=(Z+=V))break;l+=V}var p=o[A].insertKnot((b-l)/o[A].length),c=E?o.slice(A+1):o.slice(0,A);return E?c.unshift(p[1]):c.push(p[0]),this.toHtShape(c)},t$.defineProperties(Z.prototype,{length:{get:function(){var E;return this._cacheLength||(E=0,this._curves.forEach(function(p){E+=p.length}),this._cacheLength=E),this._cacheLength}}});(pl=J.Math.CubicBezier=function(p,E,b,Z){this._id=J.Math.CubicBezier._globalId++,this._p1=p,this._p2=E,this._p3=b,this._p4=Z})._globalId=1,((pl.prototype={}).constructor=pl).prototype.toString=function(){return this._id},pl.prototype.intersectRect=function(p,E,b){var E=E/2,b=b/2,Z=p.x,p=p.y,o=new(A=J.Math.Vector2)(-E+Z,-b+p),E=new A(E+Z,b+p),Z=new A(E.x,o.y),b=new A(o.x,E.y),p=this.intersectLine(o,Z),A=this.intersectLine(Z,E),Z=this.intersectLine(E,b),E=this.intersectLine(b,o);return p.concat(A).concat(Z).concat(E)},pl.prototype.intersectLine=function(p,E){var b=p.clone().min(E),Z=p.clone().max(E),o=this._p1,A=this._p2,l=this._p3,V=this._p4,c=o.clone().multiplyScalar(-1),S=A.clone().multiplyScalar(3),I=l.clone().multiplyScalar(-3),V=c.add(S).add(I).add(V);c=o.clone().multiplyScalar(3),S=A.clone().multiplyScalar(-6),I=l.clone().multiplyScalar(3),l=c.add(S).add(I),c=o.clone().multiplyScalar(-3),S=A.clone().multiplyScalar(3);for(var I=c.add(S),A=o.clone(),c=new J.Math.Vector2(p.y-E.y,E.x-p.x),S=p.x*E.y-E.x*p.y,D=this.getRoots(c.dot(V),c.dot(l),c.dot(I),c.dot(A)+S),B=new Array,n=0,k=D.length;n<k;n++){var j,W=D[n];W<0||1<W||((j=this.getPointAt(W)).t=W,p.x==E.x?b.y<=j.y&&j.y<=Z.y&&B.push(j):p.y==E.y?b.x<=j.x&&j.x<=Z.x&&B.push(j):j.x>=b.x&&j.y>=b.y&&j.x<=Z.x&&j.y<=Z.y&&B.push(j))}return B},pl.prototype.solveTForPoint=function(p){for(var E=this._p1.x-p.x,b=this._p2.x-p.x,Z=this._p3.x-p.x,o=this._p4.x-p.x,A=this.getRoots(o-3*Z+3*b-E,3*Z-6*b+3*E,3*b-3*E,E),l=K$,V=1/0,c=0,S=A.length;c<S;c++){var I,D=A[c];D<0||1<D||((I=this.getPointAt(D)).t=D,(D=Math.abs(I.y-p.y))<V&&(V=D,l=I))}return l},pl.prototype.getPointAt=function(p){var E=this._p1,b=this._p2,Z=this._p3,o=this._p4,E=E.clone().lerp(b,p),b=b.clone().lerp(Z,p),Z=Z.clone().lerp(o,p),o=E.lerp(b,p),E=b.lerp(Z,p);return o.lerp(E,p)},pl.prototype.getPointByPercentage=function(p){var E=this.length*p,b=this._cacheLength,Z=b.length;if(0==E)return b[0].point;if(1<=p)return b[Z-1].point;for(var o=0;o<Z;o++){var A,l=b[o];if(!(l.len<E))return A=b[o-1],l.point.clone().sub(A.point).setLength(E-A.len).add(A.point)}},pl.prototype.getTByPercentage=function(p){var E=this.length*p,b=this._cacheLength,Z=b.length;if(0==E||p<=0)return b[0].t;if(1<=p)return b[Z-1].t;for(var o=0;o<Z;o++){var A,l=b[o];if(!(l.len<E))return(E-(A=b[o-1]).len)/(l.len-A.len)*(l.t-A.t)+A.t}},pl.prototype.getRoots=function(p,E,b,Z){var o,A,l,V,c=new Array,S=(Math.abs(p)<1e-6&&(0<(S=(o=b/(l=E))*o-Z/l*4)?(A=Math.sqrt(S),c.push(.5*(-o+A)),c.push(.5*(-o-A))):0==S&&c.push(.5*-o)),(E/=p)/3),p=(o=(2*E*E*E-9*(b/=p)*E+27*(Z/=p))/27)*o/4+(l=(3*b-E*E)/3)*l*l/27,Z=o/2;return 0<(p=Math.abs(p)<=1e-6?0:p)?(b=0<=(V=-Z+(A=Math.sqrt(p)))?Math.pow(V,1/3):-Math.pow(-V,1/3),0<=(V=-Z-A)?b+=Math.pow(V,1/3):b-=Math.pow(-V,1/3),c.push(b-S)):p<0?(E=Math.sqrt(-l/3),o=Math.atan2(Math.sqrt(-p),-Z)/3,A=Math.cos(o),b=Math.sin(o),l=Math.sqrt(3),c.push(2*E*A-S),c.push(-E*(A+l*b)-S),c.push(-E*(A-l*b)-S)):(V=0<=Z?-Math.pow(Z,1/3):Math.pow(-Z,1/3),c.push(2*V-S),c.push(-V-S)),c},pl.prototype._70I=function(){return this._p1.distanceToSquared(this._p2)<1e-10&&this._p3.distanceToSquared(this._p4)<1e-10},pl.prototype.insertKnot=function(p){var E=this._p1,b=this._p2,Z=this._p3,o=this._p4,A=E.clone().lerp(b,p),b=b.clone().lerp(Z,p),Z=Z.clone().lerp(o,p),l=A.clone().lerp(b,p),b=b.clone().lerp(Z,p),V=l.clone().lerp(b,p);return this._70I()?(E.clone().lerp(o,p),[new J.Math.CubicBezier(E,E.clone(),V.clone(),V),new J.Math.CubicBezier(V,V.clone(),o.clone(),o)]):[new J.Math.CubicBezier(E,A,l,V),new J.Math.CubicBezier(V,b,Z,o)]},t$.defineProperties(pl.prototype,{length:{get:function(){if(!(p=this._cacheLength))for(var p=this._cacheLength=[],E=this._p1,b=0,Z=0;b<=1;){var o=this.getPointAt(b+=.001);Z+=o.clone().sub(E).length(),p.push({len:Z,t:b,point:(E=o).clone()})}return p[p.length-1].len}},p1:{get:function(){return this._p1},set:function(p){this._p1=p,this._cacheLength=K$}},p2:{get:function(){return this._p2},set:function(p){this._p2=p,this._cacheLength=K$}},p3:{get:function(){return this._p3},set:function(p){this._p3=p,this._cacheLength=K$}},p4:{get:function(){return this._p4},set:function(p){this._p4=p,this._cacheLength=K$}}});var t_,K_,r_,H_,_P=u.Default.getInternal().ui().EdgeUI,M_={_47O:function(p){var E=M_.getBackups()._47O;J.inEdit(this.gv)||E.call(this,p)}},zP=(J.Inject.registAsModule(M_,_P),u.Default.getInternal().ui().NodeUI),F_={_47O:function(p){var E=F_.getBackups()._47O;J.inEdit(this.gv)||E.call(this,p)},getSelectWidth:function(){var p=this.gv,E=this._data;return p.isEditable(E)&&J.inEdit(p)?0:F_.getBackup("getSelectWidth").call(this)}},X_=(J.Inject.registAsModule(F_,zP),u.graph.GraphView),G_={_editPointSize:(LP=u.Default.isTouchable,J.getStyle("pointSize")[LP?0:1]),isPointEditable:function(p){if(J.inEdit(this))return!this._pointEditableFunc||this._pointEditableFunc(p);G_.getBackup("isPointEditable").call(this,p)},isEditable:function(p){var E=G_.getBackup("isEditable"),E=p instanceof J.Group||E.call(this,p);return J.inEdit(this)&&p instanceof u.Edge?!!p.s("2d.editable")&&(!(E=this.getEditableFunc())||E(p)):E},_42:function(p,E){G_.getBackups()._42.call(this,p,E),J.inEdit(this)&&this.getEditInteractor().drawImpl()}},uP=(J.Inject.registAsModule(G_,X_),u.Default.getInternal().ui().ShapeUI),T_={_47O:function(p){var E=T_.getBackups()._47O;J.inEdit(this.gv)||E.call(this,p)}},V_=(J.Inject.registAsModule(T_,uP),u.graph.DefaultInteractor),g_={handle_mousewheel:function(p){var E=g_.getBackup("handle_mousewheel");J.inEdit(this.gv)||E.call(this,p)}},S_=(J.Inject.registAsModule(g_,V_),u.graph.MoveInteractor);J.Inject.registAsModule(WN(),S_),J.Inject.registAsModule(WN(),u.graph.TouchInteractor),(((p=J.Rect=function(p){this.catalog="Rect",this._interactor=p}).prototype={}).constructor=p).prototype.gatherInfo=function(p,E){var b;return 1===E.length?(b=E[0])instanceof u.Shape&&b._70I()?this.gatherLine(p,b):!U1(b,p)&&this.gatherSingleTarget(p,b):1<E.length&&this.gatherMultiTargets(p,E)},p.prototype.gatherSingleTarget=function(p,E){if(E.getCorners){var b,Z,o=this.info,A=(this.target=E,b=this.screenInfo={},E.getCorners());for(Z in o.LT=new J.Math.Vector2(A[0]),o.LB=new J.Math.Vector2(A[1]),o.RB=new J.Math.Vector2(A[2]),o.RT=new J.Math.Vector2(A[3]),o.T=o.LT.clone().add(o.RT).divideScalar(2),o.B=o.LB.clone().add(o.RB).divideScalar(2),o.L=o.LT.clone().add(o.LB).divideScalar(2),o.R=o.RT.clone().add(o.RB).divideScalar(2),o)b[Z]=J.toScreenPosition(p,o[Z]);var l=this._interactor.getStyle("checkSize");return b.rotLT=(A=function(p,E,b){return E=E.clone().sub(p).setLength(-l),b=b.clone().sub(p).setLength(-l),E.add(b).add(p)})(b.LT,b.RT,b.LB),b.rotLB=A(b.LB,b.LT,b.RB),b.rotRB=A(b.RB,b.LB,b.RT),b.rotRT=A(b.RT,b.LT,b.RB),b.rotT=b.rotLT.clone().add(b.rotRT).divideScalar(2),b.rotB=b.rotLB.clone().add(b.rotRB).divideScalar(2),b.rotL=b.rotLT.clone().add(b.rotLB).divideScalar(2),b.rotR=b.rotRT.clone().add(b.rotRB).divideScalar(2),b.rotation=E.getRotation(),this.gatherConnectInfo(),!0}},p.prototype.gatherConnectInfo=function(){var p,E,b=this.target,Z=this._interactor,o=this.screenInfo,A=Z.gv;A.isConnectActionVisible(b)&&Z.getStyle("connectGuideVisible")&&(p=(p=b.s?b.s("connectGuideShift"):p)||Z.getStyle("connectGuideShift"),Z=b.getAnchor(),E=b.getSize(),b=b.toGlobal({x:E.width*(p[0]-Z.x),y:E.height*(p[1]-Z.y)}),b=J.toScreenPosition(A,b),o.P1?b.add(o.P2.clone().sub(o.P1).setLength(p[2])):(b.add(o.RT.clone().sub(o.LT).setLength(p[2])),b.add(o.LB.clone().sub(o.LT).setLength(p[3]))),o.connect=b)},p.prototype.gatherMultiTargets=function(p,E){if(!(E=J.Group.findOrCreateGroup(E,this._interactor._uuid)))return!1;var b=this._interactor;return this.editing&&"rotate"!==this.editing.mode||E.calcInfo(p,b),this.gatherSingleTarget(p,E)},p.prototype.gatherLine=function(p,E){this.target=E;var b=this.screenInfo={},Z=E.getPoints(),E=J.getDataMatrix(E);return b.P1=J.toScreenPosition(p,E.apply(Z.get(0))),b.P2=J.toScreenPosition(p,E.apply(Z.get(1))),this.gatherConnectInfo(),!0},p.ResizeKeys=["LT","RB","LB","RT","L","R","B","T"],p.ResizeDirection=[{x:-1,y:-1},{x:1,y:1},{x:-1,y:1},{x:1,y:-1},{x:-1,y:0},{x:1,y:0},{x:0,y:1},{x:0,y:-1}],p.RotateKeys=["rotLT","rotRB","rotLB","rotRT","rotL","rotR","rotB","rotT"],p.prototype.check=function(p,E,b){if(u.Default.isLeftButton(E)){var Z=this;if(Z.editing=null,Z.tipInfo=null,Z.screenInfo){var o=Z.target,A=p.isEditable(o),l=Z.screenInfo;if(A&&l.connect)if(S=Z._checkConnect(b))return S;if(l.P1)return Z._checkLine(b);var V,c,S,I=null,D=(S=Z._interactor).getStyle("checkSize");if(A&&p.isRectEditable(o))for(n=0;n<J.Rect.ResizeKeys.length;n++)if(c=J.Rect.ResizeKeys[n],J.checkHit(b,l[c],D)){I=c,V="resize";break}if(!I&&A&&p.isRotationEditable(o)&&!S.getStyle("rotateAsClock"))for(var B=S.getStyle("rotateCheckSize"),n=0;n<J.Rect.RotateKeys.length;n++)if(c=J.Rect.RotateKeys[n],J.checkHit(b,l[c],B)){I=c,V="rotate";break}if(I){if("rotate"===V){if(A=p.lp(E),o instanceof J.Group){for(var k=S.getStyle("groupRotateModeKey"),j=!1,W=0,m=(k="string"==typeof k?[k]:k).length;W<m;W++)if(E[k[W]]){j=!0;break}var p=S.getStyle("groupRotateModeDefault"),e=j?"batch"===p?"block":"batch":p}p="batch"===e?o.getAnchor2():o.getPosition(),A=Math.atan2(A.y-p.y,A.x-p.x),S._setRotateCursor(A),Z.editing={mode:V,key:I,pos:p,flipY:o.getScale().y<0,rotation:o.getRotation(),hitRot:A},e&&(Z.editing.groupRotateMode=e)}else{var p=J.Rect.ResizeKeys.indexOf(I),A=J.Rect.ResizeDirection[p],e=Math.cos(o.getRotation()),p=Math.sin(o.getRotation()),$=A.x*Math.sign(o.getScale().x),A=A.y*Math.sign(o.getScale().y),e=Math.atan2(-p*$-e*A,e*$-p*A),$=(Math.round(e/(Math.PI/4))+8)%8,p=(this._interactor.setCursor(["ew-resize","nesw-resize","ns-resize","nwse-resize","ew-resize","nesw-resize","ns-resize","nwse-resize"][$]),o.getWidth()),A=o.getHeight(),e=o.getAnchor();Z.editing={mode:V,key:I,rect:{x:-p*e.x,y:-A*e.y,width:p,height:A},anchor:e,matrix:o.getMatrix()}}return I}S.setCursor("default")}}},p.prototype._checkLine=function(p){this.screenInfo;var E,b=this._interactor.getStyle("checkSize");if(J.checkHit(p,this.screenInfo.P1,b))E="P1";else{if(!J.checkHit(p,this.screenInfo.P2,b))return void this._interactor.setCursor("default");E="P2"}return this.editing={mode:"line",key:E},E},p.prototype._checkConnect=function(p){var E,b,Z=this.screenInfo,o=this._interactor,A=o.getStyle("connectGuideIntersectSize"),Z=Z.connect,l=p.x,V=Z.x;if(l<V&&V-l<A&&Math.abs(Z.y-p.y)<A||V<=l&&J.checkHit(p,Z,A))return E=H$.getConnectAction(o.gv),this.editing={mode:"connect"},E&&E.delete&&(this.target instanceof J.Group?(b=!0,o.gv.sm().getSelection().each(function(p){E.delete.visible.call(null,o.gv,p)||(b=!1)}),this.editing.hasDeleteAction=b):E.delete.visible.call(null,o.gv,this.target)&&(this.editing.hasDeleteAction=!0)),o.setCursor("default"),"connect"},p.prototype._fireEditEvent=function(p,E){var b=this._interactor,Z=this.editing;Z&&(Z="rotate"===(Z=Z.mode)?"Rotation":"connect"===Z?"Connection":"resize"===Z?"Rect":Z[0].toUpperCase()+Z.slice(1),b.fi({kind:p+"Edit"+Z,event:E}))},p.prototype._roundAngleTo360=function(p){var E=p.getRotation();return(p=p.getScale()).x<0&&p.y<0?E=Math.PI+E:p.y<0?E=2*Math.PI-E:p.x<0&&(E=Math.PI-E),u.Math.modToPositive(180*E/Math.PI,360)},p.prototype.isOrthogonalAngle=function(p){return p=this._roundAngleTo360(p)%90,Math.abs(p-(45<p?90:0))<.001},p.prototype.isRightOrInvertedAngle=function(p){return p=this._roundAngleTo360(p),Math.abs(p-90)<.001||Math.abs(p-270)<.001},p.prototype.startEdit=function(p,E){p.startDragging(E),this._interactor.fi({kind:"prepareEdit",event:E});var b,Z=this.editing,o=this.target;if(Z){if(this._fireEditEvent("begin",E),Z.started=!0,"rotate"===Z.mode)return Z.groupRotateMode&&o.beginRotate(Z),void p._42();"connect"===Z.mode?Z.hasDeleteAction&&(E=p.gv,b=this._interactor.getStyle("connectGuideGarbageShift"),Z.garbageInfo={x:E.getWidth()*b[0]+b[2],y:E.getHeight()*b[1]+b[3],size:this._interactor.getStyle("connectGuideGarbageIntersectsize")},p._42()):("line"===Z.mode||o&&this.isOrthogonalAngle(o))&&(this._inSmartGuide=!0,this._interactor.rectGuide.gatherRects())}},p.prototype._46O=function(p){var E,b,Z=this,o=Z.editing,A=Z.target;if(o){if("connect"===o.mode&&!o.canceled&&!o.deleted)try{o.garbageInfo&&o.garbageInfo.hover?H$.doDeleteConnectionAction(Z._interactor.gv,A):H$.doConnectAction(Z._interactor.gv,A,o.target)}catch(p){console.error(p)}b=o.freezeFlag,E=Z.editing.groupRotateMode,Z._fireEditEvent("end",p),Z.editing=null}Z.tipInfo=null,Z._inSmartGuide&&(Z._interactor.rectGuide.clear(),Z._inSmartGuide=!1),E&&A&&A.endRotate(),A instanceof u.Block&&(b===K$?delete A._freezeSyncFromChildren:A._freezeSyncFromChildren=b,A.updateFromChildren())},p.prototype.handleNormalStateDelete=function(){var p=this.editing;if(p&&"connect"===p.mode&&!p.canceled&&!p.deleted){if(p.garbageInfo){try{H$.doDeleteConnectionAction(this._interactor.gv,this.target)}catch(p){console.error(p)}p.garbageInfo=null}return p.cursorPos=null,p.targetCorners=null,p.deleted=!0,this._interactor._42(),!0}},p.prototype.handleNormalStateKeyDown=function(p){var E=this.editing;if(E&&"connect"===E.mode&&!E.canceled&&!E.deleted)return u.Default.isEsc(p)?(E.cursorPos=null,E.targetCorners=null,E.canceled=!0,this._interactor._42(),!0):void 0},p.prototype.handleEdit=function(E,p){var b=this,Z=b.editing;if(Z){var o,A,l=b.target,V=Z.key,c=Z.mode,S=E.lp(p),I=b._interactor;if("connect"===c)return Z.canceled?void 0:Z.deleted?void 0:(Z.cursorPos=I._getLogicalPoint(p),(m=Z.garbageInfo)&&J.checkHit(Z.cursorPos,m,m.size)?(m.hover=!0,Z.target=null,Z.targetCorners=null):(m&&(m.hover=!1),Z.target=E.getDataAt(S,function(p){return!!E.isSelectable(p)&&!!y(p)})||null,Z.targetCorners=J.getTargetCornersOnScreen(E,Z.target)),void I._42());if("rotate"===c){m=Z.pos,m=Math.atan2(S.y-m.y,S.x-m.x),e=Z.groupRotateMode?m-Z.hitRot:(W=m-Z.hitRot,Z.rotation+W),(e%=2*Math.PI)<0&&(e+=2*Math.PI),u.Default.isCtrlDown(p)||(n=jf(p)?(D=I.getStyle("shiftRotateRound"))/2:(D=I.getStyle("rotateRound"),I.getStyle("rotateSensitivity")),e=J.roundTo(e,D,n)),Z.groupRotateMode?0!=(W=e-(Z.lastRotation||0))&&(l.addRotation(W,Z.groupRotateMode,function(p){return E.isRotationEditable(p)}),Z.lastRotation=e):l.setRotation(e),I._setRotateCursor(m),e>Math.PI&&(e-=2*Math.PI);var D=(e/Math.PI*180).toFixed(2)+""}else if("resize"===c){var B,n=Z.rect,k=n.x,j=n.y,W=n.width,m=n.height,e=Z.anchor,$=Z.matrix,Y=l.s&&l.s("keepAspectRatio")||I.getStyle("keepAspectRatio"),t=(jf(p)&&(Y=!Y),b._unionPointMode1),K=b._unionPointMode2,r=!0,r=((H=b._interactor.getStyle("resizeHelperFilter"))&&(r=H(l instanceof J.Group?l._entities:[l])),b._inSmartGuide&&!u.Default.isCtrlDown(p)&&r&&!Y&&("L"===V||"R"===V?B="x":"T"!==V&&"B"!==V||(B="y"),b.isRightOrInvertedAngle(l)&&B&&(B="x"===B?"y":"x"),b._adsorbedToClosest(S,B),A=!0),H=$.tfi(S),"LT"===V?n=t(H,{x:k+W,y:j+m},W,m,Y):"T"===V?n=K({x:k,y:H.y},{x:k+W,y:j+m},W,m,Y,"v"):"RT"===V?n=t(H,{x:k,y:j+m},W,m,Y):"L"===V?n=K({x:H.x,y:j},{x:k+W,y:j+m},W,m,Y,"h"):"R"===V?n=K({x:k,y:j},{x:H.x,y:j+m},W,m,Y,"h"):"LB"===V?n=t(H,{x:k+W,y:j},W,m,Y):"B"===V?n=K({x:k,y:j},{x:k+W,y:H.y},W,m,Y,"v"):"RB"===V&&(n=t(H,{x:k,y:j},W,m,Y)),0),K=[0,5,2,3],t=(l.getScaleX&&l.getScaleX()*l.getScaleY()<0&&(K=[2,5,0,3]),Math.round(b._roundAngleTo360(l)/90)),H=(0<=V.indexOf("T")&&(r|=1<<K[(0+t)%4]),0<=V.indexOf("R")&&(r|=1<<K[(1+t)%4]),0<=V.indexOf("B")&&(r|=1<<K[(2+t)%4]),0<=V.indexOf("L")&&(r|=1<<K[(3+t)%4]),$.tf(n.x+n.width*e.x,n.y+n.height*e.y));l instanceof u.Block&&(Z.hasOwnProperty("freezeFlag")||(Z.freezeFlag=l._freezeSyncFromChildren,l._freezeSyncFromChildren=!0)),l.setPosition(H),l.setSize(n.width,n.height),A&&(o=l.getRect(),I.rectGuide.gatherLines({node:l,x:o.x,y:o.y,w:o.width,h:o.height},B,r)),D=Math.round(n.width)+" * "+Math.round(n.height)}else if("line"===c){if(jf(p)){var W=l.getPoints(),m="P1"===V?W.get(1):W.get(0),M=S.x-m.x,F=S.y-m.y,X=I.getStyle("shiftLineRotateRound"),G=b._shiftDirList;if(!G||b._shiftRotateRound!==X){b._shiftRotateRound=X,b._shiftDirList=G=[];for(var T=0;T<Math.PI;T+=X)G.push({x:k$(T),y:M$(T)})}for(var g,L=0,x=0,C=G.length;x<C;x++){var h=G[x],P=h.x*M+h.y*F;Math.abs(P)>Math.abs(L)&&(L=P,g=h)}S={x:m.x+g.x*L,y:m.y+g.y*L},I.rectGuide.clear()}else b._inSmartGuide&&!u.Default.isCtrlDown(p)&&(b._adsorbedToClosest(S),A=!0);Y=J.getDataMatrix(l).applyInverse(S),l.setPoint("P1"===V?0:1,Y,!0),t=(K=l.getPoints()).get(0),$=K.get(1),k=t.x-$.x,j=t.y-$.y,D=" "+Math.round(Math.sqrt(k*k+j*j))+" ",A&&(o=l.getRect(),I.rectGuide.gatherLines({node:l,x:o.x,y:o.y,w:o.width,h:o.height}))}D&&((e=u.Default.getLogicalPoint(p,I._canvas)).x+=J.Icons.TipShiftX,e.y+=J.Icons.TipShiftY,b.tipInfo={helperPos:e,text:D,size:D.length}),b._fireEditEvent("between",p)}},p.prototype._unionPointMode1=function(p,E,b,Z,o){var A;return o&&b&&Z&&(o=p.x-E.x,A=p.y-E.y,Math.abs(o*Z)<Math.abs(A*b)?(A=Math.sign(A)*Math.abs(o*Z/b),p.y=E.y+A):(o=Math.sign(o)*Math.abs(A*b/Z),p.x=E.x+o)),u.Default.unionPoint(p,E)},p.prototype._unionPointMode2=function(p,E,b,Z,o,A){var l,p=u.Default.unionPoint(p,E);return o&&b&&Z&&("v"===A?(l=p.x+p.width/2,p.width=b*p.height/Z,p.x=l-p.width/2):(l=p.y+p.height/2,p.height=Z*p.width/b,p.y=l-p.height/2)),p},p.prototype._adsorbedToClosest=function(p,E){var b=(Z=this._interactor).rectGuide.findClosest(p,E),Z=Z.gridGuide.findClosest(p,E),E=1/0,o=1/0;b&&(isFinite(b.x)&&(E=b.x),isFinite(b.y)&&(o=b.y)),Z&&(isFinite(Z.x)&&Math.abs(Z.x)<Math.abs(E)&&(E=Z.x),isFinite(Z.y)&&Math.abs(Z.y)<Math.abs(o)&&(o=Z.y)),isFinite(E)&&(p.x+=E),isFinite(o)&&(p.y+=o)},p.prototype.getIntersection=function(p,E,b,Z){var o=Math.sqrt(Z.x*Z.x+Z.y*Z.y),A=Z.x/o,Z=Z.y/o,o=E.x-p.x,l=-A*(E=E.y-p.y)+o*Z;return 0==l?null:(Z=(-Z*(p.x-b.x)+A*(p.y-b.y))/l,A=(o*(p.y-b.y)-E*(p.x-b.x))/l,0<=Z&&Z<=1&&0<=A?{x:p.x+Z*o,y:p.y+Z*E}:null)},p.prototype.findIntersectionFromSides=function(p,E,b){for(var Z=0;Z<p.length;Z++){var o=p[Z];if(o=this.getIntersection(o[0],o[1],E,b))return o}},p.prototype.drawLayoutHelper=function(E,p){var b,Z,o,A,l,V,c,S,I,D,B,n,k=this.screenInfo,j=this._interactor;(S=this.target.getHost())&&(V=this.target.s("layout.h"),c=this.target.s("layout.v"),(V||c)&&(b=!!k.P1,j=j.getStyle("baseColor"),Z=V&&0<=V.indexOf(Yl),o=V&&0<=V.indexOf(tl),A=c&&0<=c.indexOf(Kl),l=c&&0<=c.indexOf(rl),V=V===Hl,c=c===Hl,S=S.getRect(),I={x:(I=b?Yf(k.P1,k.P2):Yf([k.LT,k.RT,k.RB,k.LB])).x+I.width/2,y:I.y+I.height/2},D=[],k=[[k.LT,k.RT],[k.LT,k.LB],[k.RT,k.RB],[k.LB,k.RB]],B=I,Z&&(B=b?B:this.findIntersectionFromSides(k,I,{x:-1,y:0}))&&(n=J.toScreenPosition(p,{x:S.x,y:0}),D.push([B,{x:n.x,y:B.y}])),o&&(B=b?B:this.findIntersectionFromSides(k,I,{x:1,y:0}))&&(n=J.toScreenPosition(p,{x:S.x+S.width,y:0}),D.push([B,{x:n.x,y:B.y}])),A&&(B=b?B:this.findIntersectionFromSides(k,I,{x:0,y:-1}))&&(n=J.toScreenPosition(p,{x:0,y:S.y}),D.push([B,{x:B.x,y:n.y}])),l&&(B=b?B:this.findIntersectionFromSides(k,I,{x:0,y:1}))&&(n=J.toScreenPosition(p,{x:0,y:S.y+S.height}),D.push([B,{x:B.x,y:n.y}])),E.save(),E.strokeStyle=j,E.lineWidth=1,E.setLineDash([3,3]),D.length&&(E.beginPath(),D.forEach(function(p){E.moveTo(p[0].x,p[0].y),E.lineTo(p[1].x,p[1].y)}),E.stroke(),E.fillStyle=j,D.forEach(function(p){E.beginPath(),E.arc(p[1].x,p[1].y,2,0,j$),E.fill()})),E.beginPath(),(V||c)&&(E.moveTo(I.x-8,I.y-8),E.lineTo(I.x+8,I.y+8),E.moveTo(I.x-8,I.y+8),E.lineTo(I.x+8,I.y-8)),V&&(E.moveTo(I.x-24,I.y),E.lineTo(I.x+24,I.y)),c&&(E.moveTo(I.x,I.y-24),E.lineTo(I.x,I.y+24)),E.stroke(),E.restore()))},p.prototype._42=function(p,E,b){var Z=this,o=(Z.info={},Z.screenInfo=null,Z._interactor);if(!o.editDetail&&Z.gatherInfo(E,b)){var A=Z.editing,b=A?A.groupRotateMode:null,l=Z.screenInfo,V=Z.target instanceof J.Group;if(!V&&o.getStyle("layoutGuideVisible")&&Z.drawLayoutHelper(p,E),"block"!==b||!A||!A.started){if(l.P1?J.Icons.DrawIcon(o,p,J.Icons.Line,l):J.Icons.DrawIcon(o,p,J.Icons.Rect,l),l.connect&&(J.Icons.DrawIcon(o,p,J.Icons.ConnectGuide,{rotation:l.rotation,connect:l.connect,cursorPos:A?A.cursorPos:null}),A)){if(A.targetCorners){for(var c={x:1/0,y:1/0},S={x:-1/0,y:-1/0},I=0,D=A.targetCorners.length;I<D;I+=2)c.x=Math.min(c.x,A.targetCorners[I]),S.x=Math.max(S.x,A.targetCorners[I]),c.y=Math.min(c.y,A.targetCorners[I+1]),S.y=Math.max(S.y,A.targetCorners[I+1]);J.Icons.DrawIcon(o,p,J.Icons.HoverDataRect,{min:c,max:S,color:o.getStyle("hoverGuideColor")||o.getStyle("baseColor")})}A.garbageInfo&&J.Icons.DrawIcon(o,p,J.Icons.ConnectGuideGarbage,A.garbageInfo)}o.getStyle("rotateTipVisible")&&Z.tipInfo&&J.Icons.DrawIcon(o,p,J.Icons.TipHelper,Z.tipInfo)}V&&Z.target._42(o,p,E)}},(((b=J.Anchor=function(p){this.catalog="Anchor",this._interactor=p}).prototype={}).constructor=b).prototype.gatherInfo=function(p,E){if(1!==E.length)return 1<E.length&&this.gatherMultiTargets(p,E);var b=E[0];return b.getAnchor&&!(b instanceof u.Shape&&b._70I()||U1(b,p))?this.gatherSingleTarget(p,E[0]):void 0},b.prototype.gatherSingleTarget=function(p,E){return this.info.POS=E.getPosition(),this.screenInfo.POS=J.toScreenPosition(p,this.info.POS),this.target=E,!0},b.prototype.gatherMultiTargets=function(p,E){return!!(E=J.Group.findOrCreateGroup(E,this._interactor._uuid))&&(this.screenInfo.POS=J.toScreenPosition(p,E.getAnchor2()),this.target=E,!0)},b.prototype.isVisible=function(){var p=this._interactor;if(!1===p.getStyle("anchorVisible"))return!1;var E=this.target;if(E){if(this.editing)return!0;var b=E.getAnchor(),Z=p.getStyle("anchorOutsideVisibleThreshold");if(b.x<-Z||b.x>1+Z||b.y<-Z||b.y>1+Z)return!0;if(b=E.getSize(),Z=E.getScale(),Math.min(Math.abs(b.width*Z.x),Math.abs(b.height*Z.y))*p.gv._zoom<p.getStyle("anchorHideThreshold"))return!1}return!0},b.prototype.check=function(p,E,b){if(u.Default.isLeftButton(E)&&(E=this._interactor,this.isVisible()&&!1!==E.getStyle("anchorMovable"))){this.editing=null,this.tipInfo=null;var Z=this.target;if(Z&&p.isAnchorEditable(Z)&&p.isEditable(Z)&&this.screenInfo&&(p=this.screenInfo.POS)&&J.checkHit(b,new J.Math.Vector2(p),E.getStyle("checkSize")))return Z instanceof J.Group?this.editing={}:(b=Z.getWidth(),p=Z.getHeight(),E=Z.getAnchor(),this.editing={rect:{x:-b*E.x,y:-p*E.y,width:b,height:p},anchor:E,matrix:Z.getMatrix()}),!0}},b.prototype.startEdit=function(p,E){p.startDragging(E),p.fi({kind:"beginEditAnchor",event:E})},b.prototype._46O=function(p){this.editing&&(this.editing=null,this._interactor.fi({kind:"endEditAnchor",event:p})),this.tipInfo=null},b.prototype.handleEdit=function(p,E){var b=this.target;if(b&&(o=this.editing)){var p=p.lp(E),Z=this._interactor;if(b instanceof J.Group)return b.setAnchor2(p),void Z._42();var p=o.matrix.tfi(p),o=o.rect,A=(p.x-o.x)/o.width,p=(p.y-o.y)/o.height;u.Default.isCtrlDown(E)||(o=Z.getStyle("anchorRound"),l=Z.getStyle("anchorSensitivity"),A=J.roundTo(A,o,l),p=J.roundTo(p,o,l)),b.setAnchor(A,p,!0);(o=u.Default.getLogicalPoint(E,Z._canvas)).x+=J.Icons.TipShiftX,o.y+=J.Icons.TipShiftY;var l=A.toFixed(2)+", "+p.toFixed(2);this.tipInfo={helperPos:o,text:l,size:l.length},Z.fi({kind:"betweenEditAnchor",event:E})}},b.prototype._42=function(p,E,b){this.info={},this.screenInfo={};var Z=this._interactor;Z.editDetail||this.gatherInfo(E,b)&&this.isVisible()&&(J.Icons.DrawIcon(Z,p,J.Icons.Anchor,this.screenInfo),this.tipInfo&&J.Icons.DrawIcon(Z,p,J.Icons.TipHelper,this.tipInfo))},(((pl=J.MoveDummy=function(p){this.catalog="MoveDummy",this._interactor=p}).prototype={}).constructor=pl).prototype.gatherInfo=function(p,E){var b=this._interactor.getSubModule("Rect");if(b&&(c=b.screenInfo)){var Z=this._interactor;if(this.getMovableTarget(b.target)&&(b=Z.getStyle("moveDummyThreshold"),!1!==(b=y1(b)?b():b))){var o=c.LT||c.P1,A=c.RT||c.P2,l=c.LB||o;if(o){var V,c=c.P1,S=Math.min(o.distanceTo(l),o.distanceTo(A));if(!(!0!==b&&b<S))return b=Z.getStyle("moveDummyPosition"),S=A.clone().sub(o),A=l.clone().sub(o),l=b[2],V=b[3],(c=c&&Z.getStyle("moveDummyLineExtraShift"))&&(l+=c[0],V+=c[1]),c=o.clone().add(S.clone().multiplyScalar(b[0])).add(S.setLength(l)).add(A.clone().multiplyScalar(b[1])).add(A.setLength(V)),this.screenInfo.pos=c,this.screenInfo.size=Z.getStyle("moveDummySensitivity"),!0}}}},pl.prototype.getMovableTarget=function(p){var E=this._interactor.gv;if(y(p)){if(E.isMovable(p))return p}else if(p instanceof J.Group)for(var b=p._entities,Z=b.length-1;0<=Z;Z--){var o=b[Z];if(y(o)&&E.isMovable(o))return o}return null},pl.prototype.getMoveInteractor=function(){for(var p,E=this._interactor.gv.getInteractors(),b=0,Z=E.length;b<Z;b++)if((p=E.get(b))instanceof S_)return p},pl.prototype.startEdit=function(p,E){p.startDragging(E);var b,Z=this.getMoveInteractor();Z&&(b=this.selectedTarget,(p=p.gv)._moving=1,Z._data=b,p.handleMouseDown&&p.handleMouseDown(E,b))},pl.prototype._46O=function(p){var E=this.getMoveInteractor();E&&(E.handleWindowMouseUp(p),this.selectedTarget=null)},pl.prototype.handleEdit=function(p,E){var b=this.getMoveInteractor();b&&b.handleWindowMouseMove(E)},pl.prototype.check=function(p,E,b){if(this.selectedTarget=null,u.Default.isLeftButton(E)&&!p._scrolling&&!l6()&&this.screenInfo&&(E=this.screenInfo.pos)&&!(b.distanceTo(E)>this.screenInfo.size))return p=this._interactor,this.selectedTarget=this.getMovableTarget(p.getSubModule("Rect").target),p.setCursor("default"),!0},pl.prototype._42=function(p,E,b){this.screenInfo={};var Z=this._interactor;Z.editDetail||!this.gatherInfo(E,b)||Z.editing&&!this.selectedTarget||J.Icons.DrawIcon(Z,p,J.Icons.MoveDummy,this.screenInfo)},(((p=J.RotateX=function(p){this.catalog="RotateX",this._interactor=p}).prototype={}).constructor=p).prototype.gatherInfo=function(p,E){var b;return 1===E.length?!((b=E[0])instanceof u.Shape&&b._70I()||U1(b,p))&&this.gatherSingleTarget(p,b):1<E.length&&this.gatherMultiTargets(p,E)},p.prototype.gatherSingleTarget=(t_=new u.Math.Vector2,K_=new u.Math.Vector2,r_=new u.Math.Vector2,H_=new u.Math.Vector2,function(p,E){var b,Z;if(E.getCorners)return Z=E.getCorners(),b=E.getPosition(),t_.copy(Z[0]),r_.copy(Z[1]),H_.copy(Z[3]),K_.copy(t_).add(H_).divideScalar(2).add(t_.sub(r_).setLength(15/p.getZoom())),Z=Math.max(mN(b,Z[0]),mN(b,Z[1]),mN(b,Z[2]),mN(b,Z[3])),this.info.POS=K_.clone(),this.screenInfo.POS=J.toScreenPosition(p,this.info.POS),this.screenInfo.LEN=Math.sqrt(Z)*p.getZoom()+15,this.screenInfo.CENTER=J.toScreenPosition(p,b),this.target=E,!0}),p.prototype.gatherMultiTargets=function(p,E){return!!(E=J.Group.findOrCreateGroup(E,this._interactor._uuid))&&this.gatherSingleTarget(p,E)},p.prototype.isVisible=function(){var p=this._interactor;if(!p.getStyle("rotateAsClock"))return!1;var E=this.target;return!E||!(!(p=p.gv).isEditable(E)||!p.isRotationEditable(E))},p.prototype.check=function(p,E,b){return((p=this._checkImpl(p,E,b))||this._clockPainted)&&this._interactor._42(),p},p.prototype._checkImpl=function(p,E,b){if(u.Default.isLeftButton(E)){var Z=this;if(Z.editing=null,Z.tipInfo=null,Z.screenInfo&&(o=Z.screenInfo.POS)&&Z.isVisible()){var o,A=Z._interactor;if(J.checkHit(b,o,A.getStyle("checkSize")))return b=Z.target,o=p.lp(E),p=b.getPosition(),E=Math.atan2(o.y-p.y,o.x-p.x),A._setRotateCursor(E),Z.editing={pos:p,rotation:b.getRotation(),hitRot:E,groupRotateMode:"block",screenInfo:{CENTER:Z.screenInfo.CENTER,LEN:Z.screenInfo.LEN}},!0}}},p.prototype.startEdit=function(p,E){p.startDragging(E),p.fi({kind:"beginEditRotation",event:E}),this.target instanceof J.Group&&this.target.beginRotate(this.editing)},p.prototype._46O=function(p){this.editing&&(this.editing=null,this._interactor.fi({kind:"endEditRotation",event:p})),this.target instanceof J.Group&&this.target.endRotate(),this.tipInfo=null},p.prototype.handleEdit=function(E,p){var b,Z,o,A,l,V,c,S,I=this.editing;I&&(b=this.target,o=E.lp(p),Z=this._interactor,l=I.pos,o=Math.atan2(o.y-l.y,o.x-l.x),V=(l=b instanceof J.Group)?o-I.hitRot:(A=o-I.hitRot,I.rotation+A),(V%=2*Math.PI)<0&&(V+=2*Math.PI),u.Default.isCtrlDown(p)||(S=jf(p)?(c=Z.getStyle("shiftRotateRound"))/2:(c=Z.getStyle("rotateRound"),Z.getStyle("rotateSensitivity")),V=J.roundTo(V,c,S)),l?0!=(A=V-(I.lastRotation||0))&&(b.addRotation(A,I.groupRotateMode,function(p){return E.isRotationEditable(p)}),I.lastRotation=V):b.setRotation(V),Z._setRotateCursor(o),V>Math.PI&&(V-=2*Math.PI),c=(V/Math.PI*180).toFixed(2)+"",(S=u.Default.getLogicalPoint(p,Z._canvas)).x+=J.Icons.TipShiftX,S.y+=J.Icons.TipShiftY,this.tipInfo={helperPos:S,text:c,size:c.length},Z.fi({kind:"betweenEditRotation",event:p}))},p.prototype._42=function(p,E,b){var Z=this,o=(Z._clockPainted=!1,Z.info={},Z.screenInfo={},Z._interactor);o.editDetail||Z.gatherInfo(E,b)&&Z.isVisible()&&(J.Icons.DrawIcon(o,p,J.Icons.RoundPoint,Z.screenInfo.POS),o.getStyle("rotateTipVisible")&&Z.tipInfo&&J.Icons.DrawIcon(o,p,J.Icons.TipHelper,Z.tipInfo),Z.editing&&Z.drawClock(p))},p.prototype.drawClock=function(p){p.save(),this._clockPainted=!0;var E,b,Z,o,A,l=this.editing||{},V=l.screenInfo||this.screenInfo,c=V.LEN,S=c+8,I=c+18;p.save(),p.translate(V.CENTER.x,V.CENTER.y),p.beginPath(),p.strokeStyle="rgb(150, 150, 150)";for(var D=0;D<360;D++)E=D*Math.PI/180,D%5==0&&(b=M$(E)*c,Z=k$(E)*c,o=M$(E)*S,A=k$(E)*S,p.moveTo(b,Z),p.lineTo(o,A)),D%45==0&&(b=M$(E)*c,Z=k$(E)*c,o=M$(E)*I,A=k$(E)*I,p.moveTo(b,Z),p.lineTo(o,A));p.stroke(),p.rotate(-s$),V=l.lastRotation||this.target.getRotation(),p.beginPath(),p.fillStyle="rgba(255, 0, 0, 0.1)",p.strokeStyle="rgb(157, 157, 157)",p.moveTo(0,0),p.arc(0,0,I,0,V,!1),p.fill(),p.beginPath(),p.moveTo(0+I,0),p.arc(0,0,I,0,V,!1),p.stroke(),p.restore()},((Z=J.Curve=function(p){this.catalog="Curve",this._interactor=p}).prototype={}).constructor=Z,t$.defineProperties(Z.prototype,{activing:{get:function(){return this._activing},set:function(p){p?(this._activing=new J.CurveActiving(this,p),this.gatherSingleTarget(this._interactor.gv,this.target)):((p=this._activing)&&p.dispose(),this._activing=null)}}}),Z.PointType={Mirrored:0,Straight:1,Disconnected:2,Asymmetric:3},Z.prototype.setUp=function(){var p=this._interactor;p&&p.gv.mp(this._onGraphviewPropertyChanged,this)},Z.prototype._onGraphviewPropertyChanged=function(p){"zoom"!==p.property&&"translateX"!==p.property&&"translateY"!==p.property||this._handleDataChanged()},Z.prototype.tearDown=function(){var p=this._interactor;p&&p.gv.ump(this._onGraphviewPropertyChanged,this)},Z.prototype.canEnterEditDetailMode=function(){var p=GY(this._interactor);if(p)return this.target=p},Z.prototype.canQuitEditDetailMode=function(p){var E=this._interactor._getLogicalPoint(p);if(!this._checkEditRealPoint(E))return this._interactor.gv.getDataAt(p)!==this.target||void 0},Z.prototype.preHandleScroll=function(p){var E=this.editing;if(E&&E.inEdit)return!0},Z.prototype.getCurrentSelectintStatus=function(){var b=this;if(b.activing&&!b.activing.selections){if(b.activing.status!=K$)return b.activing.status;var p=function(p){var E=b.activing.status;b.activing.status=p,b._interactor.fp("shapePointStatus",E,p)},E=J.Curve.PointType,Z=b.activing.point,o=b.activing.pairs;if(!o||1!==o.length)return p(E.Mirrored);var A=(o=o[0]).c1&&o.c1.isNearEnough(Z),l=o.c2&&o.c2.isNearEnough(Z);return o.c1&&o.c2?A&&l?p(E.Straight):A||l?p(E.Asymmetric):(A=o.c1.clone().sub(Z),l=o.c2.clone().sub(Z),1e-5<Math.abs(A.x*l.y-A.y*l.x)||0<A.x*l.x?p(E.Disconnected):1e-5<Math.abs(A.length()-l.length())?p(E.Asymmetric):p(E.Mirrored)):p(A||l?E.Straight:E.Mirrored)}},Z.prototype.handle_keydown=function(p){var Z,o,E,b,A,l,V,c=this;c._interactor.editDetail&&(E=J.Curve.PointType,"1"===p.key?c._setCurrentSelectionStatus(E.Straight):"2"===p.key?c._setCurrentSelectionStatus(E.Mirrored):"3"===p.key?c._setCurrentSelectionStatus(E.Disconnected):"4"===p.key&&c._setCurrentSelectionStatus(E.Asymmetric),!c.editing&&c.activing&&(Z={x:0,y:0},E=jf(p)?10:1,b6(p)&&(Z.x-=E),Z6(p)&&(Z.y-=E),o6(p)&&(Z.x+=E),A6(p)&&(Z.y+=E),(Z.x||Z.y)&&(o=c.screenInfo.curve,b=(E=c.activing).editingCtrl,p.__ht__handled__=!0,b?(p=E.editingCtrl,l=(A=(b=E.pairs[p.pairId])[p.type]).clone().add(Z),c.moveCtrlPair(b,l,p.type)):(l=(A=E.point).clone().add(Z),A.e!==K$&&(l.e=A.e),o.moveRealPoint(E.point,l),E.point=l,(V=E.selections)&&V.forEach(function(p,E){var b=p.clone().add(Z);o.moveRealPoint(p,b),V[E]=b})),c._writeToHt())))},Z.prototype.moveCtrlPair=function(p,E,b){var Z,o=this.screenInfo.curve,A=this.activing,l=A.status,V=J.Curve.PointType;o.moveCtrlPoint(p,E,b),(l===V.Mirrored||l===V.Asymmetric)&&p.c1&&p.c2&&(A=new J.Math.Vector2(A.point),Z="c1"===b?"c2":"c1",l===J.Curve.PointType.Mirrored?o.moveCtrlPoint(p,A.clone().multiplyScalar(2).sub(E),Z):l===V.Asymmetric&&(E=p[Z].clone().sub(A).length(),l=A.clone().sub(p[b]).setLength(E).add(A),isNaN(l.x)||o.moveCtrlPoint(p,l,Z)))},Z.prototype.setCurrentSelectionStatus=function(p){var E=this._interactor;E&&((E=E.gv).dm().beginTransaction(),this._setCurrentSelectionStatus(p),E.dm().endTransaction())},Z.prototype._setCurrentSelectionStatus=function(p){var E=this,b=E.activing;if(b){var Z=E.getCurrentSelectintStatus();if(null!==Z&&Z!==p){b.status=p;var o=E.activing.point;if((A=E.activing.pairs)&&1===A.length){var A=A[0],l=E.screenInfo.curve,V=J.Curve.PointType,c=E._interactor,S=function(){E._writeToHt(),c.fp("shapePointStatus",Z,p),E.check(c.gv,null,new J.Math.Vector2(c._lastLogicalPoint))};if(p===V.Straight)return l.moveCtrlPoint(A,o,"c1"),l.moveCtrlPoint(A,o,"c2"),void S();if(Z===V.Straight)return D=(I=l.findPairs(o,!0)[0]).r1||o,I=(I.r2||o).clone().sub(D).multiplyScalar(.25),l.moveCtrlPoint(A,o.clone().sub(I),"c1"),l.moveCtrlPoint(A,o.clone().add(I),"c2"),void S();var I,D=A.c1,B=A.c2;if(D&&B){if(p===V.Mirrored)return l.moveCtrlPoint(A,o.clone().multiplyScalar(2).sub(B),"c1"),void S();if(p===V.Asymmetric&&Z===V.Disconnected)return V=D.clone().sub(o).length(),I=o.clone().sub(B).setLength(V).add(o),l.moveCtrlPoint(A,I,"c1"),void S()}b._firePointChange(),c.fp("shapePointStatus",Z,p),E.check(c.gv,null,new J.Math.Vector2(c._lastLogicalPoint))}}}},Z.prototype._handleDataChanged=(L_="s:edge.points,s:edge.segments,points,segments,shape,position,rotation,scale".split(","),function(p){this.screenInfo&&this.target&&(p&&L_.indexOf(p.property)<0||(p=this._interactor,this.gatherSingleTarget(p.gv,this.target,!0),this.check(p.gv,null,new J.Math.Vector2(p._lastLogicalPoint)),p._42()))}),Z.prototype.gatherSingleTarget=function(E,p,b){var Z,o,A,l,V=this,c=(V.screenInfo&&V.screenInfo.curve&&(Z=V.screenInfo.curve._curves),V.editing),S=c?V.screenInfo:V.screenInfo={},I=p instanceof u.Edge,D=I?(l=p.s("edge.segments"),p.s("edge.points")||new u.List):(l=p._58O,p._59O),B=(S.S=l,S.P=[]),n=J.getDataMatrix(p);if(p instanceof u.Polyline||p instanceof u.Edge&&V._interactor.getStyle("edgeElevationEditable")?(o=p.getElevation&&p.getElevation()||0,S.E=[]):(A=!1,D.each(function(p){p.e!==K$&&(A=!0)}),A&&(S.E=[])),D.each(function(p){S.E&&S.E.push(p.e!=K$?p.e:o),p=n.apply(p),p=J.toScreenPosition(E,p),B.push(p.x,p.y)}),I&&(l=B.length,D=J.toScreenPosition(E,p._lastSourcePoint||(l?{x:B[0],y:B[1]}:{x:0,y:0})),I=J.toScreenPosition(E,p._lastTargetPoint||(l?{x:B[l-2],y:B[l-1]}:{x:0,y:0})),B.splice(0,0,D.x,D.y),B.push(I.x,I.y),S.E&&((l=p.getSourceAgent())instanceof u.Edge?S.E.splice(0,0,p.s("edge.source.offset.elevation")):S.E.splice(0,0,((p.s("edge.source.anchor.elevation")||.5)-.5)*l.getTall()*l.getScaleTall()+l.getElevation()+p.s("edge.source.offset.elevation")),(D=p.getTargetAgent())instanceof u.Edge?S.E.push(p.s("edge.target.offset.elevation")):S.E.push(((p.s("edge.target.anchor.elevation")||.5)-.5)*D.getTall()*D.getScaleTall()+D.getElevation()+p.s("edge.target.offset.elevation")))),!S.S||!S.S.size()){S.S=new u.List,S.S.add(1);for(var k=0;k<B.length/2-1;k++)S.S.add(2)}c&&!b||V.convertToCubicBezier(Z),!V.activing||!b&&V.editing&&"realPoint"!==V.editing.type||(I=S.curve.findPairs(V.activing.point),V.activing.pairs=I)},Z.prototype._convertToNewPoint=function(p,E,b,Z){for(var o,A=0,l=E.length;A<l;A++){if((o=E[A])._p1.isNearEnough(p)&&(!Z||Z.indexOf(o._p1)<0))return o._p1;if(o._p4.isNearEnough(p)&&(!Z||Z.indexOf(o._p4)<0))return o._p4}if(b)for(A=0,l=Math.min(b.length,l);A<l;A++){if((o=b[A])._p1===p&&(!Z||Z.indexOf(E[A]._p1)<0))return E[A]._p1;if(o._p4===p&&(!Z||Z.indexOf(E[A]._p4)<0))return E[A]._p4}},Z.prototype.convertToCubicBezier=function(E){var b,Z,o,A,l,V=this,p=new J.Math.Curve,c=V.screenInfo;p.createFromHtShape(c.P,c.S,c.E),c.curve=p,V.activing&&(b=p._curves,c=V.activing.point,Z=V._convertToNewPoint(c,b,E),o=[],Z&&(V.activing.point=Z,o.push(Z)),V.activing.selections&&(A=-1,(l=V.activing.selections).forEach(function(p){A++,(Z=V._convertToNewPoint(p,b,E,o))&&(l[A]=Z,o.push(Z))})))},Z.prototype.check=function(p,E,b){if(!E||If(E)||Df(E)){var Z=this;if(Z._interactor.setCursor("default"),Z.editing=null,Z.highlight=null,Z.tipInfo=null,Z.edgeEditResult=null,Z.screenInfo)return l6()||E&&Df(E)||Z._checkEditCtrlPoint(b)||Z._checkEditRealPoint(b)||Z._checkEditElevation(b)||(E=Z.screenInfo.curve.checkPoint(b,Z._interactor.getStyle("curveIntersectSize")))&&((b=Z.highlight={type:"insertKnot"}).bezier=E.bezier,b.point=E.intersection),Z._interactor._42(),!0}},Z.prototype.getAdjacentBeziers=function(p){var E=this.screenInfo;if(E){for(var b,Z=E.curve._curves,o=[],A=K$,l=0,V=Z.length;l<V;l++)if(b=Z[l],A===K$){if(b._p4.isNearEnough(p))o.push(b),A=l;else if(b._p1.isNearEnough(p))return o.push(b),o}else{if(b._p1.isNearEnough(p))return o.push(b),o;b._p4.isNearEnough(p)&&(o[0]=b,A=l)}return o}},Z.prototype.roundCorner=function(p){if(this.activing&&this.screenInfo){var E=this.screenInfo.curve._curves,b=(I=this.activing).point,Z=this.getAdjacentBeziers(b);if(Z&&2===Z.length)var o=(A=Z[1])._index,A=A.insertKnot(A.getTByPercentage(p/A.length))[1],l=(E[o]=A).p1,V=(c=Z[0])._index,c=c.insertKnot(c.getTByPercentage(1-p/c.length))[0],S=(E[V]=c).p4;else{var I=I.pairs[0],D=E.length;if(I.c1){if(I.c2)return;var V=(c=Z[0])._index,S=(c=c.insertKnot(c.getTByPercentage(1-p/c.length))[0]).p4,l=(l=(A=E[(V+1)%D]).p1).clone().sub(b).setLength(p).add(b),o=V+1;if(1-Math.abs(S.clone().sub(b).normalize().dot(l.clone().sub(b).normalize()))<1e-8)return;E[V]=c}else{if(o=(A=Z[0])._index,l=(A=A.insertKnot(A.getTByPercentage(p/A.length))[1]).p1,S=(S=(c=E[(o-1+D)%D]).p4).clone().sub(b).setLength(p).add(b),1-Math.abs(S.clone().sub(b).normalize().dot(l.clone().sub(b).normalize()))<1e-8)return;E[o]=A}}V=new J.Math.CubicBezier(S,(I=b).clone().sub(S).multiplyScalar(2/3).add(S),I.clone().sub(l).multiplyScalar(2/3).add(l),l),E.splice(o,0,V),this._writeToHt(),this.activing=null,this._interactor._42()}},Z.prototype._checkEditRealPoint=function(p){var E,b,Z,o,A,l,V=this.screenInfo.curve._curves,c=this._interactor.getStyle("curvePointIntersectSize"),S=1/0;for(c*=c,Z=0,o=V.length;Z<o;Z++)A=(E=V[Z])._p1,(l=p.distanceToSquared(A))<S&&(S=l,b=A),A=E._p4,(l=p.distanceToSquared(A))<S&&(S=l,b=A);return!(c<S)&&((c=this.highlight={type:"changeRealPoint"}).point=b,this.editing={type:"realPoint",point:b,shiftGuide:{point:b.clone(),dir:"x",limit:0}},this._interactor.setCursor("crosshair"),!0)},Z.prototype._checkEditElevation=function(p){if(!this._interactor.getStyle("curveElevationVisible"))return!1;if(this.target instanceof u.Edge&&!this._interactor.getStyle("edgeElevationEditable"))return!1;var E=this.activing;if(!E)return!1;if(!(E=E.getCurrentEditingPoint()))return!1;var b=this._interactor,Z=b.getStyle("curveElevationGuideShift");return(b=b.getStyle("curveElevationIntersectSize"))*b<p.distanceToSquared({x:E.x+Z[0],y:E.y+Z[1]})?void 0:(this.highlight={type:"elevation"},b=new J.Math.Vector2(p.x,p.y,E.e),this.editing={type:"elevation",startPoint:b},this._interactor.setCursor("crosshair"),!0)},Z.prototype._checkEditCtrlPoint=function(p){var E=this;if(E.activing&&!E.activing.selections&&(c=E.getCurrentSelectintStatus())!==J.Curve.PointType.Straight){var b=E.activing.pairs;if(b){var Z,o,A,l,V,c=E._interactor.getStyle("curvePointIntersectSize");c*=c;for(var S,I,D=1/0,B=0,n=b.length;B<n;B++)for(l=b[B],I=0;I<2;I++)l[V=0===I?"c1":"c2"]&&(S=p.distanceToSquared(l[V]))<D&&(D=S,Z=l,o=B,A=V);return c<D?!1:(E.activing.hlpair=Z,E.activing.hltype=A,(c=E.highlight={type:"changeCtrlPoint"}).point=Z[A],E.editing={type:"ctrlPoint",pair:Z,pairId:o,ctrlType:A,direction:Z[A].clone().sub(E.activing.point).normalize()},E._interactor.setCursor("crosshair"),!0)}}},Z.prototype.startEdit=function(p,E){p.startDragging(E);var b,Z,o,A,l=this;l.highlight&&"insertKnot"===l.highlight.type&&(l.insertKnot(),l.gatherSingleTarget(l._interactor.gv,l.target),l.activing=null,l._checkEditRealPoint(l._interactor._getLogicalPoint(E)));(c=l._activing)&&("ctrlPoint"===(V=l.editing?l.editing.type:null)?c.editingCtrl={pairId:l.editing.pairId,type:c.hltype}:"realPoint"===V&&(c.editingCtrl=!1));var V=l.highlight,c=u.Default.isCtrlDown(E);if(!V||l6()||Df(E))return!(b=l._interactor.gv).setFocus(E)||b._scrolling?void 0:void(c?l._multiSelect={startPoint:b.lp(E)}:b.isPannable()&&(If(E)||Df(E))&&(l._pan={tx:b.tx(),ty:b.ty()},p.fi({kind:"beginPan",event:E})));"changeRealPoint"===V.type&&(b=l.activing?l.activing.point:null,Z=l.activing?l.activing.selections:null,c&&l.activing?b===V.point?(Z?(l.activing={point:Z[0]},1<Z.length&&(Z.splice(0,1),l.activing.selections=Z)):l.activing=null,l.editing=null):Z&&0<=(o=Z.indexOf(V.point))?(1<Z.length?Z.splice(o,1):delete l.activing.selections,l.editing=null):Z?(Z.push(b),l.activing={point:V.point,selections:Z}):l.activing={point:V.point,selections:[b]}:Z?b!==V.point&&(0<=(o=Z.indexOf(V.point))?(Z.splice(o,1,b),l.activing={point:V.point,selections:Z}):l.activing={point:V.point}):(b===V.point&&(A=l.activing.status),l.activing={point:V.point},A&&(l.activing.status=A)),p.fi({kind:"beginEditPoint",event:E})),"changeCtrlPoint"===V.type&&p.fi({kind:"beginEditPoint",event:E})},Z.prototype.insertKnot=function(){var p=this.highlight;this.screenInfo.curve.insertKnot(p.bezier,p.point.t),this._writeToHt()},Z.prototype._writeToHt=function(){var p,E,b,Z=(A=this.screenInfo.curve.toHtShape()).points,o=[],A=A.segments,l=this._interactor.gv,V=(l.dm().beginTransaction(),this.target),c=V instanceof u.Edge,S=J.getDataMatrix(V).invert();(V instanceof u.Polyline||c&&this._interactor.getStyle("edgeElevationEditable"))&&(b=V.getElevation&&V.getElevation()||0);for(var I=0,D=Z.length;I<D;I++)p=Z[I],E=J.toWorldPosition(l,p),E=S.apply(E),isFinite(p.e)&&p.e!==b&&(E.e=p.e),o.push(E);V._writing=!0,c?(V.s("edge.type","points"),V.setStyle("edge.segments",A),V.setStyle("edge.points",o.slice(1,o.length-1)),V.setStyle("edge.source.offset.x",0),V.setStyle("edge.source.offset.y",0),V.setStyle("edge.target.offset.x",0),V.setStyle("edge.target.offset.y",0),c=this._nextChangeEdgeHost,delete this._nextChangeEdgeHost,c&&("source"===c.type?V.setSource(c.host):V.setTarget(c.host)),this._writeEdgeHostAnchor("source",o[0]),this._writeEdgeHostAnchor("target",o[o.length-1])):o.length?(V.setSegments(A),V.setPoints(o,!0)):V.removeFromDataModel(),l.dm().endTransaction(),delete V._writing},Z.prototype._writeEdgeHostAnchor=function(p,E){var b=this.target,Z=this._calcHostAnchor(b,p,E);Z.index!==K$?(b.setStyle("edge."+p+".index",Z.index),b.setStyle("edge."+p+".percent",K$),b.setStyle("edge."+p+".anchor.x",K$),b.setStyle("edge."+p+".anchor.y",K$),b.setStyle("edge."+p+".anchor.elevation",K$),b.setStyle("edge."+p+".offset.elevation",E.e)):Z.percent!==K$?(b.setStyle("edge."+p+".percent",Z.percent),b.setStyle("edge."+p+".index",K$),b.setStyle("edge."+p+".anchor.x",K$),b.setStyle("edge."+p+".anchor.y",K$),b.setStyle("edge."+p+".anchor.elevation",K$),b.setStyle("edge."+p+".offset.elevation",E.e)):(b.s("edge."+p+".anchor.x",Z.x),b.s("edge."+p+".anchor.y",Z.y),b.s("edge."+p+".anchor.elevation",Z.e),Z.offsetX||Z.offsetY||Z.offsetElevation?(b.s("edge."+p+".offset.x",Z.offsetX),b.s("edge."+p+".offset.y",Z.offsetY),b.s("edge."+p+".offset.elevation",Z.offsetElevation)):(b.s("edge."+p+".offset.x",0),b.s("edge."+p+".offset.y",0),b.s("edge."+p+".offset.elevation",0)))},Z.prototype._calcHostAnchor=function(p,E,b,Z){Z=Z||("source"===E?p.getSourceAgent():p.getTargetAgent());var o=this._interactor.gv;if(A=o.calculateAttachPoint(Z,b))return A.info;if(J1(Z))return o.calculateEdgePosition(Z,b);var A=Z.getRotation(),l=Z.getAnchor(),V=(U1(Z,o)&&(A=0),Z.getElevation()),c=Z.getTall()*Z.getScaleTall(),V=((b.e||0)-p.s("edge."+E+".offset.elevation")-V)/c+.5,p=Z.getScale();return A||p.x<0||p.y<0?(E=Z.getMatrix().tfi(b),c=Z.getSize(),{x:E.x/c.width+l.x,y:E.y/c.height+l.y,e:V}):(A=fm(o,Z),{x:(b.x-A.x)/A.width,y:(b.y-A.y)/A.height,e:V})},Z.prototype._handlePanning=function(p){var E,b,Z,o,A=this._pan;A&&(A.started=!0,b=(E=this._interactor).gv,Z=E._lastClientPoint,o=mf(p),o=tY(b,o,Z),b.setTranslate(A.tx+o.x,A.ty+o.y),this.gatherSingleTarget(E.gv,this.target),E._42(),E.fi({kind:"betweenPan",event:p}))},Z.prototype.handleEdit=function(p,E){var b,Z,o,A,l,V,c,S,I,D,B,n,k,j,W,m,e,$=this,Y=$.editing;if($._pan)$._handlePanning(E);else{if($._multiSelect)return $._multiSelect.endPoint=p.lp(E),void $._interactor.redraw();Y&&(Y.inEdit=!0,A=$._interactor._getLogicalPoint(E),b=u.Default.isCtrlDown(E),m=u.Default.isShiftDown(E),V=Y.type,Z=$.activing,$._guideInfo=null,"ctrlPoint"===V&&m?(j=$.editing.direction.clone(),o=Z.point,k=j.dot(A.clone().sub(o)),A=j.setLength(k).add(o)):"ctrlPoint"!==V&&"realPoint"!==V||("realPoint"===V&&m&&(l=(k=$.editing.shiftGuide).point,m=Math.abs(A.x-l.x),(c=Math.abs(A.y-l.y))<m&&m>k.limit&&"y"===k.dir&&(k.dir="x"),m<c&&c>k.limit&&"x"===k.dir&&(k.dir="y"),"x"===(j=k.dir)?(A.y=l.y,k.limit=Math.max(k.limit,m)):"y"===j&&(A.x=l.x,k.limit=Math.max(k.limit,c))),b||((m=$._isEditEdgeSourceTarget())&&(W=A.clone()),k=$._guidingToEdit(A,j),I=c=1/0,(V="realPoint"===V?$._interactor.gridGuide.findClosest(A,j,!0):null)&&(V.x&&(c=V.x),V.y&&(I=V.y)),j=!1,k&&(k.xList&&(Math.abs(k.x)<=Math.abs(c)?(j=!0,c=k.x):delete k.xList),k.yList&&(Math.abs(k.y)<=Math.abs(I)?(j=!0,I=k.y):delete k.yList),j&&($._guideInfo=k)),isFinite(c)&&(A.x+=c),isFinite(I)&&(A.y+=I),j&&(k.v=A),m&&(V=j?A.clone():null,A.copy(W),(c=$._editEdgeSourceTarget(m,A,b,V))&&(e=($.edgeEditResult=c).tipText,c.isFixed&&($._guideInfo=null))))),S=$.screenInfo.curve,"realPoint"===Y.type?((o=Y.point).e!==K$&&(A.e=o.e),S.moveRealPoint(o,A),Y.point=A,$.highlight.point=A,I=Z.status,D=Z.selections,$.activing={point:A,status:I},D&&(B=A.clone().sub(o),n=0,D.forEach(function(p){var E=p.clone().add(B);S.moveRealPoint(p,E),D[n++]=E}),$.activing.selections=D)):"ctrlPoint"===Y.type?(k=Z.pairs[Y.pairId],$.moveCtrlPair(k,A,Y.ctrlType),Z._firePointChange()):"elevation"===Y.type&&(j=(l=Y.startPoint).e+(l.y-A.y)/p._zoom,$._setCurrentPointImpl("e",j),Z._firePointChange(),e="E: "+J.toFixed(j)),(W=u.Default.getLogicalPoint(E,$._interactor._canvas)).x+=J.Icons.TipShiftX,W.y+=J.Icons.TipShiftY,e||(m=J.toWorldPosition(p,A),e=J.toFixed(m.x)+", "+J.toFixed(m.y)),$.tipInfo={helperPos:W,text:e,size:e.length},$._writeToHt(),$._interactor.fi({kind:"betweenEditPoint",event:E}))}},Z.prototype._setCurrentPointImpl=function(p,E){var b=this._activing;if(!b)return!1;var Z=this.target;if(!Z)return!1;var o=b.getCurrentEditingPoint();if(!o)return!1;var A,l,V,c,S,I,D=b.editingCtrl;return D||(A=o.clone()),"e"===p?o.e=E:("x"===p||"y"===p?(l=b._lastFirePoint,l="x"===p?{x:E,y:l?l.y:0}:{x:l?l.x:0,y:E}):"object"==typeof p?(l=p).e!==K$&&(o.e=p.e):(l={x:p,y:E},arguments[2]!==K$&&(o.e=arguments[2])),p=J.getDataMatrix(Z),l=J.toScreenPosition(this._interactor.gv,p.apply(l)),o.x=l.x,o.y=l.y),D||(V=A.multiplyScalar(-1).add(o),C1(o.e)&&C1(A.e)&&(V.e=o.e-A.e),(c=this.screenInfo.curve).moveCtrlDueToRealPointMovement(o,V),(S=b.selections)&&(I=0,S.forEach(function(p){var E=p.clone().add(V);isFinite(V.e)&&(E.e=(isFinite(p.e)?p.e:Z.getElevation()||0)+V.e),c.moveRealPoint(p,E),S[I++]=E}),b.selections=S)),!0},Z.prototype.setCurrentPoint=function(p,E){return!!this._setCurrentPointImpl(p,E)&&(this._writeToHt(),!0)},Z.prototype._isEditEdgeSourceTarget=function(){if(!(this.target instanceof u.Edge))return!1;var p=this.editing.point,E=this.screenInfo.curve._curves;return p===E[0]._p1?"source":p===E[E.length-1]._p4&&"target"},Z.prototype._editEdgeSourceTarget=function(E,p,b,Z){var o,A,l,V,c,S,I,D,B,n=this,k=n.target;if(l="source"===E?k.getSourceAgent():k.getTargetAgent())return o=n._interactor.gv,c=J.toWorldPosition(o,p),(S=(S=(A=n._calcHostAnchor(k,E,c,l)).index!==K$||A.percent!==K$?A.distance*o.getZoom()>n._interactor.getStyle("edgeHostEdgeMaxDistance"):!!n._interactor.getStyle("edgeHostDetectPerFrame")||A.x<0||1<A.x||A.y<0||1<A.y)&&o.getDataAt(c,function(p){return!!o.isSelectable(p)&&!!o.isSourceTargetEditable(k,p,E)&&!!k.canSetSourceTarget(p,E)}))&&(I=n._calcHostAnchor(k,E,c,S),n._nextChangeEdgeHost={type:E,host:l=S},A=I),S=!1,b||A.x===K$?A.percent===K$&&A.index===K$||(S=!0,V=A.point):(I=n._interactor.getStyle("anchorRound"),b=n._interactor.getStyle("anchorSensitivity"),(D=o.calculateAttachPoint(l,c))?(A=D.info,S=!0):((A=Z?n._calcHostAnchor(k,E,J.toWorldPosition(o,Z),l):A).x=J.roundTo(A.x,I,b),A.y=J.roundTo(A.y,I,b)),V=$Y(o,l,0,A.offsetX||0,A.offsetY||0,A.x,A.y)),V&&(c=J.toScreenPosition(o,V),p.x=c.x,p.y=c.y),n._edgeHostGuideInfo={corners:J.getTargetCornersOnScreen(o,l),attach:D?D.index:-1,host:l},A.percent!==K$?B="percent: "+A.percent.toFixed(2):A.index!==K$?B="index: "+A.index:(B=A.x.toFixed(2)+", "+A.y.toFixed(2),(A.offsetX||A.offsetY)&&(B+=" offset: "+A.offsetX.toFixed(2)+", "+A.offsetY.toFixed(2))),{host:l,anchor:A,tipText:B,isFixed:S}},Z.prototype._guidingToEdit=function(p,E){if(k=this.screenInfo.curve){var b,Z,o,A,l,V,c,S,I=k._curves,D=1/0,B=1/0,n=[];for(this.editing&&"realPoint"===this.editing.type&&(S=this.editing.point),l=0,V=2*I.length;l<V;l++)c=I[Math.floor(l/2)][l%2?"_p4":"_p1"],0<=n.indexOf(c)||(n.push(c),S&&S===c||(o=c.x-p.x,A=c.y-p.y,Math.abs(o)<Math.abs(D)?(D=o,b=[c]):o===D&&b.push(c),Math.abs(A)<Math.abs(B)?(B=A,Z=[c]):A===B&&Z.push(c)));var k=this._interactor.getStyle("smartGuideThreshold");if((Math.abs(D)>k||"y"===E)&&(b=null),(Math.abs(B)>k||"x"===E)&&(Z=null),(b||Z)&&(k=!1,E={},b&&(k=!0,E.xList=b,E.x=D),Z&&(k=!0,E.yList=Z,E.y=B),k))return E}},Z.prototype._46O=function(p){var E,b,Z,o=this;o.editing&&((Z=o._isEditEdgeSourceTarget())&&(E=o.screenInfo.P,b=o.activing.point,"source"===Z?(b.x=E[0],b.y=E[1]):(Z=E.length,b.x=E[Z-2],b.y=E[Z-1])),o.editing=null,o._interactor.fi({kind:"endEditPoint",event:p})),o._guideInfo=null,o._edgeHostGuideInfo=null,o._pan&&(o._pan=null,o._interactor.fi({kind:"endPan",event:p})),o._multiSelect&&(o._handleMultiSelect(o._multiSelect,p),o._multiSelect=null),o.tipInfo=null,o.edgeEditResult=null},Z.prototype._handleMultiSelect=function(p,E){if(p.startPoint&&p.endPoint){for(var b,Z,o,A,l=this._interactor,V=l.gv,c=J.toScreenPosition(V,p.startPoint),V=J.toScreenPosition(V,p.endPoint),S=u.Default.unionPoint(c,V),I=this.screenInfo.curve._curves,D=[],B=function(p){p.x>=S.x&&p.y>=S.y&&p.x<=S.x+S.width&&p.y<=S.y+S.height&&D.indexOf(p)<0&&D.push(p)},n=0,k=I.length;n<k;n++)B((o=I[n])._p1),B(o._p4);if(D.length){var j=(p=this.activing||{}).selections||[],W=(p.point&&j.push(p.point),u.Default.isShiftDown(E)),m=E.altKey;if(m&&!W)for(A=D,D=[],n=0,k=A.length;n<k;n++)b=A[n],0<=(Z=j.indexOf(b))&&D.push(b);for(n=0,k=j.length;n<k;n++)b=j[n],0<=(Z=D.indexOf(b))?W&&!m||(D[Z]=K$):D.push(b);for(A=D,D=[],n=0,k=A.length;n<k;n++)A[n]&&D.push(A[n]);0===(k=D.length)?this.activing=null:1===k?this.activing={point:D[0]}:(b=D[k-1],this.activing={point:b,selections:D.splice(0,k-1)}),l.redraw()}}},Z.prototype._canDeletePoint=function(p,E){if(!(this.target instanceof u.Edge))return!0;var b=p._curves[0],p=p._curves[p._curves.length-1];return b._p1!==E&&p._p4!==E},Z.prototype.handleDelete=function(){var E,b,Z=this;Z.activing&&Z.screenInfo&&(E=u.Default.isShiftDown(),b=Z.screenInfo.curve,Z._canDeletePoint(b,Z.activing.point)&&b.deleteRealPoint(Z.activing.point,E),Z.activing.selections&&Z.activing.selections.forEach(function(p){Z._canDeletePoint(b,p)&&b.deleteRealPoint(p,E)}),Z.activing=null,delete Z.editing,delete Z.tipInfo,delete Z.edgeEditResult,delete Z._pan,delete Z._multiSelect,Z._writeToHt(),Z._interactor.fp("deleteShapePoint",!1,!0))},Z.prototype.handleDoubleClick=function(p){var E,p=this._interactor._getLogicalPoint(p);if(this.screenInfo&&this._checkEditRealPoint(p))return p=(p=this.getCurrentSelectintStatus())===(E=J.Curve.PointType).Mirrored?E.Straight:E.Mirrored,this._setCurrentSelectionStatus(p),this._interactor._42(),!0},Z.prototype._drawHighlight=function(p){var E,b,Z=this.highlight;Z&&(b=Z.bezier,E=this._interactor,b&&J.Icons.DrawIcon(E,p,J.Icons.ShapeHighlightCurve,[b._p1.x,b._p1.y,b._p2.x,b._p2.y,b._p3.x,b._p3.y,b._p4.x,b._p4.y]),(b=Z.point)&&"insertKnot"===Z.type&&J.Icons.DrawIcon(E,p,J.Icons.ShapeHighlighPoint,b))},Z.prototype._drawGuide=function(p){var E=this._guideInfo;if(E)for(var b,Z,o,A=E.v,l=0;l<2;l++)if(o=0===l?E.xList:E.yList)for(b=0,Z=o.length;b<Z;b++)J.Icons.DrawIcon(this._interactor,p,J.Icons.ShapeGuideLine,[A.x,A.y,o[b].x,o[b].y])},Z.prototype._drawCurrentPoint=function(E){if(this.activing){var p=this.activing,b=this.getCurrentSelectintStatus(),Z=this._interactor;if(b!==J.Curve.PointType.Straight){var o=p.pairs,A=(p.hlpair,p.hltype,p.selections),l=p.editingCtrl;if(o&&!A)for(var V,c=0,S=o.length;c<S;c++)V=o[c],l&&c===l.pairId&&V[l.type]?J.Icons.DrawIcon(Z,E,J.Icons.ShapeActivingCtrl,{point:V.point,c1:V.c1,c2:V.c2,hl:l.type}):J.Icons.DrawIcon(Z,E,J.Icons.ShapeActivingCtrl,V)}J.Icons.DrawIcon(Z,E,J.Icons.ShapeHighlighRealPoint,this.activing.point),A&&A.forEach(function(p){J.Icons.DrawIcon(Z,E,J.Icons.ShapeHighlighRealPoint,p)})}},Z.prototype.clear=function(){this.editing=null,this._guideInfo=null,this.activing=null,this.highlight=null},Z.prototype._42=function(E){var p=this,b=(p.info={},p.editing||(p.screenInfo=null),p._interactor);if(b.editDetail){var Z,o,A=b.gv;if(!p.target||!A.isSelected(p.target)||!A.isVisible(p.target))return b.editDetail=!1,void p.clear();p.gatherSingleTarget(A,p.target),J.Icons.DrawIcon(b,E,J.Icons.ShapeBgCurve,p.screenInfo),p._interactor.getStyle("curveElevationVisible")&&(p.target instanceof u.Polyline||p.target instanceof u.Edge&&p._interactor.getStyle("edgeElevationEditable"))&&p.activing&&(Z=p.activing.getCurrentEditingPoint())&&"string"!=typeof Z.e&&J.Icons.DrawIcon(b,E,J.Icons.EdgeElevationGuide,Z),p._drawHighlight(E),p._drawCurrentPoint(E),p._getRealPoint().forEach(function(p){J.Icons.DrawIcon(b,E,J.Icons.ShapePoint,p)}),p._drawGuide(E),p.tipInfo&&p._interactor.getStyle("curveTipVisible")&&J.Icons.DrawIcon(b,E,J.Icons.TipHelper,p.tipInfo),p._edgeHostGuideInfo&&b._drawHostGuide(p._edgeHostGuideInfo),p.edgeEditResult&&p._drawEdgeHostHighlight(E,p.edgeEditResult.host,p.edgeEditResult.anchor),p._multiSelect&&p._multiSelect.endPoint&&((Z=u.Default.unionPoint(J.toScreenPosition(A,p._multiSelect.startPoint),J.toScreenPosition(A,p._multiSelect.endPoint))).color=A.getRectSelectBorderColor(),E.save(),E.setTransform(1,0,0,1,0,0),A=H$.devicePixelRatio,o=Z.borderWidth=Math.round(A),o/=2,Z.x=Math.round(Z.x*A)+o,Z.y=Math.round(Z.y*A)+o,Z.width=Math.round(Z.width*A),Z.height=Math.round(Z.height*A),J.Icons.DrawIcon(b,E,J.Icons.SimpleRect,Z),E.restore())}else p.clear()},Z.prototype._drawEdgeHostHighlight=function(p,E,b){this.drawEdgeHostHighlight(p,E,b),this._interactor.redraw()},Z.prototype.drawEdgeHostHighlight=function(p,E,b){if(J1(E)){for(var Z,o,A=this._interactor,l=A.gv,E=l.getDataUI(E),V=hY(E),c=[],S=0,I=V.points.length;S<I;S++)o=J.toScreenPosition(l,V.points.get(S)),c.push(o.x,o.y);V.segments&&(Z=V.segments.toArray());for(var D=A.getStyle("edgeHostHighlighPeriod"),B=A.getStyle("edgeHostEdgeHighlighColor"),n=(J.Icons.DrawIcon(A,p,J.Icons.ShapeBgCurve,{P:c,S:Z,color:B,dynamicVisible:b.index===K$,dynamicPeriod:D}),B=A.getStyle("edgeHostPointHighlighColor"),UY(E)),S=0,I=n.length;S<I;S++){var k=n[S],k=J.toScreenPosition(l,k);J.Icons.DrawIcon(A,p,J.Icons.ShapePoint,{point:{x:k.x,y:k.y},color:B,size:12,dynamicVisible:S===b.index,dynamicPeriod:D})}}},Z.prototype._getRealPoint=function(){var b,p=this.screenInfo,Z=p.P,o=p.S,A=-1,l=[],V=-1,c=o.length;return o.each(function(p){V++;var E=1;if(3===p)E=2;else if(4===p)E=3;else if(5===p)return;A+=E,b=c<=V+1||1===o.get(V+1),l.push({point:{x:Z[2*A],y:Z[2*A+1]},segmentIndex:V,pointIndex:A,isEnd:b})}),l},Z.prototype.getEditingPointsInfo=function(p){var E=this,b=E.activing;if(!b)return!1;var Z=b.point;if(!Z)return!1;var o=this._getRealPoint(),A=[{screen:Z}];b.selections&&b.selections.forEach(function(p){A.push({screen:p})});var l,V,c=o.length;return A.forEach(function(p){for(l=0;l<c;l++)if(V=o[l],p.screen.isNearEnough(V.point)){p.segmentIndex=V.segmentIndex,p.pointIndex=V.pointIndex,p.point=E.target.getPoints().get(V.pointIndex);break}}),p&&A.sort(function(p,E){return p.segmentIndex-E.segmentIndex}),A};(((b=J.MoveHelper=function(p){this.catalog="Move",this._interactor=p}).prototype={}).constructor=b).prototype.calcShift=function(p,E,b){var Z,o=this,A=o._interactor.gv,l=A.lp(E);if("beginMove"===p&&o._gatherGridInfo(b._lastLogicalPoint||l),p=o._target){if(b=p.downPosition){var V=o._interactor.getStyle("moveSensitivity")/A._zoom;if(b.distanceTo(l)<V)return{x:0,y:0};delete p.downPosition}u.Default.isShiftDown(E)&&(l=o._dealShiftDown(l),Z=p.shiftGuide.dir);var c,b=p.rawPos={x:p.pos.x+l.x-p.lp.x,y:p.pos.y+l.y-p.lp.y},l=!0;if((V=o._interactor.getStyle("moveHelperFilter"))&&(l=V(p.node instanceof J.Group?p.node._entities:[p.node])),u.Default.isCtrlDown(E)||!l)return c=o._calcShiftByAddon(),o._target.node instanceof J.Group&&((I=o._target.node)._position.x+=c.x,I._position.y+=c.y),c;if(V=o._interactor.rectGuide,p.node instanceof u.Data&&p.node.s("2d.attachable")&&(E=o._calcAttachNodeShift(p.node,b),V.clear(),E))return E;for(var S,I,D=p.x+b.x,B=p.y+b.y,l={x:D,y:B},E={x:D+p.w/2,y:B+p.h/2},n={x:D+p.w,y:B+p.h},k=o._interactor.gridGuide,j=[V.findClosest(l,Z),V.findClosest(E,Z),V.findClosest(n,Z),V.findAlignClosest({x:D,y:B,width:p.w,height:p.h},Z),k.findClosest(l,Z),k.findClosest(E,Z),k.findClosest(n,Z)],W=1/0,m=1/0,e=0,$=j.length;e<$;e++)(S=j[e])&&(D=S.x,B=S.y,isFinite(D)&&Math.abs(D)<Math.abs(W)&&(W=D),isFinite(B)&&Math.abs(B)<Math.abs(m)&&(m=B));return isFinite(W)||(W=0),isFinite(m)||(m=0),c=o._calcShiftByAddon(W,m),o._target.node instanceof J.Group&&((I=o._target.node)._position.x+=c.x,I._position.y+=c.y),V=p.node,U1(V,A)||(o._interactor.rectGuide.gatherLines({node:V,x:p.x+(l=b.x+W),y:p.y+(E=b.y+m),w:p.w,h:p.h},Z),o._interactor.rectGuide.checkAlignAreas({x:p.x+l,y:p.y+E,width:p.w,height:p.h})),c}},b.prototype._calcShiftByAddon=function(p,E){var b=(Z=this._target).rawPos,Z=Z.node.getPosition();return{x:b.x-Z.x+(p=p||0),y:b.y-Z.y+(E=E||0)}},b.prototype._dealShiftDown=function(p){var E=this._target.shiftGuide,b=this._target.lp,Z=Math.abs(p.x-b.x),o=Math.abs(p.y-b.y),A=(o<Z&&Z>E.limit&&"y"===E.dir&&(E.dir="x"),Z<o&&o>E.limit&&"x"===E.dir&&(E.dir="y"),E.dir);return"x"===A?(p.y=b.y,E.limit=Math.max(E.limit,Z)):"y"===A&&(p.x=b.x,E.limit=Math.max(E.limit,o)),p},b.prototype._isAttachableLineShape=function(p){if(!p.getSegments)return!1;var E=p.getSegments();if(!E)return!0;for(var b=1,Z=(E=E instanceof u.List?E.getArray():E).length;b<Z;b++)if(2!==E[b])return!1;return!0},b.prototype._calcAttachNodeShift=(x_=new v,C_=new v,h_=new v,P_=new v,function(p,E){var b=this._interactor.gv,Z=p.getHost(),o=b.getDataAt(E,function(p){return!!p.s("2d.hostable")});if(o&&Z!==o&&p.setHost(o),!o)return this._edgeHostGuideInfo=null,p.setHost(null);var A,l,Z=this._edgeHostGuideInfo={corners:J.getTargetCornersOnScreen(b,o),host:o,attach:-1};if(!this._isAttachableLineShape(o))return(A=b.calculateAttachPoint(o,E))?(l=A.point,Z.attach=A.index,this._calcShiftByAddon(l.x-E.x,l.y-E.y)):void 0;for(var V,c,S,I,D,B,n=o.getPoints(),k=n.size(),j=o.getPointsMatrix2d(),W=1/0,m=0;m<k&&(m!==k-1||o.isClosePath());m++)0!==m?C_.copy(h_):j.apply(n.get(m),C_),j.apply(m===k-1?n.get(0):n.get(m+1),h_),x_.copy(E).sub(C_),P_.copy(h_).sub(C_),V=P_.length(),P_.divideScalar(V),(c=x_.dot(P_))<0?c=0:V<c&&(c=V),P_.multiplyScalar(c).add(C_),(S=x_.copy(E).sub(P_).lengthSq())<W&&(W=S,B=m,I=c,D=V);return Math.sqrt(W)*b.getZoom()>this._interactor.getStyle("attachThreshold")?(p.s({"attach.index":-1}),void p.setHost(null)):(p.s("attach.offset.opposite")&&(I=D-I),p.s({"attach.index":B,"attach.offset":p.s("attach.offset.relative")?I/D:I}),{x:0,y:0})}),b.prototype._gatherGridInfo=function(p){var E,b,Z=this._interactor;if((o=Z._getValidSelection()).length){if(1===o.length){if(!(E=o[0]).getRect)return void(this._target=null)}else if(!(E=J.Group.findOrCreateGroup(o,Z._uuid)))return void(this._target=null)}else{var o=Z.gv.sm().getSelection();if(o.length&&!(E=o.get(0)).getRect)return void(this._target=null)}E&&(o=E.getPosition(),b=E.getRect(),this._target={node:E,x:b.x-o.x,y:b.y-o.y,w:b.width,h:b.height,lp:{x:p.x,y:p.y},pos:{x:o.x,y:o.y},shiftGuide:{dir:"x",limit:0},downPosition:new J.Math.Vector2(p)},Z.rectGuide.gatherRects())},b.prototype.clear=function(){this._edgeHostGuideInfo=null,this._interactor.rectGuide.clear(),this._interactor._42()},b.prototype._42=function(){var p=this._edgeHostGuideInfo;p&&this._interactor._drawHostGuide(p)};var L_,x_,C_,h_,P_,y_,a_,J_,d_,U_,N_,O_,z_,__,v_,Q_,q_,u_,R_,s_,w_,i_,f_,pV,EV,bV,ZV,oV,AV,lV,VV,cV,SV,IV,DV,BV,nV,kV,jV,WV,mV,eV,$V,YV,tV,KV,rV,HV,MV,FV,XV,GV,TV,gV,LV,xV,CV,hV,PV,yV,aV,JV,dV,UV,NV,OV=u.WebGLConstants=t$.freeze({DEPTH_BUFFER_BIT:256,STENCIL_BUFFER_BIT:1024,COLOR_BUFFER_BIT:16384,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,ZERO:0,ONE:1,SRC_COLOR:768,ONE_MINUS_SRC_COLOR:769,SRC_ALPHA:770,ONE_MINUS_SRC_ALPHA:771,DST_ALPHA:772,ONE_MINUS_DST_ALPHA:773,DST_COLOR:774,ONE_MINUS_DST_COLOR:775,SRC_ALPHA_SATURATE:776,FUNC_ADD:32774,BLEND_EQUATION:32777,BLEND_EQUATION_RGB:32777,BLEND_EQUATION_ALPHA:34877,FUNC_SUBTRACT:32778,FUNC_REVERSE_SUBTRACT:32779,BLEND_DST_RGB:32968,BLEND_SRC_RGB:32969,BLEND_DST_ALPHA:32970,BLEND_SRC_ALPHA:32971,CONSTANT_COLOR:32769,ONE_MINUS_CONSTANT_COLOR:32770,CONSTANT_ALPHA:32771,ONE_MINUS_CONSTANT_ALPHA:32772,BLEND_COLOR:32773,ARRAY_BUFFER:34962,ELEMENT_ARRAY_BUFFER:34963,ARRAY_BUFFER_BINDING:34964,ELEMENT_ARRAY_BUFFER_BINDING:34965,STREAM_DRAW:35040,STATIC_DRAW:35044,DYNAMIC_DRAW:35048,BUFFER_SIZE:34660,BUFFER_USAGE:34661,CURRENT_VERTEX_ATTRIB:34342,FRONT:1028,BACK:1029,FRONT_AND_BACK:1032,CULL_FACE:2884,BLEND:3042,DITHER:3024,STENCIL_TEST:2960,DEPTH_TEST:2929,SCISSOR_TEST:3089,POLYGON_OFFSET_FILL:32823,SAMPLE_ALPHA_TO_COVERAGE:32926,SAMPLE_COVERAGE:32928,NO_ERROR:0,INVALID_ENUM:1280,INVALID_VALUE:1281,INVALID_OPERATION:1282,OUT_OF_MEMORY:1285,CW:2304,CCW:2305,LINE_WIDTH:2849,ALIASED_POINT_SIZE_RANGE:33901,ALIASED_LINE_WIDTH_RANGE:33902,CULL_FACE_MODE:2885,FRONT_FACE:2886,DEPTH_RANGE:2928,DEPTH_WRITEMASK:2930,DEPTH_CLEAR_VALUE:2931,DEPTH_FUNC:2932,STENCIL_CLEAR_VALUE:2961,STENCIL_FUNC:2962,STENCIL_FAIL:2964,STENCIL_PASS_DEPTH_FAIL:2965,STENCIL_PASS_DEPTH_PASS:2966,STENCIL_REF:2967,STENCIL_VALUE_MASK:2963,STENCIL_WRITEMASK:2968,STENCIL_BACK_FUNC:34816,STENCIL_BACK_FAIL:34817,STENCIL_BACK_PASS_DEPTH_FAIL:34818,STENCIL_BACK_PASS_DEPTH_PASS:34819,STENCIL_BACK_REF:36003,STENCIL_BACK_VALUE_MASK:36004,STENCIL_BACK_WRITEMASK:36005,VIEWPORT:2978,SCISSOR_BOX:3088,COLOR_CLEAR_VALUE:3106,COLOR_WRITEMASK:3107,UNPACK_ALIGNMENT:3317,PACK_ALIGNMENT:3333,MAX_TEXTURE_SIZE:3379,MAX_VIEWPORT_DIMS:3386,SUBPIXEL_BITS:3408,RED_BITS:3410,GREEN_BITS:3411,BLUE_BITS:3412,ALPHA_BITS:3413,DEPTH_BITS:3414,STENCIL_BITS:3415,POLYGON_OFFSET_UNITS:10752,POLYGON_OFFSET_FACTOR:32824,TEXTURE_BINDING_2D:32873,SAMPLE_BUFFERS:32936,SAMPLES:32937,SAMPLE_COVERAGE_VALUE:32938,SAMPLE_COVERAGE_INVERT:32939,COMPRESSED_TEXTURE_FORMATS:34467,DONT_CARE:4352,FASTEST:4353,NICEST:4354,GENERATE_MIPMAP_HINT:33170,BYTE:5120,UNSIGNED_BYTE:5121,SHORT:5122,UNSIGNED_SHORT:5123,INT:5124,UNSIGNED_INT:5125,FLOAT:5126,DEPTH_COMPONENT:6402,ALPHA:6406,RGB:6407,RGBA:6408,LUMINANCE:6409,LUMINANCE_ALPHA:6410,UNSIGNED_SHORT_4_4_4_4:32819,UNSIGNED_SHORT_5_5_5_1:32820,UNSIGNED_SHORT_5_6_5:33635,FRAGMENT_SHADER:35632,VERTEX_SHADER:35633,MAX_VERTEX_ATTRIBS:34921,MAX_VERTEX_UNIFORM_VECTORS:36347,MAX_VARYING_VECTORS:36348,MAX_COMBINED_TEXTURE_IMAGE_UNITS:35661,MAX_VERTEX_TEXTURE_IMAGE_UNITS:35660,MAX_TEXTURE_IMAGE_UNITS:34930,MAX_FRAGMENT_UNIFORM_VECTORS:36349,SHADER_TYPE:35663,DELETE_STATUS:35712,LINK_STATUS:35714,VALIDATE_STATUS:35715,ATTACHED_SHADERS:35717,ACTIVE_UNIFORMS:35718,ACTIVE_ATTRIBUTES:35721,SHADING_LANGUAGE_VERSION:35724,CURRENT_PROGRAM:35725,NEVER:512,LESS:513,EQUAL:514,LEQUAL:515,GREATER:516,NOTEQUAL:517,GEQUAL:518,ALWAYS:519,KEEP:7680,REPLACE:7681,INCR:7682,DECR:7683,INVERT:5386,INCR_WRAP:34055,DECR_WRAP:34056,VENDOR:7936,RENDERER:7937,VERSION:7938,NEAREST:9728,LINEAR:9729,NEAREST_MIPMAP_NEAREST:9984,LINEAR_MIPMAP_NEAREST:9985,NEAREST_MIPMAP_LINEAR:9986,LINEAR_MIPMAP_LINEAR:9987,TEXTURE_MAG_FILTER:10240,TEXTURE_MIN_FILTER:10241,TEXTURE_WRAP_S:10242,TEXTURE_WRAP_T:10243,TEXTURE_2D:3553,TEXTURE:5890,TEXTURE_CUBE_MAP:34067,TEXTURE_BINDING_CUBE_MAP:34068,TEXTURE_CUBE_MAP_POSITIVE_X:34069,TEXTURE_CUBE_MAP_NEGATIVE_X:34070,TEXTURE_CUBE_MAP_POSITIVE_Y:34071,TEXTURE_CUBE_MAP_NEGATIVE_Y:34072,TEXTURE_CUBE_MAP_POSITIVE_Z:34073,TEXTURE_CUBE_MAP_NEGATIVE_Z:34074,MAX_CUBE_MAP_TEXTURE_SIZE:34076,TEXTURE0:33984,TEXTURE1:33985,TEXTURE2:33986,TEXTURE3:33987,TEXTURE4:33988,TEXTURE5:33989,TEXTURE6:33990,TEXTURE7:33991,TEXTURE8:33992,TEXTURE9:33993,TEXTURE10:33994,TEXTURE11:33995,TEXTURE12:33996,TEXTURE13:33997,TEXTURE14:33998,TEXTURE15:33999,TEXTURE16:34e3,TEXTURE17:34001,TEXTURE18:34002,TEXTURE19:34003,TEXTURE20:34004,TEXTURE21:34005,TEXTURE22:34006,TEXTURE23:34007,TEXTURE24:34008,TEXTURE25:34009,TEXTURE26:34010,TEXTURE27:34011,TEXTURE28:34012,TEXTURE29:34013,TEXTURE30:34014,TEXTURE31:34015,ACTIVE_TEXTURE:34016,REPEAT:10497,CLAMP_TO_EDGE:33071,MIRRORED_REPEAT:33648,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,INT_VEC2:35667,INT_VEC3:35668,INT_VEC4:35669,BOOL:35670,BOOL_VEC2:35671,BOOL_VEC3:35672,BOOL_VEC4:35673,FLOAT_MAT2:35674,FLOAT_MAT3:35675,FLOAT_MAT4:35676,SAMPLER_2D:35678,SAMPLER_CUBE:35680,VERTEX_ATTRIB_ARRAY_ENABLED:34338,VERTEX_ATTRIB_ARRAY_SIZE:34339,VERTEX_ATTRIB_ARRAY_STRIDE:34340,VERTEX_ATTRIB_ARRAY_TYPE:34341,VERTEX_ATTRIB_ARRAY_NORMALIZED:34922,VERTEX_ATTRIB_ARRAY_POINTER:34373,VERTEX_ATTRIB_ARRAY_BUFFER_BINDING:34975,IMPLEMENTATION_COLOR_READ_TYPE:35738,IMPLEMENTATION_COLOR_READ_FORMAT:35739,COMPILE_STATUS:35713,LOW_FLOAT:36336,MEDIUM_FLOAT:36337,HIGH_FLOAT:36338,LOW_INT:36339,MEDIUM_INT:36340,HIGH_INT:36341,FRAMEBUFFER:36160,RENDERBUFFER:36161,RGBA4:32854,RGB5_A1:32855,RGB565:36194,DEPTH_COMPONENT16:33189,STENCIL_INDEX:6401,STENCIL_INDEX8:36168,DEPTH_STENCIL:34041,RENDERBUFFER_WIDTH:36162,RENDERBUFFER_HEIGHT:36163,RENDERBUFFER_INTERNAL_FORMAT:36164,RENDERBUFFER_RED_SIZE:36176,RENDERBUFFER_GREEN_SIZE:36177,RENDERBUFFER_BLUE_SIZE:36178,RENDERBUFFER_ALPHA_SIZE:36179,RENDERBUFFER_DEPTH_SIZE:36180,RENDERBUFFER_STENCIL_SIZE:36181,FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE:36048,FRAMEBUFFER_ATTACHMENT_OBJECT_NAME:36049,FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL:36050,FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE:36051,COLOR_ATTACHMENT0:36064,DEPTH_ATTACHMENT:36096,STENCIL_ATTACHMENT:36128,DEPTH_STENCIL_ATTACHMENT:33306,NONE:0,FRAMEBUFFER_COMPLETE:36053,FRAMEBUFFER_INCOMPLETE_ATTACHMENT:36054,FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT:36055,FRAMEBUFFER_INCOMPLETE_DIMENSIONS:36057,FRAMEBUFFER_UNSUPPORTED:36061,FRAMEBUFFER_BINDING:36006,RENDERBUFFER_BINDING:36007,MAX_RENDERBUFFER_SIZE:34024,INVALID_FRAMEBUFFER_OPERATION:1286,UNPACK_FLIP_Y_WEBGL:37440,UNPACK_PREMULTIPLY_ALPHA_WEBGL:37441,CONTEXT_LOST_WEBGL:37442,UNPACK_COLORSPACE_CONVERSION_WEBGL:37443,BROWSER_DEFAULT_WEBGL:37444,COMPRESSED_RGB_S3TC_DXT1_EXT:33776,COMPRESSED_RGBA_S3TC_DXT1_EXT:33777,COMPRESSED_RGBA_S3TC_DXT3_EXT:33778,COMPRESSED_RGBA_S3TC_DXT5_EXT:33779,COMPRESSED_RGB_PVRTC_4BPPV1_IMG:35840,COMPRESSED_RGB_PVRTC_2BPPV1_IMG:35841,COMPRESSED_RGBA_PVRTC_4BPPV1_IMG:35842,COMPRESSED_RGBA_PVRTC_2BPPV1_IMG:35843,COMPRESSED_RGB_ETC1_WEBGL:36196,HALF_FLOAT_OES:36193,DOUBLE:5130,READ_BUFFER:3074,UNPACK_ROW_LENGTH:3314,UNPACK_SKIP_ROWS:3315,UNPACK_SKIP_PIXELS:3316,PACK_ROW_LENGTH:3330,PACK_SKIP_ROWS:3331,PACK_SKIP_PIXELS:3332,COLOR:6144,DEPTH:6145,STENCIL:6146,RED:6403,RGB8:32849,RGBA8:32856,RGB10_A2:32857,TEXTURE_BINDING_3D:32874,UNPACK_SKIP_IMAGES:32877,UNPACK_IMAGE_HEIGHT:32878,TEXTURE_3D:32879,TEXTURE_WRAP_R:32882,MAX_3D_TEXTURE_SIZE:32883,UNSIGNED_INT_2_10_10_10_REV:33640,MAX_ELEMENTS_VERTICES:33e3,MAX_ELEMENTS_INDICES:33001,TEXTURE_MIN_LOD:33082,TEXTURE_MAX_LOD:33083,TEXTURE_BASE_LEVEL:33084,TEXTURE_MAX_LEVEL:33085,MIN:32775,MAX:32776,DEPTH_COMPONENT24:33190,MAX_TEXTURE_LOD_BIAS:34045,TEXTURE_COMPARE_MODE:34892,TEXTURE_COMPARE_FUNC:34893,CURRENT_QUERY:34917,QUERY_RESULT:34918,QUERY_RESULT_AVAILABLE:34919,STREAM_READ:35041,STREAM_COPY:35042,STATIC_READ:35045,STATIC_COPY:35046,DYNAMIC_READ:35049,DYNAMIC_COPY:35050,MAX_DRAW_BUFFERS:34852,DRAW_BUFFER0:34853,DRAW_BUFFER1:34854,DRAW_BUFFER2:34855,DRAW_BUFFER3:34856,DRAW_BUFFER4:34857,DRAW_BUFFER5:34858,DRAW_BUFFER6:34859,DRAW_BUFFER7:34860,DRAW_BUFFER8:34861,DRAW_BUFFER9:34862,DRAW_BUFFER10:34863,DRAW_BUFFER11:34864,DRAW_BUFFER12:34865,DRAW_BUFFER13:34866,DRAW_BUFFER14:34867,DRAW_BUFFER15:34868,MAX_FRAGMENT_UNIFORM_COMPONENTS:35657,MAX_VERTEX_UNIFORM_COMPONENTS:35658,SAMPLER_3D:35679,SAMPLER_2D_SHADOW:35682,FRAGMENT_SHADER_DERIVATIVE_HINT:35723,PIXEL_PACK_BUFFER:35051,PIXEL_UNPACK_BUFFER:35052,PIXEL_PACK_BUFFER_BINDING:35053,PIXEL_UNPACK_BUFFER_BINDING:35055,FLOAT_MAT2x3:35685,FLOAT_MAT2x4:35686,FLOAT_MAT3x2:35687,FLOAT_MAT3x4:35688,FLOAT_MAT4x2:35689,FLOAT_MAT4x3:35690,SRGB:35904,SRGB8:35905,SRGB8_ALPHA8:35907,COMPARE_REF_TO_TEXTURE:34894,RGBA32F:34836,RGB32F:34837,RGBA16F:34842,RGB16F:34843,VERTEX_ATTRIB_ARRAY_INTEGER:35069,MAX_ARRAY_TEXTURE_LAYERS:35071,MIN_PROGRAM_TEXEL_OFFSET:35076,MAX_PROGRAM_TEXEL_OFFSET:35077,MAX_VARYING_COMPONENTS:35659,TEXTURE_2D_ARRAY:35866,TEXTURE_BINDING_2D_ARRAY:35869,R11F_G11F_B10F:35898,UNSIGNED_INT_10F_11F_11F_REV:35899,RGB9_E5:35901,UNSIGNED_INT_5_9_9_9_REV:35902,TRANSFORM_FEEDBACK_BUFFER_MODE:35967,MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS:35968,TRANSFORM_FEEDBACK_VARYINGS:35971,TRANSFORM_FEEDBACK_BUFFER_START:35972,TRANSFORM_FEEDBACK_BUFFER_SIZE:35973,TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN:35976,RASTERIZER_DISCARD:35977,MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS:35978,MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS:35979,INTERLEAVED_ATTRIBS:35980,SEPARATE_ATTRIBS:35981,TRANSFORM_FEEDBACK_BUFFER:35982,TRANSFORM_FEEDBACK_BUFFER_BINDING:35983,RGBA32UI:36208,RGB32UI:36209,RGBA16UI:36214,RGB16UI:36215,RGBA8UI:36220,RGB8UI:36221,RGBA32I:36226,RGB32I:36227,RGBA16I:36232,RGB16I:36233,RGBA8I:36238,RGB8I:36239,RED_INTEGER:36244,RGB_INTEGER:36248,RGBA_INTEGER:36249,SAMPLER_2D_ARRAY:36289,SAMPLER_2D_ARRAY_SHADOW:36292,SAMPLER_CUBE_SHADOW:36293,UNSIGNED_INT_VEC2:36294,UNSIGNED_INT_VEC3:36295,UNSIGNED_INT_VEC4:36296,INT_SAMPLER_2D:36298,INT_SAMPLER_3D:36299,INT_SAMPLER_CUBE:36300,INT_SAMPLER_2D_ARRAY:36303,UNSIGNED_INT_SAMPLER_2D:36306,UNSIGNED_INT_SAMPLER_3D:36307,UNSIGNED_INT_SAMPLER_CUBE:36308,UNSIGNED_INT_SAMPLER_2D_ARRAY:36311,DEPTH_COMPONENT32F:36012,DEPTH32F_STENCIL8:36013,FLOAT_32_UNSIGNED_INT_24_8_REV:36269,FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING:33296,FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE:33297,FRAMEBUFFER_ATTACHMENT_RED_SIZE:33298,FRAMEBUFFER_ATTACHMENT_GREEN_SIZE:33299,FRAMEBUFFER_ATTACHMENT_BLUE_SIZE:33300,FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE:33301,FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE:33302,FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE:33303,FRAMEBUFFER_DEFAULT:33304,UNSIGNED_INT_24_8:34042,DEPTH24_STENCIL8:35056,UNSIGNED_NORMALIZED:35863,DRAW_FRAMEBUFFER_BINDING:36006,READ_FRAMEBUFFER:36008,DRAW_FRAMEBUFFER:36009,READ_FRAMEBUFFER_BINDING:36010,RENDERBUFFER_SAMPLES:36011,FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER:36052,MAX_COLOR_ATTACHMENTS:36063,COLOR_ATTACHMENT1:36065,COLOR_ATTACHMENT2:36066,COLOR_ATTACHMENT3:36067,COLOR_ATTACHMENT4:36068,COLOR_ATTACHMENT5:36069,COLOR_ATTACHMENT6:36070,COLOR_ATTACHMENT7:36071,COLOR_ATTACHMENT8:36072,COLOR_ATTACHMENT9:36073,COLOR_ATTACHMENT10:36074,COLOR_ATTACHMENT11:36075,COLOR_ATTACHMENT12:36076,COLOR_ATTACHMENT13:36077,COLOR_ATTACHMENT14:36078,COLOR_ATTACHMENT15:36079,FRAMEBUFFER_INCOMPLETE_MULTISAMPLE:36182,MAX_SAMPLES:36183,HALF_FLOAT:5131,RG:33319,RG_INTEGER:33320,R8:33321,RG8:33323,R16F:33325,R32F:33326,RG16F:33327,RG32F:33328,R8I:33329,R8UI:33330,R16I:33331,R16UI:33332,R32I:33333,R32UI:33334,RG8I:33335,RG8UI:33336,RG16I:33337,RG16UI:33338,RG32I:33339,RG32UI:33340,VERTEX_ARRAY_BINDING:34229,R8_SNORM:36756,RG8_SNORM:36757,RGB8_SNORM:36758,RGBA8_SNORM:36759,SIGNED_NORMALIZED:36764,COPY_READ_BUFFER:36662,COPY_WRITE_BUFFER:36663,COPY_READ_BUFFER_BINDING:36662,COPY_WRITE_BUFFER_BINDING:36663,UNIFORM_BUFFER:35345,UNIFORM_BUFFER_BINDING:35368,UNIFORM_BUFFER_START:35369,UNIFORM_BUFFER_SIZE:35370,MAX_VERTEX_UNIFORM_BLOCKS:35371,MAX_FRAGMENT_UNIFORM_BLOCKS:35373,MAX_COMBINED_UNIFORM_BLOCKS:35374,MAX_UNIFORM_BUFFER_BINDINGS:35375,MAX_UNIFORM_BLOCK_SIZE:35376,MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS:35377,MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS:35379,UNIFORM_BUFFER_OFFSET_ALIGNMENT:35380,ACTIVE_UNIFORM_BLOCKS:35382,UNIFORM_TYPE:35383,UNIFORM_SIZE:35384,UNIFORM_BLOCK_INDEX:35386,UNIFORM_OFFSET:35387,UNIFORM_ARRAY_STRIDE:35388,UNIFORM_MATRIX_STRIDE:35389,UNIFORM_IS_ROW_MAJOR:35390,UNIFORM_BLOCK_BINDING:35391,UNIFORM_BLOCK_DATA_SIZE:35392,UNIFORM_BLOCK_ACTIVE_UNIFORMS:35394,UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES:35395,UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER:35396,UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER:35398,INVALID_INDEX:4294967295,MAX_VERTEX_OUTPUT_COMPONENTS:37154,MAX_FRAGMENT_INPUT_COMPONENTS:37157,MAX_SERVER_WAIT_TIMEOUT:37137,OBJECT_TYPE:37138,SYNC_CONDITION:37139,SYNC_STATUS:37140,SYNC_FLAGS:37141,SYNC_FENCE:37142,SYNC_GPU_COMMANDS_COMPLETE:37143,UNSIGNALED:37144,SIGNALED:37145,ALREADY_SIGNALED:37146,TIMEOUT_EXPIRED:37147,CONDITION_SATISFIED:37148,WAIT_FAILED:37149,SYNC_FLUSH_COMMANDS_BIT:1,VERTEX_ATTRIB_ARRAY_DIVISOR:35070,ANY_SAMPLES_PASSED:35887,ANY_SAMPLES_PASSED_CONSERVATIVE:36202,SAMPLER_BINDING:35097,RGB10_A2UI:36975,INT_2_10_10_10_REV:36255,TRANSFORM_FEEDBACK:36386,TRANSFORM_FEEDBACK_PAUSED:36387,TRANSFORM_FEEDBACK_ACTIVE:36388,TRANSFORM_FEEDBACK_BINDING:36389,COMPRESSED_R11_EAC:37488,COMPRESSED_SIGNED_R11_EAC:37489,COMPRESSED_RG11_EAC:37490,COMPRESSED_SIGNED_RG11_EAC:37491,COMPRESSED_RGB8_ETC2:37492,COMPRESSED_SRGB8_ETC2:37493,COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2:37494,COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2:37495,COMPRESSED_RGBA8_ETC2_EAC:37496,COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:37497,TEXTURE_IMMUTABLE_FORMAT:37167,MAX_ELEMENT_INDEX:36203,TEXTURE_IMMUTABLE_LEVELS:33503,MAX_TEXTURE_MAX_ANISOTROPY_EXT:34047}),zV=(y_="undefined"!=typeof WebGL2RenderingContext,a_={aliasedLineWidthRange:33902,aliasedPointSizeRange:33901,maxCombinedTextureImageUnits:35661,maxCubeMapTextureSize:34076,maxFragmentUniformVectors:36349,maxRenderBufferSize:34024,maxTextureImageUnits:34930,maxTextureSize:3379,maxVaryingVectors:36348,maxVertexAttribs:34921,maxVertexTextureImageUnits:35660,maxVertexUniformVectors:36347,maxViewportDIMs:3386},J_={max3DTextureSize:32883,maxArrayTextureLayers:35071,maxColorAttachments:36063,maxCombinedFragmentUniformComponents:35379,maxCombinedUniformBlocks:35374,maxCombinedVertexUniformComponents:35377,maxDrawBuffers:34852,maxElementIndex:36203,maxElementsIndices:33001,maxElementsVertices:33e3,maxFragmentInputComponents:37157,maxFragmentUniformBlocks:35373,maxFragmentUniformComponents:35657,maxProgramTexelOffset:35077,maxSamples:36183,maxTextureLODBias:34045,maxTransformFeedbackInterleavedComponents:35978,maxTransformFeedbackSeparateAttribs:35979,maxTransformFeedbackSeparateComponents:35968,maxUniformBlockSize:35376,maxUniformBufferBindings:35375,maxVaryingComponents:35659,maxVertexOutputComponents:37154,maxVertexUniformBlocks:35371,maxVertexUniformComponents:35658,minProgramTexelOffset:35076},{for:function(p){var E=p._info;return E||(p._info=E=function(Z,p){(p=p==K$?{}:p).version=y_&&(Z instanceof WebGL2RenderingContext||"[object WebGL2RenderingContext]"===t$.prototype.toString.call(Z))?2:1,p.extensions=function(){for(var p={},E=Z.getSupportedExtensions(),b=E.length;b--;)p[E[b]]=function(p,E){var b=K$;return function(){return b=b||p.getExtension(E)}}(Z,E[b]);return p}();for(var E=t$.keys(a_),b=0,o=E.length;b<o;++b)p[A=E[b]]=Z.getParameter(a_[A]);if(1<p.version)for(var A,b=0,o=(E=t$.keys(J_)).length;b<o;++b)p[A=E[b]]=Z.getParameter(J_[A]);return p}(p,E)),E}}),_V=(d_="undefined"!=typeof Float32Array&&new Float32Array(4),pl={viewport:{def:[0,0,NaN,NaN],getter:function(p){return p.getParameter(2978)},setter:function(p,E){var b=E[2]!=E[2]?p.drawingBufferWidth-E[0]:E[2],Z=E[3]!=E[3]?p.drawingBufferHeight-E[1]:E[3];p.viewport(E[0],E[1],b,Z)}},dither:{def:!1,getter:function(p){return p.isEnabled(3024)},setter:function(p,E){E?p.enable(3024):p.disable(3024)}},rasterizerDiscard:{def:!1,getter:function(p){return 1<zV.for(p).version&&p.isEnabled(35977)},setter:function(p,E){1!==zV.for(p).version&&(E?p.enable(35977):p.disable(35977))}},lineWidth:{def:1,getter:function(p){return p.lineWidth?p.getParameter(2849):1},setter:function(p,E){p.lineWidth&&p.lineWidth(E)}},color:{clear:{def:[0,0,0,0],getter:function(p){return p.getParameter(3106)},setter:function(p,E){p.clearColor(E[0],E[1],E[2],E[3])},parse:$N},mask:{def:[!0,!0,!0,!0],getter:function(p){return p.getParameter(3107)},setter:function(p,E){p.colorMask(E[0],E[1],E[2],E[3])}}},blend:{enabled:{def:!1,getter:function(p){return p.isEnabled(3042)},setter:function(p,E){E?p.enable(3042):p.disable(3042)}},color:{def:[0,0,0,0],getter:function(p){return p.getParameter(32773)},setter:function(p,E){p.blendColor(E[0],E[1],E[2],E[3])},parse:$N},equation:{def:[32774,32774],getter:function(p){return[p.getParameter(32777),p.getParameter(34877)]},setter:function(p,E){p.blendEquationSeparate(E[0],E[1])},parse:function(p){var E=p.length;return 1<E?p:(d_[1]=d_[0]=1===E?p[0]:p,d_)}},func:{def:[1,OV.ZERO,1,OV.ZERO],getter:function(p){return[p.getParameter(32969),p.getParameter(32968),p.getParameter(32971),p.getParameter(32970)]},setter:function(p,E){p.blendFuncSeparate(E[0],E[1],E[2],E[3])},parse:function(p){return 3<p.length?p:(d_[2]=d_[0]=p[0],d_[3]=d_[1]=p[1],d_)}}},cullFace:{enabled:{def:!1,getter:function(p){return p.isEnabled(2884)},setter:function(p,E){E?p.enable(2884):p.disable(2884)}},mode:{def:1029,getter:function(p){return p.getParameter(2885)},setter:function(p,E){p.cullFace(E)}},frontFace:{def:2305,getter:function(p){return p.getParameter(2886)},setter:function(p,E){p.frontFace(E)}}},scissor:{enabled:{def:!1,getter:function(p){return p.isEnabled(3089)},setter:function(p,E){E?p.enable(3089):p.disable(3089)}},box:{def:[0,0,NaN,NaN],getter:function(p){return p.getParameter(3088)},setter:function(p,E){var b=E[2]!=E[2]?p.drawingBufferWidth-E[0]:E[2],Z=E[3]!=E[3]?p.drawingBufferHeight-E[1]:E[3];p.scissor(E[0],E[1],b,Z)}}},depth:{enabled:{def:!1,getter:function(p){return p.isEnabled(2929)},setter:function(p,E){E?p.enable(2929):p.disable(2929)}},clear:{def:1,getter:function(p){return p.getParameter(2931)},setter:function(p,E){p.clearDepth(E)}},mask:{def:!0,getter:function(p){return p.getParameter(2930)},setter:function(p,E){p.depthMask(E)}},range:{def:[0,1],getter:function(p){return p.getParameter(2928)},setter:function(p,E){p.depthRange(E[0],E[1])}},func:{def:513,getter:function(p){return p.getParameter(2932)},setter:function(p,E){p.depthFunc(E)}}},stencil:{enabled:{def:!1,getter:function(p){return p.isEnabled(2960)},setter:function(p,E){E?p.enable(2960):p.disable(2960)}},clear:{def:0,getter:function(p){return p.getParameter(2961)},setter:function(p,E){p.clearStencil(E)}},frontMask:{def:255,getter:function(p){return p.getParameter(2968)},setter:function(p,E){p.stencilMaskSeparate(1028,E)}},frontOp:{def:[7680,7680,7680],getter:function(p){return[p.getParameter(2964),p.getParameter(2965),p.getParameter(2966)]},setter:function(p,E){p.stencilOpSeparate(1028,E[0],E[1],E[2])}},frontFunc:{def:[519,0,255],getter:function(p){return[p.getParameter(2962),p.getParameter(2967),p.getParameter(2963)]},setter:function(p,E){p.stencilFuncSeparate(1028,E[0],E[1],E[2])}},backMask:{def:255,getter:function(p){return p.getParameter(36005)},setter:function(p,E){p.stencilMaskSeparate(1029,E)}},backOp:{def:[7680,7680,7680],getter:function(p){return[p.getParameter(34817),p.getParameter(34818),p.getParameter(34819)]},setter:function(p,E){p.stencilOpSeparate(1029,E[0],E[1],E[2])}},backFunc:{def:[519,0,255],getter:function(p){return[p.getParameter(34816),p.getParameter(36003),p.getParameter(36004)]},setter:function(p,E){p.stencilFuncSeparate(1029,E[0],E[1],E[2])}}},hint:{generateMipmap:{def:4352,getter:function(p){return p.getParameter(33170)},setter:function(p,E){p.hint(33170,E)}},fragmentShaderDerivative:{def:4352,getter:function(p){var E=zV.for(p);return 1!==E.version||E.extensions.OES_standard_derivatives?p.getParameter(35723):4352},setter:function(p,E){var b=zV.for(p);(1<b.version||b.extensions.OES_standard_derivatives)&&p.hint(35723,E)}}},pixelStore:{packAlignment:eN(4,3333,!1),unpackAlignment:eN(4,3317,!1),unpackFlipY:eN(!1,37440,!1),unpackPremultiplyAlpha:eN(!1,37441,!1),unpackColorspaceConversion:eN(37444,37443,!1),packRowLength:eN(0,3330,!0),packSkipPixels:eN(0,3332,!0),packSkipRows:eN(0,3331,!0),unpackRowLength:eN(0,3314,!0),unpackImageHeight:eN(0,32878,!0),unpackSkipPixels:eN(0,3316,!0),unpackSkipRows:eN(0,3315,!0),unpackSkipImages:eN(0,32877,!0)},polygonOffset:{enabled:{def:!1,getter:function(p){return p.isEnabled(32823)},setter:function(p,E){E?p.enable(32823):p.disable(32823)}},value:{def:[0,0],getter:function(p){return[p.getParameter(32824),p.getParameter(10752)]},setter:function(p,E){p.polygonOffset(E[0],E[1])}}},sampleCoverage:{enabled:{def:!1,getter:function(p){return p.isEnabled(32928)},setter:function(p,E){E?p.enable(32928):p.disable(32928)}},alpha:{def:!1,getter:function(p){return p.isEnabled(32926)},setter:function(p,E){E?p.enable(32926):p.disable(32926)}},value:{def:[1,!1],getter:function(p){return[p.getParameter(32938),p.getParameter(32939)]},setter:function(p,E){p.sampleCoverage(E[0],E[1])}}}},pl=Pm.create(pl,function(p){return"def"in p}),tN.prototype.reset=function(){for(var p=this._struct.children,E=p.length;E--;){var b=p[E],Z=b.name;b.isLeaf?this[Z]=b.desc.def:this._branches[Z].reset()}},tN.prototype.save=function(p){p==K$&&(p={});for(var E=this._struct.children,b=E.length;b--;){var Z=E[b],o=Z.name;Z.isLeaf?p[o]=YN(this._record[o]):((Z=p[o])==K$&&(p[o]=Z={}),this._branches[o].save(Z))}return p},tN.prototype.sync=function(p,E){for(var b=this._struct.children,Z=b.length;Z--;){var o=b[Z],A=o.name;o.isLeaf?!E&&this._leafSync[A]||(p?this._record[A]=o.desc.getter(this.gl):o.desc.setter(this.gl,this._record[A]),this._leafSync[A]=!0):this._branches[A].sync(p,E)}},tN.prototype.syncLoss=function(){for(var p=this._struct.children,E=p.length;E--;){var b=p[E];b.isLeaf?this._leafSync[b.name]=!1:this._branches[b.name].syncLoss()}},tN.prototype.apply=function(p,E){for(var b=this._struct.children,Z=b.length;Z--;){var o=b[Z],A=o.name;A in p&&(o.isLeaf?(E&&(E[A]=p$(this[A])),this[A]=p[A]):this._branches[A].apply(p[A],E?E[A]={}:K$))}},tN.prototype.append=function(p){var E,b=this._struct.childMap;for(E in p){var Z=b[E];Z&&(Z.isLeaf?this[E]=p[E]:this._branches[E].append(p[E]))}},U_=function V(o){var c=[];function p(p,E){tN.call(this,o,p,E);for(var b=c.length;b--;){var Z=c[b];this._branches[Z._name]=new Z._type(p,this._record[Z._name])}}return bN(p,tN),o.forEach(function(p,E){var b,Z,o=p.name,A=ZN(p.desc.def),l=A&&p.desc.def.length;p.isLeaf?(b=p.desc.setter,Z=p.desc.parse,t$.defineProperty(E,o,{configurable:!1,enumerable:!0,get:function(){return this._record[o]},set:A?function(p){Z&&(p=Z(p)),!function(p,E){for(var b=l,Z=!1;b--;)p[b]!==E[b]&&(p[b]=E[b],Z=!0);return Z}(this._record[o],p)&&this._leafSync[o]||(b(this.gl,this._record[o]),this._leafSync[o]=!0)}:function(p){this._record[o]===p&&this._leafSync[o]||(b(this.gl,p),this._record[o]=p,this._leafSync[o]=!0)}})):(c.push({_name:o,_type:V(p)}),t$.defineProperty(E,o,{configurable:!1,enumerable:!0,get:function(){return this._branches[o]},set:function(p){this._branches[o].apply(p)}}))},p.prototype),p}(pl),function(){var c=[];if("function"==typeof Float32Array)for(var p=1;p<17;++p)c[p]=new Float32Array(p);function S(p,E,b,Z){if(p)if(p.length!=K$)for(o=0;o<Z;++o)E[b+o]=p[o];else p.toArray&&p.toArray(E,b);else for(var o=0;o<Z;++o)E[b+o]=0}function b(p,E,b){var Z=p[0];if("number"==typeof Z)return p;var o=E*b,A=c[o];if(A==K$&&(c[o]=A=new Float32Array(o)),0!==E){S(Z,A,0,b);for(var l=1,V=0;l!==E;++l)S(p[l],A,V+=b,b)}return A}function E(p,E){p.uniform1iv(this.addr,E)}function Z(p,E){p.uniform2iv(this.addr,E)}function o(p,E){p.uniform3iv(this.addr,E)}function A(p,E){p.uniform4iv(this.addr,E)}function l(p,E){p.uniform2uiv(this.addr,E)}function V(p,E){p.uniform3uiv(this.addr,E)}function I(p,E){p.uniform4uiv(this.addr,E)}var D=[0,1];function B(p,E){p.uniform1i(this.addr,this.slots[0]),p.activeTexture(33984+this.slots[0]),p.bindTexture(3553,E||p._emptyTexture)}function n(p,E){p.uniform1iv(this.addr,this.slots);for(var b=this.slots.length;b--;)p.activeTexture(33984+this.slots[b]),p.bindTexture(3553,E[b]||p._emptyTexture)}var k=[];function j(p,E,b){k[p]=[E,b]}j(5126,function(p,E){var b=this.cache;b[0]!==E&&(p.uniform1f(this.addr,E),b[0]=E)},function(p,E){p.uniform1fv(this.addr,E)}),j(35664,function(p,E){var b,E=E.x!=K$?(b=E.x,E.y):(b=E[0],E[1]),Z=this.cache;Z[0]===b&&Z[1]===E||(p.uniform2f(this.addr,b,E),Z[0]=b,Z[1]=E)},function(p,E){E=b(E,this.size,2),p.uniform2fv(this.addr,E)}),j(35665,function(p,E){E=(E="string"==typeof E?W6(E):E).x!=K$?(b=E.x,Z=E.y,E.z):E.r!=K$?(b=E.r,Z=E.g,E.b):E.red!=K$?(b=E.red,Z=E.green,E.blue):(b=E[0],Z=E[1],E[2]);var b,Z,o=this.cache;o[0]===b&&o[1]===Z&&o[2]===E||(p.uniform3f(this.addr,b,Z,E),o[0]=b,o[1]=Z,o[2]=E)},function(p,E){E=b(E,this.size,3),p.uniform3fv(this.addr,E)}),j(35666,function(p,E){E=(E="string"==typeof E?W6(E):E).x!=K$?(b=E.x,Z=E.y,o=E.z,E.w):E.r!=K$?(b=E.r,Z=E.g,o=E.b,E.a):E.red!=K$?(b=E.red,Z=E.green,o=E.blue,E.alpha):(b=E[0],Z=E[1],o=E[2],E[3]==r$?1:E[3]);var b,Z,o,A=this.cache;A[0]===b&&A[1]===Z&&A[2]===o&&A[3]===E||(p.uniform4f(this.addr,b,Z,o,E),A[0]=b,A[1]=Z,A[2]=o,A[3]=E)},function(p,E){E=b(E,this.size,4),p.uniform4fv(this.addr,E)}),j(5124,function(p,E){var b=this.cache;b[0]!==E&&(p.uniform1i(this.addr,E),b[0]=E)},E),j(35667,Z,Z),j(35668,o,o),j(35669,A,A),j(5125,function(p,E){p.uniform1ui(this.addr,E)},function(p,E){p.uniform1uiv(this.addr,E)}),j(36294,l,l),j(36295,V,V),j(36296,I,I),j(35670,function(p,E){var b=this.cache;b[0]!==(E=D[E?1:0])&&(p.uniform1i(this.addr,E),b[0]=E)},E),j(35671,Z,Z),j(35672,o,o),j(35673,A,A),j(35674,function(p,E){var b=c[4];b.set(E,0),p.uniformMatrix2fv(this.addr,!1,b)},function(p,E){p.uniformMatrix2fv(this.addr,!1,b(E,this.size,4))}),j(35675,function(p,E){var b=c[9];b.set(E,0),p.uniformMatrix3fv(this.addr,!1,b)},function(p,E){p.uniformMatrix3fv(this.addr,!1,b(E,this.size,9))}),j(35676,function(p,E){var b=c[16];b.set(E,0),p.uniformMatrix4fv(this.addr,!1,b)},function(p,E){p.uniformMatrix4fv(this.addr,!1,b(E,this.size,16))}),j(35678,B,n),j(35679,function(p,E){p.uniform1i(this.addr,this.slots[0]),p.activeTexture(33984+this.slots[0]),p.bindTexture(32879,E)},function(p,E){p.uniform1iv(this.addr,this.slots);for(var b=this.slots.length;b--;)p.activeTexture(33984+this.slots[b]),p.bindTexture(32879,E[b])}),j(36306,B,n),j(35680,function(p,E){p.uniform1i(this.addr,this.slots[0]),p.activeTexture(33984+this.slots[0]),p.bindTexture(34067,E||p._emptyCubeTexture)},function(p,E){p.uniform1iv(this.addr,this.slots);for(var b=this.slots.length;b--;)p.activeTexture(33984+this.slots[b]),p.bindTexture(34067,E[b]||p._emptyCubeTexture)});var e=/([\w\d_]+)(\])?(\[|\.)?/g;function $(p,E,b,Z,o){this.name=p,this.addr=E,this.cache=[],this.size=Z?b.size:0,this.activeInfo=b,this.setter=k[b.type][Z?1:0],this.slots=function(p,E,b){switch(p.type){case 35678:case 35679:case 35680:case 36306:if("uSampler"===b)return[0];if("uBlendSampler"===b)return[1];for(var Z=p.size,o=new Int32Array(Z),A=0;A<Z;++A)o[A]=E.usedTextureSlot++;return o}return K$}(b,o,p),Lm(this)}function Y(p,E,b){this.gl=E,this._program=b,this._leaves={},this._branches={},this._struct=p}function W(p,E){for(var b=p.getProgramParameter(E,35718),Z={},o={usedTextureSlot:2};b--;){var A=p.getActiveUniform(E,b),l=A.name,V=(W=n=j=S=void 0,A),c=p.getUniformLocation(E,l),S=Z,I=o,D=V.name,B=D.length;for(e.lastIndex=0;;){var n=e.exec(D),k=e.lastIndex,j=n[1],W="]"===n[2];if(W&&(j|=0),(n=n[3])===K$||"["===n&&k+2===B){S[j]=new $(j,c,V,n!==K$,I);break}(W=S[j])==K$&&(S[j]=W={}),S=W}}var m=function A(o){var l=[];function p(p,E){Y.call(this,o,p,E);for(var b=l.length;b--;){var Z=l[b];this._branches[Z._name]=new Z._type(p,E)}this.uuid=f.generateUUID()}return bN(p,Y),o.forEach(function(p,E){var b,Z,o=p.name;p.isLeaf?(b=xm?oN("d.setter(this.gl, v);",["v"],["d"],[p.desc]):(Z=p.desc,function(p){Z.setter(this.gl,p)}),t$.defineProperty(E,o,{configurable:!1,enumerable:!0,get:function(){return b},set:b})):(l.push({_name:o,_type:A(p)}),t$.defineProperty(E,o,{configurable:!1,enumerable:!0,get:function(){return this._branches[o]},set:function(p){this._branches[o].apply(p)}}))},p.prototype),p}(Pm.create(Z,function(p){return"addr"in p}));return t$.defineProperty(m.prototype,"textureCount",{configurable:!1,enumerable:!1,writable:!1,value:o.usedTextureSlot}),new m(p,E)}return Y.prototype.apply=function(p,E){for(var b=this._struct.children,Z=b.length;Z--;){var o,A=b[Z],l=A.name,V=A.desc.activeInfo;if(E){if((o=E(p,l,V?V.type:null))===K$)continue}else{if(!(l in p))continue;o=p[l]}A.isLeaf?this[l]=o:this._branches[l].apply(o)}},Y.prototype.append=function(p){var E,b=this._struct.childMap;for(E in p){var Z=b[E];Z&&(Z.isLeaf?this[E]=p[E]:this._branches[E].append(p[E]))}},function(p,E){var b=E._uniforms;return b||(E._uniforms=b=W(p,E)),b}}()),vV=function(){for(var o=[],p=1;p<17;++p)o[p]=new Of(p);function E(p,E,b){E.vertexAttrib1f(p.addr,b)}function S(p,E,b,Z){for(var o=b?1:0,A=E.addr,l=0;l<Z;l++)p.vertexAttribDivisor(A+l,o)}var Z=[],I="undefined"!=typeof WebGLBuffer&&WebGLBuffer.prototype;function b(p,l,V,c){Z[p]=function(p,E,b,Z,o,A){this.addr==K$||this.addr<0||(E==K$||!1===E?c(p,this.addr):gm(E)===I?V(this,p,E,E.glType,Z,o,A):(c(p,this.addr),l(this,p,E)))}}function A(p,E){p.vertexAttribDivisor(E,0),p.disableVertexAttribArray(E)}function V(p,E,b){this.name=p,this.addr=E,this.activeInfo=b,this.setter=Z[b.type],Lm(this)}function c(p,E,b){this.gl=E,this.program=b,this._branches={},this._struct=p}return b(5125,E,function(p,E,b,Z,o,A,l){E.bindBuffer(34962,b);var V=p.addr;E.enableVertexAttribArray(V),S(E,p,b.instanced,1),E.vertexAttribIPointer(V,1,Z||5126,A||0,l||0),E.bindBuffer(34962,null)},A),b(5126,E,function(p,E,b,Z,o,A,l){E.bindBuffer(34962,b);var V=p.addr;E.enableVertexAttribArray(V),S(E,p,b.instanced,1),E.vertexAttribPointer(V,1,Z||5126,!!o,A||0,l||0),E.bindBuffer(34962,null)},A),b(35664,function(p,E,b){var Z;b.x!=K$?E.vertexAttrib2f(p.addr,b.x,b.y):((Z=o[2]).set(b,0),E.vertexAttrib2fv(p.addr,Z))},function(p,E,b,Z,o,A,l){E.bindBuffer(34962,b);var V=p.addr;E.enableVertexAttribArray(V),S(E,p,b.instanced,1),E.vertexAttribPointer(V,2,Z||5126,!!o,A||0,l||0),E.bindBuffer(34962,null)},A),b(35665,function(p,E,b){var Z;b.x!=K$?E.vertexAttrib3f(p.addr,b.x,b.y,b.z):b.r!=K$?E.vertexAttrib3f(p.addr,b.r,b.g,b.b):b.red!=K$?E.vertexAttrib3f(p.addr,b.red,b.green,b.blue):((Z=o[3]).set(b,0),E.vertexAttrib3fv(p.addr,Z))},function(p,E,b,Z,o,A,l){E.bindBuffer(34962,b);var V=p.addr;E.enableVertexAttribArray(V),S(E,p,b.instanced,1),E.vertexAttribPointer(V,3,Z||5126,!!o,A||0,l||0),E.bindBuffer(34962,null)},A),b(35666,function(p,E,b){var Z;(b="string"==typeof b?W6(b):b).x!=K$?E.vertexAttrib4f(p.addr,b.x,b.y,b.z,b.w):b.r!=K$?E.vertexAttrib4f(p.addr,b.r,b.g,b.b,b.a):b.red!=K$?E.vertexAttrib4f(p.addr,b.red,b.green,b.blue,b.alpha):((Z=o[4]).set(b,0),E.vertexAttrib4fv(p.addr,Z))},function(p,E,b,Z,o,A,l){E.bindBuffer(34962,b);var V=p.addr;E.enableVertexAttribArray(V),S(E,p,b.instanced,1),E.vertexAttribPointer(V,4,Z||5126,!!o,A||0,l||0),E.bindBuffer(34962,null)},A),b(35674,function(p,E,b){b=b.el||b,E.vertexAttrib2f(p.addr,b[0],b[1]),E.vertexAttrib2f(p.addr+1,b[2],b[3])},function(p,E,b,Z,o,A,l){var A=A||16,l=l||0,V=p.addr;E.bindBuffer(34962,b),E.enableVertexAttribArray(V),E.vertexAttribPointer(V,2,Z||5126,!!o,A,l),E.enableVertexAttribArray(V+1),E.vertexAttribPointer(V+1,2,Z||5126,!!o,A,l+8),S(E,p,b.instanced,2),E.bindBuffer(34962,null)},function(p,E){p.vertexAttribDivisor(E,0),p.vertexAttribDivisor(E+1,0),p.disableVertexAttribArray(E),p.disableVertexAttribArray(E+1)}),b(35675,function(p,E,b){b=b.el||b,E.vertexAttrib3f(p.addr,b[0],b[1],b[2]),E.vertexAttrib3f(p.addr+1,b[3],b[4],b[5]),E.vertexAttrib3f(p.addr+2,b[6],b[7],b[8])},function(p,E,b,Z,o,A,l){var A=A||36,l=l||0,V=p.addr;E.bindBuffer(34962,b);for(var c=0;c<3;c++)E.enableVertexAttribArray(V+c),E.vertexAttribPointer(V+c,3,Z||5126,!!o,A,l+12*c);S(E,p,b.instanced,3),E.bindBuffer(34962,null)},function(p,E){p.vertexAttribDivisor(E,0),p.vertexAttribDivisor(E+1,0),p.vertexAttribDivisor(E+2,0),p.disableVertexAttribArray(E),p.disableVertexAttribArray(E+1),p.disableVertexAttribArray(E+2)}),b(35676,function(p,E,b){b=b.el||b,E.vertexAttrib4f(p.addr,b[0],b[1],b[2],b[3]),E.vertexAttrib4f(p.addr+1,b[4],b[5],b[6],b[7]),E.vertexAttrib4f(p.addr+2,b[8],b[9],b[10],b[11]),E.vertexAttrib4f(p.addr+3,b[12],b[13],b[14],b[15])},function(p,E,b,Z,o,A,l){var A=A||64,l=l||0,V=p.addr;E.bindBuffer(34962,b);for(var c=0;c<4;c++)E.enableVertexAttribArray(V+c),E.vertexAttribPointer(V+c,4,Z||5126,!!o,A,l+16*c);S(E,p,b.instanced,4),E.bindBuffer(34962,null)},function(p,E){p.vertexAttribDivisor(E,0),p.vertexAttribDivisor(E+1,0),p.vertexAttribDivisor(E+2,0),p.vertexAttribDivisor(E+3,0),p.disableVertexAttribArray(E),p.disableVertexAttribArray(E+1),p.disableVertexAttribArray(E+2),p.disableVertexAttribArray(E+3)}),c.prototype.disable=function(){for(var p=this._struct.children,E=p.length;E--;){var b=p[E],Z=b.name;b.isLeaf?this[Z]=K$:this._branches[Z].disable()}},c.prototype.apply=function(p,E){for(var b=this._struct.children,Z=b.length;Z--;){var o,A=b[Z],l=A.name;if(E){if((o=E(p,l,A))===K$)continue}else{if(!(l in p))continue;o=p[l]}A.isLeaf?this[l]=o:this._branches[l].apply(o)}},c.prototype.append=function(p){var E,b=this._struct.childMap;for(E in p){var Z=b[E];Z&&(Z.isLeaf?this[E]=p[E]:this._branches[E].append(p[E]))}},function(p,E){var b=E._attribs;return b||(E._attribs=b=function(p,E){for(var b=p.getProgramParameter(E,35721),Z={};b--;){var o=p.getActiveAttrib(E,b),A=o.name,l=p.getAttribLocation(E,A);0<=l&&(Z[A]=new V(A,l,o))}return new(function A(o){var l=[];function p(p,E){c.call(this,o,p,E);for(var b=l.length;b--;){var Z=l[b];this._branches[Z._name]=new Z._type(p,E)}}return bN(p,c),o.forEach(function(p,E){var b,Z,o=p.name;p.isLeaf?(b=xm?oN("d.setter(this.gl, v);",["v"],["d"],[p.desc]):(Z=p.desc,function(p){Z.setter(this.gl,p)}),t$.defineProperty(E,o,{configurable:!1,enumerable:!0,get:function(){return b},set:b})):(l.push({_name:o,_type:A(p)}),t$.defineProperty(E,o,{configurable:!1,enumerable:!0,get:function(){return this._branches[o]},set:function(p){this._branches[o].apply(p)}}))},p.prototype),p}(Pm.create(Z,function(p){return"addr"in p})))(p,E)}(p,E)),b}}(),g$=function(p){var E;t$.defineProperties(this,{gl:{configurable:!1,enumerable:!1,value:p,writable:!1},glState:{configurable:!1,enumerable:!1,value:((E=(p=p)._state)||(p._state=E=new U_(p)),E),writable:!1}}),this._currProgram=K$,this._currUniforms=K$,this._currAttribs=K$,this._sync=!0},QV=(t$.defineProperties(g$.prototype,{program:{configurable:!1,enumerable:!1,get:function(){return this._currProgram},set:function(p){this._sync&&p===this._currProgram||(this.gl.useProgram(p),this._currProgram=p,this._currUniforms=_V(this.gl,p),this._currAttribs=vV(this.gl,p),this._sync=!0)}},uniforms:{configurable:!1,enumerable:!1,get:function(){return this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currUniforms},set:function(p){this._currUniforms&&(this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currUniforms.apply(p))}},attribs:{configurable:!1,enumerable:!1,get:function(){return this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currAttribs},set:function(p){this._currUniforms&&(this._currProgram&&!this._sync&&(this.gl.useProgram(this._currProgram),this._sync=!0),this._currAttribs.apply(p))}}}),g$.prototype.useProgram=function(p){this._sync&&p===this._currProgram||(this.gl.useProgram(p),this._currProgram=p,this._currUniforms=_V(this.gl,p),this._currAttribs=vV(this.gl,p),this._sync=!0)},g$.prototype.directState=function(){return this.glState},g$.prototype.directUniforms=function(){return this._currUniforms},g$.prototype.directAttribs=function(){return this._currAttribs},g$.prototype.syncLoss=function(){this._sync=!1,this.glState.syncLoss()},g$.for=function(p){var E=p._renderState;return E||(p._renderState=E=new g$(p)),E},"light.color"),qV=4294967295,uV={},RV={},sV={},j={},wV=function(p){return p=H$.convertShape3dModelName(p),P1(p)?p.modelType?p.uuid?wa[p.uuid]:K$:p:wa[p]},iV=function(p,E){var b;if(p=H$.convertShape3dModelName(p),P1(p)){if(p.modelType){if(p.uuid){if(b=wa[p.uuid])return E&&E(b),b}else p.uuid=u.Math.generateUUID();return b===K$?(rq(p.uuid,E),rd&&rd[p.uuid]||Gd(p.uuid,p),K$):(E&&E(b),b)}return E&&E(p),p}return b=wa[p],p&&b===K$&&l1.test(p)?(rq(p,E),rd&&rd[p]||(Xd(p,p),b=wa[p])):E&&E(b),b},fV="undefined"!=typeof WebGLTexture&&WebGLTexture.prototype,pj=function(p){return P1(p)&&gm(p)===fV},Ej=function(p,E){p.frameStack?p.frameStack.push(E):p.frameStack=[E],p.bindFramebuffer(36160,E)},bj=function(p){var E=p.frameStack;if(E){if(E.pop(),E.length)return void p.bindFramebuffer(36160,E[E.length-1]);p.frameStack=null}p.bindFramebuffer(36160,null)},Zj=(E(H$,{graph3dViewAttributes:r$,graph3dViewFirstPersonMode:!1,graph3dViewMouseRoamable:!0,graph3dViewRoamingWalkable:!0,graph3dViewMoveStep:15,graph3dViewRotateStep:R$/60,graph3dViewNavigationDamping:0,graph3dViewSortable:!1,graph3dViewOpaqueSortable:!1,graph3dViewBlockSelectable:!0,graph3dViewEditHelperDisabled:!1,graph3dViewPannable:!0,graph3dViewRotatable:!0,graph3dViewWalkable:!0,graph3dViewResettable:!0,graph3dViewZoomable:!0,graph3dViewRectSelectable:!0,graph3dViewRectSelectBackground:Bl,graph3dViewGridVisible:!1,graph3dViewGridSize:50,graph3dViewGridGap:50,graph3dViewGridColor:[.4,.75,.85,1],graph3dViewRotateMaxPhi:R$,graph3dViewRotateMinPhi:0,graph3dViewShadowDisabled:!0,graph3dViewShadowQuality:"high",graph3dViewShadowIntensity:.3,graph3dViewShadowBias:-.005,graph3dViewShadowColor:[0,0,0],graph3dViewShadowRadius:.1,graph3dViewShadowType:"hard",graph3dViewShadowDegreeX:30,graph3dViewShadowDegreeZ:-10,graph3dViewShadowCascades:0,graph3dViewShadowCSMLambda:.5,graph3dViewShadowCSMFade:.05,graph3dViewShadowPCSSLightSize:15,graph3dViewShadowPCSSIntensity:1,graph3dViewOriginAxisVisible:!1,graph3dViewCenterAxisVisible:!1,graph3dViewAxisXColor:[1,0,0,1],graph3dViewAxisYColor:[0,1,0,1],graph3dViewAxisZColor:[0,0,1,1],graph3dViewEditSizeColor:[1,1,0,1],graph3dViewOrtho:!1,graph3dViewOrthoWidth:2e3,graph3dViewSyncEyeWithOrthoWidth:!1,graph3dViewFovy:R$/4,graph3dViewNear:10,graph3dViewFar:1e4,graph3dViewEye:[0,300,1e3],graph3dViewCenter:[0,0,0],graph3dViewUp:[0,1,-1e-7],graph3dViewAspect:1.2,graph3dViewDataNumWarningLine:1e4,graph3dViewHeadlightDirection:"camera",graph3dViewHeadlightRange:0,graph3dViewHeadlightGroup:0,graph3dViewHeadlightColor:[1,1,1,1],graph3dViewHeadlightIntensity:1,graph3dViewHeadlightDisabled:!1,graph3dViewHeadlightAmbientIntensity:.7,graph3dViewHeadlightRatioForPhysicalMaterial:.5,graph3dViewFogDisabled:!0,graph3dViewFogMode:"linear",graph3dViewFogDensity:5e-4,graph3dViewFogColor:"white",graph3dViewFogNear:1,graph3dViewFogFar:2e3,graph3dViewPickerResolution:.5,graph3dViewDashDisabled:!0,graph3dViewUvClipEnabled:!1,graph3dViewTransmissionEnabled:!0,graph3dViewBatchBlendDisabled:!0,graph3dViewBatchBrightnessDisabled:!0,graph3dViewBatchColorDisabled:!1,graph3dViewBatchInstancedDisabled:!0,graph3dViewBackfaceUsingNormals:!1,graph3dViewFlowBlendMode:"addRGB",graph3dViewEnvmapType:"legacy",graph3dViewProcessMaterial:null,graph3dMaxVectorCacheTime:50,graph3dEnvmapCapabilityRequire:8,graph3dMaxHighlightGroups:8,maxAxisScaleDifference:1e3,setShape3dModel:function(p,E){F$(E)&&l1.test(E)?Xd(p,E):P1(E)&&E.modelType?Gd(p,E):E===K$?delete wa[p]:wa[p]=E},getShape3dModel:iV,getShape3dModelFromMemory:wV,convertShape3dModelName:function(p){return p},getShape3dModelMap:function(){return wa},getCachedShape3dModelMap:function(){return ia},createMatrix:function(p,E){for(var b=(p=X$(p)?p:[p]).length-1;0<=b;b--){var Z=p[b];E=lm(Z.mat,Z.s3,Z.r3,Z.rotationMode,Z.t3,E)}return E},transformVec:wf,glBindFrame:Ej,glUnbindFrame:bj,createBoxModel:function(){return{vs:Cd,ns:yd,uv:Pd,is:hd}},registerAsset3dFormat:function(p,E){var b=H$.__htExtraAsset3dPattern;if(b){if(0<=b.indexOf(p))return!1}else b=H$.__htExtraAsset3dPattern=[];return b.push(p),b=o1+"|"+b.join("|")+A1,l1=new RegExp(b,"i"),H$.setModelTypeHandler(p,E),!0},ungisterAsset3dFormat:function(p){var E=H$.__htExtraAsset3dPattern;if(!E)return!1;var b=E.indexOf(p);return!(b<0)&&(E.splice(b,1),b=o1+(E.length?"|":"")+E.join("|")+A1,l1=new RegExp(b,"i"),H$.setModelTypeHandler(p,K$),E.length||(H$.__htExtraAsset3dPattern=r$),!0)},createRoundRectModel:function(p,E){return ud.roundRect(p,E)},createStarModel:function(p,E){return ud.star(p,E)},createRectModel:function(p,E){return ud.rect(p,E)},createTriangleModel:function(p,E){return ud.triangle(p,E)},createRightTriangleModel:function(p,E){return ud.rightTriangle(p,E)},createParallelogramModel:function(p,E){return ud.parallelogram(p,E)},createTrapezoidModel:function(p,E){return ud.trapezoid(p,E)},createSmoothSphereModel:function(p,E,b,Z,o,A,l){return OY(new kP(p,E,b,Z,o,A,l))},createSphereModel:function(p,E,b,Z,o,A,l){return p?Ud(p,E,b,Z,o,A,l):H$.createSmoothSphereModel()},createSmoothConeModel:function(p,E,b,Z,o){return vd(p,E,b,Z,o)},createConeModel:function(p,E,b,Z,o,A,l,V){return p?Qd(p,E,b,Z,o,A,l,V):vd(A)},createSmoothCylinderModel:function(p,E,b,Z,o,A,l,V){return OY(new nP(p,E,b,Z,o,A,l,V))},createCylinderModel:function(p,E,b,Z,o,A,l,V){return p?_d(p,E,b,Z,o,A,l,V):zd(A,l)},createSmoothTorusModel:function(p,E,b,Z,o,A){return OY(new jP(p,E,b,Z,o,A))},createTorusModel:function(p,E,b,Z,o,A,l,V){return p?Od(p,E,b,Z,o,A,l,V):Nd(A,l)},createExtrusionModel:function(p,E,b,Z,o,A,l,V){return qd(p,E,b,Z,o,A,l,V)},createSmoothRingModel:function(p,E,b,Z,o,A){for(var l=[],V=0;V<p.length-1;V+=2)l.push({x:p[V],y:p[V+1]});for(p=K6(l,E,b)[0],l=[],V=0;V<p.length;V++){var c=p[V];l.push(new G$(c.x,0,c.y))}return OY(new eP(l,A,Z,o))},createTextGeometry:function(p,E){var b=OY(new $P(p,E));if(E.cube)for(var E=(p=function(p){for(var E,b,Z,o,A,l,V=X$(p)?p:[p],c=1/0,S=1/0,I=1/0,D=-1/0,B=-1/0,n=-1/0,k=["vs","top_vs","bottom_vs","from_vs","to_vs"],j=0,W=V.length;j<W;j++)for(l=V[j],E=0,b=k.length;E<b;E++)if(A=l[k[E]])for(Z=0,o=A.length;Z<o;Z+=3)c=Z$(c,A[Z]),S=Z$(S,A[Z+1]),I=Z$(I,A[Z+2]),D=b$(D,A[Z]),B=b$(B,A[Z+1]),n=b$(n,A[Z+2]);return p.boundingBox={min:{x:c,y:S,z:I},max:{x:D,y:B,z:n}}}(b)).min,p=p.max,Z=E.x,o=E.y,A=E.z,l=p.x-Z||1,V=p.y-o||1,c=p.z-A||1,S=["vs","top_vs","bottom_vs"],I=0,D=S.length;I<D;I++){var B=b[S[I]];if(B)for(var n=0,k=B.length;n<k;n+=3)B[n]=(B[n]-Z)/l-.5,B[n+1]=(B[n+1]-o)/V-.5,B[n+2]=(B[n+2]-A)/c-.5}return b},loadFontFace:function(p,Z){H$.xhrLoad(p,function(E){if(!E)return Z();var b;try{b=JSON.parse(E)}catch(p){b=JSON.parse(E.substring(65,E.length-2))}AP.loadFace(b),Z&&Z(b.familyName.toLowerCase())},Z?null:{sync:!0})},createRingModel:function(p,y,a,E,b,Z,o,A,l,V){for(var c=[],S=0;S<p.length-1;S+=2)c.push({x:p[S],y:p[S+1]});Z=Z||H$.shapeSide,o=o||0,A=A||Z;var I,D,B,n,k,j,W,m,e,$,Y,t,K,r,H,M,F,X=[],G=[],T=l?[]:r$,g=l?[]:r$,L=V?[]:r$,x=V?[]:r$,C=E?[]:r$,J=E?[]:r$,d=b?[]:r$,U=b?[]:r$,p=K6(c,y,a),N=SW(p),h=0,P=2*Math.PI/Z;return p.forEach(function(p){if(1<(B=p.length)){if(n=p[0],E)for(j=n.x,m=n.y,S=o;S<A;S++)K=(Y=S+1)*P,r=M$(t=S*P),H=k$(t),M=M$(K),F=k$(K),C.push(r*j,m,-H*j,M*j,m,-F*j,0,m,0),J.push(.5-.5*r,.5-.5*H,.5-.5*M,.5-.5*F,.5,.5);for($=0;$<B;$++){for(k=p[$],j=n.x,W=k.x,m=n.y,e=k.y,I=h/N,h+=$f(n,k),D=h/N,S=o;S<A;S++)K=(Y=S+1)*P,r=M$(t=S*P),H=k$(t),M=M$(K),F=k$(K),X.push(r*W,e,-H*W,M*W,e,-F*W,r*j,m,-H*j,M*W,e,-F*W,M*j,m,-F*j,r*j,m,-H*j),G.push(S/Z,D,Y/Z,D,S/Z,I,Y/Z,D,Y/Z,I,S/Z,I),l&&S===o&&(T.push(0,m,0,0,e,0,r*W,e,-H*W,r*W,e,-H*W,r*j,m,-H*j,0,m,0),g.push(0,.5-m,0,.5-e,2*W,.5-e,2*W,.5-e,2*j,.5-m,0,.5-m)),V&&Y===A&&(L.push(0,m,0,M*W,e,-F*W,0,e,0,M*W,e,-F*W,0,m,0,M*j,m,-F*j),x.push(1,.5-m,1-2*W,.5-e,1,.5-e,1-2*W,.5-e,1,.5-m,1-2*j,.5-m));n=k}if(b)for(j=n.x,m=n.y,S=o;S<A;S++)K=(Y=S+1)*P,r=M$(t=S*P),H=k$(t),M=M$(K),F=k$(K),d.push(M*j,m,-F*j,r*j,m,-H*j,0,m,0),U.push(.5-.5*M,.5+.5*F,.5-.5*r,.5+.5*H,.5,.5)}}),{vs:X,uv:G,bottom_vs:d,bottom_uv:U,top_vs:C,top_uv:J,from_vs:T,from_uv:g,to_vs:L,to_uv:x}},generateGLBufferID:function(){return f.generateIncreasingID()},getDataModel3dBindings:function(p){if(p instanceof sm)return p.s("model3dBindings")||p.getAttrObject()},completeModel3dAnimation:function(p,E,b,Z){N_={};var o,A,l,V=p=0<=(l=(p=0<=(l=Math.max(p.lastIndexOf("\\"),p.lastIndexOf("/")))?p.slice(l+1):p).lastIndexOf("."))?p.slice(0,l):p,c=E.animations;if(c)for(j=0,W=c.length;j<W;j++)(B=c[j]).duration&&B.tracks&&B.tracks.length?(B.sources=[],B.sourceShortName=V,rN(c,B,b)):B._toBeRemoved=!0;if(Z&&Z.length)for(c=c||(E.animations=[]),j=0,W=Z?Z.length:0;j<W;j++){var S,I=Z[j];if(I&&(S=I.animations)&&S.length)for(o=0,A=S.length;o<A;o++){var D=t$.assign({},S[o]);D.sources?(D.sources=D.sources.slice(0),D.sources.splice(0,0,j)):D.sources=[j],rN(c,D,b),c.push(D)}}for(var B,n=[],k=[],j=0,W=c.length;j<W;j++)(B=c[j])._toBeRemoved?k.push(B.rawName||B.name):n.push(B);return n.length!==c.length&&(E.animations=n),k.length&&(E.invalidAnimationNames=k),E}},!0),E(L$,{"3d.move.mode":K$,"3d.selectable":!0,"3d.visible":!0,"3d.movable":!0,"3d.editable":!0,"3d.clip.direction":null,"3d.clip.percentage":1,"3d.reflectable":!0,"shape.border.gradient.color":K$,"edge.gradient.color":K$,"edge.source.t3":K$,"edge.target.t3":K$,"light.type":"point","light.group":0,"light.center":[0,0,0],"light.color":[1,1,1,1],"light.disabled":!1,"light.angle":R$/4,"light.range":0,"light.exponent":1,"light.intensity":1,"light.rotation.enable":!1,"light.size":[100,100],"light.specular.disable":!1,"light.mask":qV,"headlight.ambientIntensity":K$,"wf.visible":!1,"wf.width":1,"wf.fog":!0,"wf.group":0,"wf.color":I3,"wf.short":!1,"wf.mat":K$,"wf.boundingBox":!1,"wf.material":null,"wf.geometry":!1,"wf.loadQuadWireframe":!1,"wf.combineTriangle":!0,"wf.normEpsilon":K$,"wf.geometry.batch":!0,batch:K$,static:K$,"static.group":0,"transparent.mask":!1,"transparent.separate":!1,brightness:K$,"select.brightness":.7,"repeat.uv.length":K$,"rotate.uv.length":K$,"rotate.vs.length":K$,"shadow.cast":!0,"shadow.receive":!0,"shape3d.custom.shadow":!1,"3d.clipbox":K$,"3d.clipbox.mask":qV,"3d.clipbox.group":0,"3d.clipbox.shape":"cube","effect.flow":!1,"effect.flow.gradient":"spread.horizontal","effect.flow.uvshape":"rect","effect.flow.size":512,"effect.flow.infinite":!1,"effect.flow.group":0,"effect.flow.intensity":1,"effect.flow.blend":K$,"effect.flow.blur":0,"effect.flow.blur.iterations":1,"effect.flow.mask":qV,"logic.group":0,bloom:!1,envmap:0,"envmap.probe":0,roughness:0,renderTextureSamples:4,alphaTest:.4,autorotate:!1,fixSizeOnScreen:!1,"texture.cache":!1,"texture.width":K$,"hide.overlapping.group":K$,"vector.dynamic":!1,"vector.dynamic.maxsize":2048,"texture.scale":1,"geometry.cache":!1,"highlight.group":0,"highlight.mode":!1,"highlight.type":"hard","highlight.visible":!0,"highlight.width":.8,"highlight.color":"rgba(190, 210, 250, 1)","highlight.glow":.8,"highlight.strength":2,"color.empty":[0,0,0,0],matDef:K$,"shape3d.material":K$,"shape3d.top.material":K$,"shape3d.bottom.material":K$,"shape3d.from.material":K$,"shape3d.to.material":K$,"label.face":el,"label.t3":K$,"label.r3":K$,"label.texture.scale":2,"label.rotationMode":MP,"label.light":!1,"label.blend":K$,"label.reverse.flip":!1,"label.reverse.color":f6,"label.reverse.cull":!1,"label.transparent":!1,"label.autorotate":!1,"label2.face":el,"label2.t3":K$,"label2.r3":K$,"label2.texture.scale":2,"label2.rotationMode":MP,"label2.light":!1,"label2.blend":K$,"label2.reverse.flip":!1,"label2.reverse.color":f6,"label2.reverse.cull":!1,"label2.transparent":!1,"label2.autorotate":!1,"note.face":el,"note.t3":K$,"note.r3":K$,"note.texture.scale":2,"note.rotationMode":MP,"note.light":!1,"note.blend":K$,"note.reverse.flip":!1,"note.reverse.color":f6,"note.reverse.cull":!1,"note.transparent":!1,"note.autorotate":!1,"note2.face":el,"note2.t3":K$,"note2.r3":K$,"note2.texture.scale":2,"note2.rotationMode":MP,"note2.light":!1,"note2.blend":K$,"note2.reverse.flip":!1,"note2.reverse.color":f6,"note2.reverse.cull":!1,"note2.transparent":!1,"note2.autorotate":!1,"part.boundingBox":!1,shape3d:K$,"shape3d.color":k,"shape3d.top.color":K$,"shape3d.bottom.color":K$,"shape3d.from.color":K$,"shape3d.to.color":K$,"shape3d.image":K$,"shape3d.image.projection":K$,"shape3d.top.image":K$,"shape3d.bottom.image":K$,"shape3d.from.image":K$,"shape3d.to.image":K$,"shape3d.light":!0,"shape3d.side":0,"shape3d.side.from":K$,"shape3d.side.to":K$,"shape3d.smooth":K$,"shape3d.visible":!0,"shape3d.from.visible":!0,"shape3d.to.visible":!0,"shape3d.top.visible":!0,"shape3d.bottom.visible":!0,"shape3d.torus.radius":.17,"shape3d.resolution":0,"shape3d.corner.radius":0,"shape3d.blend":K$,"shape3d.opacity":K$,"shape3d.reverse.flip":!1,"shape3d.reverse.color":f6,"shape3d.reverse.cull":!1,"shape3d.transparent":!1,"shape3d.uv.offset":K$,"shape3d.uv.scale":K$,"shape3d.uv.rotation":K$,"shape3d.uv.anchor":K$,"shape3d.uv.union":K$,"shape3d.top.uv.offset":K$,"shape3d.top.uv.scale":K$,"shape3d.top.uv.rotation":K$,"shape3d.top.uv.anchor":K$,"shape3d.bottom.uv.offset":K$,"shape3d.bottom.uv.scale":K$,"shape3d.bottom.uv.rotation":K$,"shape3d.bottom.uv.anchor":K$,"shape3d.from.uv.offset":K$,"shape3d.from.uv.scale":K$,"shape3d.from.uv.rotation":K$,"shape3d.from.uv.anchor":K$,"shape3d.to.uv.offset":K$,"shape3d.to.uv.scale":K$,"shape3d.to.uv.rotation":K$,"shape3d.to.uv.anchor":K$,"shape3d.top.cap":K$,"shape3d.bottom.cap":K$,"shape3d.start.angle":0,"shape3d.sweep.angle":j$,"shape3d.point.epsilon":1e-6,"shape3d.discard.selectable":!0,"shape3d.top.discard.selectable":!0,"shape3d.bottom.discard.selectable":!0,"shape3d.from.discard.selectable":!0,"shape3d.to.discard.selectable":!0,"shape3d.scaleable":!0,"shape3d.transmission":!1,"shape3d.oit.ignored":K$,"shape3d.section":K$,"shape3d.section.angle":0,"shape3d.section.twist":0,"shape3d.polyline.depth":1,"shape3d.polyline.offset":0,"shape3d.polyline.radiusScale":1,"shape3d.polyline.scaleOffset":0,"shape3d.polyline.scaleMap":K$,"shape3d.polyline.scaleMode":K$,"shape3d.polyline.normal":K$,"shape3d.reflector":!1,"shape3d.reflector.color":"rgb(128,128,128)","shape3d.reflector.blur":0,"shape3d.reflector.blur.iterations":1,"shape3d.reflector.background":null,"shape3d.reflector.clip":.003,"shape3d.reflector.shadow":"scene","shape3d.reflector.visible":!0,"shape3d.reflector.ratio":1,"shape3d.reflector.normal":K$,"shape3d.reflector.normal.threshold":Math.PI,"shape3d.reflector.position":K$,"shape3d.reflector.immediate":!0,"camera.type":"perspective","camera.aspect":K$,"camera.aspect.sync":!1,"camera.fovy":K$,"camera.ortho.width":K$,"camera.near":K$,"camera.far":K$,"camera.background":0,"camera.clear":!0,"camera.renderSky":!0,"camera.renderShadowMap":!0,"camera.renderAxis":!1,"camera.renderGrid":!1,"camera.renderEdit":!1,"camera.onlySky":!1,"camera.skybox.blur":K$,"camera.focal.distance":K$,"camera.focal.distance.sync":!1,"camera.autoSync":!1,"camera.renderTarget":K$,"camera.renderTarget.options":K$,"skybox.blur.size":0,"skybox.blur.resolution":0,"texture.mipmap.max":K$,"texture.filter":K$,"texture.filter.min":K$,"texture.filter.mag":K$,"texture.wrap":K$,"texture.flipY":!1,"points.image":"rect","points.color":"white","points.transparent":!1,"points.size":20,"points.opacity":1,"points.uv.scale":[1,1],"points.uv.offset":[0,0],"points.discard.selectable":!1,"points.model":K$,"splat.render.mode":"splat","splat.scale":1,"splat.opacity.scale":1,"splat.blend":K$,"splat.blend.mode":"add","splat.env.sh":K$,"splat.sh":!0,"splat.sh2":!0,"splat.sh3":!0,"splat.sh.only":!1,"splat.lod.level.factor":1.5,"splat.lod.hysteresis":.1,"splat.lod.debug":!1,"splat.lod.debug.colors":["#D73027","#FC8D59","#FEE08B","#91BFDB","#4575B4"],"splat.lod.merge":K$,"splat.sort.sync":!1,"splat.bloom":"skip","all.light":!0,"all.visible":!0,"all.color":k,"all.image":K$,"all.blend":K$,"all.opacity":K$,"all.reverse.flip":!1,"all.reverse.color":f6,"all.reverse.cull":!1,"all.transparent":!1,"all.uv":K$,"all.uv.offset":K$,"all.uv.scale":K$,"all.uv.rotation":K$,"all.uv.anchor":K$,"all.uv.union":K$,"all.discard.selectable":!0,"all.material":K$,mat:K$,"left.mat":K$,"right.mat":K$,"top.mat":K$,"bottom.mat":K$,"front.mat":K$,"back.mat":K$,"edge.source.anchor.elevation":K$,"edge.target.anchor.elevation":K$,"edge.source.offset.elevation":0,"edge.target.offset.elevation":0,"3d.bone.visible":!1,"3d.depth.useTextureAlphaTest":!1},!0),[0,0,0,0]),oj=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Aj=function(p){return p instanceof Yn},lj=function(p){return[p.x,p.e||0,p.y]},Vj=function(p,E,b){for(var Z=(E=W6(E||0))[0],o=E[1],A=E[2];b--;)p.push(Z,o,A)},cj=function(p,E,b){for(var Z=(E=W6(E||0))[0],o=E[1],A=E[2],l=E[3];b--;)p.push(Z,o,A,l)},Sj=function(p,E,b){if(E)for(var Z,o,A,l=E[0],V=E[1],c=E[2],S=E[4],I=E[5],D=E[6],B=E[8],n=E[9],k=E[10],j=E[12],W=E[13],m=E[14],e=b.length,$=0,$=0;$<e;$+=3)Z=b[$],o=b[$+1],A=b[$+2],p.push(l*Z+S*o+B*A+j,V*Z+I*o+n*A+W,c*Z+D*o+k*A+m);else _1(p,b);return p},Ij=function(p,E,b){var Z=E.s("light.intensity"),o=(l=W6(E.s(QV)))[0],A=l[1],l=l[2],Z=(1!==Z&&(o*=Z,A*=Z,l*=Z),E.s("light.disabled"));p.push(o,A,l,Z?1:0),b.c.push(o,A,l),b.g.push(Z?-1:E.s("light.group")),b.e.push(Z?1:0)},Dj=(eV=new G$,$V=new Zq,function(p,E){return eV.copy(p).applyEuler(E.getEuler($V)),[eV.x,eV.y,eV.z]}),Bj=function(E,p){var b,Z,o,A,l,V,c,S,I,D,B,n=E._lastLightUploadInfo={c:[],g:[],e:[],eLite:[]},k=((k=E._headlightDirection)&&3===k.length?j=k:"shadow"===k&&(j=E.shadowMap.getDirection()),j=j?G$.normalizeArray(E._transformDirectionToViewSpace(null,j)):[0,0,0],p.uHeadlightDirection=j,p.uHeadlightRange=E._headlightRange,p.uHeadlightAmbientIntensity=E._headlightAmbientIntensity),j=E._headlightIntensity,W=W6(E._headlightColor),W=(1!==j&&(W=[W[0]*j,W[1]*j,W[2]*j]),p.uHeadlightColor=n.headlightColor=[W[0],W[1],W[2],(j=E._headlightDisabled)?1:0],n.c.push(W[0],W[1],W[2]),n.g.push(j?-1:E._headlightGroup),n.e.push(j?1:0),n.eLite.push(j?1:0),E._59O),j=E._spots,m=E._dirs,e=E._87I;W.length&&(b=[],Z=[],o=[],W.forEach(function(p){Ij(b,p,n),_1(Z,E._transformPointToViewSpace(p.p3())),o.push(p.s("light.range"))}),p.uPointColor=b,p.uPointRange=o,p.uPointPosition=Z),j.length&&(A=[],l=[],V=[],c=[],S=[],I=[],j.forEach(function(p){Ij(A,p,n),_1(l,E._transformPointToViewSpace(p.p3())),p.s("light.rotation.enable")?_1(S,E._transformDirectionToViewSpace(null,Dj([0,0,1],p))):_1(S,E._transformDirectionToViewSpace(p.p3(),p.s("light.center"))),V.push(p.s("light.range")),c.push(M$(p.s("light.angle")/2)),I.push(p.s("light.exponent"))}),p.uSpotColor=A,p.uSpotRange=V,p.uSpotAngle=c,p.uSpotExponent=I,p.uSpotPosition=l,p.uSpotDirection=S),m.length&&(D=[],B=[],m.forEach(function(p){Ij(D,p,n),p.s("light.rotation.enable")?_1(B,E._transformDirectionToViewSpace(null,Dj([0,0,1],p))):_1(B,E._transformDirectionToViewSpace(p.p3()))}),p.uDirColor=D,p.uDirDirection=B),e.length&&e.forEach(function(p){Ij([],p,n)}),p._lastLightMask=qV,p._lastHeadlightAmbientIntensity=k},nj=function(p,E,b,Z){if((Z=Z===K$?p._headlightAmbientIntensity:Z)!==E._lastHeadlightAmbientIntensity&&(E.uHeadlightAmbientIntensity=E._lastHeadlightAmbientIntensity=Z),b!==E._lastLightMask&&(E._lastLightMask=b,Z=p._lastLightUploadInfo)){for(var o,A=Z.g,l="e",V=((k=(k=g$.for(p.getGL()))&&k.program)&&(k=k._shaderParams)&&"litePhong"===k.type&&(l="eLite",k.potentialType&&(j=!0)),Z[l]),c=A.length,S=new Array(c),I=!1,D=0;D<c;D++)o=A[D],(S[D]=!(o<0||32<=o)&&b&1<<o?0:1)!==V[D]&&(I=!0);if(I||j){V=S,j||(Z[l]=V);var B,n=Z.c,k=(E.uHeadlightColor=[n[0],n[1],n[2],V[0]],p._59O),j=p._spots,l=p._dirs,W=3,m=1;if(c=k.length){for(D=0,B=[];D<c;D++)B.push(n[W++],n[W++],n[W++],V[m++]);E.uPointColor=B}if(c=j.length){for(D=0,B=[];D<c;D++)B.push(n[W++],n[W++],n[W++],V[m++]);E.uSpotColor=B}if(c=l.length){for(D=0,B=[];D<c;D++)B.push(n[W++],n[W++],n[W++],V[m++]);E.uDirColor=B}}}},kj=function(p,E){return Math.max(p.getRotateMinPhi()+df,Math.min(p.getRotateMaxPhi()-df,E))},jj=function(){return.05+f$()/2},Wj=function(p,E,b,Z){var o=p.getEye(),p=(p.isOrtho()?((A=_f(p.getCenter(),o))[0]+=Z[0],A[1]+=Z[1],A[2]+=Z[2]):A=o,E),o=b,E=Z,b=A,Z=Qf(p,o),A=_f(b,E,!0),p=Qf(A,o);return a(p)<df?r$:(b=(Z-Qf(E,o))/p,[E[0]+A[0]*b,E[1]+A[1]*b,E[2]+A[2]*b])},mj=function(p,E){return{x:2*p.x-E.x,y:2*p.y-E.y}},ej=function(p,E,b,Z){if(!p)return A=i$(E.y-b.y,b.x-E.x),{x:E.x+Z*k$(A),y:E.y+Z*M$(A)};if(!b)return A=i$(p.y-E.y,E.x-p.x),{x:E.x+Z*k$(A),y:E.y+Z*M$(A)};var o,A,l,V,c=_f([p.x,p.y,0],[E.x,E.y,0],!0),S=_f([b.x,b.y,0],[E.x,E.y,0],!0),I=-(c[0]+S[0])/2,D=-(c[1]+S[1])/2,B=v$(I*I+D*D);return B<df?(A=i$(p.y-E.y,E.x-p.x),{x:E.x+Z*k$(A),y:E.y+Z*M$(A)}):(o=p.x-E.x,p=p.y-E.y,l=b.x-E.x,V=b.y-E.y,o=v$(o*o+p*p),p=v$(l*l+V*V),A=Q$(Qf(c,S))/2,l=0<c[1]*S[0]-c[0]*S[1]?-1:1,I/=B,D/=B,V=Z/k$(A),c=b$(o,p)/M$(A),B=Math.min(V,c),S={x:E.x+l*B*I,y:E.y+l*B*D},b.b&&V>p/M$(A)&&(S.adjust=!0),S)},$j=function(p){var E=p[0],b=p[1],Z=p[2],o=p[3],A=p[4],l=p[5],V=p[6],c=p[7],S=p[8],I=p[9],D=p[10],B=p[11],n=p[12],k=p[13],j=p[14],W=p[15],m=E*l-b*A,e=E*V-Z*A,$=E*c-o*A,Y=b*V-Z*l,t=b*c-o*l,K=Z*c-o*V,r=S*k-I*n,H=S*j-D*n,M=S*W-B*n,F=I*j-D*k,X=I*W-B*k,G=D*W-B*j,T=m*G-e*X+$*F+Y*M-t*H+K*r;return T?(p[0]=(l*G-V*X+c*F)*(T=1/T),p[1]=(Z*X-b*G-o*F)*T,p[2]=(k*K-j*t+W*Y)*T,p[3]=(D*t-I*K-B*Y)*T,p[4]=(V*M-A*G-c*H)*T,p[5]=(E*G-Z*M+o*H)*T,p[6]=(j*$-n*K-W*e)*T,p[7]=(S*K-D*$+B*e)*T,p[8]=(A*X-l*M+c*r)*T,p[9]=(b*M-E*X-o*r)*T,p[10]=(n*t-k*$+W*m)*T,p[11]=(I*$-S*t-B*m)*T,p[12]=(l*H-A*F-V*r)*T,p[13]=(E*F-b*H+Z*r)*T,p[14]=(k*e-n*Y-j*m)*T,p[15]=(S*Y-I*e+D*m)*T,p):r$},Yj=function(p,E){var b,Z;return E&&(b=E[0],Z=E[1],E=E[2],p[12]=p[0]*b+p[4]*Z+p[8]*E+p[12],p[13]=p[1]*b+p[5]*Z+p[9]*E+p[13],p[14]=p[2]*b+p[6]*Z+p[10]*E+p[14],p[15]=p[3]*b+p[7]*Z+p[11]*E+p[15]),p},tj=function(p,E){var b,Z;return E&&(b=E[0],Z=E[1],E=E[2],p[0]=p[0]*b,p[1]=p[1]*b,p[2]=p[2]*b,p[3]=p[3]*b,p[4]=p[4]*Z,p[5]=p[5]*Z,p[6]=p[6]*Z,p[7]=p[7]*Z,p[8]=p[8]*E,p[9]=p[9]*E,p[10]=p[10]*E,p[11]=p[11]*E),p},Kj=function(p,E,b){var Z=E[0],o=E[1],A=E[2],l=E[3],V=E[4],c=E[5],S=E[6],I=E[7],D=E[8],B=E[9],n=E[10],k=E[11],j=E[12],W=E[13],m=E[14],E=E[15],e=b[0],$=b[1],Y=b[2],t=b[3];return p[0]=e*Z+$*V+Y*D+t*j,p[1]=e*o+$*c+Y*B+t*W,p[2]=e*A+$*S+Y*n+t*m,p[3]=e*l+$*I+Y*k+t*E,e=b[4],$=b[5],Y=b[6],t=b[7],p[4]=e*Z+$*V+Y*D+t*j,p[5]=e*o+$*c+Y*B+t*W,p[6]=e*A+$*S+Y*n+t*m,p[7]=e*l+$*I+Y*k+t*E,e=b[8],$=b[9],Y=b[10],t=b[11],p[8]=e*Z+$*V+Y*D+t*j,p[9]=e*o+$*c+Y*B+t*W,p[10]=e*A+$*S+Y*n+t*m,p[11]=e*l+$*I+Y*k+t*E,e=b[12],$=b[13],Y=b[14],t=b[15],p[12]=e*Z+$*V+Y*D+t*j,p[13]=e*o+$*c+Y*B+t*W,p[14]=e*A+$*S+Y*n+t*m,p[15]=e*l+$*I+Y*k+t*E,p},rj=function(p,E,b,Z){var o,A,l,V,c=E[0],S=E[1],E=E[2],I=Z[0],D=Z[1],Z=Z[2],B=b[0],n=b[1],b=b[2];return a(c-B)<df&&a(S-n)<df&&a(E-b)<df?sf(p):(V=1/v$((B=c-B)*B+(n=S-n)*n+(b=E-b)*b),(V=v$((o=D*(b*=V)-Z*(n*=V))*o+(Z=Z*(B*=V)-I*b)*Z+(I=I*n-D*B)*I))?(o*=V=1/V,Z*=V,I*=V):I=Z=o=0,(V=v$((D=n*I-b*Z)*D+(A=b*o-B*I)*A+(l=B*Z-n*o)*l))?(D*=V=1/V,A*=V,l*=V):l=A=D=0,p[0]=o,p[1]=D,p[2]=B,p[3]=0,p[4]=Z,p[5]=A,p[6]=n,p[7]=0,p[8]=I,p[9]=l,p[10]=b,p[11]=0,p[12]=-(o*c+Z*S+I*E),p[13]=-(D*c+A*S+l*E),p[14]=-(B*c+n*S+b*E),p[15]=1,p)},Hj=function(p,E,b,Z,o){var E=1/w$(E/2),A=1/(Z-o);return p[0]=E/b,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=E,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=(o+Z)*A,p[11]=-1,p[12]=0,p[13]=0,p[14]=2*o*Z*A,p[15]=0,p},Mj=function(p,E,b,Z,o,A,l){var V=1/(E-b),c=1/(Z-o),S=1/(A-l);return p[0]=-2*V,p[1]=0,p[2]=0,p[3]=0,p[4]=0,p[5]=-2*c,p[6]=0,p[7]=0,p[8]=0,p[9]=0,p[10]=2*S,p[11]=0,p[12]=(E+b)*V,p[13]=(o+Z)*c,p[14]=(l+A)*S,p[15]=1,p},Fj=function(p,E){var b=E[0],Z=E[1],o=E[2],A=(A=b*b+Z*Z+o*o+(E=E[3])*E)?1/A:0;return p[0]=-b*A,p[1]=-Z*A,p[2]=-o*A,p[3]=E*A,p},Xj=function(p,E){var b=E[0]+E[5]+E[10],Z=0;return 0<b?(Z=2*Math.sqrt(b+1),p[3]=.25*Z,p[0]=(E[6]-E[9])/Z,p[1]=(E[8]-E[2])/Z,p[2]=(E[1]-E[4])/Z):E[0]>E[5]&E[0]>E[10]?(Z=2*Math.sqrt(1+E[0]-E[5]-E[10]),p[3]=(E[6]-E[9])/Z,p[0]=.25*Z,p[1]=(E[1]+E[4])/Z,p[2]=(E[8]+E[2])/Z):E[5]>E[10]?(Z=2*Math.sqrt(1+E[5]-E[0]-E[10]),p[3]=(E[8]-E[2])/Z,p[0]=(E[1]+E[4])/Z,p[1]=.25*Z,p[2]=(E[6]+E[9])/Z):(Z=2*Math.sqrt(1+E[10]-E[0]-E[5]),p[3]=(E[1]-E[4])/Z,p[0]=(E[8]+E[2])/Z,p[1]=(E[6]+E[9])/Z,p[2]=.25*Z),p},Gj=function(p,E,b){var Z=E[0],o=E[1],A=E[2],l=A+A,V=Z*(I=Z+Z),c=Z*(D=o+o),Z=Z*l,S=o*D,o=o*l,I=(E=E[3])*I,D=E*D,E=E*l;return p[0]=1-(S+(A=A*l)),p[1]=c+E,p[2]=Z-D,p[3]=0,p[4]=c-E,p[5]=1-(V+A),p[6]=o+I,p[7]=0,p[8]=Z+D,p[9]=o-I,p[10]=1-(V+S),p[11]=0,p[12]=b[0],p[13]=b[1],p[14]=b[2],p[15]=1,p},Tj=function(p,E){var b=p.getPresentingReality();return(b=b&&b.getViewMatrix(E))?b:p._camera?p._camera.getViewMatrix(E):rj(E||qf(),p._eye,p._center,p._up)},gj=function(p,E){var b=p.getPresentingReality();if(b=b&&b.getProjectMatrix())return b;if(p._camera)return p._camera.getProjectMatrix();if(!E&&p._computedProjectMatrix)return Rf(p._computedProjectMatrix);var Z,b=p.getAspect(),E=p._near,o=p._far,A=qf();return p._ortho?(Z=p._orthoWidth/2,Mj(A,-Z,Z,-(Z/=b),Z,E,o)):Hj(A,p._fovy,b,E,o),A},Lj=function(p,E){if(!p)return r$;for(var b,Z,o,A,l,V,c,S,I,D=p.length,B=D/3,n=new Of(p.length),k=0,j=E?E.length:B;k<j;k+=3)I=E?(c=3*E[k],S=3*E[k+1],3*E[k+2]):(c=3*k,S=3*(k+1),3*(k+2)),b=p[S+0]-p[c+0],Z=p[S+1]-p[c+1],o=p[S+2]-p[c+2],A=p[0+I]-p[S+0],l=p[1+I]-p[S+1],m=o*A-b*(V=p[2+I]-p[S+2]),e=b*l-Z*A,n[c+0]+=W=Z*V-o*l,n[c+1]+=m,n[c+2]+=e,n[S+0]+=W,n[S+1]+=m,n[S+2]+=e,n[0+I]+=W,n[1+I]+=m,n[2+I]+=e;for(k=0;k<D;k+=3){var W=n[k],m=n[k+1],e=n[k+2],$=v$(W*W+m*m+e*e);0===$&&($=df),n[k]=W*($=1/$),n[k+1]=m*$,n[k+2]=e*$}return n},xj=function(p,E,b,Z,o){return Z=Z||E.createTexture(),b&&(o?(E=o.image,o.image=b,p.createTexture(o,Z),o.image=E):p.createTexture({image:b},Z)),Z},Cj=function(p,E,b){return b=new Uint8Array(b||4),E=E||p.createTexture(),p.activeTexture(33984),Pj(p,E),aj(p,10241,9729),p.texImage2D(3553,0,6408,1,1,0,6408,5121,b),E},hj=function(p){return p.createBuffer()},Pj=function(p,E){p.bindTexture(3553,E||p._emptyTexture)},yj=function(p,E){p.bindTexture(32879,E)},aj=function(p,E,b){p.texParameteri(3553,E,b)},Jj=function(p,E,b){p.texParameteri(32879,E,b)},dj=function(p,E){(p=g$.for(p).directState()).polygonOffset.enabled=!0,p.polygonOffset.value=E},Uj=function(p){g$.for(p).directState().polygonOffset.enabled=!1},Nj=function(p,E){return p=g$.for(p).directState().color.clear,E&&p?p.slice(0):p},Oj=function(p,E){E&&(g$.for(p).directState().color.clear=W6(E))},zj=function(p){if(p){var E=p.getGL();if(E)for(var b=1,Z=arguments.length;b<Z;b++){var o=arguments[b];if(X$(o))for(var A=0,l=o.length;A<l;A++)TN(E,o[A]);else TN(E,o)}}},_j=function(p,E,b){var Z=p._boxClipperGroups,o=Z?Z.length:0;if(o){if(E._lastClipboxVersion!==p._boxClipperVersion)E._lastClipboxVersion=p._boxClipperVersion;else if(b===E._lastClipboxEnabled)return;var A=p._boxClipperShapes,l=new Array(o);if(b)for(var V=0;V<o;V++)l[V]=b&1<<Z[V]?A[V]:0;E._lastClipboxEnabled=b,E.uClipperShape=l}},vj=function(p,E){E.uClipperMatrix=p._boxClipperMatrixes,E.uClipperClipInner=p._boxClipperClipInner,p.rebindClipperMaskTexture(E)},Qj=function(p){var E=(p=g$.for(p)).directUniforms(),p=p.directAttribs();E.uFix=!0,p.aNormal=!1},qj=function(p){g$.for(p).directUniforms().uFix=!1},uj=function(p,E,b,Z,o,A,l){var V=(c=g$.for(p)).directState(),c=c.directUniforms();p._picking||(E?(c.uBlend=!0,c.uBlendColor=E):c.uBlend=!1,c.uLight=c.uFog=b==r$||b,C1(Z)&&1!==Z&&(c.uPartOpacity=Z),c.uReverseFlip=o!=r$&&o,c.uFixPickReverseColor=A||f6),V.cullFace.enabled=!!l},Rj=function(p){p._picking||(g$.for(p).directUniforms().uPartOpacity=1)},sj=(mV=[1,0,0,0,1,0,0,0,0],function(p,E,b,Z,o,A,l,V,c,S){var I=(D=g$.for(p)).directUniforms(),D=D.directAttribs();if(!E)return I.uSampler=p._emptyTexture,void(I.uBlendSampler=p._emptyBlendTexture);I.uTexture=!0,I.uDiscardSelectable=!h1(b)||b,D.aUv=lL(p,Z,o,r$,2),S?(I.uBlendTexture=!0,I.uBlendSampler=S):(I.uBlendTexture=!1,I.uBlendSampler=p._emptyBlendTexture),I.uSampler=E,I.uUvMatrix=A||l||V||c?gL(V,A,l,c):mV}),wj=function(p,E){var b=(Z=g$.for(p)).directUniforms(),Z=Z.directAttribs();p.activeTexture(33984),Pj(p,r$),p.activeTexture(33985),Pj(p,r$),E&&(Z.aUv=!1,b.uTexture=!1,b.uSampler=p._emptyTexture,b.uBlendTexture=!1,b.uBlendSampler=p._emptyBlendTexture)},ij=function(p,E,b,Z){var o=E.getBrightness(b),A=b.s("alphaTest"),l=g$.for(p),V=l.directUniforms(),c=E._picking,S=!0;return o!=r$&&1!==o&&(V.uBrightness=o),V.uAlphaTest=A,V.shadowReceive=!c&&b.s("shadow.receive"),V.shadowCull=!c&&!!b.s("shadow.cull"),_j(E,V,b.s("3d.clipbox")?0:b.s("3d.clipbox.mask")),(o=b.s("3d.clip.direction"))?(0===(A=b.s("3d.clip.percentage"))&&(S=!1),o=E.getData3dUI(b)._formatClipUniforms(o,A,b),V.uClipPercent=o[1],V.uClipDirection=o[0],V.uClipLocalTransform=o[2]):V.uClipDirection=0,V.blackout=!(!p._blooming||b.s("bloom")),c||(E._flowObjects.length&&E.flowMap.resetDataFlowEnabld(b,V),Z||(A=b.s("envmap"),V.uUseEnvMap=!!A,V.roughness=b.s("roughness"),E._setEnvmapByProbeId(V,b.s("envmap.probe"),A||.01),nj(E,V,b.s("light.mask"),b.s("headlight.ambientIntensity"))),V.uFog=!1!==b.s("shape3d.light")),Z||!!b._flipSide!=(2===b._forceSingleFace)&&(l.directState().cullFace.frontFace=2304),S},fj=function(p,E){var b=p.getGL();b&&(b._transmissionRTT||(b._transmissionRTT=new an(p,0,0,{autoSize:!0})),E.unbind(b),p.renderModel(b._transmissionRTT,null,null,{type:"blitScreen",transparent:p._45Q,image:E.texture}),E.bind(b))},pL=function(p,E,b,Z,o){var A=(l=g$.for(p)).directUniforms(),l=l.directAttribs();!E||Sl||Dl||p.lineWidth(E),b&&!p._picking&&(A.uFixPickReverseColor=b),Z&&(l.aPosition=lL(p,Z,o,r$))},EL=function(p,E,b,Z){p&&(Z&&(b*=Z),p.calls++,p.vertices+=b,E==r$||4===E?p.faces+=b/3:1===E?p.lines+=b/2:E===OV.POINTS?p.points+=b:5===E||6===E?p.faces+=b-2:3===E?p.lines+=b-1:2===E&&(p.lines+=b))},bL=function(p,E,b,Z,o){z_&&(Z=p[z_]),o?p.drawArraysInstanced(Z==r$?4:Z,E,b,o):p.drawArrays(Z==r$?4:Z,E,b),EL(p._renderInfo,Z,b,o)},ZL=function(p,E,b,Z,o,A){z_&&(Z=p[z_]);var l=2;5125===(o=o==r$?5123:o)&&(l=4),A?p.drawElementsInstanced(Z==r$?4:Z,b,o,E==r$?0:E*l,A):p.drawElements(Z==r$?4:Z,b,o,E==r$?0:E*l),EL(p._renderInfo,Z,b,A)},oL=function(p,E,b,Z,o){return p.bindBuffer(34962,E),b&&p.bufferData(34962,b,35044),E},AL=function(p,E,b,Z,o){return(E=lL(p,E,b,Z,o)).instanced=!0,E},lL=function(p,E,b,Z,o){return b?SL(p,34962,E,b):oL(p,E,b)},VL=function(p,E,b){p.bindBuffer(34963,E),b&&p.bufferData(34963,b,35044)},cL=function(p,E,b){SL(p,34963,E,b)},SL=function(p,E,b,Z){var o=Z._bufId||(Z._bufId=H$.generateGLBufferID());if((b=(k=p._4NQ)[o])&&b._buf){p.bindBuffer(E,b._buf);var A=Z.dirty;if(A){if(A.length){for(var l=b._buf.bytesPerElement,V=(A.sort(function(p,E){return p.start-E.start}),0),c=1;c<A.length;c++){var S=A[V];(D=A[c]).start<=S.start+S.count+1?S.count=Math.max(S.count,D.start+D.count-S.start):A[++V]=D}A.length=V+1;for(var c=0,I=A.length;c<I;c++){var D=A[c],B=Z.subarray(D.start,D.start+D.count);p.bufferSubData(E,D.start*l,B)}}else p.bufferSubData(E,0,Z);Z.dirty=K$}}else{var n=hj(p),k=(b=k[o]={_buf:n},p.bindBuffer(E,n),p.bufferData(E,Z,35044),5126),l=4;Z instanceof Uint16Array?(k=5123,l=2):Z instanceof Int16Array?(k=5122,l=2):Z instanceof Uint32Array?(k=5125,l=4):Z instanceof Int32Array?(k=5124,l=4):Z instanceof Int8Array?(k=5120,l=1):(Z instanceof Uint8Array||Z instanceof Uint8ClampedArray)&&(k=5121,l=1),Z.dirty=K$,n.glType=k,n.bytesPerElement=l}return b._fid=p._renderInfo.frame,b._buf},IL=function(p,E){E!=r$&&0<=E&&p.disableVertexAttribArray(E)},DL=function(p,E){var b=p.getGL(),b=g$.for(b).directUniforms();p._7O=p._8O.pop(),p._modelMatrix=p._modelMatrixStack.pop(),E&&(b.uModelViewMatrix=p._7O,p._6O=E,b.uNormalMatrix=E)},BL=function(p,E){var b,Z,o,A,l,V;return(b=E=E||qf())[0]=p[0],b[1]=p[1],b[2]=p[2],b[3]=p[3],b[4]=p[4],b[5]=p[5],b[6]=p[6],b[7]=p[7],b[8]=p[8],b[9]=p[9],b[10]=p[10],b[11]=p[11],b[12]=p[12],b[13]=p[13],b[14]=p[14],b[15]=p[15],$j(E),p=(b=E)[1],Z=b[2],o=b[3],A=b[6],l=b[7],V=b[11],b[1]=b[4],b[2]=b[8],b[3]=b[12],b[4]=p,b[6]=b[9],b[7]=b[13],b[8]=Z,b[9]=A,b[11]=b[14],b[12]=o,b[13]=l,b[14]=V,E},nL=function(p,E){var b=p.getGL(),Z=p._7O,b=g$.for(b).directUniforms();E?(p._8O.push(Rf(Z)),p._modelMatrixStack.push(Rf(p._modelMatrix)),b.uModelMatrix=Kj(p._modelMatrix,p._modelMatrix,E),p._7O=Kj(Z,Z,E)):b.uModelMatrix=p._modelMatrix=Rf(uf),b.uModelViewMatrix=Z,b.uNormalMatrix=BL(Z,p._6O)},kL={body:0,label:1,label2:2,note:3,note2:4,symbol:5},jL=function(p,E,b,Z,o,A){var l,V=b?((b=Z._pickId)||(b=Z._pickId=E._pickIdUsed,E._pickIdUsed+=10),null!=(V=kL[o])?l=b+V:(l=(b=(b=Z._pickExtraPartMap)||(Z._pickExtraPartMap={}))[o])||(l=b[o]=E._pickIdUsed++),E[l]||(E[l]={data:Z.data,part:o}),Nn(l)):Zj;return A||(g$.for(p).directUniforms().uFixPickReverseColor=V),V},WL=jL,mL=function(p,E,b,Z){(p.aMatrixInstanced=E)&&b&&(b.uRightMatrixInstanced=Z?Z.getElements?Z.getElements():Z:uf)},eL=function(p,E,b){var Z,o="target"===(b="target"!==b?"source":b)?E.getTargetAgent():E.getSourceAgent(),b="edge."+b+".";if(y(o))return e=E.s(b+"anchor.x"),l=E.s(b+"anchor.elevation"),W=E.s(b+"anchor.y"),Z=Am(o,p.getMat(o)),$=o.getAnchor3d(),(e=wf([(e===K$?.5:e)-$.x,(l===K$?.5:l)-$.y,(W===K$?.5:W)-$.z],Z))[1]+=E.s(b+"offset.elevation"),e;var A=E.s(b+"index"),l=p.getData3dUI(o);if(!l.info||!l.info.list)return!1;if(0<=A){for(var V,c,S,I=(m=l.info._lastPointsSegments).points,D=m.segments,B=-1,n=-1,k=0,j=(D||I).length;k<j;k++){if(3===(c=D?D.get(k):1))S=2;else if(4===c)S=3;else{if(5===c)continue;S=1}if(B+=S,++n===A){V=I.get(B);break}}return[(V=V||I.get(I.length-1)).x,(V.e||0)+E.s(b+"offset.elevation"),V.y]}var W=E.s(b+"percent")||0,W=Math.max(0,Math.min(W,1));if(!l||!l.getCache)return!1;var m,e,$=l.getCache(),j=$[$.length-1].length;return[(e=(m=p.getLineOffset(o,W*j)).point).x,e.y+E.s(b+"offset.elevation"),e.z]},$L=(WV={center:function(p,E,b,Z,o){var A=-E[1]/2,A={x:-E[0]/2,y:A,width:E[0],height:E[1]};return[(E=i6(p,A,b)).x+Z,-E.y-o,H$.getPosition3dGap()]},front:function(p,E,b,Z,o){var A=-E[1]/2,A={x:-E[0]/2,y:A,width:E[0],height:E[1]};return[(p=i6(p,A,b)).x+Z,-p.y-o,E[2]/2+H$.getPosition3dGap()]},back:function(p,E,b,Z,o){var A={x:-E[0]/2,y:-E[1]/2,width:E[0],height:E[1]};return[-(p=i6(p,A,b)).x-Z,-p.y-o,-E[2]/2-H$.getPosition3dGap()]},left:function(p,E,b,Z,o){var A=-E[1]/2,A={x:-E[2]/2,y:A,width:E[2],height:E[1]},p=i6(p,A,b);return[-E[0]/2-H$.getPosition3dGap(),-p.y-o,p.x+Z]},right:function(p,E,b,Z,o){var A={x:-E[2]/2,y:-E[1]/2,width:E[2],height:E[1]},p=i6(p,A,b);return[E[0]/2+H$.getPosition3dGap(),-p.y-o,-p.x-Z]},top:function(p,E,b,Z,o){var A={x:-E[0]/2,y:-E[2]/2,width:E[0],height:E[2]};return[(p=i6(p,A,b)).x+Z,E[1]/2+H$.getPosition3dGap(),p.y+o]},bottom:function(p,E,b,Z,o){var A=-E[2]/2,A={x:-E[0]/2,y:A,width:E[0],height:E[2]};return[(p=i6(p,A,b)).x+Z,-E[1]/2-H$.getPosition3dGap(),-p.y-o]}},function(p,E,b,Z,o,A){return WV[Z](p,E,b,o||0,A||0)}),YL=function(p,E,b,Z,o,A,l,V,c,S){return o&&(E[0]+=o[0],E[1]+=o[1],E[2]+=o[2]),Yj(p,b),V?(o=qf(),FP(o,c,S),wf(E,o),Yj(p,E),p.auto=V,p.pos=wf([0,0,0],p),A&&(b=p.mat2=qf(),FP(b,A,l))):(FP(p,c,S),Yj(p,E),Z===Yl?Zm(p,-s$):Z===tl?Zm(p,s$):Z===Kl?bm(p,-s$):Z===rl?bm(p,s$):Z===$l&&Zm(p,R$),FP(p,A,l)),p},tL=function(p,E){var b,Z,o=E.auto,A=E.mat2;E=(p=p.gv).processModelMatrix(E),o&&(b=qf(),Z=[0,0,0,0],o="string"==typeof o?[(o.indexOf("x")<0?p._eye:p._center)[0],(o.indexOf("y")<0?p._eye:p._center)[1],(o.indexOf("z")<0?p._eye:p._center)[2]]:p._eye,Xj(Z,rj(qf(),o,p._center,p._up)),Gj(b,Fj(Z,Z),[E[12],E[13],E[14]]),A&&Kj(b,b,A),E=b),nL(p,E)},KL=function(p,E,b,Z,o){var A=p.s,l=p.gv,V=l.getGL(),c=l._buffer,S=V._sharedTexture,I=g$.for(V).directAttribs();xj(l,V,D6,S),tL(p,b),uj(V,A(E+".blend"),A(E+".light"),A(E+".opacity"),A(E+".reverse.flip"),A(E+".reverse.color"),p.data._forceSingleFace||A(E+".reverse.cull")),sj(V,S,o,c.uv,gd),I.aPosition=lL(V,c.vs,Z,r$),I.aNormal=lL(V,c.ns,Ld,r$),cL(V,c.is,xd),ZL(V,0,xd.length),wj(V,S),Rj(V),DL(l)},rL=function(p,E,b){var Z=p.gv,o=p.data,A=Z.getFaceMaterial(o,E),p=p[E]={blend:Z.getBodyColor(o)||Z.getFaceBlend(o,E),light:Z.getFaceLight(o,E),color:Z.getFaceColor(o,E),opacity:Z.getFaceOpacity(o,E),transparent:A?ML(A):Z.getFaceTransparent(o,E),reverseFlip:Z.getFaceReverseFlip(o,E),reverseColor:Z.getFaceReverseColor(o,E),reverseCull:Z.getFaceReverseCull(o,E),texture:Z.getFaceImage(o,E),blendTexture:Z.getFaceBlendImage(o,E),discardSelectable:Z.getFaceDiscardSelectable(o,E),material:A};return"csg"!==E&&(p.uv=Z.getFaceUv(o,E)||b&&b[E+"Uv"],p.uvScale=Z.getFaceUvScale(o,E)||b&&b[E+"UvScale"],p.uvOffset=Z.getFaceUvOffset(o,E)||b&&b[E+"UvOffset"],p.uvRotation=Z.getFaceUvRotation(o,E)||b&&b[E+"uvRotation"],p.uvAnchor=Z.getFaceUvAnchor(o,E)||b&&b[E+"uvAnchor"],(A=Z.getFaceMat(o,E))&&(b=Am(o,A),o.appendAnchorMatrix3d(b),p.mat=b)),p},HL=function(p,E,b,Z,o){var A,l,V,c,S=p[Z];S&&(A=p.data,!(p=p.gv)._picking&&S.material?EE(E,p,A,S.material,[S.vs,S.tuv,S.ns]):o(S.transparent)&&(o=p._buffer,Z=p.getTexture(S.texture,A,Z),l=p.getTexture(S.blendTexture,A),V=(c=g$.for(E)).directUniforms(),c=c.directAttribs(),sj(E,Z,S.discardSelectable,o.uv,S.tuv,S.uvOffset,S.uvScale,S.uvRotation,S.uvAnchor,l),uj(E,S.blend,S.light,S.opacity,S.reverseFlip,S.reverseColor,A._forceSingleFace||S.reverseCull),S.cs&&!p._batchColorDisabled?(V.uBatchColor=!0,c.aBatchColor=lL(E,o.batchColor,S.cs,b.aBatchColor,4)):V.uDiffuse=S.color||L$["color.empty"],c.aPosition=lL(E,o.vs,S.vs,r$),c.aNormal=lL(E,o.ns,S.ns,r$),bL(E,0,S.vs.length/3),S.cs&&!p._batchColorDisabled&&(V.uBatchColor=!1,IL(E,b.aBatchColor)),Rj(E),wj(E,Z)))},ML=function(p){return!!p&&!(!(p="string"==typeof p?H$.getMaterial(p):p)||!p.transparent)},FL=(jV={sunny:[.75,.8,.95,.05,.2,.4,.3,.3,.2,-.1,.05,.05,.05,.05,.05,-.05,-.05,-.05,.02,.02,.05,-.03,-.03,-.03,0,0,0],sunset:[1.1,.6,.3,.2,.1,0,.6,.3,0,.4,.1,0,.1,.05,0,.1,.05,0,-.1,-.05,0,.1,.05,0,.1,.1,0],midnight:[.05,.06,.12,.02,.03,.06,.01,.01,.02,-.01,-.01,-.02,0,0,.01,0,0,0,0,0,.01,0,0,0,0,0,0],studio:[.5,.5,.5,.3,.3,.3,.1,.1,.1,0,0,0,.05,.05,.05,0,0,0,-.05,-.05,-.05,0,0,0,0,0,0],forest:[.2,.35,.15,.1,.25,.05,.05,.05,.02,.05,0,0,.02,.05,.01,-.01,-.02,0,-.02,0,0,0,0,0,0,0,0]},function(p){return jV[p]}),XL=(DV=new G$,BV=new G$,nV=new G$,kV=new uB,function(p,E,b,Z,o){p.identity();var A=E.rotationOffset,l=E.rotationPivot,V=E.scalingOffset,c=E.scalingPivot,b=(DV.fromArray(b||E.translation),A&&DV.add(BV.fromArray(A)),l&&DV.add(BV.fromArray(l)),p.makeRotationFromQuaternion(kV.fromArray(Z||E.rotation)).setPosition(DV),DV.set(0,0,0),l&&DV.sub(BV.fromArray(l)),V&&DV.add(BV.fromArray(V)),c&&DV.add(BV.fromArray(c)),0===DV.x&&0===DV.y&&0===DV.z||p.translate(DV),o||E.scale);return 2!==E.inheritType&&b&&(nV.fromArray(b),1===nV.x&&1===nV.y&&1===nV.z||p.scale(nV)),c&&p.translate(BV.multiplyScalar(-1)),p}),GL=(SV=new T$,IV=new T$,function(p,V,c){var S,I,D,B,n;X$(p)?p.forEach(function(p){GL(p,V,c)}):F$(p)?GL(ZE(V,p),V,c):P1(p)?p.model3d?(D=V?V.gv:r$,B=V?V.data:r$,n=zE.prototype.calcMatrix,H$.traverse(p,function(p,E){var b=p._matrixWorld;if(b&&b.isMatrix4||(b=p._matrixWorld=new T$),n(p,B,D,b),E&&b.premultiply(E._matrixWorld),p.instances&&p.instances.aMatrixInstanced&&(I={model:p,data:p.instances.aMatrixInstanced,m:E?E._matrixWorld:SV,mi:E?E._matrixWorld.clone().invert():SV}),(S=p.model)&&(S=yN(S))){var Z=[];GL(S,V,Z);for(var o=0,A=Z.length;o<A;o++){var l=Z[o];GN(c,{model:l.model||p,mesh:l.mesh,matrix:l.matrix?l.matrix.clone().premultiply(b):b},I)}}else E=p.mesh,(E=YH(E))&&GN(c,{model:p,matrix:b,mesh:E},I)},function(p){I&&I.model==p&&(I=null)},"comps")):p.shape3d?GL(p.shape3d,V,c):c.push({mesh:p}):c.push({mesh:p})}),TL=(cV=new f.Matrix2d,function(p,E,b,Z,o){return(o=o||cV).identity(),Z&&o.translate(-Z[0],-Z[1]),b&&o.scale(b[0],b[1]),p&&o.rotate(p),Z&&o.translate(Z[0],Z[1]),E&&o.translate(E[0],E[1]),o}),gL=(lV=[1,0,0,0,1,0,0,0,1],VV=[1,0,0,0,1,0,0,0,1],function(p,E,b,Z){return p||E||b||Z?(AV=p?(oV=k$(p),M$(p)):(oV=0,1),ZV=b?(bV=b[0],b[1]):bV=1,i_=AV*bV,f_=oV*bV,pV=-oV*ZV,AV*=ZV,ZV=Z?(EV=Z[0]-(i_*Z[0]+pV*Z[1]),Z[1]-(f_*Z[0]+AV*Z[1])):EV=0,E&&(EV+=E[0],ZV+=E[1]),VV[0]=i_,VV[1]=f_,VV[3]=pV,VV[4]=AV,VV[6]=EV,VV[7]=ZV,VV):lV}),LL=function(p,E,b,Z){p.uUseSkinning=!0,p.bindMatrix=E.skeleton.bindMatrix,p.bindMatrixInverse=Z.bindMatrixInverse,p.boneTexture=b,p.boneTextureSize=b.width},xL=function(p,E,b){var Z=(Math.max(p,E,b)||1)/H$.maxAxisScaleDifference;return[Math.max(p,Z),Math.max(E,Z),Math.max(b,Z)]},CL=(u_=new u.Math.Box3,R_=new u.Math.Box3,s_=new u.Math.Matrix4,w_=new u.Math.Matrix4,function(E,p){var Z,o,b,A,l,V,c,S,I,D,B,n,k,j,W=p.cube,m=p.center,e=XN(p.r3)?p.r3:null,$=XN(p.t3)?p.t3:null,Y=XN(p.s3,!0)?p.s3:null,t=!1;if((e||$||Y)&&(o=s_.fromArray(lm(null,Y,e,p.rotationMode,$)),t=p.resetBounding),((W=p.preferBox3?m=!0:W)||m)&&(I=t,c=(j=p).preferBox3,!(Z=c?X$(c)?u_.setFromArray(c):u_.copy(c):I?null:j.box3)))if(Z=u_.makeEmpty(),p.scene)H$.traverse(p.scene,function(p,E){var b=p.mesh;p._matrixWorldNeedUpdate&&(E&&p.matrixWorld.premultiply(E.matrixWorld),delete p._matrixWorldNeedUpdate),b&&b.attributes&&b.attributes.position&&(E=b.attributes.position.array,t?(w_.copy(o),p.matrixWorld&&w_.multiply(p.matrixWorld),R_.setFromArray(E,w_)):(R_.setFromArray(E),p.matrixWorld&&R_.applyMatrix4(p.matrixWorld)),Z.expandByBox(R_))},null,"_children");else{E.position!==K$&&delete E.position,E.scale!==K$&&delete E.scale;var K=[];GL(E,null,K);for(var r=0;r<K.length;r++){var H,M=K[r];M&&(H=M.mesh)&&(H=H.vs)&&(o&&t?w_.copy(o):w_.identity(),w_.multiply(M.matrix),R_.setFromArray(H,w_),Z.expandByBox(R_))}}o&&!t&&Z&&Z.applyMatrix4(o),Z&&Z.isEmpty()&&(console.error("Model is empty, please check!!!",E,p),Z.setFromArray([-.5,-.5,-.5,.5,.5,.5])),m?(E.center=Z.max.clone().add(Z.min).multiplyScalar(.5).toArray(),b=E.center[0],A=E.center[1],l=E.center[2]):b=A=l=0,W?(S=m?(D=(c=Z.max.clone().sub(Z.min).toArray())[0],B=c[1],c[2]):(D=2*Math.max(Math.abs(Z.min.x),Math.abs(Z.max.x)),B=2*Math.max(Math.abs(Z.min.y),Math.abs(Z.max.y)),2*Math.max(Math.abs(Z.min.z),Math.abs(Z.max.z))),n=[1/(D=(I=E.rawS3=xL(D,B,S))[0]),1/(B=I[1]),1/(S=I[2])]):D=B=S=1,m&&(V=[-b/D,-A/B,-l/S]),o&&(e?(k={},["mesh","mat","subMeshes","comps"].forEach(function(p){E[p]&&(k[p]=E[p],delete E[p])}),E.comps=[k],$&&(k.position=$),e&&(k.quaternion=f.eulerArrayToQuaternionArray([e[0],e[1],e[2],Zq.ReverseOrder(p.rotationMode||MP)])),Y&&(k.scale=Y),k._isTransformPlaceholder=!0):((j=w_.composeFromArray(V,null,n)).multiply(o),n=j.extractScale().toArray(),Y&&(n[0]*=Math.sign(Y[0]),n[1]*=Math.sign(Y[1]),n[2]*=Math.sign(Y[2])),V=j.getPosition().toArray())),XN(V)&&(E.position=V),XN(n,!0)&&(E.scale=n)}),hL=function(p,E){E.flipY&&H$.traverse(p,function(p){if((p=p.mesh)&&(p.uv||p.uv2)){for(var E=1,b=p.uv,Z=b?b.length:0;E<Z;E+=2)b[E]=1-b[E];for(E=1,Z=(b=p.uv2)?b.length:0;E<Z;E+=2)b[E]=1-b[E]}},null,"comps");var b=E.matDef;if(b)if(p.matDef){var Z,o,A,l,V={};for(Z in p.matDef)for(A in o=p.matDef[Z])(l=o[A])&&l.texture&&l.name&&(V[l.name]=l.image);for(Z in b)for(A in o=p.matDef[Z]=b[Z])(l=o[A])&&l.texture&&l.name&&(l.image=V[l.name])}else p.matDef=b;E.shape3d&&H$.setShape3dModel(E.shape3d,p),E.playAutomatically&&(p.playAutomatically=E.playAutomatically),!E.ignoreNormal&&E.mikktTangent&&u.Math.MikktSpaceAlgorithm&&u.Math.MikktSpaceAlgorithm.generateMikktTangents(p,E.tangentFlipW)},PL=function(p,E){var b,Z=[];for(b in p){var o=p[b];Z.rawS3=o.rawS3,o.center&&(Z.center=o.center),o.externalAssetURIs&&(Z.externalAssetURIs=o.externalAssetURIs,delete o.externalAssetURIs),Z.push(o),E&&E(b,o)}return Z},yL=function(p,E){var b=!(!p.animations||!p.animations.length);if(!b&&(b=p.comps)&&b.length){var Z=[],o=(GL({model3d:!0,comps:b},K$,Z),E.batchInstanceCountThreshold),A=(o===K$&&(o=1/0),isFinite(o)&&1<o),l=(Q_=E.batchByMaterialVerticesThreshold,q_=3*(Q_=Q_===K$?5e6:Q_),{});if(A){for(var V=[],c=[],S=[],I=[],D=0,B=Z.length;D<B;D++)(W=(j=Z[D]).model)&&(m=j.mesh)&&(l[e=FN(W,m,V,c,S,I)]||(l[e]=0),l[e]++);var n,k={};for(n in l)l[n]>o&&(k[n]=l[n]);l=k}for(var j,W,m,e,$,Y,t={},K=[],r={},H={},D=0,B=Z.length;D<B;D++)if((W=(j=Z[D]).model)&&(m=j.mesh)&&($=W.mat)){if(A&&l[e=FN(W,m,V,c,S,I)]){H[e]||(H[e]={mat:$,mesh:m,instances:{aMatrixInstanced:[]}});var M=H[e].instances.aMatrixInstanced;M.push.apply(M,j.matrix.toArray());continue}if(P1($)&&$.type&&(r[M=u.Math.generateUUID()]=$,$=M),X$($))for(var F=W.subMeshes,X=0,G=F.length;X<G;X++){var T=(L=F[X]).materialIndex,g=L.start,L=L.count;HN(t,$[T],m,j.matrix,g,L)}else HN(t,$,m,j.matrix)}for($ in t){var x=t[$],C=(x.material&&($=x.material,delete x.material),{mat:$=r[$]||$,mesh:x});K.push(C)}for(Y in H)C=H[Y],K.push(C);return p.comps=K,p}},aL=(__=function(p,E){H$.traverse(p,function(p){E(p),p&&p.model&&(p=wV(p.model))&&__(p,E)},K$,"comps")},v_=function(p,b,Z){H$.traverse(p,function(p){var E;p&&p.model&&((E=wV(p.model))?v_(E,b,Z):((E=p.model)&&E.uuid&&(E=E.uuid),b[E]||(b[E]=!0,Z.push(p.model))))},K$,"comps")},function(p,E,b){"string"==typeof p?H$.getShape3dModel(p,function(p){return aL(p,E,b)}):p&&p.model3d?function p(E,b,Z,o,A){if(A<=0)return Z(K$);var l,V=[];v_(E,o,V),V.length?H$.asyncEach(V,function(p,E){H$.getShape3dModel(p,function(p){E(null,p)})},function(){p(E,b,Z,o,A-1)}):(l={},__(E,function(p){p&&p.matDef&&t$.assign(l,p.matDef)}),E.matDef=l,Z(yL(E,b)))}(p,E,b,{},100):b(K$)}),JL=function(p,E,b,Z,o,A){for(var l,V,c,S,I,D,B,n,k,j=[Z-E,o-b],W=p?p.length:0,m=0;m<W;m++){for(V=2,c=(l=p[m])[0],S=l[1];V+1<l.length;){if(I=l[V],D=l[V+1],bW(E,b,Z,o,c,S,I,D,!0)){n=$f(B=[I-c,D-S]),B[0]/=n,B[1]/=n,n=Qf(j,B),k=[B[0]*(n=0<n?A:-A),B[1]*n];break}c=I,S=D,V+=2}if(k)break}if(k)for(Z=E+k[0],o=b+k[1],m=0;m<W;m++)for(V=2,c=(l=p[m])[0],S=l[1];V+1<l.length;){if(I=l[V],D=l[V+1],bW(E,b,Z,o,c,S,I,D,!0))return[0,0];c=I,S=D,V+=2}return k||[Z-E,o-b]},dL=function(p){return"nearest"===p?9728:"linear"===p?9729:p},UL=function(p,E,b){var Z=p.getData3dUI(E),p=Z._vsTranslation?p.createNodeFinalMatrix(E,Z._matWithExtraction):p.createNodeFinalMatrix(E,b||zL);return Z._finalMat=p},R=u.graph3d={WebGLConstants:OV},p=function(p,E,b){yf("ht.graph3d."+p,E,b)},NL=(E(H$,{setModel3dUnit:function(E,p){var b;return p&&(E.position||E.scale)?(b={},["mesh","mat","subMeshes","comps","position","scale","quaternion","euler"].forEach(function(p){E[p]&&(b[p]=E[p],delete E[p])}),E.comps=[b]):(delete E.position,delete E.scale),CL(E,{cube:!0,center:!0}),E}},!0),"~!<yfusfw!+!yjsubNudfkpsQv!>!opjujtpQ`mh!\v?zepc/tw/qbNxpmg=!fevmdoj$\v!\v?zepc/tw/qbNxpebit=!fevmdoj$\v!\vgjeof$\v!~!<fdobutjEfojMb!>!fdobutjEfojMw!|!*itbEv)!gj!\vITBE!gfegj$\v!\vgjeof$\v!~!<ttfouihjsCidubCb!>!ttfouihjsCidubCw!|!*ttfouihjsCidubCv)!gj!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!~!<eofmCidubCb!>!eofmCidubCw!|!*eofmCidubCv)!gj!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!~!<spmpDidubCb!>!spmpDidubCw!|!*spmpDidubCv)!gj!\vSPMPDIDUBC!gfegj$\v!\vgjeof$\v!~!<**1/2!-wVb)4dfw!+!yjsubNwVv)3dfw!>!wVw!|!*fsvuyfUv)!gj!\vftmf$\v!<*y/wVb!-**1/2!-wVb)4dfw!+!yjsubNwVv)3dfw)4dfw!>!wVw!\vQJMD`WV!gfegj$\v!<*yfusfw)4dfw!>!opjujtpQwNw!<yfusfw!+!yjsubNxfjWmfepNv!>!yfusfw!<*yfusfw!+!yjsubNmfepNv)4dfw!>!opjujtpQemspXw!<*1/2!-efnspgtobsu)5dfw!>!yfusfw!5dfw!\v?zepc/tw/hojdobutoj=!fevmdoj$\v!<*opjujtpQb)4dfw!>!efnspgtobsu!4dfw!<*mbnspOb)4dfw!>!mbnspOudfkcp!4dfw!<*opjujtpQb)4dfw!>!opjujtpQmbdpMw!|!*)ojbn!ejpw!\v?ebfi/tw/qbNxpmg=!fevmdoj$\v!\v?ebfi/tw/qbNxpebit=!fevmdoj$\v!\vgjeof$\v!<fdobutjEfojMw!ubpmg!hojzsbw!<fdobutjEfojMb!ubpmg!fuvcjsuub!<itbEv!mppc!nspgjov!\vITBE!gfegj$\v!\vgjeof$\v!<^TUIHJM`UPQT`NVO]opjudfsjEupqTv!4dfw!nspgjov!<^TUIHJM`UPQT`NVO]opjujtpQupqTv!4dfw!nspgjov!<^TUIHJM`UPQT`NVO]spmpDupqTv!5dfw!nspgjov!\v1!?!TUIHJM`UPQT`NVO!gj$\v!\vgjeof$\v!<^TUIHJM`UOJPQ`NVO]opjujtpQuojpQv!4dfw!nspgjov!<^TUIHJM`UOJPQ`NVO]spmpDuojpQv!5dfw!nspgjov!\v1!?!TUIHJM`UOJPQ`NVO!gj$\v!\vgjeof$\v!<^TUIHJM`SJE`NVO]opjudfsjEsjEv!4dfw!nspgjov!<^TUIHJM`SJE`NVO]spmpDsjEv!5dfw!nspgjov!\v1!?!TUIHJM`SJE`NVO!gj$\v!<opjujtpQmbdpMw!4dfw!hojzsbw!<opjujtpQemspXw!4dfw!hojzsbw!<opjujtpQwNw!4dfw!hojzsbw!<mbnspOw!4dfw!hojzsbw!<yjGv!mppc!nspgjov!\vgjeof$\v!\v?ebfi/tw/hojdobutoj=!fevmdoj$\v!\vZDBHFM`HOJDOBUTOJ`FTV!fojgfe$\v!\vHOJDOBUTOJ`FTV!fojgfe$\v!\vFDOBUTOJIDUBC!gfegj$\v!\vgjeof$\v!<wVw!3dfw!hojzsbw!\vftmf$\v!<wVw!4dfw!hojzsbw!\vQJMD`WV!gfegj$\v!\vgjeof$\v!<eofmCidubCw!4dfw!hojzsbw!<eofmCidubCb!4dfw!fuvcjsuub!<eofmCidubCv!mppc!nspgjov!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!<ttfouihjsCidubCw!ubpmg!hojzsbw!<ttfouihjsCidubCb!ubpmg!fuvcjsuub!<ttfouihjsCidubCv!mppc!nspgjov!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!<spmpDidubCw!5dfw!hojzsbw!<spmpDidubCb!5dfw!fuvcjsuub!<spmpDidubCv!mppc!nspgjov!\vSPMPDIDUBC!gfegj$\v!<wVb!3dfw!fuvcjsuub!<opjujtpQb!4dfw!fuvcjsuub!<mbnspOb!4dfw!fuvcjsuub!<yjsubNmbnspOv!5ubn!nspgjov!<yjsubNxfjWmfepNv!5ubn!nspgjov!<yjsubNmfepNv!5ubn!nspgjov!<yjsubNxfjWv!5ubn!nspgjov!<yjsubNudfkpsQv!5ubn!nspgjov!<yjsubNwVv!4ubn!nspgjov!<fsvuyfUeofmCv!mppc!nspgjov!<fsvuyfUv!mppc!nspgjov!\vYJGFSQ$!00^#CBRBEJxTT87hJFI,,bX1XrIwcn3UM{ZeZ,M6HEN6nLxe2Z72s2:3johr6foKrpqwxNKYkdbJ2CN[mBbf[wXU,T0oGuSEd190ohLZkEn8IuCe[OHoWeKz:Sf,VS7xdSLw23W1YJLU:jdv2{hiDbhDzNNEh9tp3xsuEp94Sl4c3wRzqwShMDRhCLRjCDEBOH5BBVRBCFRE4cJTHrTDH1BNgHJN"),OL=(uV.pbr=["?0t0w!/Imjbodujtt;z!ihqm=t!mf4e-v!mmdjohji$u\v\v!!\v\vS0C0Q!!$fQoSjFgGfJeY$\v\v!","~0!0<!eIJj!o>u!ts;p!mhpmDthmb4s-G!`mmjhh!i\vu?-z!eppjcu/\vt!g\v/0u0j!p$=Q!SfFeGvJmYd\vo!j\v$$\ve!f\vg?jzoefp!cQ/CtSg\v/!h\vp$ge=f!gfjeovfm!dToUjB$O\vE!B\vS?Ez\ve!p\vc$/jtgge/fqgb!NVxTpFm`gU=S!BfOeTvNmJdToTjJ$P\vO!\v<!*\ve$Je)fmgfjyoffU!uJvPqSu\vv!P\vp$Uesfbgfjoojfm!!T>Q!FeDJV!M\vB?Sz\ve!p\vc$/ftoge/jhgo\vj!q\vq$bjNofdompvue=f!!f=edvpmndnopjo$?\v\v!!\v\v?$zjeopdcm/vtegf/!u=vqqbudvlpj=o!hf?e\vv!m\vd$ojjo$d\vm!v\vegfj!e=ovfc$p\vt!/<iufbbped?s\vb!f\vm$dj/gmobejfsgf!uVbTnF!`+V!CsPb\vm!vvdofjqgTpusbnp!dnsbbuf5m!dv!W,j!f*xdNdbGu!s+j!yu<b!pvdosjbgfpmsdn/!mwbfjds4f!uebjng!g.v!t1f/<2!)v!o+j!gupishnj!Mwhfodj4p!hfunvjpt!t>j!wufi<h!jvMohjogjppshnu!vgpm!p<b*ud!dsWpOvuhpieo!f-t1t:<G!uvbopjdgspbsfnm!dg/mmpbbjus!fnufbunb!m-o1fGtutb<p!dvsobjfgmpds/nm!bgjmspfbuub!np)qlbddjjmuizd<T!`vGo!j>g!pdsdnG!!w4fddf4w!!s<j*n*DspjmEpxsf<j!wv/ozjsgupfsnnp!fghm!p-bmub!nssjpnOQupbxpfdss<b!fvmodj/gzpssunf!ngpmfphb)uu!pbem)qfiubbUsfvtuub<t!!\v>$!fdodeWjOgu\vp!ev!oujbgppmsgn!!\vcUpBpPmD!SuBsFbMoDt`qFbTsVf!oguf<e!gvjo$j\vg!p\vsgnj!ecopfp$m\v!!d<vsmbmmGvbddffq<T!o\vf$fjigte!f,g!!qVnTpFD`zVhWs\vf!owFbosfzfjioth!!+w!fudi3h!jwMVhwo<j!p\vh$ujvgpe!f>g!!uViWh`jDMMhJoQj\vp!hwubvspz!j<o*hs!pgmmppDbouf!fwiVtw/MmpbdjbsmfVu<b!n\v)$4fyobenj!g+\v!!8\v6$2f/o1e!j.g!\v1!/\v2$!j>g!!qenfpgDjzohfsef)oVFToFf`fMiJtH!IuUbNpBmQg*!!\v}O}F!FeIfTg`jFoTfVe!)gVfTeFg`jB$P\vN!B<Qf*d!o}b}j!eebfSgfjwojftet)jVnTFFm`bVuWp3u*!\v,!!wsbbsmzvjdofhq!Twmfbdu3p!uw!V,w!3f<t!v\vg$gfjoEemjbgu\vp!u\v!$>j!gueifhgj!MVhToFj`pNhBuQv\vp!!v4odjfgwp!s\vn?!ztebpncq/mtfgs/3oEp!jntbtqj<n!t\vo$bfsoue=j!gf\ve!v\vm$djogje$f\vg!!<VsTbFm`vBdMfQqITBuNdBfQs\vj!evoojj/gupishnj!Mtebfnuqdmffmsg3fEs!!b,m!qsibbmNvbdqf<q!T\vu$dffosejjeg/\vu!i\vh$jjMgeeffugd!fVmTgFf`sB!P>N!BsQb\vm!vvdofjqgTpmsbnu!ptub!n4qdmffws!3<Ef!tbvpgNgbjqE<u!d\vf$sjjgeooejf/gu!iVhTjFM`eVfCuPd\vf!mvgofjsg!p,s!nf!tgvmgpgbjuE!ubdpfNsbjqeJ/ouuifhojtMjeufzu<d!f\vm$gffose!j>g!\vf!t\vv$gfgojeEjmgb\vu!p\vu$!j4gdeffwg!!\vV?TzFe`pMcJ/HtIgU/NqBbQN\vp!bv=o!jfgepvsmnd!otjb$n\vq!m~f!s<3*Es!fmxjphQinujNsb!q-<n!j\vs$)jxgpoqe!f+g!!sVpTmFp`DVnCjPs\v!!>v,o!jfgdposbnj!egbmSpfbwuj!tmtjjhniFumNbbuqpJuo!u<f*o*t*jsujzE<x!f\vj$wf/ozesjugf\vn!p\vf$hf!o-emjbgn\vs!p\vo$/jzgseuffgn!pVfThF)`uFpNeJ)TtTcJbW!F.N!B1Q/\v2!!v-o2j1g1p1s1n1!/t1b)nyqbmnf!s>3nEj!sf!nujbtptmjgw!f|N!b*q2<1!1\v1$/f1o!e?j!g*\vs!p\vm$pjDondjmsv!e-fs!p=mcptDengjts?)\vu!p\ve$)j!ogdjm!v\ve?fz!e=pocp/stngb/moNpbnqn/pgDtt/uiifhbjem?=\v!!f\ve$vjmgdeofjg$!\vV!T\vF?`zSePpVcH/ItOgF/TSTCNQBtQu\vi!hvjomj=g!pfsenv!mtdbonjq$m\vf!s\v3gEj!esopfv$h\vi!o<fcthtsN/bsqp<m!p\vD$ffwojetjtgj\vn!f\v!$>j+g!effdgo!bVjTeFb`SNfFwUjBtMtOjFnTFTmNbBuQp\vu!!v<o{jzgyp/s*ns!ptmbpnDqfmwfjst3tEj!nnff)usbbmfoofjtMtpNUbCqH<S!t\v!$>f!ocehjsg/\vs!pwmbpsDzfjwojht!twjfndf4!!<w*OwpVswn!b-mq<b!Nwfbwsjztjtojhn!fw)fEd34f!swvNuwyQfput!j>u!jsppom<p!D\vf$wjjgt!tejfngfj!o5fdef)wV!T\vFQ`BFNOFWWNJBTQT*J!N}F}`!FNTBVY!`gCfPeYg`jD$M\vJ!Q\vQgFjSe!o?f!$1\v!!}<}*!oepfjgujdoffsej)EVfTdFb`gU!S-BOOqTbNnJ!T-TmJbPnOs*p\vo!!w-bospzjjuojht!pwQfxdf4j!WwwX!p.s)mcesQBp3tmjbunjsppoO<c!s\vv$ufsofeqj!g>\v!!m\vb$njsgp!oe!f<gfjmobfdeT)mDbMnJsQp`oE!J>S+F!DzUyJ/POOq*b\vn!!w<b1s/z2j!o.h!!1w/f3d!4+!!w{Mzpyd/b*mwQVpwt!j-uqjbpNom<b!n\vs$pfoo)eEj3gf\vs!v\vu$yjfoud!m>v!eOfq!b=nd!m4jdqfEwj!s\vfQdBuNjMpBoN/SgPtO/`iFfTbVe!?g\vf!e\vg$jj$o\vd!m<voepfj!u=jdtmpjQqwcNpwy./!g>t!/oipfjbuej?t\vp!Q\vx$fjjoWdwm!v4edff!w=!g<pmhb/ngstp/oi!f>b!em?b\vn!s\vp$Ojzosdumfvnepff!h=!t4idbfewp!x<Nobpqj/ugdtf/sijfEbfed?b\vg!!\v+$!jmobdnmsvpeof!!>=!gmmbpnxsNpboq!/*gftd/biGfmbmev?d\va!)\v!$gjjo!d<m*vmebfn!s=pfOowd)pfe{jjomhb?n\vs!p\vo$!j>o!dmmbvnesfp!o=!d4vdcffwF!o<w1S/f2g!m.f!d;u!j1p/o2G!T@?!\vh!o\vj$djboGdumovpesfG!`=mfho!w>n!boqpQjiuzdtfjsdjbEmf/dgbtg/!iufbbpem?g\v!!\v\vg$jjeoodfm$v\ve!f\v!g=jmejohfi$u\vt!D<pcn/ntptof/ogmtb/uiffNbmef?y\vf!u\v!$>j+o!dsmpvuedfb!G=tmtjfhoimubtuQfCnS!/\vg*tC/`iMfFbOeO?B\vI!D\v`$QjBoNdTmTvFeOfM!B=UuFsNb)oetfnojjtgtfjep!og/jgmtf/$i\vf!b<eh?/\vt!t\vf$ojmobdumfvNemff!y=fuup!o>f+N!bsqpqujdobhG/tgttf/oimfbbuef?n\v!!\v\v*$Hj`oMdFmOvOeBfI!D=`pQjBuN/TgTtF/OiMfBbUeF?N\v)!ewfpojjeg!fneb!jgoj)m*f!$|\v!!\v<$sj/otdtmfvoemfb!u=fdNmmjfqyEfjus!f>d+u!jsppou/dgbtG/tctpfeozm?b\vu!f\vn$!j\vo*dSm`vMeFfO!O=BdImDj`qQcBpNyT/TgFtO/McBpUeFzN?)\ve!fwofjdg5f!ee!jggjg$v\vt!f<D*pwmVpws!<-!qebjNgtgtvftofmDbpumfpns)/Es3hfcs!v>u!yefjug!g>v!ttft<f!oemjbgugfvNtmffDypfmup!s5/dbf!w>!!\vpQqBbNdTjTuFzO<M!BSUfFgNm`fFdTuVf!egMfjehgiju$!\vs!f<gtmtffdoumfbeuMfjnh!i>u!!s>p!uSdfbgGmtftdfuofmebMujfhni!uu)bwpfmdg4!)\v1g/j1e*o-f!$w\vf!d\v4g)j1e/o1f*$-\v!!w<fcd/4t)t1f/o1i*h-v!pwSfmdf4y)f1u/!1>*+*!<s!pwufddb4G!tutpfuobimhFvnpjst!t\vj*wCf`SMbFeOjObBoIdDf`!Q>B!NfTnTjFtOtIjHwVfP<S!)\ve$fjogjegffge!!VgTjFm`fN$B\vQ!\v<!hw/ftdt5f!ouifhyvfpmSDmpfmypfsu!!>>!+u!fsypuuvdsbfG3tEt)fnobiqh-v!pwsV!w\v**<H!`uMfFyOfOmBDIpDm`pQsB!N>T!TtFSOHICHUVpPMSj)oeffbosj)guffey!fgmjDmpfm$p\vs!*<<s!/etjtgfgovithfvDppSmmpfsy!f+u>!!>u+f!ysfpmuDdpbmGptst<f!o\vi$hfvopesj!g\v\v*!S\v`$MjFgOeOfBgI!DV`TQFB`NBTMTQFIOBINHBVQP\vS!)\ve$fjogj!geffeg!jgojf$e\v)!B<M*QwIVBwN!B-Qq`bDNItBtOfOoFiMh`vBp*s\v)!Ee3jfgsgvvutyffDup!m>p!st/tbf!o+i>h!vupfSymufvysffu3!E5)dbfmwq!i\vbQNBbNqT-T!FwOVIwH*V/PbS<`!F\vT$Vf!mgjfge!gejf$g\vj!o<ftet)fBoMiQhIvBpNsB!Q>`!DsIpBuOdObFGMt`tSf*o\vi!hevjpgsg!vutbfpDmpgm!p<se/sbb!d+t>j!eu!f*yuutvfsUfb3iEq)mbbm!q=i!bbN/bsqp-m!pwDVfwt*v/gsg<j!e\v)$!fgmjj!g\v!gejfegojfo$f\ve!)\vBgMjQeIoBfN$B\vQ!`<DcI/B*OwOVFwM!`-Hq*b\vN!beijqgmgbv)tEf3Dfpsmvpusy/fbu!!+>>+!!ubf/ysupvmspfD3fEt)vbgmgqjieb!N\vb*qC-`!MwFVOwO*B/IhD<`!Q\vB$NfBmIjQgM!Be)fegfjo"],uV.phong=["?0t0w!/Imjbodujtt;z!ihqm=t!mf4e-v!mmdjohji$u\v\v!!\v\vH0O0P!I$QQ!SfFoGjJgYf\ve!$\v","~0!0<!eIJj!o>u!ts;p!mhpmDthmb4s-G!`mmjhh!i\vu?-z!eppjcu/\vt!g\v/0u0j!p$=Q!SfFeGvJmYd\vo!j\v$$\ve!f\vg?jzoefp!cQ/ItPgO/Hh\vp!g\v=$!jfoedvmmvdeofj!$=\vd!p\vn?nzpeop?c\v/!t\vg$/jqobdNmxvpemfg!==!qfbedvlmjdoohj?$\v\v!!\v<$*jeoJd)mmvfeyff!U=uvvcqputv/PipfUbseb?f\vo!j\vm$!j>g!oeeJf!g\v!?VzTeFp`cV/CtPg\v/!hvoojjqgqpbsNnf!owpfud=4!!feejvgmgdvotjf$<\v!!v\vo?jzgeppscn/!twgf/du4v!qfunvjpt=t!jfwefv<m!dvoojj$g\vp!s\vn?!zwefpdc4/!ttgq/fhdovpmibQsq<b!nvwoojfg=p!sfne!vgmmdpobju$!\vt!i<jfodjoobfjtetb<S!fvwojjtgtpjsnnF!mgbmuppbuu!!,p!qsbbdmjvudzf<q!Tvuodjfgspjseno!jg/mupibhuj!MbemfquidbfUmfgtfus<!!,v!osjbgmpvsdnf!qwTfudd4f!svjDeb/nufishbjQMpetfjuudjfpmog<f!sv!o,j!gfptsvng!gnjbEuu5d!fvsWjjefoxjN/buuishjjyM<e!f\vu$dffomegjfgs\v!!,v!ofjtgvpgsgnj!Ecupdpfms!jues/buoithqjbMseffouud<f!mvgofjsg!p>s!nu!ichpjpMmh!odjvpmhmuGvbpd!f4<d!f\vw$!j\vg?ezfegp!cV/TtFg`/VqWb\vN!pwbb=s!zfjeovhm!dwofjd$3\v!!w\vV?wz<e!p\vc$/jtgge/fogp!nVnWp`DDtMuJiQh\vj!mw=b!sfzejvomhd!ogjm$p\vb!u\v!?wzVewpMcp/dtbgm/Vh<o!p\vi$Qftoueijhgj\vm!=\v!$ffeovemjdgo\vj!$\v\v$!j\vgg!jeefogfj$o\vf!e<)cVhTsF/`sMpJmHpIDUfNwBjQt*t!j}n}f!!e>f+g!jfodfoeb)jVeTbFS`fBwPjNtBtQj*n!F}m}b!uepfug!j<o{fzey)/V*TsFp`mVpWD3f*w\vj!twtbjsnzfj)oshb!fwofjdM3p!UwCVHwS3t<!!>\v!$cfhose/jsgp\vm!p\vD$fjwgjetftgj!nVfT!F<`*NwBVQw\v!!-vqobjNgfpwsjnt!ttjbnnfq)mEf3sf3sEv!unybfqu<!!>\v!$sfpomepjDgf\vw!j\vt$tjjgneff!g5!dVfTwF!`\vBQMBQNIFBWNJBTQT\vJ!NvFo`jFgTpVs!ng!ftebgnjq$m\vf!s\v3gEj!ebomfq$i\vb!N<b*qo<p!j\vu$dffosejjEgf\vd!b\vg$!j-gOeqfbgn!!V-TmFb`nBsPpNoB!Q-\vo!pvjoujjgtppsQnx!ftjbWnwq!m.f)sc3sEB!3bmpbNnbsqp<O!c\vs$vjugsofeqf!g>!!VmTbFn`sVpCoP!\v<!fvmobjdgTpmsbnn!sgpmop!b>u+!!bzpyN/bOqqJbonu!f<o1t/j2u!z.<!!1\v/$3f!o+e!j{gz\vy!/\v*$wfVowe!j-gq\vb!N\vm$bjngsepfog)!EV3TfFs`vMuJyHfIuU!N>B!QO\vq!bvno!j4gdpfswn!!\vtQbBnNqMmBfNsS3PEO!`mFjThVi!ugNfbeqg<j!$\v\v$!j<goopejfugj!tVpTQFw`NVwC.P!\v>!!voopjjgupjstnp!QgxmfpjbWuw!!m4jdhfiwu!N<bmqbJnosupfoo!t>j!umzb<n!s\vp$Ofzoseujfgn\vp!f\vh$!f4odefjwg!\v<!o\vp$jjugdeffsgj!EVfTdFb`gF!N+J!TmTbJnWsFpNoB!Q>\v!!mvbonjsgppos!n*!ftdbbnGqmmmfvsd3aE)!!fgnjj!t<t*jmwbfnNsbpqO<w!)\vf${fjomebjngs\vp!o\v!$>j!omdbmnvsepfo!!=4cdtfewg!t<?1\v/!2\v!$.j!o;d!m1v/e2f!!@=!ohposjndbbmGNuboqp/sgGt`/mihf!b>e!?o\vp!jwubdsfzsjjoEhf!dwbfgd!4u!bwpOmpgs!n\vbgmj<e!owfb$s\vz!j<o1h/!2w!f>d!4i!uwhNowfQsputTjsubjmpvod<f!q\vt$!e\vffgtjmoff$!\vF!O<WsN/BsQb`mNvPdEfFq`TSmFfGyMfFuD!U>J!PiOu\vh!o\vf$sjugT!sebfmgvjdoffqet)!V<T*Fw`VFwO!W-NqBbQN*s!b}m}v!dNfBqYt`)CEP3Yf`sDvMuJyQfQuF!S>!!?s!b1m\vv!dwfbqsTzmjfoyhf!uw!f5dd4f!ww!X\vpQsBmNeSQBpMtVjDuFjQpTo`<F!T\vV$!fgofeejggj\v$!\v\v!$<jigu!heoffgsjuoTfseb)mVvTdFf`qFtO!WuNbBpQm*g\v!!<veosjbgdptsjne!!g*muptbfuU!bfioqwmNbb!q=J!obu/fsoptmjpuDzf<t!vvgogjjgep)s!ng!jg!m\vpgbjue!ogfm$j\vq!F\vogwjNeboqf<$!\v\v!$<jcg/e*fwgV!wF!O-WqNbBNQb`iUqZmQbF)`ED3VfCsFv\vu!yvfouj!g>p+s!nb!/tsbpnmqpmDffstDvvgcgfj!ef!o\vw*nCb`qM<F!O\vO$BfImDt`fQ\vB!NvBoIjQgMpBs)ne!ftobjngqfmef!sg3jEm!ff$o\vw!n<bhq/<*!w\vV$wf!o-eqjbgN\vb!i\vq$mjbg)oEe3ffgs!vVuTyFf`uV!C>P+\v!!bv/osjpgmppsDnf!tgvmgpgbjue!!s\vf*gHs`bMdFuOjOpBoISDb`uQjBpN<B!I\vQ$MfBo)eejfgo\vj!g\vf$ef!ogejjmgf\v$!\v\v!$<jsg/!*ewfVgwj!o-fqeb)NDbMiJqQm`bE)JES3FfDsUvJuPyOf*u\v!!>w+b!sbz/jsophm!pwDffdt4v!gwgMjped!b\vm*QSp`tMjFuOjOpBoI<D!`\vQ$BfNoBeIjQgM\vB!)\ve$fjoojdgmfvee!fg!j=mdfm$j\vq!E<jbs/f*dwuVjwp!o-/qgbtN/biifqbmeb?)\vE!3\vf$sjvoudymfvue!f>!+=!dbm/jsqpcmppyD/fgttv/gigfjbee!?\v\v*!B\v`$MjFoOdOmBvIeDf`!Q=BgNpBhI/QgMtB/)ieffboej?g\vf!e\v!$gjjo$d\vm!v\veQfB!N=BtIiQbMeBp`xFNTbVq!/ggfte/gijf$b\ve!?\v\vg!j\ve$ojfo$d\vm!v<esfp!m=pgDmmpfxyNfbuq!/>g+t!/sipfmbpeD?f\vt!v\vg$gjjoed!m<v*esfp!m=pfDomdfpyefjuo)hs?b\vf!o\vj$MjpoUdCmHvSetf!!>=!msjphmipuDtmDfpynfnup!o</*gwtV/wi!f-bqeb?n\v)!E\v3$fjsovdumyvfeuf!!>=!msjphmipuDtmQfiypfouh!/5gdtf/wi!f\vbQeB?N\v`!F\vT$Vj!ggeffegg!jV$T\vF!`<TfQwFjDtVtMjBnSfN!B>Q!\vf!dvoobjjgepbsSnf!wtjbtntqjmnfFsm3bEu!ptuq!f4ddvfmwb!s<N*b*q1</!1\v)$4fdofewj!g-\v*!1\v/$1j)o4ddmfvwe!f-!*=1d/v1c)f4FdofwwS!f-g*m1f/d1u)j4pdofGwT)?u\vi!h\vj$Mjeofdumdvfemfg!f=Su!p>o!fuNibhqjqMjeofhu/dgftm/giffsb!eu?i\vh!j\vM$ejfouddmfvmegff!S=!p<jzuu/jgdtb/qipf!b>e!?b\v/!swppmjpeD!fntbvjgog)j*e!!|<!f\vt$vjgogdjmev!e>f!!c=hdsm/jsqpEmjpsDffdtuvjgpgoj/eg!t</scppmepzD?f\vt!v\vg$gjjoed!m5vdeffw!!=\vd?mzjeqpccp/yt/g"],uV.litePhong=["~0!0<!y$fQuSsFfGwJ!Y+\v!!yvjosjugbpNsund!fckpppsmQ!vv!U>f!youpvjsufj<t!pvQo`jmghp!s\vn?!znebpuc4/!tvwV/wqNbbNuxspjmyg<=!!vfoejvgmpdsonj!$n\vb!u\v5?!zveQpscp/ktfwd/uqNbbNuxspjeyb<i!tv=o!jfgepvsmnd!onjb$u\v5!!<v*WyjffuxsNfbwu)s4jdyf<w!!v>o!jogppjsunj!tnpbQuw5N!wv!N<pyeffumsNfbwu!s+j!yy<j!svuobjNgxpfsjnW!mnfbeup5N!vv!N>p!eyffmuWsjffwx!N~b!u<s*jyyf<u!svfowj!g+p!synj!snubbuN5m!fveOppNsvn!b+m!Nnbsupsgjtyo<b!sbUumubsdjpcMvqujfm!Dwvf)d44d!fbwO!p>s!nobpmj<u!jbtupuQsmjbcdvpuMfw!!w|f!df4t!mbfQ!p~t!j<u*joppoj<u!jbtupuQsbj)c4vduffw!!w>f!do3p!jbuVjwt<p!Q\vm$bjdgpeMfwg!!|V!W*`2D1M1J1Q/\v1!!w=b!sxz/j^o4h]!nwsfpdg4t!owbVswU<m!b\vd$pfMmqtjfm\vD!vw)b!sgzjj!o<h*!ywffuds3f!ww!V+w!<y!j\vs$ufboNemjfge\vp!N\vv$)e4fdgfjwo!f>!!VoTpFj`uJjOtTpUQBeOmDsJpOXHw\v!!<\v*$1e/f2g!j-oeff!nVsTpFg`tJoObTsUuB)O5DdJfOwH!`>M!FyHfBuDsZf\vw!!\v5$djfowd!m\vv?ezfe!p=cj/ottwu/bhoodjjdoohb/uwtto/ji=f!bfee?v\vm!dwobjs$z\vj!o<h*!owpfjdu4j!twpOQpbs)n4bdmf<w!!w>b!sezfjnoshp!gwtfodb4s!uw!N4wdQfpwt!j<u*jmpbon<s!pwObbs)z4jdofhw!!w>f!dm4b!nwsXppOsumdefQkpctpj!u4jdpfow<!!\vvgojjegopfs$n\v!!n<b*u*51!/v2D!m-jwqVMbp)d4bdmfUws!b+o!tygjpssunb<N!wwVbvs)z3jdofhw!!w>f!dw4V!ww!M\vpfdtbmmfQ$p\vt!j<u*jyp/ow<V!b\v!$-j*o*d1m/v2e!f-!w=Vtbi)b4edpfxwN!b+q!/ywjts/uibfNbweV?v\v)!3\vd$fjwo)d4mdvfewf!!>=!gwmVpwx!N\vbQqJ/MwDt`/WiVf!bgef?e\vg!jw$p\vj!e|!!n*b)jo","~0!0<!eiJj!o>u!ts;p!mppjDuh-b!shGm`tmmh4!\v\v!?\vz0e0p!c$/QtSgF/GuJjYp\v=!!vfoejvgmpdsonj!$g\vm!p~b!u<!1b/m2q!i>b!Uxf/teuJ<!!|v!ofjtgmpfs!n~!!c<pzpumj!dvbtqfpM!j>h+i!uxj/oehJ<!!|v!o*jugopfssnb!qctpopbms!uu)s!bgojt!q\vb?szfeopuc</!tvgo/jhgppgs=n!!fcepvpmmd!ovjU$f\vy!u<vfswfj<t!t\vj$njfg!e>f,g!!cVhWs`/DeMJJ!Q~\v!!\vw?bzsezpjco/ht!gw/fhdo4p!iwQVfwu<j!M\vt$ufimhtjfm\v=!!wfbesvzmjdoohj!$w\vf!d\v3?!zweVpwc</!t\vg$/fqobeNjxgp\vm!gv=o!jfgepvsmnd!otjb$n\vq!m|f!s*3hEo!jnubiqh<j!M\vf$tevf)g!jgojf!!~D!M<JsQp`mEpJDSwFvD!U>J+P!Oe\vJ!!\v|$!j*ofdsmvvueyff!U=vd)m!jgqjE!j<s*f1d/u2j!p-of/tgvtg/gijfeb)e5?d\vf!wv!o>j!gepJs!n\v!ggjmepobfu$!\vp!q~b!d<jOu.z!<>!!vOo!j|g*plsdnb!Cwtfjd)4!!gejj!g<gfvvtsfu<!!;v!ofjtgmpbsgn!!@w!fhdo4j!dfbnGjutotpjswGf`<m!hw!b>s!zljdobhC!twjf!dm4p!pwcO!p\vsfntbmmf<$!\vw!b~s!z<jfovhs!uw!f>d!4l!dwbNCwtQjp!t<jOu.j!p>o!<O!!w|b!s*z1j/o1h!!=w!f*dO4!!-wFM)pudpbem)Qgpjt!j<ufjtpmob<g!!v>o!jlgdpbsCnt!jn!bmup5p!cv!W\vjTfMxBNNbSuPsOj`yH<O!JvToVj`gFpDsBnG!LwDfBdC4`!ZvDDBbHnFfMs!bgQfpetgjju$j\vp!o<<F!.w!b>s!zMj!o4hd!fwwf!d<4*!owpXjpusjmtepQQpwtNjwu.j)pfo{<j!m\vb$nvsopeof!g>!!FFO!W4NdBfQw`!S<P*UmBbUnFs\vp!O\vw$)jfo{djmmvbenfs!p=om!j>h!iOu!t4Mdjfuwf!Q<iepJo!h5/dgftw/!i\vf?bzee?p\vc!/\vt$gj/ofdwmjvuedff!m=fqTbndplpjmoch=?!\vf!e\vv$mjdoodjm$v\ve!f\v!?=zdempjcq/ctpgy//ygptc/qijfmbde=?!\vf!e\vv$mjdoodjm$v\ve!f\v!?=zgepphc//gttg//iofpbjeu?d\vf!s\vj$Ejqojdmmdv=e!ff!e=vtmidboejp$x\vN!b~q!/~g!t~/!i<febseb?d\vt!j\ve$!j|o!d*muvteffU!b=igqmmpbx!N>b=q!/bg/ts/pimfpbDew?v\v)!!\vg$jj!o|d!mfvtemff!!=~c!m~p!p<neTsfbmdftdjuej!w|f!/*g1t//1i!f>b>e!?b\v/!s\vp$mjpoDdwmvv)e!fg!j=!p|j!u*/ugotf/sibfqbteo?b\vs!uw)p!jgej!!n\vbgjjoe)o*f!$|\v!!w<f*dw5V!wv!w-Dqpbmnp)sE<3!fjsgv!u)yvfUuf!y>u!vsspfm*p!D|w!v\v!$\vjfgtemffg$!\vV!W<`*DzMyJ/Qw\vV!wv!w-Dqpbmnp)sE!3>f!suvfuy"],uV.hueSaturation=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gxp/ssnp!mtpbdn!q-m*fmst3iE)!cjhnsb3hmft<i!)w5bdsfzwj!o>h!!swpfmdp3D!hwbVswG<`!m\vh$!e<f*g!j*offh!oNbBSYt`tSfBoOuHiFh!j8m\v!!-\v^$1e]ftgtjfoofu!iShBjOmH!F-`{B/MmMt!i1)\vt!tvfoojugiphsjnm!`gqmbpnb!u-!*ifvhfo]bNSBoYp`jSuBbOsHvFu^b<t!!v-o^j1g]pospnj!ugbmspvbuub!tt!b-uzv/smbtuij)poop]jNuBbYs`vSuBbOtH`Fq^b<n!!v-o*jfghposbnS!fgvmip!b-u^!1m]jfhviiu!o-fyt/tm]tNiB)Yf`vSiB`OqHbFn^!<)!4gdmfpwb!u>!!nmbtqi`!i~v!f~)!g<mlpbbfus!cj!o<W^bsmfvufo-v!pgdm`pfbvui!]itvtffBomumi-h!jgmm!p>b!uf!hiovbfSStbtofhofu*i!h|j!mg!m<p^bsuf!uwobvmpvdf`!f>v!ij]ooWpbjmuvbfs!v,u!b)ti!v>f!Bfmhmo!b,S!oipvjfuSbbsovhufb*t!!0<!^3s/f1u<o!vjpgd!`)fwvbim]vffv!i=!!>1!/f1h*o!bsSffuvvis!o|!!w*bfmhvofb!s,!!>2>/!1s<f!ufomvtpfd!`jfgv!i))w!bgmjv!f|!!?*!,2,/s1f*u!osvfpudv`sfov!iw!b<mFvHfO!B.S!`2Y/B1N<!!=f!mstffu!osvfpudv`sfov!iw!b<m1v!f><!!s~f!ugomvppbdu`!fnvbiq!`utobju)v!ssbpugj!p<o2)!g,m!pfbhuo!bjso!W>b!mfvhfo-b!sg!m<p1b!u>!!tfbhuovbssb!u*j7p!o>B?m!mf-h!ogbmsp)b!ug!jt!b~u!v~s!b<uljbpfosScb!o<hsff*u!o|v!pgdm`pfbvui!!w>b!mfvhfo!b>s!!j|o!W*b6m/v1f!!,+!!*)s2f/u1o!v,p!dt`bfuvvis)buubjppmogB!m=m!!i,)!!tgbju!v|s!b*u,j,psofSuboovhpfd*`<f!vsif!u<vFsHoO!BdSm`bYnBqN)!w=b!msvffu-o!v1p/d1`-f!v2i/!1<*1<!!>~!!sgfmupobvup!dn`bfqv`im!juhoiju)o!fstptg)!g<mfphboub!SjtotWfbomuvifh-j!mg!m-pfbhuo!bmSjohpijuuobfstvtuBbmtm!--!fghmopbbSuf!vmij!huibupomfgt!t<S1b!o>h!ff*h!o|b!sg!mupobju!!<we!m>p!imtjfhsiiuuo`fftvtiB!mumb!p,m!gm!j<h1i/u7o!f+t!tyS/bmothif!<>!!jig!!u)bwp!m=g!!1</*1{*z!ys/fsupvmspod!)jmotWib3mcvhfs!!+>!!)mwt!i,!!42d/f1w*!<<!*fwmVtwf!!-sffhubvnsjo)!Ej3ofWsbvmuvyff!u,!!>)!ws!p+m!p)d2!/51d!f.w!!j|o!W*b)movjfb*n*!<e!j~p!wg!m~p!b<u*!mi!v-ft3!s-hic))4gdmfpwb!uo!sgv2u-f!sg!m~p!b<u1!/g73!-0!!gim!p>b!ui!!i~v!f<*1!/|7!!j>g,!!)ii!v|f!!*=1!/11/!1=*!!ii)v!fg!j,!>~!!2</b1u<m!ffEmdt!f0!!j*gh!!).i!vsf)!!?,!!21//15*!!>i!vif!!|.!>f!t2m/f1!<~!!g<mbpubmuf!Esdf!t0<!!*jsg!!.)!)c7)/!1,!!+1!/i3v!f>*!!i=!!|2!/*1y*b!Nsdf!t>!>>!!hg)2!!g,j!!)fgt3m!f.!!~g!2<*b!u+m!f7E/d1!!0+!!*icv!f.<!!hf)m!t>f!!ij!g|!!)*)y3b/N1d!!+>!>i!vsf)*!!g=j!!2</*1**o!jsNfdt!!,>!!ygb3N<d!)f!m.t!f1!/j3g)!!)0)!4b/u1m!f+E!di!v;f!**!o=j!N3d/!1,*!!ysbfNtd!)>!!0g!2b!u,m!f)Egd3!!@.!!6g/21*!!=+!!m)!)>3!/t1!!<0o!j4N/d1!*.!!.y!biNvdf!*>!!+b!u7m/f1E<d!!fumbtpfm!gs!f|t!!*>o!jgN2d<!!?s!fyubvNsdo)!!sgfjt!<<!1~/!3w!f0d!4*!oijtNmd3!s,h!cy)bwNfdd)4!!>i!tmm!*<!*|*!cw!f-dh4)!ysbhnc!<-!sj)gy!b)ni!t>m!/yzb!N>d>!!u1b/p1m*g!!|<!*s*hcc!!->h!)wofjdn4!)-ist)mo/j{n*!<>!!~o!jfNmdt!fu!b|p!mggm!p<bcu/!dg!3><!!cj!gu!b)pimtgm!/<{h!/=d!!1>/!6h*!!ugb3p!m>g!!i<tsm//d{!!>+!!s)!2u/b1p!m,g!!i<t1m//1z!*><!!mf!mutbfp!mgg3!!<>1!/i1t!m>/!{t!!,u!biptmmg/!z<!1./!2i.t!m>/!zi!!+u!biptmmg/!{|<!!*gdm!p4bduf!wg)2m!t>i!33c/h1s!!+4!diftwm!/~{!!<.c!hgs3!<o!ssvhucf/ss!!~>!!<i*v*f13/s4h0c1)/g22)-!!.g!3y-/!mittim!/-y3!g,!!-)22g/)1c0h4s/31f*v*i<!!>s!hcc//chh!s>!!<i*vyf/3msthic!)-g32g-!"],uV.blitScreen=["?$TjWoodfmfvsedfT!u=jcm","~v!o\vjggjpesonf!$t\vb!n<q*mcfhss3/Es!pjmnpbDhhfb<s!Gw`bmshz)jhoohj!swffidu3j!ew!V>w!<c!h\vs$/jsgpemfpgD!hVbTsFG``MmJhO!F\vBHSO\vJ!S\vF$IjUoJdEm!vgeffe!g=jf$o\vd!p\vegjjoeho?f\v$!\v\v!$<f*oweVjwg!\v-!f\vh$bjngje)fEg3!fEsJvUuIyFfSuJ!O>H!\vs!p\vm$pjDohdbmsvGe`fm!h=!d\vpfntnmpfo$?\v\v!!<w*f*dw4V!we!j-ufihfbsnjjo)hE)3wffsdv4u!ydfpum)pCsH*S!t|p!Ugsmbpfbouj!Mh!s>j!es`pqmpptDjhubjspGo`!m>h!!s\vbSoBeF)OhJmM``GFsTbVh!Dgpfpesgej/$y\vz!*|<!!*w)fodj4b!ne!jeujipfws!`\vtgijjegouf`$S\vH!C~!!><!CwHfSd`4u)g1j/i3t6`!s0f!i3u6j6e/!1,-!!s.p1m/p3d6!!o0s!v3u6f6s/!1<-*!o1p/j3u6j!t0p!q3`6e6j/s1h*!<-!CeHjSu`iufgsj`itti`jsgfui`uSjHeC!!+>!!1n/j3y.)!3-/C1H!S+`!uegjjuiitf`s"],uV.pick=["~0!0<!y$fQuSsFfGwJ!Y+\v!!yvjosjugbpNsxnf!jcWpmpfme!pvNUvf!y+u!vysjfs<u!bvNoujdgfpkspns!Qnvb!u>4!!ovpVjwuNjbtupsQj`ym<h!!v~o!j<g*pysfnu!snfbwu!5+!!vyQjsspukbfNdmufNebpuNsvj!y+<!!nvsopjggtposbns!Unmbbud5p!MvqNjpmeDfvm)N4bdufswj!y><!!ovpojjugjptspnQ!mnbbdup5M!wv!N|p!efftmmWfj!f~x!N<b*uospjjyu<j!tbpuQubs)j4cdvfuwf!!>w!fodp4j!ubjOtppsQnmbbmd<p!Mbwu!u|s!j*c2v1u1f1!/w1f!d=4!!xb/Q^p4t]jnusjppgot<o!bbsuUumsbjdcpvMuqfj!mwDfvd)3!!gbjV!w\v<g!j\ve$ojfg$e\vf!g~!!C<BsUpDmIpDDPiMdPuSb\vC!bv!o>j!gsppsmnp!Dcipdpumb!CvwC!b|u!d*isDppmmppDsi<d!ubbuCuvs)j!cgvju!f\v!SwPfMdP5D!IbDCUbBuCd!igDfpemgpjs$<\v!!w\vbgsjzejoofh$!\vw!f~d!5<!*w*C1b/u2d!i-DwpVmbp)s4<d!f\vw$!f+o!eyjjgs\vu!b\vN$wjVgve)f3gd!fVwW!`>D!MwJVQw\v!!|w!b*sfzsjvouhy!fwUfvd)4!!gwjV!w\v<f!t\vm$ff$m\vt!f<\v*!yw/bwsVzbj!o-h*!*w1f/d23!!-wwVVwb<)!4\vd$ffwo!e+j!gy\vj!s\vu$beNfwgVjvo)f3!dVfTwF)`4JdOfTwU!B>O!DwJVOwH!`\vMQFJHMBDD`ZW\vV!!\vg$feefggjj$o\vf!!\vVgTjFe`oJfO$T\vU!B<O*DyJfOuHs`fGwM!B+U!`yTjIsBuEbFNEm\vf!e\vp$Njvo)d4mdvfewf!!>=!jooptjuubjotdpjQoehm/swptX/wi!f\vb1e!?>\va!!wSbFsQzQjJoMhD!`wYfPdC4`!YwBXNp!sgmje$Q\vp!t<j*u1j/p2o!<-!evfonjsgppgstno!bnsbuu)55!dvfDwm!j>q!MypfdubsmfUws!b5odtfgwp!s\vn?<z!ewpbcs/ztjwo/hh!owjfddo4b!uwtMopjd=b!mfQepvtmjduojjp$o\v<!!~\v!$\ve?fzgejpocf/!tVwT/Fh`oTjLoJoOjOlJtO=H!\vf!e\vv$medfogjj$o\vf!!|C!P*OhFo`jUoFoYjUlVTSfFt\vV!vv)o!jggjp!s<n*!ocppjpumj!tvpVQtbf)T4ldjfowo!j>o!he<f!n\vs$pjgotdombvseuf!!4=dtflwj!o<o*jmobhn/swptO/bi)f4bdef?w\v!!>w!pmjben!snpbOjuod)fwkpcjpe!*4!d|f!w","~0!0~!!$<QeSsFbGdJtYj\ve!!v|o!j*g1p/s1n!!>c>p!pbm/!svpEmjptDdhbbsseGT`fmmhf)d!ugbjc!m\vfg<j!evoofj$g\vp!s<ns!pwmfpdD5f!tvsGfjwyfQSjlddljSQfywjfGsvt!f>D!psmppmsp<D!hvbosjGg`pmshn!!\vgfmtpmbfu$!\vv!B~m!q<isbpUmfptDuf<t!svfowjfgSplsdnj!QcypjpGmv!!v>U!ssbpomtpqDbhsbfsoGu`<m!hv!o|j!gfptsmnf!!c~p!p<ms!pvmUpfDyiudvusbfC<w!!\v>$!jsgpemfpgD!hVbWs`GD`MmJhQ!\v|!!w*bsspzmjpoDhi!dwufbdC4v!)w!Vgwj<!!\v\vS$PfMmPtDfI\vD!UwBbCs!zgjfoehg!jw$f\vd!3\v!?wzVewp<c!/\vt$gf/oyepjcgq\vj!mvdo=j!gfpesvnm!dtobjn$q\vm!f\vs?3zEe!pvcT/btngq/mofpsj<u!d\vf$sejfEgqjjomfd!=D!MfJeQv`mEdJoSjF$D\vU!J~P!O~\v!!~\v!$<jeosdbmdvtejfe!!=|d!m*juqtEfjUsbfidqumjBpvo!/>g=t!/bi/fsbpem?p\vD!wwvb)s!zgjjo!h|!!wfftdm4f!!w~M!p~d!b<meQspbtdjtujjep!o|<!!*w1b/s1z!j>o>h!!bw/fsdp4m!pwDXwpvs)m!egQjp!t|j!u*jupoof<s!b\vq$tjogbesfUgv!)C!BgUjD!I\vDgPjMePoSf\v$!\vv!o<j*gwpVswn!!-cspfpmmq!nvbCTbvu)dEi3Dfpsmvpusy<f!uw!b>s!zsjpomhp!Dwwfvd!5\v!fwtCmbfu$d\vi!D<p*mzpys/<w!V\vw$!f-osefjmgq\vn!b\vT$vj)oEd3mfvsevfu!y=fdum!j>q!csppym/pgDtw/vi!f\vbQeJ?M\vD!`wWpVj!eg!fnebgjjo$)\v*!!||!!*wffmdc5b!uvdwfDmpfmTpess<b!djtgj!E)vvaU!f%y%u!vfs"],uV.envmapDynamicCompose=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*g1p/s2n!!-tcbhnsq/m*fbsi3qEm!bu!f-ycuhvss/f32s<p!mvpodj!g-pcshns!/t2bsnpqmmpfds)3yEj!nu)f5ydufvws!f>3!<s!pvmopjDghpbssnG!`gmmhp!b<ub!/p3gsgptmfpud<!!>w!bbsizqjmobh!!uwbfpdm3g!!w<V*w*<w!V\vw$!j-o3dfmsvveufy!f=uf)oEd3pfesjvouhy?f\vu!)wspbjfeo!jnMbpjUoC)H*S!t|!!>w!f3ds5p!mdppdm!p5sd2f!w>!!<u*f*yzu/vwsVfw3!E-)uufftygugvps!f.2!-y!/wwfVdw3)"],uV.blurH=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jngvpts!n>!!tsbpnmqpmDfhsb3sEG!`jmnhb!h<f2<6!1w/b1s!z+j!o*h*!zw/fwdV3w!!w-Vfwv<m!bvwo!j+g!p1s/n5!!g,m!pyb/uw!Vwwb)m3vdff<w!!w-pfjheb!nnjb)jEo3)f*s!v|u!ywffud!5>!,t!vnnv!t>!!<w9f2d:51)/11/!1+*!<*!*tzv/nw!V,w>!!-uffvymubvws!f+3!E1)/j4n!b,h!fy-/!wwVfwd)33)dwfVww!/-yf!h.b!n5j/)1E!3+f!swvbumyvffu-!!>w,V!wn/vzt*!*<!6+5!313/21/612!<+!!t*v*nz!/,w>V!wu!f-yfuvvmsbfw3!E+)!j1n/b3h!f,-!!yw/fwdV3w))w3Vdwf/wy!!-.f!h4b/n1j!)+E!3wfbsmvvufy-f!uw!V>w,/!zn*v*t!!+<!214/612:/219!<+!!t*v*nz!/,w>V!wu!f-yfuvvmsbfw3!E+)!j1n/b2h!f,-!!yw/fwdV3w))w3Vdwf/wy!!-.f!h3b/n1j!)+E!3wfbsmvvufy-f!uw!V>w,/!zn*v*t!!+<!414/7223/315!6+<!!*t*vzn/!w,V>w!!u-fyy/uwvVswf)33Ed)fjwn!b-hffh-b!nwjf)dE33)fwsVvwu/yyf!u.!!>2,/!1n!v+t!!w<b2m4v6f2-/!1w!V+w!/*z*"],uV.blurV=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jngvpts!n>!!tsbpnmqpmDfhsb3sEG!`jmnhb!h<f2<6!1w/b1s!z+j!o*h*!fwvfmdb3w!!w+V!w1</!5v!o,j!gzp/swnV!wg!m-pyb/uw!Vwwb)m3vdff<w!!w-pfjheb!nnjb)jEo3)f*s!v|u!ywffud!5>!,t!vnnv!t>!!<w9f2d:51)/11/!1+*!<*!*tfvvnm!b,w>!!+u!f1y/u4v!s,f!3zE/)wjVnwb!h-fy-/!wwVfwd)33)dwfVww!/-yf-h!bwnVjw)/Ez3!f.s!v5u/y1f!u+!!>w,b!mnvvft*!*<!6+5!313/21/612!<+!!t*v*nf!v,m>b!wu!f+y!u1v/s3f!3,E!)zj/nwbVhwf!--!yw/fwdV3w))w3Vdwf/wy!--!fwhVbwn/jz)!E.3!f4s/v1u!y+f!uw!b>m,v!fn*v*t!!+<!214/612:/219!<+!!t*v*nf!v,m>b!wu!f+y!u1v/s2f!3,E!)zj/nwbVhwf!--!yw/fwdV3w))w3Vdwf/wy!--!fwhVbwn/jz)!E.3!f3s/v1u!y+f!uw!b>m,v!fn*v*t!!+<!414/7223/315!6+<!!*t*vzn/!w,V>w!!u-fyy/uwvVswf)33Ed)fjwn!b-hffh-b!nwjf)dE33)fwsVvwu/yyf-u!!w>V,w!/nzv!t.!!<22/416!2+/!1w!b+m!v*f*"],uV.blurDownSample=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j1g/p5s!n0!!t*b*n*q1m/f2s!3-E1!/j1n)b3hdff<w!!w+b!sfz{jjoThm!fwyffdu3!!,w!VwwV<w!!v-ofjhgbpnsjn)!Ew3ffds3v!uuyffyuf!m,T!j*{*f1</!2w.p!j-e1!/n1b)j3od)f*w!!|+!!hfm{`jGTsmbfhyDfpum!p,s!!w>V!w)!u-ffyhubvnsjf)3EE3)fjsnvbuhyff-u!!w,V!w*!*,1!/u1f!y-f1m/T2j.{)f3!d+f!ww!f+d!3f){2j/T1m-f!y1f/u1!*,*!!w,V!wu!f-yfuhvbsnfj3)E"],uV.flow=["~v!o<j*g1p/s2n!!-c1p/p1m!!-v1t/f3Y![+<!!wbVuwu)s5jdcfvwu!f>!!wofpdj4u!jqtpptQj`umjhp!o<<*!zw/bospzjjuojht!pwqf!d-3y!/woVpwj<u!jwtppjqe)!3ndbfjwo!)>*!!w|V!wj!gf!t)mvft!f<Y*[{*/!owpVjwu!j>t!pwqf!d-3y)/qopptjju","~d!p<oztuuj!tgomfpubouj!!q+j!3b!/>s!p7m/p3d9!4+2!9s6p4m<p!dv!o>j!gsppsmnp!DthbbnsqGm`fmsh3!E<!ejonfbmhcf!<+!!v*o*jzgyp/s*n*!1n/b2u!4-!wvvw)N4bdufswj!y+<!!yvjosjugbpNswnv!)j)o3ud!ftwi!b-qffh<b!nvjo)jEg3pfssnv!uwyffdu5!!>c!msfpomep<d!!v5odjfgwp!s~n!!<g*mfpmbhuo!bj!o-u!f*o3tjjqu!z+<!!fwmbhsozBjeophn!)wtfpdd3!!+w!V1w/<3!!w+p!j*ew!Vnwb)jiou)h*o!f|m!)w3fddf3w!!v>w!<w!vg!m<p6b/u1!!b+o!hqmffu!t>!!.b!u*bqof)uwtV!w-/fzm-h!owbV)we/pyn*!!>0!!fqmjh3o!B,e!p1n/!6u<b!pjmgg!!)<t*i2b!q,f!!f>q>b!i1t*)!u|b!pvmwg!!>0!!w1V/w2!!,>!!1q/f6u<t!!~u!bfpmmtgf!!|j!gf!t)mtfi!b~q!f<!*>f>m!h2o*b!!|-!1v/w3!!>+!!w*fwdV3w))mifuoh"],uV.fxaa=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jbg/p*swnV!wt!b-nfqhmbfnsj3)EE!3jfnsbvhufy<f!uv!o>j!gbp/ssnp!mwpfDdh3b!ssGf`tmphm!v<u*j!p*o1</!1w)b5sdzfjwo!h-!1w/f1d!3-!1w/V1w!<-!1\v/$1e!f-g4j4o9f1!/G1Y!B-B7`7R2V/B1M!J-U6Z8`/Q11!!-2*/11/\v1!)\v5$deffwg!j-o*f1!/G1Y)B5Bd`fRwV!B-M*J1U/Z1`)Q52d!f2w/!6-\vo!p\vj$uevfmgpjtoffs!!G-YfBhBb`nRjV!B-MfJhUbZn`jQ!3-!f3h/b1n\vj!!\v-$*e1f/g1j)o5fd!fGwY!B-Bw`VRwV!B)MsJfUeZb`iQT4m!f5y/j1Q\vb!b\vy$Ge!f>g!jsopfm!pGDYhBbBs`GR`VmBhM!J|U!Z*`)Qo5j!b2n3!/e1j\vp!w\v!$~e!f<g*jNobfn!vGmy!b-b{Czpyp/m*!Nctpppqm!\v-!y\vf$ue)fqgpjUoyff!UGbybbybGG)m5pubbup!mgGmbpbbyuG\v!!o\vs$veuffgsj!o<fo!hGjyTbibuGhmopfbmu!3+!!wyfjdq3c\vv!T\vu$fetfgggjPomff!yGjyqb!b>G,m!pzb/uN4t!pwqf!d*4o\vb!q\vT${esfpgij)ogfj!!G<yobhbjGTmipubhuo5f!mw!f+d!5y\vj!q\vc$veTfugfjtogfg!PGmyfbybjTqb!u>),y!*y!/dNmtbpnqq!)*yo-b!q1T/{1s-p!i2a/)1g*j\v!!<\v*$Ieyfjgqjcovft!!G-yebpbpUHfuyf!ttgbgnPqmmffysj3qE)\vy!b\vn$!e>f!gyjjoqfc!vGTyubfbtUgfgyPUmpfqy)juq-!!uqb*p!muGfbybuyvGs!f<31E/)1u!-;!!qu-f!t1g/g1P*m\vf!y\vj$qe!f@g!joobfq!TGeypbpbhU!f>y!Pegpgp)Huu-f!tqg-g!Ppm-f!ysj*q!!uufbypumvGsbfb3yEG)!u<-y!jqq!c,v!T)zpu!j+m!bsv*R-b!b1y/g1!*+\v!!HGyyjbqbcGvmtp!b>u!!IGyyjbqbcMvvtn!bu)bGpymbGbbGbmypGb!u<56!/s1h!c,b!**!*|q!dsSfiuuvhsoof!Msohbcqbt/.z)<!!+~!!uGtyeb)b!G>m!pubfut5g!gGPymbfbyQjjqy!fumbTpimbGebfbsy)G!!G<yGbybjGqmcpvbtu!3+!!qGpytj-q!cGvytb!b>G!mHpybjuq5c!vgty!bubbDppmoGtbpbmyfGQ!p<tQQopbtq-T!eGpypbhb!U;f!yO!oubfqyT-e!pGpyhb!b@U!fOyo!pgjyubdbfDspjoet!p>m!fo4b7q1TUefpypFhy!qmCpjpbCtbObfyhGP!o<f*-Q!uGtyeb!b-UOfuyt!eg)yobjbnD!p>o!tuptmef!4u7b1pUmfGybFbyyqGC!j<bQtuOtfeh!U=x!pO-u!tGey!b>b!GOmoppbjuu3d!fgsyjbeb!RmvpbpmCjbubzySGd!q<Gisubhnoff-M!oGbyqbtb0G1m/p2b!u>5!!qgdySbibuDhpooftMpombfqStd!quGbspbmnGfbPbqyuG-!!<Gpysbfb[GUmMpNbbun5v!mg!y>bab!D*p1o/t1p!m=f!SQdeqoGFsbbnnvfmP)q!u>3!-Q!oGbyqbTbeGpmpphb!um5p!pgCybbbbyDGp!o<t*pOmuft4e7!1,S!dQquGtseb)n!f>P!qiuu3h-o!fGMyobbbqGtm!pubbup!mgGybbbbyRGv!b<mpjsufz[TUvMcNqbjnyv-m!!G>yab!b*G1m/p1b!u=!!gOyebobFRbvnbvmmj)u!z>F!eOhofbUqiTsefptpihp!mmep-p!CGbybbybGG!m<pzb/uN!tgpyqb!b.R!vzb/mQjtupzqF!e>h!fQUuitsef!t*iopbmqeTN{jsop-i!aG)ygbjb!G<mzp/bOut!pgqy!b.b!Dzp/oNttppmqf!F>e!hOfuTtieb!s*qoobfqtTt{-s!pGiyab)bgGjm!p<byu/!Ngtypbqb!D.p!oyt/pQmtfpFqe!h>f!UQiustfet!iupbmpem-G!bGbyybGb!G<myp/bOut!pgqy!b.b!Dyp/oNttppmqf!F>e!hOfuUties!futbippmmGebNbjyoG-!!~G!y~b!b~G!m<p5bQu`5Z!UgJyMbBbVDRp`oBtBpYmGf!4+7!1zD/pQoOtgugEpj!s>!,*!!z|/!QGtypbqb!G*mQpfboup3e!aq)pgtjN!<<!5qQp`tZNU/JyM!B>V!Rq`pBtB/YyG<!!+q!pyt/NQ/Ozg!g>p!!q>p,t!/yz/<Q!tGpyqb!b*GQmfpobpue5a!)sghjc!z<N*!Q>f!oGpyebab)U!f}y}U!p*qO)fuofpye-a!)q!p>t!NQ*O<f!o\vp$ee!f<g5jQo`fZ!UmJvMnBbVNR!`sBhBcYzGN!/+z!\vz!/GQyObgbgGpm!p>b.u!!zm/vOntbpTq!!>*!OGfyobpbeMav)ngbj)!G<y5bQb`UZfUyJPMgBgV)Ru`fByB-Y!Gq!p+t!Ny-/!QGOygbgbpG!m>p.b!uy3/)O1t/p1q-!!*2O/f1o*p-e!ag)ygbjb!R<vebfmmjbudzTSudoqfGjsebbnsfh/!y>z?*!**<Q!eGoyFbbbnGvmmp)btuc!bm!v>n!bQFf!o>p!eG!y<bebfMmvbndbT)uGoyfbjbeUbfsyhP!g>g?)!u*fOye-o!FqbpntvNm-)!tGcybb!b>G!mOpfboup3e)!2</61/-1!!1+/!1O*O-b!ngvymb!b.R!vQbemojFubznSvdmq!G>s!bQnefo/Fybzn*v*m<!!*GQyfbobpGemap)bguj!!m<v6n/b1O!!+>!!OGOybbnbvMmv!n.b!)OGeyobFbbUnfvymP!g>g!)OuefoyF-b!nqvpmt!N*-O!fGoypbebaG)mgpjb!u<3*)*1z/y1/-Q.t2p/q1!*--y!fguy)bqbpRUvybfmUjbubzySGd)qbGnsvbMnbfb/yyGz!*>*!<Q!eGoyFbbbnGvmmp!b*uQ!fmovpnebaX)!g>j!!G<y*b*bzMyv/nObt)pGqy!b-byUffuy)PqgpgU)yuffUyb-b!yqGp)tbNn-v!MGbybbybGG!m>p!bOue3o)F.b2n/v1m-!!*1O/f1o*p-e!ag)ygbjb!R|v!b*mQjOufzoSpdeq)Ggsjb!n<f4/Qy`zZ*U*J<M!BGVyRb`bBGBmYpGb!u+!!nzb/yQTONg!g>p!!n>b,y!)zm/vQntbpTq-!!*mQvfnobpNe*a<)!gGjy!b<b4GQm`pZbUuJ!MnBjVoRT`NB!B>Y!Gn!j+o!)ym/vQnObgTg-p!!m>v,n!byN/*Q<t!pGqy!b*bQGfmoppbeua!)ngbjy!F<T*NQ!f>o!pnebay))!m}v}n!b*FO-f!onpbeyaT)N!*><!!QGOyfbobpGem!p<b4uQ!`nZjUoJFMTBNV!R>`!BnBjYoG)!m+v!nzb/FQ-O!gngjpo!T>N.*!<z!/GOytbpbqG!m*pObfuo!pnebay)XgOj!!><!4nQb`yZ)UmJvMnBbVOR-`!BmBvYnGb!X+*!<y!/GQyObgbgGpm!p>b.u!!yn/jOotXpOq!!>*!Onfjoop)emav)ngbjO!-<!emfvmnbbdXT*u<o!fGjyebbbsGhm!p>b?u!!*sQbeoohFfbNnbvym!)>t!cnbb!y>)!nQbfyoXpOe-!!<nebfymFbTdNT*u<o!fGjyebbbsGhm!p>b?u!!*sObeoohFfbNnjvom!)>t!cnbj!o>)!nOjfooXpOe-!!<n6j/o1F!T+N!*O<O!bGnyvbmb!G.m!pQbeuo!Fsbbnovhmf!N>b!yQTedobFmbfnev!m>!!*sQbfoohpfeNab)yg!j+!!<g6y/b1b!R+v!bOmOjbunzvFme!h.f!UOiesofFtbinpvmme!<>!!GOyebobFGbmnpvbmu!!*sObfoohpfe!a>)!gsjb!o<h*f*Nzbyy/!Q.t!psqb!o-hyffNuj)oq<p!UGyyfbUbbGbmypGb)ub!nsvbMobhbfyNGb!y>D!mQbenoqFfben!v>m!!n*bQyf)ogpyebab)Rgvjb!m<j*u*zzFye/hOftUpiqs!f-tyifpum)eqNpjUoy-f!UsbbboyhGf)NbbnyvTMdbbbmyfGe!*><!!OGeyobFbbCnpvpmm!!*fObfsompzeFay)jguj!!>|!!s*bQoOhffo!p=e!)sgbjo!h<f3NQb`yZDUmJbMnBqVfRe`<B!BjYgG)!f+b!szm/zQFOygjgup*!!>s,f!uzv/sQot!psqh!c*zQNf<o!pGeyab)bgGjm!p<b3uQ!`mZvUnJbMOBXV!R>`!BGByYbGb!M+v!nyb/)QGOygbgbpU!f>y,P!gyg/)Qutfpyq-!!*qQpftoNp-e!aG)ygbjb!G<m*pQbfuo3p)e.a2)/!1}-}.!2*/O1f*o-p!egay)b!b>R!vQbOmfjoupzeS!d<q3GQs`bZnUfJ/MyBzV*R*`<B!BGYyGb!b+G!mzp/bQuO!gmgvpn!b>T.F!!z>/!OGtypbqb!M*vOnfbo)pGeyab)bgUjf!y<P3gQg`)ZuUfJyM-B!VqRp`tBNB-Y!GG!y+b!byG/mQpObgug3p)!2>/.1!-y!/2O/t1p*q-!!*gOyfbobpRevab)mgjju!z<SedfqmGbsdbTnufo/fyjze*b*s<h!!G>y?b!b*GQmepobFub!nmvvmn)btOcFb!!>>!!GQyfbobpMev!n<be)fGmybbdbTUufoyfPjgegb)suhf!y>-?!!q*pOteNo-F!bGnyvbmb)Gtmcpbb!u>3!)O2f/o1p-e.!2</61/*1-!!+g!yObObbRnvvbmm!j.u!zQSedoqFGbsnbvnmf!/>y!zQ*e*o<F!bGnyvbmb!G*mQpfboup!emav)ngbjT!X<!6>/!1G!y+b!bOMOvbnnbv)mG!y.b!bOUefoyFPbgngv)mu!f>y!-O!eqopFtbNn-v!mG!y*bObfGomppebau)3g)j.!2</*1*-z!y2//Q1t*p-q!!g-yybfbuR)vqbpmUjyufzUSbdbqyGGs)bbnnfv/Mybzb*y*G<!!>G!yQbeboGFmbpnbvum!!m*vQnfboOpTe!a>)!gmjv!n<b*O*!z,y!/mOvtnpbqT!<-!yGfyub)bqGpmUpybfuU!bmbvynGb)XbFn!v>M!bmbvynGb!X>!!,O!emovFnbbnFv<m!!G*yObfboGpmepab)ug!jt!v|c!q*jQyOSfdoqpSeb)oghjf!!<>2!Q2`/Z1U0JsMbBoVhRf`<B!BGYyGb!b+G!mzp/bQuO!gtgvpc!q>j,y!OzT/XQFt!p>q!!m*vQnfboOpTe!a,)!gmjv!n<b2XQF`<Z!UGJyMbBbVGRm`pBbBuY!Gf!e+h!fyI/pQsO{g2g!p>!!>),.!3y//1Q!t+p!qm!v*nQbfNo*p!e,a!)mgvjn!b<O*TQ<f!oGpyebab)G!m}p}b!u*!OffeohpfeWaf)s!u>2!!Q>O!f)o.p3e/!1m!p+p!CmbvbnybGN!*<!2,Q!`mZvUnJbMXBFV<R!`GByBbYbGG!m+p!bzu/!QmOvgngbpO!F>T.F!!z>/!Omtvpnqb!O*FO!f,o!pmevan)bgTjF!<<!2GQy`bZbUGJmMpBbVuR!`mBvBnYbGO!X+O!Fy!/>Q!Omgvgnpb!O>X.!!,y!/mOvtnpbqO!F*<O!fGoypbebaG)mgpjb!u<!effemhbfdITpuso{f3j!e>b!s)h.!3>/?1!!*+Q!emovFnbbnFv*m!),t!cmbv!n>b!OQFfToFp<e!!GmypbpbCGbmbpybGu!!<feefhmfbWdfTsuuo3f!j>e!b)s.h3!/>1?!!+*!OmevonFbbOn*v!m,)!tmcvbn!b>O!XOOfFo<p!eG!ymbpbpGCmbpbbyuG!!m<v6n/b1O!X+T!XO!O>b!nmvvmn!b>O.X!!Q,e!omFvbnnbvTmX!<<!6G/y1b!b+G!mOpObbun!vmmv!n>b.T!XOTeFo!F>b!nmvvmn!b<T1X/!1,!!=m!vNnNbbTnFv<m!!G>y!bpbsGfm[pUbMuN!bfnevhmf!Imppsp{C5b!b>y!G)!b<cFty)jfqechvftI!p+s!{E2y*j!q+c!v3t/!1>*!!G,y!jbqcctv)tf!euhbfpImpGsb{b3y*G<!!<G6y/b1b!G+m!pObOub!nfvemh!f.W!fNsbun5v!m>!!>)!bNcNtb)nfvemh!fuWbfpsmuG2b*b!y+G!!3</11/*5!0,1!/b2c!t+)!fueohffjWefbssuh3!*><!!eGfymbbbdGTmupobfuj!efbeshhf!Iupbsp{m4G!b>b!y)G.!3</T1T!b+n!vmmv!n>b!XO*O!b,n!vmmv!n*bOOsXjTbXq<a!)Ggyjb!b<G*m*pQbtup!qf!e-hyffWuf)squp4U!y>f!U)b.b3y/G1)!b+n!vmMvbnbbyTG*!!>,!!QmevonFbbTnXvTmF!<u!bGpymbGbbGbmypGb!u<!DfyejhqfcIvpts!{+!!>D!ybjcqtc)vfte!h>f!IFpysj{q4c*v!t,!!ufbephmfGIbpbsy{G5!<<!*G*yObtbpGqm!p-byuf!uf)eqhpfUWyffsUub!b>y!Gb)cbtn)vfMebhbfyWGf!s>u!4O*e!o,F!bfnevhmf!Wufbspum5G<b!bGyyGb!b<G1m/p4b!u,!!t*vDcyqjjqycOvXtT+X*O1F/T3F.!)>)!!m>v!nEbyOjXqTcXv!t,!!umbvpnmbGObFbTyFG<!!<G1yQb`bZGUmJpMbBuV!Rm`fBoBhYuGi!T+j!hzo/!Q>O!gggypb!b,R!vzb/mCjtupzqS!d>q!Gzs/bQntfp/qy!<<!1GQy`bZbUCJpMpBmV!Ri`pBsB{YTGq!b+o!!y>/!QfOeghgfpI!p,s!{y!/?C>t!pfqe!h>f!Wyf/sQut<p!qG!y<bQbtGpmqp!b3uu!btpvmcGqbjbyyBG!!><!1tQv`cZqUjJyMOBTVXRF`!B+B!Y3G/!1+!!,z!/tQvOcgqgjpy!O.X!TzX/OCFtTpFq<!!>j!gz)/aOitppsq{!T<q1bQo`*Z!UmJvMnBbVOR!`>B!BmYvGn!b+X!<y!/jQgO)gagipp!s.{!Tyq/bCot*p!qm!v>n!byT/!O>t!pmqv!n<bOFt<p!qj!g3)uibppsm{GTbqbbyoG*!!<m6f/o1h!u+i!TojhhjoT!i>u!hgoyfbmb!R>v,b!mzj/uCztSpdqq!G*sobbnqfT/{zs<p!iG)ygbjb!G<m6p/b1u!!+t!vochqjjTyiCu!h>o!f)mt!v>c,q!jyy/BC!t+p!q)!2*/o1b0q2T3{/s1p*i*a!).g!jm!v<nzb/Nf<n!bGsyGbqbdGSmzpubjum!bhvsRbbebjyfgo!u;O!!1>/!1m!v@n!b*Oo!b.q!Tm{vsnpbiN)<!!>G!yzb/bQGOmgpgbpu!!<hys/bfenjbfsoGuqTd!S>z!umjvmnbbvTR!b.b!ymgv!n;b!N1</!1G!y@b!b*GombpqbTu{!smpvinab)O!O>!!>y!/mQvOngbgOp!!,<!QmOvgngbpN!<3!uGbypbmbGGbmbpybGu!!<mzv/nNbtTpTq!!>>!!mzv/nCbtTp!q,!!<myv/nNbtNp<q!!G>y!byb/CCptppmq!!q<bCjtspOq!!>3!ubbcptm)GhbsbbyeGj!f<o*ufOh*o!b?S>q!dbScytj)qhcsvbte!j+f!o*uCTy*j<q!cGvytb)btGcmbp)buub!ThbsbbyeGj!f>o!uD!y>j!qncbvyt)!bucbtp)mhGsbbbeyjGf!o<uoOh*j-T!ibuchto)fhms.b!e>j!foohujTT*i*u<h!ojfgm)!q*bOjs"],uV.lut=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*g*pzsunj!tgomfpubouj!!m-v*ubT/jm{bfw<!!-v*oxjwgvp!s-nf!{tjbTnuqvmmf!s-3uEv!mm)vquv<l!pwpfMdu4v!mm)v5udMfpwp!l-vmqb)wt)bynjqnm)f5sd3fEw!!u>f!ys-p!mgpmDphbbus!Gt`jm{hf!-<!*wifude4j!Xsmhfcy*j!q|!!.g!m1p/b2u)!!t+m!jcdhfsI/fmjbhwi!u,!!>*!i2u/e1j!X0m!ftyjj{Qfg<m!bgim)p4bduf!wz!Q>j!yxfwmvI!f4jdhfiwu!!<>f!{2j/T1u!v0m!!)0t!j6{/f1!!+>!!tiju{efj*X<m!fgymjpQbgum!btim!judbfp!m>g!!s<hfc{/jcT!u+v!mt!j0{!f1</!2g!m>p!biuu!ejjoXumffsyqj!q>!!ugbspbmdgu!)<t*mwjVdwf!*-<f!tgvmgpgbjuE!ut)mEj3dffs1v!u>y!ftum!j>d!fm!b.w!!j5oduffws!q|<!!*g)mopjbbun!!defjopuwf!s<ffetJvogugfjsEqu!!>E!3jsofumfqsnqb!t.!!n1s/p6g<j!ogvm!p<bzuu!jttmojfdufo2j!!>u!btpmmjgd!fn1s!p,g!jtojvh!o<)wdVfwo!u3fdsffwe!Jhooujfzssqb*w<!!~g!m<p*b*uq!shfsufofJoePfgsgftufouf!d>)!tdcmbb!n-q2)fsmhqcn/bht!!+-!1tfmmjqdnfbItf)jyhjinu!-o!szvQujfysf!m<Icfhjsh/i*u2!w+v!!1-/y6f-u!)tEm3jfdsfvIufyjfhui!u>!!.2!fzmQqjnybftm!I4fdjfhwi!u<!c+h!s1//*61*w<v!!w-fydf3u!)vEw31f!s>v!uwyffdu3!)>!!s1hfcm/qsn-b!tt!m4jddffw1!!<+*!!tumfjtdgfgIPfojfhfisuh!!,,!!husifhfjofPIgfgdtjfmut!!*+<!!2wffddj3m!tv!w-2s!/>c!hwsf!d)3"],uV.points=["~v!o<jfg{pjsTnu!onjbpuQ5`!mnhp!e>f!mfN{bjuTsujoyj<p!Qvwo!j<g*p{s/no!pnjbuuj5t!pnQpwenf!m.W!j0f!xfNmbbudstj)y!<>!+v!ofj{gjpTsuno!jnpbQu`5m!hq!s*pfkwfjduudjfpqotNsbfuQstjjy)<!!gvjo!j<g*p1s/n2!!n.b!u>5>!!w^j!f4x!N]b^u!s3j!y]<y!jvsoujbgNpospnj!ugdmfpkbpus!qt)d!b>m!ff<w!jvuodjfgqptssnf!Qwtfjd!3m!pvpVcw!P\vgggjtefouf<$!\vv!o<j*g*p1s/n2!!c-pepfmn!svptgftVowbBssus)b5zd<f!wb!u+u!syjjcsvuubfN!mwffedp4n!)q4pdtfjwu!j>p!oo<p!jvuojjtgppQsenm!scppXpwm!!\vv1t!f?D!pSmFpQsQ<J!MbDu`uYsPjCc`vYuBfN!!wgfjd$5\v!!d~p!m<posp<j!uwvbmspztjfosh!!+w!ffd{5j!tw!D>p!mfp{sj<T!uboujupsQj`cmvhu!f|!!wfftdm3f!!b~V!w<Pogpgjtufvum<p!twfbss!z+j!ozhb!swsfBdf3{!jwtP!g>g!tff{uj<T!uvoojjpgQp`smnh!!c|p!p*mz!bqsjsdBlfj{ojhT<f!t\vv$)j!ggejf!g<!oIpJjHuIjMtJpHQIwUn\v!!+v!oyjjgspusbnN!owpfjdu5d!fqkjpdslqD!p>m!posp<j!u\vj$tfpmQt`fm\vh!!b<uoupsjjucjvtupfQ!wwnf!d+5!!yqjjsdulbDNpxmfpjsW<m!f\ve$pfno!e>j!go\vp!jvuojjtgppQswnn!!g<m*p1b/u2!!t-je{ffn<s!pvgotjogbpssun)!5gdmfpwb!u>!!sofptjpumjvtupjQpwon<!!5vdofjwg!p<s*no!pcjpupjmt!pvqt)f4Tdjf{wf!B>s!sebfzn<s!pbgutuosbjscuv!u4fd!fgwm!p~b!u<!*tujf{tfgBgsPswbVzb<)!3wdbfswz!j>o,h!!ugfmtpgbguP!ww!Q|p!j*ozubTsjs{Bfw<V!f\vt$vj)g!!gNjB!Y<`*CuPfYt`gDgMPJwQVQvF)S3!d?f!w1!\v>!!wubfstzgjgoPhw!!w~f!d<4s!pwmXppds!m>e!QspptmjpuDjwp!o|<!!*\vs$pfmopeDjfgt\vv!)w!pgjje!!fntbmjfo!)~*!!<|s!pjmgp!D)lqdjjdql!j>o!hs*p!m|p!Dw","~$!e~f!g<jsopfm!pVDTfFt`vNgBgQj\ve!!v>o!jsgppmspnD!hwbfsdG5`!mehj!g|g!vfttfm<f!!v~o!j<gsppsmnp!Dgwm!p>b!us!ppmqpbDdhjbuszG<`!mvho!j<gepssbnd!tgjmep!b*u1!/b1m!q>i>b!Ubf/tsup<m!pvDofjtgvpgsgnj!ec)p!pgmj!!v|t!f*Dhpomjplsd<j!qw)b!sgzjj!o<he!swbfddt5j!ew!D*pumtpfsU<b!ivqomjbg!p=s!nb!/cspppmmp!Dqfjtdvlgjgojhe<)!!vgojj!g\vpgsjne!ocfp$p\vm!!~e!j<t*dwbvs!e-Tqfbmnf)dEu3bfcsmvfu<y!f\vu$!j>o+d!msvpemfp!D=fctmvpgpgnjTef!m<fudfutjgwgfP/wg!t>/,i!fwbve!?<\vf!mvbodjTgwpvs!n+!!wefsdp3p!DvuwoTjdpbQm`fm<h!!w>b!swzvj!o3hd!fwwf!d|3!!*wfPmgcgbtufduf<m!f\vT$ejsgb!detfjgejao!f}e})!VhToFj`lNdBjQq*a\v)!!vgojj!g\vp*sQnB!Nt`bFnTqVm)fesf3oEj!gnfbeq!<g!j\v$$\vf!o~e!j<g*\vz!uwjbdsbzqjpo!h+!!gbm/pfbtuv!gwgQjpej!o-u{Tzjy{/ff<t!v\vg$gjjge!)N5BdYf`wC!P>Y!`sDpMmJpQDQfFtSv!g?g!j1e\v!!|w!bfstzmjfo!h~!!w<f*dz4u!jwdXbpqspm!e+Q!pbt/jsupjmppoD<w!!\v-${fzoye/jsgp\vm!p\vD$wj)o5ddmfvwe!f>!!=sdpmmjpqDcfptyv/gggtj/ei!f|b!e*?s\vp!mwppDjfet!vn!b%j%o!)h*o!j|l!d\vj$qjao)d!mgvje!f<!s=pdmmpjDqfctpvyg/ggjte/!c5pdefzw?!\v~!!\v<$ejsobddmtvjeef!!|=!c*m/p1p!n>T>f!mff{djuTjuwofj/pgQtw/)c!pgejz!?\v"],uV.bokeh=["?$TjWoodfmfvsedfT!u=jcm","~w!b\vsgzjjeoohf!$w\vf!d<31!/w2V!w><!!bv/osjpgmppsDnh!btsbGn`qmmhf!s\v3BEI!QuMDBp`mFpEsJ<S!SvFoWjPg!pgsfne!gtjb$n\vq!m<f1s/32E5!!u0E!fmqpudi!<>!!vsopjmgppDshnb!sgGm`pmbhu!!<n*b5yscvmmvcsg<p!ev!o+j!g*pusdnf!sgsmppdbuud!fbqttqbf!d+u!<*!5v/o1j!g-p1s/n1!)g3mdpfbwu)!!b,q!fzsyu/vwsVfw<!!-vsopjmgppDsun)!Ec3pfpsmv!uvytffuH!3>e,<!!mvpodj!g<p*s5ns!vgmmcpgbpue!!u+i!s*futdifpsmsep<d!uvdofjqgtpbs!n+!!g*m:p3b/u1!.o!f-b:s3</!1v.o)j3gdpfswn)!!g,m!pzbyu/!wgVbws!<-!svpomjpgDpus)nE!3gfmspvbuuy!fgup!d>v,t!<m!pvdo!j<g*p5ssnv!mgcmgppbeu!!+s!b*ouhdff<s!svpodjugdpfsqnt!bg!m+p!b*u1!/e1f!o-t5j/u1z.<)!3\vd$fjwo)d!m,v!ezfy!/=wqVbwd!l-jsophm?p\vD!uw)pEj3ef!snvbujyof)u*!!>|,!!wmfpdd3!!<e*p5gscvmmvcsg<p!ew!f+d!3*!ubdtfqsfsdpuddupdsfsqftdbu!!+>!!*w:f3d/31)!2-/:13-/!1b.t)q3fddfuw*)<!!,\v!$zjyg/!weVfwg!j-osfpem)pVDTuF)`EE3FfQsUvIu*y\vf!u\v!$>j,g!!mepfdg!j<o*f5es)vVmTcFg`pPeS!U+I!P*`uDdBfNsFsSpBd*u\vd!f\vq$tjbg!!+e!f*g5j/o1f.e!)-V1T/F1`)G3MdPfBwU)`!U,F!YzUyV/SwFV*w\v!!-gsmppmbpuD!uw)jEf3xf[s!v>u!ypfsuu!i>p,h!smbpqdi!j<d*E5fsqvumicUgppWej!f+x![*)uudffysusvpsdfu3dEf)qutEbf!q+u!i*-:!3w/V1w.*!/-s:-3!/o1f)b3sd-f!wg)b!s,*!<z!y\v/$wfVmwt!f-\vs!pgmmppDbuu)!Ew3jffsxv[u!y>f!up!s>u,i!pmhpsdb!q<i*j5dsEvfmqcugipUep!W+j!f*xu[d)fvsosqpbdduldSfHqCtBbU!p+E!f*q1u/i1)!u-f5y/u1v)s3fd3fEw))u!E,f!qzuyi/-w!VwwV!w-*s*p-m!poDfub)sE-3!fgsbvsu*y<f!u\v!$>f,o!emjpgd\v!!<\v*$5fsmvtmfc\vg!p\ve$!j+g!!*eufdgfjsosfped)uVdTfFq`tGbM!P+B!U*`:U3F/Y1U!V-S:F3*/\v1!)g3mdpfbwu)!!w,j!fzxy[/!w>V!wq!f-sstpqmfpdDuuj)wEf3EffsqvuuiyUfpuW!j>f,x![m)pudf!y<u*v8ssfv3mEc)gupEef!q+u!i*-u!dwfVsws*p/dsu-d!foqftbbs!-+!!g*b5s/*1<!!-\v1$/f1m)t3fd\vf!wg)m!p,b!uz!yw/jwfVxw[!!->s!pqmfpsDtuq)fEd3ufjswvfuEyffquu!i>U,p!Wmjpfdx![<)*v8osqvbmdclgSpHeC!B+U!p*Eufdqfusis)pudfuydufvqstfb3!E+)!u*E:f3q/u1i.-!!-w:V3w/*1*.-)!3odffbws)-!!,g!bzsy*/<w!V\vw$!f-osepjmgp\vD!u\v)$Ef3ofesjvgu\vy!fgum!p>b,u!!mgpbdd!u<p*s8!s>v!m)cggppdev!t+!!,*!uwdjffsxs[p*d<u!djfgq!t)bg!b+d!u*p1s/!1=!!-15//11*.!)g3bddfuwp)s!!,>!!znyj/ow)Vgwb!d-usppsm!p,D!us)bEo3hffs-v!u1y/f1u*!<>!,f!mmtpfd!!g<b*d8uspvsm!c>g!pneb!y+)!g*buddufpsss!p.d!usdbfoqhtfb-!!+1!/*1:*3</!1g!b-d:u3p/s1!.>)!32d/f1w!).!!,f!yzqy)/.weVfwo!t-jsupzm!p+D!ue)fEo3tfjsuvzu!y+f!ug!b>d,u!pmsp!d+!!<g*b8dsuvpmsc*g<p!ee!p+g!c*muvdsf!s>s!pwdfudd3f!q)tdbm!b+n!q*)5g/b1d.u!p-s1-/!1.)n3bdyfcwm)v!s,-!!znyb/ywcVmwv!s-*s*p<m!p\vD$uf)mEt3ff\vs!vwufydf5u!!u>f,y!fmmp!d>!!<u*f8ysuvvmscfg3pEe)!u+E!f*quudif-s!swpfddu3d)fwqVtwb/!y+-!!*2:/31/!1..!!w-V:w3//z1*)*3<d!fgwm)p!b,u!!zbym/qwiVbw<!!-jsgp!m)pvDtuf)HE33ef*s!v|u!ybfmuq!i>b,!!>m!ptdn!p<p*u8istvumfcqg)puei!s+f!t*iupdmfes-s!pudiusdfftqitpbm!e+!!,*!11//11!2--1!5u/f1y)f3md/fbw*)<!!,~!!zfym/twfV!w|!!-bsmpqmipbD!u>)!Eu3ffysfvmu/ybf<u!!~>!,e!pmgpcdm!v<s*!8>s!vwmfcdg3p!e)!d+m!b*nuqd)fbsmsqpidbu!d+f!qbtqbf!s+u!v*s:f3-/!1.!n-b:y3c/m1v)s3-d!fnwb)y!c,m!vzsy*/*w<V!w\v!$-fsopemjpgD\vu!)wEf3df3s!veupygfcum!v>s,:!!m>p!de!p<g*c:msvvsm!c+g!p1e/!:+<!!*wufddf3s!seppdgucdmfvqst8b!!>+!!e*p8g4c/m1v.s!!-+6!21//18)<3!dwffwd)3!!,e!pzgyc/mwvVsw5!!->s!pemppgDcum)vEs3!f+s!v1u/y5f<u!!w>f,d!5m!pddp!m<!*>:!swvfmdc5g)p1e/!1+*!<*!uddpfms!s,p>d!uudffyqutvbs!f+3!E*)6u2D/p1m.p!s--8!4w/V1w./)y3zd*f<w!)d!p,m!!z,y>/!wuVfwy!u-vsspfm3pED)uu)DEp3mfpssv-u!ywfVuw!/>y,z!!m,p!d)!w<f*d:3s)v1m/c1g-p!e1!/+5!**!u+d!fbstsqpfdduuddfpqstsbf!d+u!**!6+2!/e1p!g-c8m4v/s1*)<3!ddfpwm)!!,,>!!zuyf/ywuVvws!f-3sEp)mupDDpum)pEs3-f!swvVuwy/fyuz!!>,,!!)mwpfdd!3<)*1:/s2v6m-c!g1p/e4!8+*!!*+u!dbftsqsfpdduuddpfsqstfbd!u+*!!*+8!4e/p1g!c-m6v2s/*1<.!)d3pdmf!w,)>!!,u!fzyyu/vwsVfw3!E-)supDmppmDpus)-E!3wfVswv/uyyzf!u,!!>),w!fmdp3d)!1</*3::s-v!m1c/g3p:e*!!++!!*butdqffsdsupddpusdsffqdtub*!!++!!*e8p4g/c1m.v!s-*6<2!/d1p.m)!3,d>f!wu)f!y,u!vzsyf/3wEV)wu!D-psmppmsp-D!uw)VEw3/fyszv!u,y!f)uw!f>d,3!)m.p1d/!4<8*-:!s1v/m2c6g*p!e+!!+b!t*qufddfusdsppsdsufddfuq*t!b+!!+e!p*g6c2m/v1s.*!<-!8d4p/m1!),3>d!fuwf)y!u,v!szfy3/Ew)VuwD!p-msppsm-p!DwuV)wE/3yfzs!v,u!y)fwuf!d>3,)!1m/p5d1!-<!*1:/s1v*m!c+g!pbet!q+f!d*uuddpfssssfpdduu*d!f+q!tebp!g+c!m*v6s2*/<1!!d-p8m4!/,1>.!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,4!8m-p!d.!1</*2:6s*v!m+c!gbpteq!f+d!u*dupdsfssfsdpud*u!d+f!qetpbg!c+m!v*s8*4</!1d!p-m6!2,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,3!:m-p!d.!1</*3s:v*m!c+g!pbet!q+f!d*uuddpfssssfpdduu*d!f+q!tebp!g+c!m*v8s4*/<1!.d!p-m6!2,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!.>1,/!2m6p-d!!.<1*/s4v8m*c!g+p!eb!t+q!f*duuddfpsssspfdduud*f!q+t!be!p+g!c*m:v3s/*1<.!!d-p:m3!/,1>.!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s--s!pwmVpwD/uy)zE!3,f!s)vwufydf3u)!1>/,1!-m!p.d1!/<5**s!v+m!cbgtpqef!d+u!d*pusdsffsdsup*d!u+d!feqptgbc!m+v!s**6<2!/d1p.m!!-,8>4!/u1f.y)u3vdsffw3)E!),u!Dzpym/pwsV-w!!w-Vswp/mypzD!u,)!E)3wffsdv3u)y.f1u/!2>6,-!!m1p/d4!8<**!s+v!mbctgqpfed!u+d!p*susdffdsus*p!d+u!defpqgtcbm!v+s!**<1!/d1p!m-!5,/>1!.u)f3ydufvws)f!3,E!)zuyD/pwmVpws!--!swpVmwp/Dyuz)!E,3!f)swvfudy3f)u.!1>/,3!:m-p!d1!/<3*:s*v!m+c!gbpteq!f+d!u*dupdsfssfsdpud*u!d+f!qetpbg!c+m!v*s6*2</!1d!p-m8!4,/>1!)u3fdyfuwv)s!f,3!Ez)yu/DwpVmwp!s-"],uV.ssao=["?$TjWoodfmfvsedfT!u=jcm","g0j0e!oifj$o\vu!t~;!!~h!m<t*ms4p\vm!p\vD$hjbosdGm`vmehf)!C=HdSptnpnUpsob?f\vo!j\vM$!j>o!dsmpvmepfD!h=bqsbGd`lmjho!h|?!\v*!ovpojjugdpfssns!piDjbhninqb!ht)b!ngqjm!f~s!3~E!!<t*dbf/omffEyffqUufio<f!dvto!j-g*ppsBnm!bwofjdg3!!.s!f1t/p2m!v-uejfpjom<q!qvBopjbg!p-s*n1!/g2m)p4bduf!wo)fybjsn<!!)v5odjfgwp!s>n!!sgpmmppbDuh!bgsbGs`<m!hv!o|j!gfptsmnf!!n~b!u<5*!1q/s2p)k5fddfuwj!p>o!NsbpumspjDyhJboswG<`!mvho!j|g!p*syn/!onpbjuu5v!mwpjtffxsN!b0u!s1j/y2J!o=w!<*!6v/o1j!g.p!syn/!wcVpwp)mt!cpbs)u!igpj<!!fwtbmsfz!j~o!h<!*wbf/dm3f!ywfVUwf<o!fidjth!i-qc!hgsm/pmbfuy!fmUjfooffbdstj!{)f5`deffwq!u>i!)sipjmhpiDqh!bgsmGp`bmuh!!e|-!!*i6j/h1i!q=!!gym/pwbVuw!){!Ogfjb!s|-!i*j1h/i5q!!>g>m!pfbeup!N{sGfbeso*f!s|)!!sgfju!vfstom!f)!{~G!b~s!!<+*!b{/Omffbysf*U!f0o!f)d{tG!b-s*!p.B!meb!o+j!g)!{.G!b1s/!2.!!-{eOffjbmsq*q*B<p!b~!!-icjhhsi/qm!fgymfpUbfuo!fmdjto)fybjsnj!{)f5`deffwq!u>i!`sppsmupiDph)bisjGh`imqh!!g|m!pfbtum!fe!-~!!i<j*h1i/q2!)g5mdpfbwu!!>o!fsbpsm[p-D!hibjshGi`qm!hg!m|p!b*uy!/gobpsj[u*v!m|p!tsffsu!v0s!o1!/o2f!b=s![*!6,/!1)!g.b!sy[/!w.V!wo)ftbcsb[)*!!g+j!!ef<t!m~f!!i~j!h<i*qb!/gmmfpybfuU!fmojfodftb!s-jc{hfs`/emffqyufiU`fmopfhd)ti!j)h5idqf!wg!m>p!bsup!mep-D!hibjshGi`qm!hg!m|p!b*u6!/o1f!b=s![y-/iwjVhwi)q!!ggjm!p|b!u*!1g/b4s![>*>!!|f!egpmNpsbfue!oeffsq)u!ig!j>!!fqtpmxf)!3~/!1<-*!be/!m+f!ymfpUhf3o)fgdbts![-!c,h!s2//m1f*y*f!U.f!o2f/d1t<!!)g5mdpfbwu!!>b!!s>p!mgpbDsh[b!s0G!`)mghb!s|[!!*.1!/o3f!b>s>[!*f<e!pgNmspfbeuo!fcs!)>!!ggjb!sf[t!m+f!!o~f!b<s*[b!/0m!f)yoffUbfso[f!d.t!!g-b*sp[B*m<b!ogjmgp!b.u!!1m/j2o!E-feqfujim!q>q!Bbp!b,!!-c*!10/!2e)f4qdufiw<)!ysjfnu!v)s5od!fpws!u>i!ps!p@m!pmDjhobfsbGs`jm{hf!`|e!f*q1u/i2`!p>s>u!ifpe)p!NmsjfoeEoffqsu)i!-g!jo!ffbtsm[f-!!~g!b<s*[b!/*m!f;ymfjUoffobfsdjt{!f-`*epfBqmubio)jmgj!o.E!f1q/u2i!--!eoffjbmsq[q-B!pgbb!s-[c*h<s!/~m!fwyffdU4f!ohffdutX)pysjmne!Q)p5tdMfpwh!)>w!fsdp4m!pqDphtbTs*G!`|m!hw!f|d!3*!1v/w1!!>>!>q!pfteTp/Nyszf<e!ogfmsp)b!ug!j{!!<>*!*qzpmtqTj/u{m<v!Ngsmppmbpud!)oufbbpsm[g!!>-ocfhbss/<m!fgymfpUbfuo!fgdbts![-!*>1!/g2b)s4<d!fgwm)pybjun!!e+f!qsupim!p>d!!q>p!xe)f3j/m1q-q!B{p!b+!!4mdpfhw3!)<g*bssp[u!d,b!G2h/p1g*!*-!1./!22!/-1p<B!mgbmopjbgu)!ybj!n>!!>g!bpsB[m!b0o!j)gg!b~s![<!*.s!poufdbbsG[u*o<f!ngumtpvbkue!bc!!->1!/g2b!s-[p!B+m!boofjbgs)[y!j0n!!)>o!fpbBsm[b!o.j!gg!b<s*[o*P<s!pgumdpbbGuu!omfjnouEtfvqkueib!!>-!gbg!P,s!pcu!d0b!Geufoqfuniu<t!vwkfedb5)!ydbmnj!q>W!fsdp!u>d!bwGfudo5f)nvuwt-v!kmejbo!Eufbqpumig-!!<2*/!11*/!1+!!;3!/11/!2.!!@2!/s1/<*!wwVfwd!5-!ixuqqpftE!f>o!fqdstp)kEf3dfusjvpuoyNfbuu!s>j>y!Jso/w*!w+V!wd!m-jiquWqffdE<f!vssfUuXvEszod!oxfqspbtq/tyozb{s!u0)!Ex3qfpstv/uxy<f!u~!!)w!f+d!4*!ohPfXuEXzpdsomfesQbpqtt)ogbmspub!u.!!e1f/q2u)i!->!!wofPds3p!uddpbpGsueo*f!n|u!t\vv$kjegbe!fugb!pMmPgH!E<FgQgUPIX\vE!zsdfoufvssboq!thofbusXup!s>m!egQgpPtsMppuhd)bwGfudo4f)nduptpvskee-b!!eufbqpumig*!*<<b!/\v*$wfVowe!j-gf\vv!sgUmXpEbzud!o{f!s>b!qetfoqbusiu!)+E!33f/s1v!u.y!f2u/!1><!!owPfXdE5z!ddomfjsqbTqqtbodbfsQup!tujbupjmpgo!!<>b!/w*fwdV5w)!d-pfptsmeb!G+X!E3z/d1o!f.s!b2q/t1o-b!s{u-)!E23/f1s*v<u!ywffud!5>!!wgjgfPxXTEqzbddoffQspbtqjtuojbpsou!!>u!bqpsmpgk!f|d!u*jfpsobNxbBuzsdjoyfJsobwq!t+o!bdsmuj)q!Tgqjb!d~f!Q~p!t<j*u!jipuoq<f!Ewhfpdg5!!-xspbsGmhepTgq!b-dsfbQfpOthjpugj!p)oq!f>u!twijufpxpTnqtb!d>f!QspptujdubjGphop<g!!x|p!sfmtemTfq!b~d!f<Q*p!tijuuqjfpEoh/pygz!{+!!0i>u!qxfpEshmpegT!q+b!dzfuQjpttojfuEjhppog/!x+<!!zsufjutvosfoE!hxppgs!m.e!T)qqbydff!Q.p!t1j/u2j!p>o!/sypzu{d<b!G~h!pwgf!d|4!!*dqpynFqhvpugf)O!pgsjn!b|m!)*whfpdg4)!!xgpjs!m<e*Q!p*tw-V!ww!f-di3u!qwfVew)*t!p|Q!ejmwsfpdX3u!fqh!!>-!tjpwQfbds3f)nwbVdw!!)+f!dsofbtuptmjveu!j>p!oi*u<q!fgEmhppbgu!!udb1p!m>g!!u<fsypfumdGbfGuhdpig)!tudbfpomfgE!f<q*uziu-j!tqo-f!u1o*j/!y-<s!/gmmfpybfuu!)mx3p!q>!!>u!fpyBfmmbGofjugd!iu)btpdmfgo!f\vEgfjqeuoif-$!\vq!!~.!!<j1w/f2d!3>)!3s-/!m1f*y-f!u1!*|/!y*<1!/g1m!p>b>u!!sm/2m!f>y!fuuf)y!fgmjG!f<u*d1i/)2t!d-f1o/f1E!f-qsu/im-f!yqf!u.)!qjnwbfmdd3!)>2!-s!/1m*f-y!f1u*!/\vyI<U!QgFmEpHbPuM!!sg2f!e>g!ju$f\vy!f\vmgGjfeuodfi$)\vt!d<f*owfVEwf!q-ufit-v!gqg!j,E!uj)wEf3df3s)v2u-y!f1u*!->!!1m*f/yyf<u!!g5mdpfbwu!!\vsf3t!m>f!$u\vf!y~f!m~G!f<uudiih)jtfdXfmobfuEpfuq!u>i0-!!mqf!y,f!uj!w|f!df3t)m3f-!!~1!*<-*!w1V*w/!y-<f!tgvmgpgbjuE!uc)3E!3>f!suvfuyyffmuG!f>u!dmif)ytfduf!o|f!E*f1q/u1i!->!>q!!u.i!hjjwffXdm3b)u1p-u!)3!*g-j!!1~*!/~y!<<!ugimhpjbfux!!c+2!!p>g!ouJffymfqmnGbftu!d>i,)!tmdffyoffuE!f<quuiih-j!fqx!!.>!,j!wufidh3j)f1X-m!b2u*p-u!!1<*l/dyf<i!Dgfmhpobbus!!u>2!!u>i!hujffyxf!muGbfpumdgi!)<t*d1f/o1f!E-f*qfumiq-n!bqT!m,b!njswpfod!3-)m1b-n!s2p*o-)!u1p*e/)yy<b!ng!m+p!b*u*!fut3V!p>U!gugfpymfmmbGGffuddoib)uttdjfeo!f0E!f1q/u2i)-!!+q!!u,t!jjEwffodb3m)Q1u-o!f3h*o-b!u1!*+/!y1</!2g.m)pqbyuf!!e>m!!l>d!fbicDtf)h)o3b/s1!!u+b!pmm2g!!.<!*m*3m*b!n.s!pdo1!*-<t!pgQmepmbsup!xe!s.!!>f!mbqcntb)T)t3p/Q1e!m+s!psx2)!u.p!es)3t*c!b.!!>d!1u*t<j!EgfmopbbmuQ!ueocf!h>o!bbuc!tu)b)p3m/g1!!<+*!wcV2q!!.-!icu3q*f!E.f!mdq1n*b<t!)gtmppQbeum!sepuX!u>f!hb!c>t!)f)m3q/n1b!T+t!puQ2e!m.s!pux3!*4!d.f!wd!1<*1</!2w!f.d!41!/d3f!!+>!!bhcfhu/XppgsomJefQmpqtn)bdt1!->!!wfVmwq*n/byTzm{b<n!swpfod!44!defqwe!y<!*>1!!)-eqm!!-=f!tevsg*g!j@E!ud)fi!d.u!fhGfmufXypfsum!e>Q!pptg)omJ2f-m!q)nwbVtw!!5.d!fwwf!d<3y)/2*/11!!-0q!-sifutqpfmEveufjmpqon/byt-o!x1p/e1)*i*d*u/fyGzm{f!y;f!u.!d>f!!i,u!qhffEufXmpqsnmbetQ!putb)psm2g-!!<)*w6V/w1!!,+!!wofpdj3u)v2m/p1t!f0s!)s!f0t!p*mqv)u3jdpfow/!y>-!!w1V/q1!*3*d*f/wy!z<{*<!!uwfftdg4g!pe!q,e!z*!6>/!1)!e+c!!o=p!jeuuv*m!p@t!fdsf!!+.!!whVfwu)X!p)s3mdefQwpjt!)>c!2q-!!3)dwfVwwj!!.<!*wzf!d-3y))13/d1f-w!!2>/!1u!f0t!gsgfpt!p3mdvfuwj!p|o!/*z,*,*z*!/<y1z/{2!!;>!=.!dzf!!<,1!/h2f.u!X>p!szm!euQbpptm)gu)2s-p!g)!w|V!w*!,,,!yw!f<d13/)21!/>1=-!!y2!/<11!/02!.s!f>t!pym!vuubjppmog/)zs*p*g*!/<ygzg{p<m!msbfGufvdsoob!uotpjsen!b;m!jg{gfp)mdmsbpGtftd)oebquetyj-e!!e+q!efzt*V*p<U!t~v!j\ve$bjsg!e@f!gt!vFjGeGbFSDfUd`bTqITBoEfFfSs\vd!tv>o!jfgtpVspnU!gigjphmimqb!Gtfbdnoqbmuftsj3eE!!utbdpfmogf!O<ptsvnjbemb<s!!v;o!j*g!p*sonp!jnubvum5p!tqfssp!k0N!b*u1</!1v!o-jtgvpjsenb!sn)b3ud5f!ww!j,f!xwNVbwu!<-!ivuoqjfgep)stnp!Qnebmus5p!Xqusfphk!W-jtfpxQNebmus<p!xv!o)jfgdposbnu!twjfed!4@!!dtbvnjfesbbSQfpdtb<q!Tvoofjfgspdstn!!>g!mfptbVup!Uutjvnjfe<b!sv!oujbgppmsgn!!<w1f/d14!]>T!BuNiQhMjFfTX^m!btubpnuq!mufbtp<m!gv!o<j*gwpVswn!!-g*mwpVbwu!!-sibueqjfvet)<t!pvQoejmgsppsXnu!fghm)pmbbun!sepjOtfuubvoqdnfpGdb!m>m!pmgbgn<s!pvoo!j4gdpfswn!!<g*mwpVbwu!!-gisubqnffe<)!tvpoQjegmpsspnX!ucfphp!m>!!ttdpsQfefmosTpqxb!d4fdSfbwe!j|v!tf<t!mvfo!j~g!p<s*n1!/t2b!n-q1m/f1s!3-E1!/c1m!v-f1O/p1j)t5fd<f!wn!b>u!4m!fnybfluf!S|p!u*b1u/j2p!o>[>)!gimupqbfue!)u!igfju!b<*m!f|y!fgum!p5bduf!wd!!\v>T!FdSpGtM)BuIi!fgufbe*g<j!$g\vm!p<byu/!*t!!w>V!wt!j-oi)uuqiffEufbo*f<d!ts!f)uEv3sfos!vnubyuf4u)!d>-!!i.u!qtf-e!!1u-b!ptm-g!!d<-*!w1V-w!!1--f!t1v-g!g2j*E<f!o~f!dwtp)jEe3!fnsbvjuoy)f*u!!|>!!gmmfpybfuU!feoffqduti!!5>d!fuwf!y|u!v*s)fo3jEb)nt!defjopfwE!f~q!u<i*-!!bw/Vfwv*m/byw<!!-j*g!!*)!e*f!q*u!i9!1>4>2!421/11/*1!!|)!4hdmf`wG!s-bchhDsp/mfpvsm!b>w!!w)fmdb5v)rwFfodb4i)U2t/t1f*m-!!)24/d1f*w<!!-s3f:u/v3s2o!<+!!~c!hwsf/df4v!mxbpws!m-e*Q!p6t6!1>/!1h!f)u4Xdpfswm!e.Q!p6t6)1e/f2q!u+i!-*!!w*V!w7*7<7!2\v5$/j1g!e)f4gd!fIwB!M-GcShFsT/\vf!vwmfbdw4!!)oxppsqn!b)my!j>n!!u)f5ydufvws!fo3sEv)utfdsf!o|f!O*p!sfnvbmmb-w!!w5Vdwf*w/!sohjc!<)!C\vH$SftmptUfs\vb!fwofjdM4!!5odpfswn!b<mt!p>Q!bdspfnnqbvdu!f4Odpfswn!bnms)pxgpjsomve!Q<pgtg-p!mwmVbwG*f<d!o\vb$uftojeej!gu\vb!pwmfgd!5n!soppgjjtofv!!><!tuvfjyeubvss!fu3bEp)mcgm!vnfsOppgjjtofv-!!<hsmb`GGhspbgh!Dupbppsmeg/!ynzs!p0g!j2o3v9!/<1s*b<f!Owhfpdg3!!uibbpsmngp!onjsppvgtjOovvn!c<fzsutj!t>o!fwEfhdp3g)!!u2b/p7m2g9!1n4s4p:g9j9o8v5!:<9f:s6b-x!B2z/d4o3f5s8b2q8t:o6b8s3u5!5m8p5p7c!!*n<s!pogpjjotvf!/<szhm!q,j>u!mivbNssnppmopjdp!vmtpOpvcn!cnfssptg!j+o!vg!s<bqnyfF<h!pogp!jmtpfp/cs!hn!s>p!ggjsobvd!u<)hoppgj!tmfp/psch!*n<s!pwgfjdo4v!!i<ftmvqjfesbWSffdd!b>q!Twoffdf4s)d1t/!1m-p!p2c/!1n-s!p1g/j1o*v<!!<jogp!j)uedpfus)sipfDmbqnfnsbWhf!dm-p!pocp!snnsbpmg*j!o?v!!1</f:e:p*N!s|f!eioffmsq!fusbWpfmdg!!>n!swpfgdj4o)v2!/<1z-u!j1t/o1f-u!o1j/!1u*b<p!m~g!!wnfsdp4g!juobvo!h<fsopum!p>d!!o4pdsfnwb!mnjs{pfg)jdosvp!t<tf)tijfpmOqffvsmWcf!dE-3!sofpmsqnnbbmt*!*n<s!pwgfjdo4v!!c<jfutbvoghgfjoEuu!!>E!3dssfpmtqtn)botp!snnsbpmg-j!ouvb!o<hifuoquf*E<f!vnsbUuX4E!zudcoof!s>b!qntboub4s)uu!bEo3hsffomuq-n!bctj!uqbiohhjfio!un-s!pogpjsonvb!m<*f!v+s!UnXbElzfdSopfusbbuqjtpoob[s)uo!pEj3tsff/msq!n+b!t3!/q1i!h+j!i4!/n2s5p2g6j:o7v3!*<!f<t!mgbmGpXbEuz!dpodfdsmbvqetfoeb!s>u!!1E/31s<f!mgqmnpbbtu!!quiphujbim!Xnfsjphgijuo!v>!!<1i/u1q<f!Egemfpmbqun!bstboexjpvet!UEp3Vstffm!q>n!bttd!sqfifhojTiq!bndsfpSgbjeojvv!t<!f@t!vegjgtjuEbfoodffd)t!!xEp3ssmfemQqpntb-t!!hnfsupXgpjsomve!Q\vpStF)UeJfTqPuQiN-P!Dw`VUwD!F,G!GwFf!dg3f)esgbje$j\vv!t\v-g!j1e/o1f*$!\v0!!~s!f<t*pmmbvnusjppoo!*+!!*6!/;1!!s,b!e6j/v1t!<-!ogpmjptbvum!dedjpt)u5bdofdwf!G>b!msmppmgpgDUhpbVstGf`!m>ht!d\vsgfjfeooTfq$b\vd!f~S!b<e1j/v2t!!>@!!ospbjetjvvmtdUdppV!t|f!!*+1!/e1j!t>u>b!oodpfjGtbvmmmdpdgpg)!!;g!js!b<e*j1v/t2U!p-V1t/f1!!+-!oepjjttuvbmodddfpG)bqmnmbpmgdg!!>+!!o1p/j3t<v!mgdmdppb!u\v!IcUjQbFtE!H>P!M)!ngjfoe)g!j1$/\v2!-~!!e<jutouvbpodd!f>G0b!momppjgtgvUmpdVdtpf!!|+!!*11//21!!*?!!0u!oovfpbds)*!!g+j!!g~x!j<eludif)ieDjfthuobbosd!f>),x!pusomvepQdp!t<-l!ddfbinDffshboQbpst!*+*!!f0m!qsnbbeTjdvdtpU!p>V,t!fo<p!jgtmvpmbdud!pq!i<j*!*>d!d2P/f7t2b9c1!4.4!:f9m9q8n6b<T!dgdmpp)btuc!bp!g.g!t1f/u2N)p!w+f!!*>1!/11/!1-<*!fgmmqpnbbuT!mpbgngstpfou!N-pmwbfnJsopwo!)>u!p2e/)1y!b0n!!G+T!B*N*QfMtFVTp<U!gggppsm)mgbmGpfbduo!bju!t>j!e1!/01!<1!/j2!)=!!+G!TuBtNjQEMfFoTb<m!Qju,o,f*h!o|b!uw!f+d!41!/t2b.n)qqmyffE;j!s1f/d1u!j@p!o1!/>2!!u>c>o!!f+m!qtnbbnTqem!f>t!]ljdofui)Djf*h^o<b!sg!mupbbpum!gn!p<w*f*Bmnbun!s>p!og!s-btdpuQ)eompsjptxf!/.h!!f,m!qpngbgTttfpuQNepmwsfp*x<)!uppgeg)ttfcubN!p>w!fu!t,j>E!fpogbgmtQfuuoNfphwofbJuo!wu<b!pwmfgd!4<!*tubfntqgmgfpQ!p,t!!w>v!!x-pfsmmqenQbpTte!),t!psQbeemjsvptXUupfVht!f>!!+f!mnqpnwbfTBtnpuQ!e+m!stpbxn!q4mdffEwj!s<fyd/u*jupfot<g!gwpf!d,5!!wpvg!g-tifuuq!f>E!fqosfpdktN)bEu3!f+s!vwufydf5u)!t>b!nfqmmqfnQbpTte-!!u2b/p1m*g<!!<p1g/g2t!f.u!/1y/z3{!!+0!>b!cphg/gftmfqun/bxT<b!upbgeg!t>f!uf/myqzn{b!T>m!bpngsgptof!u4/dyfzw{!!<+s!/1f/m6q!n,b!T1b/u6b<e!!w>f!df3m!qenjbgTgd!d>p!!humb`pGmsgb!h<D*pupfsteg/gypz!!,.!!wgvm!p-pfst)vpggggjtEfuu)/Ey3zf!s+v!usyfftup!m>v!ufjmpqon*b<T!bwufbde3!!5ddmfjwq!S<bfo{hjftD!i+f!dfl{!j>T!mtfuyffqu)!w+f!d*3^)j1]/l1t*j-Epogpgtttfjup/qy!z+*!!y+j!stuubfNqo)ppjgugbtufpus/)y!z>-!!uwfftdg3g)p2!/31d*f*w<!!|g!m*p,b,uj!!t<bTnFqMmQfNEBfTq`uNiV!O>!!=u!fjy!u<v1s!f>M!pje!)utodjf)osfpEgf!q<u3i/-1!!p+g!ggtgfpum/mybzG-f!d1o/b1u*t/jye<!!+\v!$fjtgVepfUgt!vMjPeHbEsF!Q;U!Ig\vg!pgmmmpbbGuf!deojbtuutTjben!q+m!ff!t>V!pmUjtovfjbesbjs{!f@`!etfvqjueib`Smfpdhb)qtTbonfqfmsfdEtf>q!ufit-V!poUfgbgsp-m!mgbbGsf*d<o!b\vu$tfjmet!fu\vb!pgmmgp!b<ut!vejjetbuSTebmnsqpmxf!!;>!!*p!s*uoippj!u@v!mmpjtoffsb!s0j!{*f1`/e1f!q-utiv`jpesbuSiepm)stpbxn)q3mdffEwf!q,u!iw-V!wo!f-bes)-t!pgQbesm*s!p;X!umfjho!f-btspjQ{efm`sepfxq!u)if)dtobbnuqtmjfeE!f@q!utiv-j!eobfSbfsd-b!qgTbosf*f<s!d\vt$!f>o!efjtgV\vp!Ugtmvpjbeub!se!jutbupXmpgs!m<e*!*>f!mphsoubi)pt!p@d!!m-j*offmbhsojb{)fo`jetf!q-u*if`mphsoubi)po)jptg.g!t-f*uf/m{h-o!bo)ftbpsd-)!3gubbsn*!!>;!!ymjjsoufbbNsojp{jfu`beufpqsu!i3)upbgng!t~f!u</3{J-Q!!o+f!bxs/-*!1g/b9s3*2<!!0g!mzpyb/ue!sspbpoDhhfbDsiGf`dmlh!!>-!fetjjtpuOTfbvnmqcm)fE!3>f>s!veujytfuuX!p>s!mfem!h@o!b1!/|1!!f;t!mtfn!p~p!u<i3tJuQf!q+)!1{//1*-1!/29/312-!!0e!jztyu/beosdpfpGDbhmbmspGg`gmUhp!V-tfft!j0p!O)fbvcmtc))eEj3tfusTvbunyqfmuf!!>.!!femjhtoubX!p|s!m*e1*/*3*!<>!>g!mypfbeuo!jt)b!ngqjm!ffWtbmmfj!e~!!><!3)JdQm!j+q!Szb/o*h1f/D9i3f2d!l0/!yz!y+/!edsmpjpqDShbboshGf`Dmihf!d-lf/tzj*p<O!fpvdmdcm)vEe3ffes!v,u>y!fsub!o>h!ffDmihfodbl!!|+!!*g1m/p2b!u>)>t!bynfqemofjE)f!qguji!!fat>m!fe!f~q!u<i3*J!Q+!!+g!myp/b*u1)/e9j3t2u!T0b!nzqym/fe!s,p!pcDjhbbts!G=`!mehj!t-ufXtpjspmOef*v!m+c!)tEu3ffqs)v!u2y/f1u-!!>e!pfum)heojbg!g|-!!*e1j/g1g!*>!>*!!y+f!etobjn)q!mgfjW!b<mfjmeh<o!bu!puubbpmmXgf!j<htivuj!e,b>s!!t>b!nfq{mjftW!bumbjpem<g!!~<!*gwmVpwb!u-!ep)dtdp!Q>e!mdsmpbXnuqf)h2!/>1!!t.p!Qpedmdsmpvxe!f4ed!f0w!!)~u!p<uobsmvXuffjsh!i<ub!u>b>e!!1>/!1s!p@m!p2D/h1b!s;G!`umphu!b|m!X*f1j/h2i!u>*>-!!e1)/!1g-j!!2</y1/**<w!Vhwm!`-GisubqhfDEpfmopfsd!t>)!Ew3ffds5v)upydfdu-!!>1!/e6!!u,b!p1m/g6!!<+1!/o2p!s>n!bumo*v<p!d~!!u\vb$pfmoge!j<g1\v/!2\v!$.j!g1e/f3g!!+Q!PbJcThT/JbPuOb`eC!M>V!Sm\vb!nvsopjog!p4sdnf!wt!b<nsq/mbfusb3eE!!>u!EdjdgPgfvttbfc<!!uvbopjmggp!s<ns!/tbbunbqem!f>s!3oEp!jctmvvmfdOdppj!tufb<p!mvgo!j<g*pwsVnw!!g-mfptbvug!gsjbEeuj)vEt3<f!svvoujygfpus!n>!!gbmupbbeu!!5xdpfswm!e<SwbVewj!v>t!<w!vv!o3jdgfpws!n<!*gzm/pobpuj!ujvomepftyf<s!!v0o!j1g/p2s!n-!yg/moppbjuu!vemjpttufbso!d0f!G1b/m2m)p3gdgf<w!!v>o!jfg{pjsTnm!fcypfpum!!3tddfswf!f<o:T6q2b5d2f/S4b!e>j!vjtq<!!uvbopjmggp!sunt!owpfdd!3|!!q*p)jotjtbpno!Eejjtplw]!O<V^NT`FTMBQN"],uV.glitch=["?$TjWoodfmfvsedfT!u=jcm","~v!o~j!g<p*swnV!wj!o-uf!hcbznqj<)!!vEo3jfgspvsuny!ftub>nsqpmmfpsD3hEb!sjGn`bmhhf!<|!!vfotjmgfp!s~n!!<txbpnoqtm!f,ss3pEm!puDEhjbtsqG<`!mvho!j>g!psspnm!pgDmhpbbsuG!`bmnhp!v<o*u3</!1v+o*j*g/p1s6n+!egfmfptb!u+!!btozh-meff<f!tv!o+j!gtpys)n3!dgfmwp)beuo!btsf)f5ed<f!wv+oujogvppsnnb!+g/m1p1b3u!!>t!fxfpeo`ty!<5!dvfowj!g<p*sbn/!bghmdp!b-uc!/tcfdf!e-`hz/<b!hvdo!j-gsp/ssnd!)g5mdpfbwu!!>e!jstpumppsDuhjbpsoG``ym<h!!v<o*jugfptsgng!pg!m.p!bqu!!-efjhtbunpjs)uEj3pfos`vzu<y!fvuo!j>g!pcsdn!!5gdmfpwb!u<!*dqp!m-`fth<b!nwjb)sEz3jfoshv!uwyffdu3!!>w!Vbwh<d!!d5pdoftwu!!<g*mupfbtug!gVpo!q,b!dql!E-pfxhobtndjb)mEf3!f>s!v3u6y6f/u!!0>!!3s6d7!/5<d!fdwp!o<t*u*!fwmfhdo4b!)Qobjdtl!G-b*dfumphsotb!)>t!pwdf)d34d)f3w6!7+/!!u+o!v3p6n7b/!!>+!!u3f6t7g/g-p!!336d7f/w!!+<!*3/6670/e-f!f3t6)7+/z*`<e!fdfpto+tmub!nwsfpdo5>!,Vzo/qqb!d<l*G/b6d0uepfsftt!)>+!yV`oeqfbfdtl+Empbxnostpdob>m,fy!/0q!!w~f!d~5!)<Q*byd`loGpbjduusppsutt-j!e2!/,*!<y!/gqm)p!b.u!!/v2o!q>b!dyl/SqH!C|B!UfptEmffq!u~i!)<jyo`!owpfjdu5s!pwu*t!j|e!>syf/uqv!s|o*!/e1p?uz)`we-f!fVto)qgbjd!l|G!b*deufpfstt+*t<`!m~p!dg.mzp`boup!jsubsopeu)twjfed?3y!/dqp!*%|%!!stf`umvpsdo,!zg`sobpdjuu)stpjuot)jeep=uy)/dqp)/gyjz!!~-!w~f!d<3z)`2o3p/j:u9s:p9u-t8j9e/!3>4!4z*/*q*!!|+!!f5t4m8f6!9~/!6<5*6z4`*o<p!j~u!swppujtej!en!b,j!oz)/*q!)|!!.j!g/!2)!c>z!qz=/2q*!!||*!/w1f?dy3`!eqf!f>t!)wgVjw!<|!!g*mepfbfut!+ytt`!m>p!dg.myp`posp)jhums`pGustbjheD?pzp/sqe!/%y%!!0t!`1m/p6d*,<y!`gomppjbuus!pzutt!j>e!=gzm/pqp)sg)jh!m<`*G*sebfhfDtp+pesfef/tz+!q0!!-1q/t6j*E<u!)g!mEp3bfus!voupysfnub)mi!u>q!fvEopqUbBdClHS"],uV.bloomBlur=["?$TjWoodfmfvsedfT!u=jcm","~w!b\vsgzjjeoohf!$w\vf!d<3*!bw/Vywj<Q!fvsovjugypfsun!!-tnbvnTqumifhsj3fEx!!d0p!mnpvsTUfftyvugvgsjfe<)!5vdofjwg!p>s!ns!pwmfpdD3h!busfGy`Tmjh{!f\v<f!tvmofj$g\vp!s<n*!1w/f2d!3-!nevjTsufidhujjfpxo!<0!!gnmvpTbfut!vhgbgvjtet)j5bdofQwe!g>)!jsop!mgpmDphbbus!Gy`-m!hj!o\v!BgImQpMbBu`!FtEjJhSnSbF*W!P|!!gsffeugvjs$o\v!!1~/!4<:x9!:+5!!1+/!3f!y>q,)!.n1v/T6u!i+h!jyf!x+!!<yx!!0+!!)*t3jfhmnqbn!b+t!!t,j!h2nfbm*q*n!b0t!)t!j>h,n!bn<v!T~f!twvpgjgej!en!b<jcoh)s*/!*|u!fwtfgdg3P!wjvo!w.T!jw{Vfw!!>-!f2s/v1u!y0f!UusfpymTpjd{)fE<3!fgsmvpubyuf!ug!T>j!h3nfbm!q>n!bgtm!p4bduf)wT!J<HcNhBs*/<*!ugfmtpgbguP!wxvf!j,h!iwuVTwv!n-!f>s!vhubyvftUtsjpbmopQde)gE)31f/s1v-u!ygfTuj!h>n!b2*f<m!qwnfbdt5!!4udffywu!v<syf!Q+j!yf!{>j!Tuwfoyju!v+s!fo3pEj)uddpfmspjseU!f>y!uuvfstfg-g!PwwVvw!*3<d!fwwf!d<4*!benjhgjgTvgt!f-Tyv)ng!e>Q!oubfjytutvvsbfhQ!j>y!/xs!hucb!p+m!gx!f<j*hji)uuTbvpnm<g!!g>p!sy!!)ujbopum!gj!!|>!!*2,<,!jj!!<=T!VLJFESBOSF`M"],uV.bloomHighPass=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gbpisqnm!bt!b-nmqfmyffsu3!E-!supEmjpgDguvvtqfu<v!pv)oyjjgnp!s>n!!sgpmmppbDuh!bmsvGn`jmohp!t<j*uwz!U-iisufetjiXpimuep<p!nvto!j,g!pesmnp!igtmfpsbiuU!ztunjptppuoijXnjvemu!i-<e!mwpbistzfjsoihU!zwufjdt3p!owjVnwv<m!)wqpfjuet!inubpjpon)t*!!>|!!bwifqdm5b!!uufbypfmmg!!><!*u1f/y1u!v-s1f/31E!)-u1E/j1g!g-v1t/f1-)!5wdVfww*!<>!!wsfpdm4p!Dmuvvnqbu!v>p!!w5fddf4w)!1</*3b:n:v-m!!1-/{6z9y8/-m!f1y/f2u2)5u*p<e!!g>m!pwb!u"],uV.bloomComposite=["?$TjWoodfmfvsedfT!u=jcm","~w!b<s*z*jwoVhw!!w-f6df3s!vwuVywf<U!svvomjcg)pEs3nf!stvbunyqfmuf!s+3!E*!1c/m2v!s-UsfpymupvDsufo2j<U!nvpopjmgcp)s5nd!ftwb!n+q!m*f3s/31E)!scpmuvdsbUGfnypupvmsCfq3s<f!mv!o,j!g*pwsVnw!!t-b5nfqsmvfusy3fEU!scvmmvcs)UEf3yfusvvsufy4f<u!!v+o!j*g1p/s2n!!-tsbpnmqpmDfuso3jEU!ncpmpvmscU)f5ydufvws!f+5!<*!5v/o1j)gsppsund!btGbnnpqpmmfCsq3sEf!mc!m,v!s*UwfVywu!v-s4ff6s<v!uvyofjUgspvsmnc!)tEb3nfqsmvfusy3fEu!!e+j!s*u1U/f2y!u-vsspfm<p!DvuoojjgUpnspnp!mgcm)p5bduf!wc!m+p!p*n7T/u1s)fsophuudib<G!nvpopjmgCpqssnf!mg!m,p!b*uw!Vcwm!p-p3nfSsbveujyvftU<s!vvmocj)gEp3sfns!vwufydf4u!!c+m!p*p1n/U2j!o-usDppmmppDsu<o!jgUmnppbpum!cm)f5sdqfCwm!p+p!n*G9b/d1u)pssp)uddpboGtnup!pjmoC!qgsmfpmb!u,!!g*bwdVuwp!s-*2!f|s!vgumypfbUus!vnmjcs)sEp3sfGsbvduuypfsu!!>+!!2*/13/!2.!!-gsbpdmuppDsu<o!jsUfnupvpsmoc!)n5jdyf)wg!b+d!u*p1s/-2!)nsjpsusdpbsGGnbpdpumpCsq-s!fcmm)p!p+n!Sibuehjovfts*u<T!n~p!pwmpcj!e>!!nsbpjmop)D*h!b|s!Gh`m"],uV.highlightHard=["?$TjWoodfmfvsedfT!u=jcm","~v!o<jsgppmspnD!fthbenfq!m>f!ss3pEm!pjDnhbbhsfG<`!mvho!j~g!p<sens!bwdftdj3e!!u|f!y*u6v/s1f!T=j!{ffh<e!fv)o!jggjp!s<n*!fghmepfb!u-!1f/e2h!f-X:j/e1u)iq<f!uvtoijugpppsnnt!!w>f!df5h!effe!h<f*Dwp!m+p!sw<!!,v!oij!g+p!sin)!uwsfrdt5!!>n!bfthleDfp!mupbsp<m!gw!b<suzijhojhS!qwpfud,3u!iwhVjws<+!1\v/$3j,oudimhvjeSfn!p=uiujphci,mujghfiMuqEpfuu.fudguf/mg+t1//i3f.bueg?f\vM!nwppujuep!cn.b!j>o!)i*!!u|b!pwmfgd!3<!udidh!j>S!nwpVuwu<p!cg,mnppbuuu!pecy+!1>/!3f,euhgffXMjnepuuiu!p0c!,uufiyhujvSsqfpTuj.{qfp/uy+<1!/g3m.pubguf!Meqzp!u>.!!f>e!hwf!Xujbepumig!!0<!*u*fzyeu!v-syfeT)j3{dff/wz,<d!dw!f-df3h!bdnpjp)ssep<m!pgDmupibhuj!muiphqjMIfugfuh!!>>!!hufiuhIjjShnipmujuhpicu!Dupbmppmsg)!j<n*b*hzfe-!!-d1d/,1w)f3dd3f)w.,edyd-!!-.fehzb*n*j<)!sgpmmppbDuu!iuhpjqm!i>h!jhIfuufIhj!h>i!mnjphuiuupDcp!mupbsp)mjgn!b<h*f*-z!ed!d-,ywef.d)33)d1f/w1,-d!d.!e-zf*h*b<n!jg)msppbmup!DuupiqhSjjmhiihuj!I>u!fhhf!u>I!juhgifmMjnhpiuuuDppcm!pusb)pjmngb!h<f*-*!1d/d1,!w-fyde3))3edyf-w!,.dedz!*-*f<h!bgnmjp)bsup!mmpfDguui!h>j!mhifhujIIjuhfihm!j>h!iuuiDhpjmsp!su)bjpnmbgh!f<-*!*d1d/,1w!f-dy3e)."],uV.highlightEdgeDetection=["?$TjWoodfmfvsedfT!u=jcm","~v!o<j*gep)s5nd!ftwb!n+q!msfpsm3pEd!!j>n!bshpfm<p!DwhbbsszGj`omhh!!w\vfgdj3e!owfV$w\v<!!<v*o*j3ggpgsjne!!w-f2dg3g!juef)y3Tdjf{wf)<i!uvhoojfgmp!s>n!!ew!f<d65/!1d+p*m4pds!<.!!v5odj)g!p>s!n3!gwgfjde5!!unbbptmlgD!p<m6p/s1<+!*\v2$dj!o.d!m3vde)f!!>=!i2jghgijmej!huibupEmfgu!f<d*ux/zg/tu/fitfgbgeP?w\vv!!w.p!jweV!wn!b-jfoh)b*n!j|)!swpfmdp3D!ujiohwjTmji{hfj!I>u!f2h/!1>!!05!du!fuybTpjm{gf!<<!*gxmzp/buuf!teg!g>P!w1v/!1,<!!w\vV$wj!g-effhgb!nGjS)FsJp`mDpIDFuOi`hFjEmHiFh`jEIFuUfFhD!U>J!P4Od\v!!unbbpum4g!!H<]*:z^y</!udfptogtguP!wnvb!u.4!!whV1w!!>-!fnhbbun4j))!s1p/m4p6D4u6i6h4j4m9i5h6j5I3u5f7h6!3>-!!31d-!!u.b1p/m4g6!4<6*6z4y4/9u5f6t5g3g5P7w6v3!-,!!1w/V6w-!!-1f-h!b.n1j/)6s-p!m1p/D4u6i4h6j6m4i4h9j5I6u5f3h5!7>6!32-d!!1u-b!p.m1g/!4<6*4f6{6j4T4w9o5j6!5-3f5{7j6T3w!o*j<)!5ddpfowt!u+!!n*b1u/42!!h-21!/>1!!n-b1u/41)!!-11//426)456d6f4w4!9>5!6u5f3t5g7g6P3w-v!!15/d6f-w!!1\v/f4t6m4f6$6\v4!4<9f5h6e5f3!5>7!6e3!-~!!1<-l!b1f-s!c1!-*!6./11/!4?6!4f6h6e4f4)9!5g6j5!3~5!7~6!3<-l!b.f1s/c6!-<!1./12/!4>6!4f6h6e4f4!9|5!6*523/517!6?3!!**s<f!udopfodt!u.!!nsbpuc4i!hhj3f!o>)!tncbbu)4!)g!j1!-<!*1*/*4k6)4u6b6p4m4g9!5-6*5j3)5u7b6p3m-g!).31d/f6w-!!+.!1f/{4j6T4w6o6j4!4,9!5w6V5w3!5-7f6h3b-n!j1)-s!p1m/p4D6u4i6h6j4m4i9h5j6I5u3f5h7!6>3!-s!p1c/i6h-j!f.o1!/u4b6p4m6g6!4<4f9v5o6j5u3o5p7d6!3*-1!!1>!>*!<k!!d%p%o!t1u!!>n>b!uj4)!!hg4j!!>|!!n*b,u,4k)!!<12/!6>-=!!.k1!/<426.4!6>6!4k4!9u5o6j5)3!5s7p6g3!-|!!1*-,!,.j1!/<426!4>6=6!4j4!9<526.5!3>5!7j6!3u-o!j1)-!!s1p/g4!6<416/614!4>9!5f6h5e3f5!7u6b3p-m!g1!-<!*1w/V4w6!4-6f6h4b4n9j5)6s5p3m5p7D6u3i-h!j.m1i/h6j!I*u<f!hd!p>o!tsuf!unobfud4!!uhb5p!m>g!!n\vb*uO4P)J!U1D-F!U.F1E/`6F-H!E1F-`!M1B/D6J-H!P1M-P!I1Q/S6P-N!)1e-f!o.j1g/f6e-!!g1j!m*f<$!\vd!p<o*tnuv!tn)btuc4b!!h>6!!e>!!~n!b~u!4<)^!2.,1k/]6^-2!,1j-]!o1b/j6d-b!m1q-b!m1!-+!!1m-f!y1j/q6!->!,1!-n!v.t1!/<6*!***<k!)dupboptmug!!n-b*uj4)!uhb7p!m>g!)n3bduf4w)!!+1!/f2{7j7T7w7o7j7!8,2!7w4V4w8!3-1f5h-b!n.j1)/s4p4m4p4D4u4i4h5j4m3i7h8j5I5u1f9h-!!>1!/m2f7y7j7q7!7u7b8p2m7g4!4|8!3*1,5,-k!!.<12/!4>4=4!4k4!4<425.4!3>7!8k5!5u1o9j-)!!1s/p7g7!7|7!7*7,7,9j7!6<425!9>9=2!7j-!!<.21./!4>4!4j4!4u4o4j5)4!3s7p8g5!5<119/-1!!1>/!2n7v7t7!7u7b7p8m2g7!4<4*8!311/51-!!-.11//24.4!4-414/414!5-413/728.5!5-119/-5!!1-/12/727.7!7-717/812!7-414/823.1!5-!1*/<1!!d)p4outbun!!n>b!uo4b!jhd8b!m>q!bnmb!u44u)b!n.!1u/t4o4p4d4!4\v4*4O5P4J3U7D8F5U5F1E9`-F!H1E/F2`7O7B7J7D7B7M8Q2B7M4)4e8f3o1j5g-f!e.!1g/j4m4f4$4\v4!4<4*5*4z3h7!8-5y5h1)93-d!f1w/)2i7u7h7o7f7m7!8>2!7e4!4<823z125y-u!!1+/!7^727]7^727]7z9H7!6,4!519z922y7u-!!+1!/^217]7^727]7z7H8!2,7!424z813y1u5!-+!!.^12/]4^414]4z4H4!4,5!413z718y5u5!1+9!-^!11]/^217]7z7H7!7>7!8z2h7!4u4b8p3m1g5!-<!2.z12/y4u4!4+4!4^424]5^423]7y8H5!5,1!91!z*2<y!ud!p+o!t^u1!]n^b2u]4y!Hh!9,!!>2!zn1byuu4!)+!!1^/24]4^414]4y4H4!5,4!317z815y5u1!9+-!!^11/]4^414]4y4H4!4>5!4y3h7!8u5b5p1m9g-!!<1*/*414/424!4-414/524)337d8f5w5!1+9!-f!{1j/T4w4o4j4!4,4!4w5V4w3!7-8f5h5b1n9j-)!s1p/m4p4D4u4i4h4j4m5i4h3j7I8u5f5h1!9>-!!21z/24y4u4!4u4b4p4m5g4!3<7*8*515/129!--!11//14)434d4f4w4!4+5!4f3{7j8T5w5o1j9!-,!!1w/V4w4!4-4f4h4b4n5j4)3s7p8m5p5D1u9i-h!j1m/i4h4j4I4u4f4h4!5>4!327z815y5u1!9u!b*p<m!gH!]<1*^*!1>/!1h!1-<1!/H2])23^d!f>w!!h+2!<f!{Hj]T3w^o!j>!!,h!3w<V!wH!]-4f^h!b>n!jh)4s<p!mHp]D5u^i!h>j!mhi5h<j!IHu]f6h^!!>>!!1hz62<y!uH!]u7b^p!m>g!!h<7*<w!VHw]!8-^f!h>b!nhj8)<s!pHm]p9D^u!i>h!jhm9i<h!jnIbuuf4h!!J><!!1gzm1pybuu!!udbopwm]g:!^<<*!1g/p1s!!-)1g/m2p.b!u-!1j/!2>!!-11//11<)!3ju!b=n!!4>/!1z<H!!j3,u,b*n!!|u!tgoppsd!!)<g*m1p/b2u.!!k-!1>/!11!/-11</!1k!!-=1!/42/)13<u!bkn,!,>*!!y|H!!J3]ujbonu!)ujt*o^p]dj!o\vu*)OkP*J^U!D>F!UhFfEu`IFjHhEiFm`jThUiSuFDCpPmSp)se)fjonjbghffe-!!gwjVmwf!$,\v!!j<o*w*T3jg{gfj!e+!!-w2fgdg3j)ej)!3.d!f2w/)1i-u!hko!f.m!!2>/!1e*!*<<3!z~3!y~u!!g+p!s^!3)]j^o3u]!zjH!!>,!!13<z!2jy!u=!!+:!<^!3j],^,2*]!z|H!!g,m!p3bzu1!yeuq!4+!!>^!3e]p^u1)]Hz]Hj!^,]!12^z-3!yJu]!1+^!*^!2,]!^e3p]uz)HH!],j!^2]z22^y-u!!J+]!2^^2*]!^,2!]ezpHu!),H!]2jz^1]y3u^!-+!!J^]23]^^*1<]!zdHo!w,]!j1^z!3>y!ue!q+4!!^+1!]e^q34]<z!H~!!,g!m1pzb2uy!uN!!+>!!^)1d]o^w2]]1z^H!!,,!!d1ozw1]y2u^!*+!!,^!1)]d^o1w]]z3H^!!>,!!3dgogwj]e4!^u*b<p!mggm!p<b3uz!3Ty!u>!!+)!d^o3w]]^53^]!y,H!!d,o!w3]z62^y*u!!,+!!)^d3o]w^]27]^y!H,!!,d!o3wz]18y^u*!!+,!!^)3d]o^w1]]9y^H!!,,!!N2*z<3!yeu!!>+!!t^r2s]u^)3N]0yTH*!<,!!\v2$zf2myjug!!+e!f^g2j]o^f2e])yTHP!C,F!M2`zF1EyHuF!`+E!F^U2F]D^U1J]PyOH*!\v,!!d1pzo3tyuu!!n+b!u^41!]H^y3!]>y!Hn!b,u!41)z!2.y2u-!!+.!3^-1!].^22-]!y1H-!!,1!-1!z11-y!u2!-+!!3^-1!]2^!1*]<y!Hd!p>o!t2ug!gnjbeu!4u!bHpzm!g>!!<n*b*u!42)!!-.22!-)!31d-f!w2!-+!!.f3{-j!T1w-o!j3!-,!!.w2V-w!!1--f!h2b!n*j<)!sgpmmppbDuu!iuhyj1mzi1h!j>I!uhffhu!I>j!h3izm3jyhui!uuDbppmmpgs!)<j*n*b!h1f!--!2w!V)w3!d,f!wj!o+w!Tfj{{jfT!w+o!jw!f,d!3w)V!w.!2--f!h.b2n!j*)*s<p!mgpmDpubiuh!jumyi1hzj2I!u>f!hh!f>u!I2jzh3iymuj!huibupDmpgm!p<s*)*j!n2b.h!f--2!!w)V3wd!f,w!!j+o!wfT{jj{Tfw!o+j!!w,f!dw3V)w!!.-2f-h!b1n!j*)*s<p!mgpmDpubiuh!jumyi1hzj3I!u>f!hh!f>u!I1jzh3iymuj!huibupDmpgm!p<s*)*j!n2b!h-f1-!!)w3Vdwf!w,!!+j!ofw{TjjT{wfo!j+!!,w!fwdV3w)!!-.f2h-b!n2j!)*s*p<m!pgDmupibhuj!muiyh2jzI1u!f>h!!h>f!u3Izj2hyium!juhbipumDgp!m<p*s*)!j1n!b-h1f!-)!3wdVfww!!,+!!jfo{wjTTjw{ofj!!+,!!wwfVdw3!)-!f1h-b!n.j2)!s*p*m<p!Dgumiphbjum!iuhyj2Izu2f!h>!"],uV.highlightBlur=["?$TjWoodfmfvsedfT!u=jcm","~$!e<fngvjToufi!hNjBfYx`!S0B!EnJvVTTf!t5v\vg!gwjbes!z>j!oshp!mwpfDdh3b!swGV`wm<h!!v~o!j<gbpusmnf!et!b>n,q!muffst3gEg!Pjwnvb!h<f*<x!!v+o!j1g/p3s)n!!>w,f!dn3v!TuufiyhTjjf{xf!<<!*vxo!j+g!p*s3nf!mwqfndb3t!!e,j!s2ffdmuqjnpbot<)!)v!o>j,g!pnsvnT!fgtmvpgbguj!es!b<e*juvftt<g!ggPmwpvb!u.!!hwbVvwt!t-jfbhobQnejg))Ej3of!sgvmupybfuu!!y>-!!3jfom!qgnmbptb!u5!dtfjwh!n<b**u!f|t!gsgfPuwvvs!o,!!1w/V4w:!9-:f5h!b+n!jf)yEq3)f.s1v/u6y!f+u!!y>!!+2!fym!q0n!b)tt!j5hdnfbw!!+<!*ttjvhjnebb*s*!!-0y!/tujfhtngbg<P!w~v!)wgpejQeo!bnjbtjtov)b*h!!|>!!wxf!du3b!pjmogw!T|j!{*f,!,>j!!2</T1V!J0E!BuSf`yYTBjN{!f><=!!gjm!p<b2u!!>x!fjj!huioujT)v!ns!p>g!!h<bbvutmtfjeb!o>Q!eugf)t1g/g1P-w!vs!b3edjfvwt!*<<*!TwVfJdE5B!Se`jYgBgNv)tufbTpvmng!!>0!!utfvyjuevbssf!3+E!)fj{njbThwfo-j!!w+V!wo*p!j+u!dxffsjjhei!u>T!vbnu<m!fwef!d3"],uV.highlightFinalBlend=["?$TjWoodfmfvsedfT!u=jcm","~w!b<sszpjmophD!mwbfodj3g!!w>V!ws<p!mvpoDjhgbpssGn`!mthb!n<qfmvfmsb3WEf!hjenfb!h+f!<w!wv!o+j!gipushno!ftsbunTqfmhfesf3!E>!!fsephmfpUDfmybuovjsgf!25<d!fvwo!j<g*pwsVnw!!t-bfnhqbmnfjs)3sEp!mfpeDhufiUhfjymuivhsjfI3u<f!hv!o.j!g1p/s2n!!>g!mwpwb!uu!bfpemhgf!T<uxspfmoHhfuhie<f!!v+o!j3gfpvsmnb!Wgfmhpebfu!!,f!e2hffvHmmbpWxf<h!evfo!j>g!pfsvnm!bwWffdh5e!fn!b5tdlfDwp!m<p*sw<V!w\v!$-j3ofdsmvvueyff!U=fihjehfi)mEj3hfisuvEufyuffud!u>/!g3tf/vimfbbWef?h\ve!fw!p5jdef!wn!b<j*ow)V*w!!|-!2wffsdv5u!yffeUhffhWebfm)vEf32f!s>v!uuyf"],uV.fixColor=["~b!u<u*s1j/c2v!u-fe!fwnfsdp4g!tboQbpstuj)u5jdpfow<!!+\v!$yjjgseufbgN!xVfTjFW`mJfOeTpUNBvO!D+J!OyHj\vs!u\vb$Neufdgfjkopfs!QVvT!F>`!JoOpTjUuBjOtDpJQO`Hm`hG!M\vBgUj`eToIfB$E\vF!E~\v!!<\v*$*f1o/e2j!g-\ve!f\vn$sjpogdtmovbesfu!)=5jdoftwu!b+o!dyjjoshu/bwNtm/fiefpbNev?!\v+!!vnosjpggptsonb!snUbmub5d!pvMNqpjemfDmvW)j4fdxfNwb!u>s!joyp<j!uvjotjpgQpmsbnd!pnMbwu!5|!!vfNtpmeff!m~N!b<u*sojpyj<u!jvtopjQgbp)s4nd!fnwb!u>5!!ovpQjsupjktfpdQumNbbdupsMjwy!<|!!\v*$2j1g1!1N/B1Y!`=C!PxY/`^D4M]JnQsQpFgSt!o?b!s1U\vm!bwdbpsMzqjjomhD!vw)f!dg4j!!w\vX*pOsPmJeUQDpFtSjJuEj`pQoJ<M!D\v)$effooejjggf\ve!!\vg$jj$g\v!!e\vfggjjeooffe$)\vD!M<J*Q*`1E/J2S!F-DwUVJbP)O4*d\vf!ww!b+s!zyjjoshu!bwNfwdV4v!)w3Mdpfdwb!m>Q!pwtVjwu!j\vp*oW<V!`vFoTjVg)pesfno!jngbfue5!!gvjDmmfj$q\vM!p<d*bym/UwsVbbo!t-g*p*s1n/<2!!\v-$wfVobe)j4gd\vf!w\v!$+j!gy!jesfugbjNowfVev))D3MdJfQw`)E4JdSfFwD!U>J!PwOV*w!!%\v%*!QeJfMgDj`oWfVe))eVfWo`jDgMfJeQ!*%!%}!}*!OePfJgUjDoFfSeJ)EV`TQFJ`MVDW)*e\vf!objugufsej!cgvju$f\v!!w\vfgdj3e!obfV$w\v<!!<v*o*j1g/p2s!n-!enfbnus4p!gvtVowbNsbuu)s5jdyf<w!!\v+$!jygj!seufbgNjmoffeep)NDvM)J4Qd`fEwJ!S>F!DoUpJjPuOj*t!p%Q%e!mesfpgXjwo!f\ve1)!V?W!`SDFMQJQQJ*M\vD!`wYbPsCz`jYoBhN!!wgfjd$4\v!!w\vVgwj<e!o\vf$$f\vm!t\vf?\vz!ewpbcs/ztjwo/hh!owjfddo3b!uwtVowj<=!!\vf$efvomedjogj\v$!\v\v!$\vfHoOeJjDgO\vB!UwTpOjJe`!FnTbVj!og)f*e!g|j!$w\vf!d<4*!oupsjbuojttgppQsbn)f4ed!f>w!","~v!o<jsgppmspnd!!w>f!ds5p!mdppDmhpbss<G!`\vm$hj!g\v!?NzBeYp`cC/PtYg`/DyMpJcQqQjFmSd!=?!!f1e\vv!mwdbosjz$j\vo!h\v!?wzfedp4c!/wtXgp/sompejQupdtfjsujjEpqoj<m!d\v=$!ffoeevjmgd\vo!j\v$$\vj!g|!!e*f)gojjobfne!)eDjMpJwQ!`\vE?JeSbFfDiU/JtPgO/*y\vp!cwqbjsmzdj=o!hf!ewvfmdd4o!jw$M\vp!d\vb?meQbpftij/utjgp/oo<p!j\vu$dffosejjEgq\vj!m\vd$=j!gf!eevfmgdjoojf$e\v)!D\vMgJjQe`oEfJ$S\vF!D<UwJVPwO!*3!d%f%w!!ehfogjjzosfbew)!V\vW*`WDVM`JFQT*V\v)!ewfbosjzgjfoeh!!gwjfmdf4$!\vw!V<w"],uV.unlit=["~b!u<u*s1j/c2v!u-fe!fwnfsdp4g!tboQbpstuj)u5jdpfow<!!+\v!$yjjgseufbgN!xVfTjFW`mJfOeTpUNBvO!D+J!OyHj\vs!u\vb$Neufdgfjkopfs!QVvT!F>`!JoOpTjUuBjOtDpJQO`Hm`hG!M\vBgUj`eToIfB$E\vF!E~\v!!<\v*$*f1o/e2j!g-\ve!f\vn$sjpogdtmovbesfu!)=5jdoftwu!b+o!dyjjoshu/bwNtm/fiefpbNev?!\v+!!vnosjpggptsonb!snUbmub5d!pvMNqpjemfDmvW)j4fdxfNwb!u>s!joyp<j!uvjotjpgQpmsbnd!pnMbwu!5|!!vfNtpmeff!m~N!b<u*sojpyj<u!jvtopjQgbp)s4nd!fnwb!u>5!!ovpQjsupjktfpdQumNbbdupsMjwy!<|!!\v*$2j1g1!1N/B1Y!`=C!PxY/`^D4M]JnQsQpFgSt!o?b!s1U\vm!bwdbpsMzqjjomhD!vw)f!dg4j!!w\vX*pOsPmJeUQDpFtSjJuEj`pQoJ<M!D\v)$effooejjggf\ve!!\vg$jj$g\v!!e\vfggjjeooffe$)\vD!M<J*Q*`1E/J2S!F-DwUVJbP)O4*d\vf!ww!b+s!zyjjoshu!bwNfwdV4v!)w3Mdpfdwb!m>Q!pwtVjwu!j\vp*oW<V!`vFoTjVg)pesfno!jngbfue5!!gvjDmmfj$q\vM!p<d*bym/UwsVbbo!t-g*p*s1n/<2!!\v-$wfVobe)j4gd\vf!w\v!$+j!gy!jesfugbjNowfVev))D3MdJfQw`)E4JdSfFwD!U>J!PwOV*w!!%\v%*!QeJfMgDj`oWfVe))eVfWo`jDgMfJeQ!*%!%}!}*!OePfJgUjDoFfSeJ)EV`TQFJ`MVDW)*e\vf!objugufsej!cgvju$f\v!!w\vfgdj3e!obfV$w\v<!!<v*o*j1g/p2s!n-!enfbnus4p!gvtVowbNsbuu)s5jdyf<w!!\v+$!jygj!seufbgNjmoffeep)NDvM)J4Qd`fEwJ!S>F!DoUpJjPuOj*t!p%Q%e!mesfpgXjwo!f\ve1)!V?W!`SDFMQJQQJ*M\vD!`wYbPsCz`jYoBhN!!wgfjd$4\v!!w\vVgwj<e!o\vf$$f\vm!t\vf?\vz!ewpbcs/ztjwo/hh!owjfddo3b!uwtVowj<=!!\vf$efvomedjogj\v$!\v\v!$\vfHoOeJjDgO\vB!UwTpOjJe`!FnTbVj!og)f*e!g|j!$w\vf!d<4*!oupsjbuojttgppQsbn)f4ed!f>w!","~0!0<!eiJj!o>u!ts;p!mppjDuh-b!shGm`tmmh4!\v\v!?\vz0e0p!c$/QtSgF/GuJjYp\v=!!vfoejvgmpdsonj!$w\vf!d<5s!pdmppmdp!s><!!e\vJ$!j5gd!fNwB!Y\v`?CzPeYp`cD/MtJgQ/QyFpSc!q?j!m1d\v=!!wfbesvzmjdoohj!$w\vf!d\v4?!zweXppcs/mtegQ/potpjjuujdpfos<j!E\vq$jfmode=j!gf\ve!v\vm$djogj!$e\vf!g|j!o*f)eo)jDbMnJ!Qe`jEpJwS!F\vD?UeJbPfOi*/\vt!gw/busjzpj=o!hf!ewvfmdd4o!jw$M\vp!d\vb?meQbpftij/utjgp/oy<p!c\vq$jfmode=j!gf\ve!v\vm$djogj!$e\vf!g\vj?oefbef)iD/MtJgQ/`oEpJjSuFdDfUsJjPEOq*j!m%d%=!!effegvjmodfoej)$V\vW!`\vDgMjJeQo*f\v$!\vw!b<swzVjwo!h3!dwffwd!4h!owjVzws<b!w\v!$\vf*mWjVg`!FeTfVg)jeof"],uV.depthGrabber=["~0!0<!o$pQjSuFjGtJpYQ\vw!nv!o+j!gypjssnu!bnNboup5j!undpfekfpmsWqj!f>x!Nobpujsujjyt<p!Qv`omjhg!p~s!n<!*nybfuu5s!fqws!p+k!fydjusjupboNNmbfuespjny!<+!!bnusupsgjtcovbusfU!mwbfddp4M!qqjpmtDjvu)j4pdof<w!!\v>$!jogpejfugj!tHpSQBmCb`dOpPMSwN!B|M!\vf!t\vm$fe!f~g!j<o*fo!pVjTuFj`tJpOqT)U4BdOfDwJ!O>H!\vo!pbjuuujstjpcQvmubfd!pwMfwd!4|!!b*O2p1s1n1b/m1<!!=w!bxs/z^j4o]hn!swpfgdt4o!bwsOUpmsbndbpmM<q!jvmoDjvg)p!sgnj!!n\vbguj5e!ovfO$p\vs!n<b*myNfbuussfjwy!<+!!\vy$jfsmutbfN\vm!f\ve$penf)g4jdoffw!!V>T!Fo`pJjOuTjUtBpOQDeJmOsHp`XGwM!B\vU1`!T?I!BSEFFQEQ\vJ!M\vD$`fYoPeCj`gY\vB!Nv!ogjjg$p\vs!n<!ynfbuus4f!wv!V+w!NybjussujbyN<x!fbjuWumsfjecpvnu!f>!!wofpdj3u!jbtVpwQ<w!n\v!$5edffgwj!o<f*!1V/T2F!`-JeOfTnUsBpOgDtJoObHs`uM)F5HdBfDwZ!\v>!!\vy$fjuosdfmwv!e5fd!f=wj!o\vt?uzbeopdcj/othw//whto/jidfobbeu?t\vo!jv=o!jfgepvsmnd!onjb$u\v5!!~n!p<e{fzmyN/b*uesfjoyo<j!l\vt$!j+g!!fNtBsYf`wCoPJYy`jDsMuJbQNQeFoSj!c?)!!1>\v!!ewfbnsszpjgotho!bwsfud!4<!xw/XupishmjefQXpotjjlutj!p+o!<y!f\vu$sffoWeojjgl\vt!!\v+$!eXfugbjNoffo!pVcT!F>`,T!LeJfOoOoJjOlHt\v!!<\v{$/eufighjjoffX!oCjPlOtF!`+U!FyYfUuVsSfFW\vo!jvlotj!g+p!s[nu!bcNpfpomp!cv!V>t,f!Telfjoooojjloth!<<!z\v/$ujiohdjmfvXeofj!l=tt!l+j!oyofjuoshf/Wwotj/litf!b+e!?Z\vu!bvNofjogppcs!n>!,n!beuf5o!ovjDlmtj!q<Myp/dubimhUjsfbXootjglpts!n+<!!ywfbusszfjWoohj!lwtf!d+4!!YwuMbpNdfbompQcp!t>j,u!jepfoo<o!j\vl$tj!g<e*f1g/!1V)W5`dDfMwJ!Q>\v!!ewfbosozjjloth!!5wdffdw4!!<w*V1w/<2!!\v-$effmntsfp\vg!twobbsszuj)o5hd!fwwf!d+3!!ywjVswu<b!N\ve$ofjoce!j>g!\vy!fwupsjfeW!onjbljto!)5*d!f|w!!\v\v$gjjgeeoffg$!\vV!W<`{DzMyJ/Q*\v*!1w/V1w!!->m!bwnfsdp4O)uwdffdk3c)pv)V5wdNfbwu!s+j!yy!j+s!uwbfNdo4j)lbtV)w5-d!f2w/!1>*!*m-b!nbsVpwO/uyd*f<k!c\vp$!f\vmMtBfN\vS!PwOV`wC!B>S!Hw!fgdf3e)gvjV$w\vN!b<uysjjsyu!b+N!ewofjdc4!)+b!Vywj-s!u2b/N1o*j*l<t!!\v+$!ffotesjfgw\vo!J\vy$jjsguebfNge!oHjScB!C>`!OyPjSsNuBbMN\vo!jwlftd!4<!XpucbkNffdoupOcp!s+n!bxm/!u>i!hwjffdX4o)jblOtp!s>n,b!my*j<s!u\vb$Nfoojeljtg!\v<![wufbdN4f!oupscb!o+t!g{p/sunifhej!f>X!owjfldt4!)>q,p!tyjjusjupboN*o<j!ljtg!!<)ZvuVbtNffTolpjco!o+j!ozh/*u!i|h!jnfbXuo5j!lctp!o>f,N!byujYs!u>b!NhofjulCtp!o<fYNubbuNsfjoyp)ct!l+j!oyJ/oueifhyj/fyX*o<j!lntb!u>5,!!cypjosfuNbbNuoZj!l>t!!h<f*u1C/p1o)f5Nubbuns!j>y!)ytjlsjuobJNooejflyt/!z5*u<b!nn!b<u*5x!/cypfoefoNJbouj[l!t>)!yhjfsuuCbpNoffoNpbCuusfjhy!)>t!lXjuobJNofeofpyc/!{5*u<b!n","?$tjgo/dsmfvcecfb!s=Hcsvfgg"],uV.depthNormalGrabber=["~0!0<!o$pQjSuFjGtJpYQ\vw!nv!o+j!gypjssnu!bnNboup5j!undpfekfpmsWqj!f>x!Nobpujsujjyt<p!Qv`omjhg!p~s!n<!*nybfuu5s!fqws!p+k!fydjusjupboNNmbfuespjny!<+!!bnusupsgjtcovbusfU!mwbfddp4M!qqjpmtDjvu)j4pdof<w!!\v>$!jogpejfugj!tHpSQBmCb`dOpPMSwN!B|M!\vf!t\vm$fe!f~g!j<o*fo!pVjTuFj`tJpOqT)U4BdOfDwJ!O>H!\vo!pbjuuujstjpcQvmubfd!pwMfwd!4|!!b*O2p1s1n1b/m1<!!=w!bxs/z^j4o]hn!swpfgdt4o!bwsOUpmsbndbpmM<q!jvmoDjvg)p!sgnj!!n\vbguj5e!ovfO$p\vs!n<b*myNfbuussfjwy!<+!!\vy$jfsmutbfN\vm!f\ve$penf)g4jdoffw!!V>T!Fo`pJjOuTjUtBpOQDeJmOsHp`XGwM!B\vU1`!T?I!BSEFFQEQ\vJ!M\vD$`fYoPeCj`gY\vB!Nv!ogjjg$p\vs!n<!ynfbuus4f!wv!V+w!NybjussujbyN<x!fbjuWumsfjecpvnu!f>!!wofpdj3u!jbtVpwQ<w!n\v!$5edffgwj!o<f*!1V/T2F!`-JeOfTnUsBpOgDtJoObHs`uM)F5HdBfDwZ!\v>!!\vy$fjuosdfmwv!e5fd!f=wj!o\vt?uzbeopdcj/othw//whto/jidfobbeu?t\vo!jv=o!jfgepvsmnd!onjb$u\v5!!~n!p<e{fzmyN/b*uesfjoyo<j!l\vt$!j+g!!fNtBsYf`wCoPJYy`jDsMuJbQNQeFoSj!c?)!!1>\v!!ewfbnsszpjgotho!bwsfud!4<!xw/XupishmjefQXpotjjlutj!p+o!<y!f\vu$sffoWeojjgl\vt!!\v+$!eXfugbjNoffo!pVcT!F>`,T!LeJfOoOoJjOlHt\v!!<\v{$/eufighjjoffX!oCjPlOtF!`+U!FyYfUuVsSfFW\vo!jvlotj!g+p!s[nu!bcNpfpomp!cv!V>t,f!Telfjoooojjloth!<<!z\v/$ujiohdjmfvXeofj!l=tt!l+j!oyofjuoshf/Wwotj/litf!b+e!?Z\vu!bvNofjogppcs!n>!,n!beuf5o!ovjDlmtj!q<Myp/dubimhUjsfbXootjglpts!n+<!!ywfbusszfjWoohj!lwtf!d+4!!YwuMbpNdfbompQcp!t>j,u!jepfoo<o!j\vl$tj!g<e*f1g/!1V)W5`dDfMwJ!Q>\v!!ewfbosozjjloth!!5wdffdw4!!<w*V1w/<2!!\v-$effmntsfp\vg!twobbsszuj)o5hd!fwwf!d+3!!ywjVswu<b!N\ve$ofjoce!j>g!\vy!fwupsjfeW!onjbljto!)5*d!f|w!!\v\v$gjjgeeoffg$!\vV!W<`{DzMyJ/Q*\v*!1w/V1w!!->m!bwnfsdp4O)uwdffdk3c)pv)V5wdNfbwu!s+j!yy!j+s!uwbfNdo4j)lbtV)w5-d!f2w/!1>*!*m-b!nbsVpwO/uyd*f<k!c\vp$!f\vmMtBfN\vS!PwOV`wC!B>S!Hw!fgdf3e)gvjV$w\vN!b<uysjjsyu!b+N!ewofjdc4!)+b!Vywj-s!u2b/N1o*j*l<t!!\v+$!ffotesjfgw\vo!J\vy$jjsguebfNge!oHjScB!C>`!OyPjSsNuBbMN\vo!jwlftd!4<!XpucbkNffdoupOcp!s+n!bxm/!u>i!hwjffdX4o)jblOtp!s>n,b!my*j<s!u\vb$Nfoojeljtg!\v<![wufbdN4f!oupscb!o+t!g{p/sunifhej!f>X!owjfldt4!)>q,p!tyjjusjupboN*o<j!ljtg!!<)ZvuVbtNffTolpjco!o+j!ozh/*u!i|h!jnfbXuo5j!lctp!o>f,N!byujYs!u>b!NhofjulCtp!o<fYNubbuNsfjoyp)ct!l+j!oyJ/oueifhyj/fyX*o<j!lntb!u>5,!!cypjosfuNbbNuoZj!l>t!!h<f*u1C/p1o)f5Nubbuns!j>y!)ytjlsjuobJNooejflyt/!z5*u<b!nn!b<u*5x!/cypfoefoNJbouj[l!t>)!yhjfsuuCbpNoffoNpbCuusfjhy!)>t!lXjuobJNofeofpyc/!{5*u<b!n","?0t0g!/Isjfocuctb;s!Hhsmftgmg4v\vc!=\v!$fjeovdm"],uV.reflector=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pbQQbp)t5jdufjwp!o+<!!yvjosjugbpNsxnf!jnWbmuf5e!pnnp!e+f!myUjfsyuubvNsofpNjbuudsfjkyp<s!qv!o>j!goppsjnu!jntbpuQ5`!mnhp!e<f*m1N/b2u!s-joyp<j!uvjotjpgQpbs)n5!dnfbwu!5+!!nypjesfumbWNjffsxvNubyufsUjmyf<e!pvno!j>g!pwsVnw!!n\vbguj5e!oqfs$p\vk!f<d*u*j1p/o2N!b-uospjjyu<j!twpbQsbz)j5odhf!ww!f+d!5y!jwsVuwb<N!m\vf$ejpgn!)N4BdYf`wC!P>Y!`oDpMjJuQjQtFpSQ!e?m!s1p\vX!ww!b\vs1z!j?o!hS!FwQfQdJ4M!Dw`XYpPsCm`eYQBpNt!jgujj$p\vo!<|!!\v*$)foojebjng!\ve!jwp","~v!o<j*gbp/sfnt!bwcf!d-4*!sdppmmppds!<-!cvhosj/gfptsbnc!)tzbbnmqsmffwsP3eEo!fumEcj)g5gdvftwf!<>!!wsbpsmzpjDohhb!swGf`dm5h!!w<Vews<b!d\vt$jjeg!!*N/B2Y!`?C!PzY/`wDVMuJ!Q}Q}F!S/!2?!!?1!\vy!/wwbVsuz!j}o}h!!1w/f!d=4!!zw/XwpVsum!e}Q}p!t1j/u!j=p!oy</!w\vV$uf)o!egjjg!\v<!xg/mwpVbwu!!0c!mzfyo/ewPVwwf!s>m!bwzV)ug!m3pdbfuw!!c<b*twfV-w!!g-mfptbvug!gcjmEfuo)ek*p!s|Q!Es3ffusvvsuoy)fcub!t>f!!f=t!b1c/!65!d@f!w)!3\v/?1z!e+p!cc/bttgf/!y+p!ccqmjfmode=*!!f;e!v)m2d/o1j!$.\v!!3|/!1*!)+o!j)b2n/!1e!j.p!wc!b\vt?fe*b!f+i!/)t2g//1y!p.c!qcjmmfdo=e!*f*e*v<m!d~o!jw$f\vd!4~!!c<m*f*oce/Pewoffsmmcb!z-)cw/ffdt4b!cc)bztbfm-s!fwwfPde4o!fcmmcf!o-e**h!/|e!osffmucv!s-oh!/wfftdb4c))czmbfmosefPwwPfesomfbmzc)!c-b*tsf//eso-f!mc"],uV.envmapCubemap=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbssDGv`cmfh!!f\vogwjNeboqf<$!\v\v!$<jcohdsm/v*e*f*!{=zf/oodppjeujdofhs?j\vE!uwvpqjuev!Pnwb!j-oy)/*o!p|j!uhdmf`sGjsEbuhvDqpumvpPsw!!>)!4wdffdw5!)-1q/b1N-w!o1f/)1f-c!v1D/f1s-v!u2y/f1u*)<s!b\vf$ojjgMepfUgm!fVyTfFU`qMbJNOwFoBfS!\v>!!hcmh`sG/ssbphmDppDmhpbss/Gs`hmch!!>\v!fntbmqfU$f\vy!f<mcUhpsM/j*o*f*b{sz)/uofpyjuuvdsffsDjvEcufv)qfuovwPNwb!q--y!/wofpdj4u)d!fwsPjvEuuqv"],uV.envmapEquirect=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbss3GE`!mfho!w<N*bzq/<g!!v-onjcg!p-snnu!)wyfjdn3!!>u!fcyhfsm/Tsjp{mfp<D!h\vb$sjGo`dmmhv!e<f*!y=/fgo!d-psecj!o-hm?c\v)!y\vj$ne!f>g!jnocf!!4SdFfDwJ!Q<S*PyD/BgM!`-QsJu!!1-/m4u2)9y4j1n:!9>9!7n2u9!448d:f1w8!\v\v!g\vj$eeoffg$j\vo!f<!cShFsD/J*Q*SwPvD!B-Mq`bQNJw3o!f1)/!2E63:f2s6v5u:y5f4u1):s2b9f:o6j4M6p\vU!mwffydf3U!qfbrNvwjosff!d>u!Vmwc)!j4od!fwwf!d<4y!/efj{sj*T!m|f!ygfmup!b>u.!!vy!/>w!vb!u<bcoh)se/j*s*/w{v-!!-.qebjNsw/oyf*)!!+E!3SfFsDvJuQySfPuD)BsMb`fQoJj3M!p,U!m1f/y6f<U!qgbmNpwbouf!!w>!!>s!c1!/46d!f.w!!b<tzj/of){djmTbmnfqy)feuj!s>/,z!-z!/.w!v2!/<1c-h!s2//*1**w*v!!+-!qSbFNDwJoQfS)P!DEB3Mf`sQvJu<y!fsuf)usvbsfoo!jwMfpdU3m)fvy-f!Uwq*b<N!w~o!fw!p>j!es!un!b4jdof)w*!!<|y!/hfm{`jGTsmbfhyDfpum!p>s,!!>y!/wwfvd!5<)c1h/s1/-*!*1w/v1!--!q1b/N1w-o!f2)/!1E*3<f!swvfudy4f!up)vsubqfvoujEMjpsUfmdfuyjfpUoq!b>N!woopfs!n>b!mmju{!f4)dwfPwv!u\vqfvtumEfj$s\vf!d<ucjhpso/**<*!wwvf!d-3q!bvNww!o>f!)f!rEv3jfssfvduuyVfwu))psvbufqovjuMEpjUsmffdyufjUpqob*n<!!>w!fmdc3!!4gd!f>w!!g<syb/dfu{)jvTwm!f0y!fuuf!y>f.m!Tyj/{wfv!!.<!c1h/s6/**<*!wvvw!!-.q>b!Ngw!o+f!)u!fEy3ffmsTvju{yff<u!)\vs$bjfgoejfMgp!UVmTfFy`fMUJqObFnB!S>\v!!swcf!d44d!fuwm!!<>z!/nfb{qjUTfmyffymfUup!M>j,o!fzb/sw)vu!f<ycuhvss/f*3*Ew!v)!f-oqwbNNbwqo-f!)v!wE*3*f/ssvhucy<f!uv)ws/byf!o,j>M!puUfmyffymfTUjq{bfn/!y><!!swuf!d4"],uV.envmapBlur=["~b!u<u*s1j/c2v!u-fo!pwjfudj4t!pqqp)t5jdufjwp!o><!!obpujuusjjtcpvQu`fm!hw!f<d*3y!fvewo<J!fbdubugs!j-cwvvu)fo!pgjmupdbfus!jgEbudffhJ!o>e!foyp<j!uwdbfsszjjEouhv!qwufvdP4w!!w|P!v*u)qovjubEnj!sefjdpuwj!p~o!<<!owpfjdu4d!fhsfjueE!jossfvduufjsp!o~)!w<f1d/32!.v!w>-+!!g{m/pobpuj!ugdbfdsfj*e!!||!!v*w1!/>6!!3>/>1!!f+d!bvgw)!!.g!j2!/f1t<m!fw!f~d!4<!1e/j2s.f!d>u+j!pzoy!/>o!pwjfudd4f)svjwe-!!<2z/{1y*/<o!pjjgu!d)fgsbjdef!!>>!>o!p1j/u1d*f!s|j!ee!j|s!f*d1u/j5p!o>!>>!!fedjbsgf)d!ugjjp!of/t{mzfy!<~!!~<!1f/m2t.f!!>j+g!!{)yg/bodpfj!u>d>f!s2j/e1!*<!y|z!{e/jospfjduudjfpsoj!e>!!>e!jospfjduudjfpsoj/ey!{|z!<*!1e/j4s!f>d>u!jfpdob/gy){!!g+j>!!f.t2m/f1!<~!!~<!1f/m2t.f!!>j+g!!y)/gobpdjfu!d>f>s!j3e/!1|*!","~w!b<s*zsjpomhp!Dwhfbds4G!`wmPhv)umqfvyufEUjusvfqduuvjPppoU<s!bvfoojjgmp!s>n!!stpbmnpqDmhfbss3GE`!mfho!w~N!b<q*<t!jvyobj!g-pbsunf!ijuo)uf!mtqbnnbqTmuffth<!!+v!o^j!gjp!s]nt!ugimhpjbfux!!x>f,j!hcihust/]s!pom!p^D<h!bvsoGj`gmphs!n<!*ctpjpymb!!m-bbuujfuivue!j+o!b1m/<2!.v)ofjmgqpnsbnT!ugfmhp!b+u!!^e!Uji!f]utbu<i!hvjofjxg!p>s,n!!cghmsp/bsup!mnpjDqhJbosuG<`!mvho!j<g*pjs)nu!bwpfmdg4!!+q!pbmuffBiyUjet!<>!!\vb$ujfoidum!vuebfp!m=gf!o~d!p<eljbofhs?c\v!!|\v!$*etffgmjqonfb!tF!O>W?N!BjQ)`!UgZjQ!F|`!D*V,C,Fj`!V<Wo\v!!=\v!$jj!o<d2m!v>e!fj!!=udovjc)f!FsopwgS!f<g*mtfjdyubj!p-o1G/T1?)\vf!mwqfndb4T!uhffhu!T+b!n^q!m1f!)]gtmupibhuj!fuxi!f>u,b!-c!hwsf/ds4p!mbpyDjhtb*s!G|`!mghm!p<b*u1!/d2p!t-U1i/f1u!b-!1>/!1d!p-t1)/u1i)f5udbf*w<!!>w!fsdp4m!ptDbhnbqsmGf`Emjhs!f<d*utjjpyob!)>f!{wjPmvbunqsvpuoE!j>s!ftdjuyjbp!o~!!+<!*dyp/toUpijfuudbf!s,j!Edusvpqtutv)Pbwy!j.t!--!1w/P1v!u-q{v/uoEpjjsufddfusjjpEou*v!q+u!vtPjwo))4udiffwu!b>*!!t,j!ybby!j|t!!*+*!*e*p1u/)1b)y4jdtf-w!!w-Ptvjuyqbv)umEbjvsrffd)umjmpbo)*!!g+j!!)<2*/o1p!j.u!ddfpstjUEiufvuqbu*v<P!ws!f-utvjsyoB!fcmjpmqj)otftbpssDdv!c;f!VtWj)yfBofwmNpbqq!-@!!tmbbnoqjmefvEujjsufbdmu!j>p!ot-j!ynbj!q4Jdofuw*!<|!!~*!)wopjjben!"],uV.oitBackBlend=["?$TjWoodfmfvsedfT!u=jcm","~w!b~s!z<jeoshb!dwtfjde3!!|w!V*w1</!1v!o>j>g!pbs/ns!ptmbpnDqhmbfssG3`Em!hv)C!bgdjl!D<p*mwpVsw<!!-wsppjmep!DnlbdjboC)v*)!E|3!fhsmv`uGysfbuh!D>p!msp"],uV.oitFinal=["?$TjWoodfmfvsedfT!u=jcm","~w!b<s*z!jbo/hs!pwmfpdD3l!dwbVcw!<,!!vbo/jsgppmspnD!utobpnsqgm!f-sc3hEs!/vsGpsmppoDulDdpbmcp!s+<!!svfojjmgqpjsunm!vtNbbniqqmmfbs!3,E!!cvhCsb/dslpDmppmDpuso<p!swgp!j)e5!dnfbwj!o>)!*s!p|m!pwDfhdb5s!Gg`smpho!u<Dbp/msppsm!p>D!uuofpysugv!s.f!31E/)2v!G>s!psofujDmpqmjpusm-v!NwbViwq*m<b!!wufbdp5m!gc!b<d*lwDVpwm!p-ss!p>m!puDflydubvCsvf)3E"],j.common="~$!e<f*gwj!o-fv!)Q3Jd!f4w/!2o5s2v6u:f3s7!6<466/91:!8,:!4J\vQ!`\vM$BeDfPgSjQoJfD!FQSJ!3+!!7*/*319/422!9-614/128!2.8!:-6z9/7s\vj!e\v)$qenfbgmjdo)fo!jQtJb`!I>B!MwG!!u2b/p6m8g1!8<:67/413!7,8!:35J9Q:`7M7B\vD!P\vS$QeJfDgFjSo!f+!!S*FyD/JsQjSeP!D-B{M/`sQjJe!)1o/b4u2b9!4>1!:v9!9u7b2p9m4g8!:|1!8*\vs!j\ve$!e4fdgfjwo!fo!jS)FwDVJuQdSfPsDjBvMr`fQ!J33d!f1w/!2~6!:<216/52:!5.4!1>:>2!9^:!644!6]\v^!!\v3$!e]fng!joosfv!uFfQsT!J|M!P*On!!25fu.b7n\v)!y\vj$sjugboNeffwgj!utdbfuqvtssbfuQft\vj!!\vm$pepfcg!j~o!f<!*tcbhusv/ssbpumfp)db!*-!tdumibhnjqf)xb)-u!p1e/!1o-s!v2u/f1s*!\v<!*\v3$3f8o1e/j1g!\v-!3g6m2p8b/u1!!q-p7x332)3d/p1o)t4ud!fjwo!!>g!mtpubiuh!jyf*x!!|4!dsffwu!v|s!o*!syp+myp<d!!~4!dgfmwp!bouj!!quptxo4p)dd)pfodtoub!ojjon!vgMmfpwbjuu!bym*f!S|p!Ussfbufvosjom!!yu+byp+myg<!!~~!!<gqmnpub!uo!sqvpuxf5s)!d<p*o{t/u^!!j3o!!]gnm!p-b{u/!^y!*2!!|]!ng!m-p{b/u^!!y13!!]>n!)y4+dyf<w!!s>f!u^v!s3o!!]yq3n+uy!3<<*!z~/!^g!m3p!b]un!!n-bzy/4^)!d2p!o]tnu!!-jzo/!^w!f1d!4]!nw)*4!d|f!ws!f>u!v^s!o2!!n]bqyn)un!b<y*)yw//^y!-3!!w]/nz!*--y!/w^/!{2*!<]!n~!!-gym/p^b!u1!!b]wnf)s4bdhffw)!d>p!o^t!u1!!j]oq!nwuf!d<4q!ndup!m4pusb*n!!||!!s*fnu!v4suob!ne!pouj)!duptmoppsd-)!4wufbdN4f)t1p/q4t4o4b4s*u*!<4!u~b!ni!j~h!i<q*!{gzmyp/b*uy!jssbuoben)!d+p!o*t1u/!1j!o-!swjfed)35!dvfww*)!)|f!{djpmobtnus!pioj!hoisqv!ugfmsp!b|u!!*by!j>s!u2b3n/!:59u:b9n-!!ocj!!>-!s8j9e/!344d4f-w!!do!j>)!o5p4j8u6d9f/s6j5E6n4s<p!gitjohbisqU!fgtmspfbwuo!je!u4!d>f!we!p~u!)<v*w{/zyyz/-*!*w1f/d13!)-bs-jce*)*5-d!ftwo!!+>!!ynjpseu)benu)-)!fQ{Jj*m<b!nssfpuov!soos!vgusfbsd!u|)!t*jyoj)stuob*n!!+5!udb*n<!!o~j!!t-ussjved!u4!dJfowd!joejf)ooupMjjuhdifus!j|E!nwsfpdg4t!odbpsmup!s4<d!fwwf!d<4~!!e\vjgsjfedoufj$p\vo!<<!mcbpnpsmp!Owujbtpjdcsmbff<m!d~!<4!dtfuws!v\vdUuB!PSDfSgBmFfMdDu`fFeTMVj!hgifue!g|j!$w\vf!d<4s!jeEjxsffjdwu!E4jdgfgwv!t<fm<b!nwsfpdo4!!4edjfswf!d<uoTpqjfudjvtmpbqs!<4!dwffwd!4|!!juoyefjusofpdDudEjjsgugfvntpff<H!!wufddv4s!ujto!e<j~s!f<dsubTmqvfd",j.packing="~w!f<d*4s!bqgb!d.l!O[pqsjnmbDmwUopjS!H+C!)*dspboftou!!.j!os!bwgf)d)4!!0o!p*ssnbbgm!*+!!|s!bsffou)v!soos!voupfssn!b|m!j*{sfb)go!pusbnpbmmg*!!o+j!!1u/t6o!p,d!!1-/s6b<f!o~!!uwbfpdm4g!!voojq!budtloSpHdC!U-p[OqpjsmnDbwmo)jd!puobtpum!gj!oo!jw!fudt4o!psdh)c[*x!f|j!WspfUuivusqof!E3f/w1j!u+d!fsqhtcs/fyqz!{u!b.p!m2g/!1~<!!<~*![dxpfojtwu!!+g!m*psbbuf!oQ!b.d!lsVbqgt)d)b!m0f!!*>s!b3g6!7+/!!*0[!x3f6j6w/!<,!!dspboftou)!)g!mopsbvuu!fVso!q|b!d*lsEbpgx!outbdpbmmgf!!o>j!!3u6t6o/p!d0!!-3s6b7f/o<!!udbppomtgu!!owjf!du4t!oQpbdd!l-G[bxdfujpws!tu!b>p!mwgf!do4j)!3u6t7o/p!d+)!i3u6q7f/E!f+w!j3u6d7f/q-t!s3f6Q7p/U![+x!f3j6w7!/u-b!p3m6g7!/~*!<<!sdbpfoot!u.!!w*fsdb5g!!V.o!qsbbdfloG)b!d+u!p[sqtj!m>D!sVbofqobjdml!Eopsxvoutfdsb!m|f!!*0s!bwgf!du5b)pQmbgd!loGjb!duutposptd-!!-2s/b*f<o!!dupboptmug!!gomjp!buut!oTpidj!g-u[SqjjhmiDus9b!f>o!j2m/!!u0b!p3m6g7!/o<j!!wuftdo5p!dq)b[dxlfEjfWqpuUiiUupqSfHECdBj)idqpbosthup!ijuos!pg!mupbbpum!gw!*~!!|<!*wsfbdg5!!.s!!s>b!fwof)d!50)!g*ssbbdfuo)!w,!!+[!xQfbjdwl)G!bodsuvpusfts*!-|!!w**s<b!gs!/uzb{pxm!g.!>o!js!/uytzo{p!d+!!-Tsibjfgou!Sujbhpimug9!<o!js!fuutvospod!!s-![+x!fQjbwd!luVbqptmdgb!mofj<!!u~t!ogpmdp)biuu!qvfoEqdbjdilqSbHsChBpUipuEsfPqpuUi[)xjfoj!ww!fudb5p!mwg*!!~|!!<s*f*u1v/s6o6!3e!p0u!)xw/-w!)V!o,q!b{d/lwG!b-d*u1p/s6t6*3<!!0~!!zw/fwd)5!!,q!byd/lw3)I3bdmfgwU!poSsHvCuBf)sw!f|d!3*!ww!*5!d|f!ww)fgdm5b!Is3!p>U!BwCfHdS5l)dwb/qyo-v!!g3sdbfdwu!)~w!/<y*!x+/!s3!6-61//16*6-3!!w0/!zx-/!sg!s.b!d{u/)sw!/-zz!/+s!!3-616//616*3*!<0!!szf/usv!s.o!!yw/fsd)5",j.bsdfs="~$!j<g*oEe!f+g!!HV)T!F+`!VGC!Po\vs!vvuofjsg!p<s*nI!Ogumppeb!u-!tgtsffotjoofjmiJto)uhfooptijQuozo<j!m\vC$`fEo!e>j!gE\v!!uwbfpdm4g!!C<S*E)Gu`jMdbjnmcqfnsJu`)hdoppoitQuo!ojjom!Cw`fHd!4>!!eHj!gugbvptmfgD!p<m*pIsW*u!p|e!!s-f1u/v2s!o-!sSpFmDpJDQsSbPmDvBdMf`qQtJ)!l+d!jemjigdgTv`tGf!D>p!mGp!s4<d!f~w!!w<f*d*4s!jGE`gTmdbiim!j-dslj)Edxpfojtwu)!ujpoe!)wffudb4s!vgu1b-t!!d>p!oItWuu!pjeo!!ugbmppmbgu!!<g*:*1s-j!Edgpmobtiu!!-jmob!ngsmppob)uu!peep)ufWuIb*s!v|u!bgtm!p>b!uI!Oguspfet!oufbmp!m>g!!f<y*qs3j)E)x.f!j6w/!6,6!5s8j4E!u+i!hejpmu)WfI{!j.m!b7n/s:p9o4!2>7!*s!j+E!gempbuiW!I4*d<f!ws!f|u!v*stot!fgosjfotjoiftm!Juobupfmogt!joujz!!u+t!o)pgd1!!-+s!p)m2p/D1s!b.m!vgdsffqtto!f4md*f!w,!!o)jg!:u1t!o+p!dg!s-fmtbonfsmp*o*!<4!d~f!wg!mopjb!uu!tWo`pHdH!Y-`sTjnEjxufijDwp!s4sdffmwb!uofje!)udtpooptdu!!-jsoj!Egumiphbjum!!b4mdqfiwb!-o!jd!puottoup!dj)oh!ogpmipQbouo!jempCu`OGME-S!Cd!p4odtfuw!!j~o!!<g*mtptbfuo!jeopjuiOtW!*-!I|O!ugpmep)bxup!qb!3+!!>*!1q/p2x!3,)!b6m/q1i!b+*!<t!tgfmopjbouj!ihtw)!!>+!!eJpQu`OMMB!D+P!StQrJsDuF)Sb!3o!s,v!u)f2s/!1|!!.*!IbO3u*p!e+!!uqbppxm3g)!eopju!OuWt*o*p<d!!g-mtptbfuo!jhomj!i>t!!eupbupOmWg!!+o!jt!rustuo)pbd3)!h,o!p)i2Q/o1o!j.m!Cb`3E*!!u+b!pqmpgx!3~)!e<p6u3O/M1*!*o<s!vsuffusv!s|o!!*1)/u6j!d0j!mnqbnyJ)`hhwo!p,i!Qhomo-j!mFCQ`THJ!MuPbOp*m<g!!~~!!g<m*pubmuv!tEf`sH)H4Yd)fdwp!ootsuv!ujfos!!g<m*psbpuu!dbbmGqnisbp-G!sdppuodtfuw!)jsop!ugdmbpGbnus!peGpfusOfIi*q!T|e!fgqmqpjbmuD!`bD3U!M>!!>q!puxm3v)tbfmsq!iubb*p<m!gg!m<p*b^u!!1e!f]otpens!p>p!dq!p-x^3!)4e!p]utOeIs*p!p+d!))sbp3u!d.b!G2n/s1p*G!s,p!u2d/f1W<f!hsefFu`vDsUoM!!S>F,D!JsQpSuPdDbBGMn`sQpJG!s+p!ubd3f!w0!!<q*p^x!34)!e]ftoepsnp*p<d!!~-!^w!f3d!4]!tCeSsEpGp`dH)HsYp)uddpboGtnus!pjGos!pwufddf4W!fmhjehFi`uDEUjMs!->!,d!psoptuud!bjGon!swpfGds4p!uwdjffwx!E<j*s^-!!3d!p]otteus!pjpod!!w-f^d!42!!o]ptsensbpmp-d!)dsppoutdub!Gjnos!pwGfsdp4u!dgf1W-f!hdepFo`tDuU!Mj!o>!,g!msppbuud!bgG:n1s-p!Gdsppoutduf!wj!o<!*g^m!p2b!u]!tsepsvphpido!f-t^t!*1!!|]!tgemsppbpud!)bsmpquidbb!G>n!sqppGxs3p)usdpfvWhfihoefFt`tD*U<M!!w>f,d!4s!piubdmbgGEnjssp!G>s!poupdsfnwb!m<j*{1f/)1m)j4hdifuwE!j>s!!s,p!uwdjbfGxnEsjpsG*s<p!ugdmfpwb!u4!defpwu!O<M*!^>!!4t!b]utvessbpupfd))efp{uj)mobpnssnpbom!->!!m^j!h4i!u]Etjess*p*p<d!!g<m*p^b!u3!!e]ptueOsWp!p>d!)tfb{ujvmsbbnusfp)oe!p>u!)^o!p3s!n]btme-s!pwpjdf!x<E*j^s!*2*!<]!tgemsppbpud!)efp{ujOmIb!n>s!ptob!u>v!s^b!u2f!)]etpeus)poppds!n<b*m^-!!1i!b]mtgeEsjpsp*d*)<f!{gjmmpbbnus!peop!u>W!I^!!>1!!t]btuevsspbpudf!)<e*pQu!).w!j^f!x4E!j]st-e!sipbpmDguEdjfss*)*!<+!!wufbdn4!!>G!!^>!!4G!`]Ttdeismpjpddl!)<g*1Q-!!.g!:^1!-3!!e]ptueWsIp*p<D!ugdmfpsb)u!!+W!!u>b!nW!`>H!H^Y!`3T!n]jtueisDpppsds!f<m*bQu!f.e!)^b!m2q!i]bt-e!sepppuDOuMd-f!se)p!u+O!Wu*b<n!!g>m!p^b!u2!!E]!t>e!sEp`pHdH!Y<)*bQm!q.i!b^-!!1e!p]utOeIs*p<p!Dsufdufvss)o!!+G!!u+b!n)!W>!!+^!!E1*!<]!t~e!swpfpdd3!!<M^U!D5`!V]wt)edsppoptdu!!4jdof!ww!f<d*4*!OO!--!3dUp!o-t2uU!)j4ou!bwnf)d44u!bWN-f!tdppqottoub!sjuo!!+g!mwpobJun!!s>p!vuhbino!f4tutb*n!!|<!*d2pUo!t-uO!)gtmtppbsud!!M.V!U>`!T3JU[!F<!*>*!O7!5-/W1)<u!pdep!o+t!uO!!g.m!pWb)uf!{MjVmUb`nTsDpBoM!F>!!>2!U)!M<V3UU`!T-J2[UF!!4.d!f2w/!1<**!10/!1M)V4Ud`fTwJ![oFs<v!udfpso!t*u1!/g1m!p=b!u*!^M!V1U!`]CtJeBsTp!p>D!u1d/f6s!!0.!!MQV!U-`mTbJn[sFp<O!ugimhpjbmu)!ueppeu)OgWj!!><!*t3bwu!v-s2bwu)ft)teppsud)!O>-!!mWb*n*s<p!Owufidh3j!mv!w4!d>f!ww!f<d^3!)1s!p]vtheisopfptDtu-d!ftsr!s.u!)^2!/41!!].t!eesppupODWu*d*f<s!!v>w!!3>w!!v4wd!f+w!!M<V^U!`1T!D]BtMeFs!p,p!DMuVdUf`sC!J.B!T^<!!2s!f]utvessop!pvDwu<d!f~s!!g>m!p2bwu!!4MdUfDw`!D|m!j*q^q!f5e!T]qtiefsspfpGDpusdnfGsb!d4udpfsw)!dopjo!tuut!ojpod!!w-fwdo4J!ng!*4!u|b!ng!mopjb!uu!tmo!p>d!!m-fQo!h4udif)wg!*o<j!!suftuovpsdo!!-nWb!y4)d)fmw!!+o!jm!!u,t!ogp/d{!*-!O0!!4)dmf!w,!!o2j/!1u*t-o!p1d/)1f*u<b!v~m!bwwfFd`4D!UMMU!D4`dFfewh!f~W!f<dbuupfsiGuposjntG`bbduufpisu)!d+p!o*t3uw!!j-o2!ww)ftdt4p!swd2!-o!sdvpuoftsu!!<jwo!!.w!f*d*48!.wf32*!!-|y!!g+m!pyb!u.!!y1!/>2!)eypbun))wu2s-r!twf3t*s<f!wgomjp!b+u!!6z/!1>!!;b!cwt!)@y!**<1!/g1m!p?b!uy!)b!!>>!!b1u/f9i6u5o4j:t9`6b!u,f!i)u1!/u5b:p7m6g2!6<6c!!,0!!1b/!1>2!5w6!3u1b7p!m+g!!z<*z!!++!!z*<z!!g,m!p5b3u8!7c2!7>2!/45/)5!2,8!61:5",j["ubos.head"]="g$jjegoeff$g\v!!V<T~F!`\vVgCjPe\vo!fv$o\vj!g<pssbnm!vTddffqotf!!4|d!fnwb!u<5p!jvuQbsSpokpfjduudNbbsugsfjsy!<u!bnpbmug5!!<vtWtjffoxjNobjuistj!yu<b!pwmfgd!4\v!fvtDmbfn$f\vs!b<QspptmjpuDjspbom<v!dgfmqptb!u4!dvfUwj!n<fs<p!mgpmDpnbjus!!u4pdoffwN!b<qsqfjxophQFnyjqsp!tuvbspfm<g!!w<fzdu5j!tvoGfpuhoDJpsmbpmsv<d!fgqmtp!buub!pvmGgp!h<Esfpojt!juubzp<m!gg!m<ptbtuf!ovlGdpjhiOuf!busb<p!mggm!p<boup!jvtGtpjhnGtbosb<s!u~!<u!bvpomjgg!p<stnt!fNobmubfusfjnb!mu!b|p!mggm!p<btut!fbopiNhbvqpJso!uufboptmjgu!z\v<S!CgQm!pgbfue!gmjj$h\vi!u<NybjqsJuobuNf3owtVjvu!z4<u!bgnm!p<byuj!seujbtNqwmVbvd!f4nufbonu!T<dzbumjft<o!fgumopJbmuf!oetjftsqgm!budbfpnmfgo!u<CujtbftU<b!iwqfmdb4!!uebjpgmggv!t<fz<u!jwdfbdq4p!!funbjptmtgj!w<ff<m!bwdfTdm3b!nosp",j["physical.vs"]="~b!u<uysfjucsvfuwf!!+w!fydj4s!ubbQNputdjfukjppsoQ<v!!b>u!uospjjcuvjutfp!Qw`fmdh4!!\vb?Ozpespncb/mt<w!/\vq$bjNgxepfmgg!=V!TfFe`vUmBdOoHjF$O\vU!\v\v!?bzueupscj/ctvwu/fq!bwNfxdp5e!buibto=h!ffoeuv<m!d\vo$jf$o\ve!j<g*\vy!f\vu$sjfgwe)f4gd!fVwT!F>`!VoWp\vj!ubjutupsQjwcNvwu!f<!ywffuds3f!wb!V+w!<y!j\vs$ujbgNexffgj!WVmWf`eDpMNJvQ!\v>!!wybfsuzsjfowh!!\vggmjpebouf!$w\vV!w~M!p<d*bymfVu<s!f\vw$!f+o!eyjjgs\vu!bwNbmsfzejpoNhv!!w+f!dn3s!pwgVtwo<b!s\vU$mjbgdopeMfqgj!mVDTvF)`4VdCfPw\v!!>v!oojpgjpusjnt!pnQbmub4d!pvMVww!N|b!ufstjmyf<!!~\v!$<f*ooepjjgu\vj!t\vp$Qfbo)e4jdgf\vw!!\v>$!jogp!jeufjgtjpoQfmeb)dVpTMFw`!M|J!H*I2U1N1B1Q/*1!!}=}!!xe/f^g4j]onfsep)gVtToFb`sBUPmNbBdQp*M!q}j}m!Devf)g!jgojf!e\v)*VOTPFJ`UVDWF3S*J\vE!`bQuJuMsDj)cevfuofj!gwffed!3g!jb$V\vw!3\v<g!jwebosfz$j\vo!h<!*wyffdu3s!fwwV!w+3!<y!j\vs$ujbgNomeffegp!NVvT)F4`dVfCwP!\v>!!voopjjgupjstnp!Qnebmus4p!XvwV!w\v3*NObPuJsTjTyJ<N!T\vO$BfSoUe`jFgT\vV!)\ve$ffoojegjfge\v!!}\v}$!j1o!d?m!vSeFfQ!Q=JvMcDp`tY/PiCf`bYeB?N\v!!}\v}$!j*oQdBmNvWeOfF!`=FjToVt)uebfoodjjgofhe/!wgtj/$i\vf!b<e*?1\v/!2v!o-jegfpnssnp!gntboub5s!uv)N5pdeffwm!W>j!fyxfNubsufswj!y5<d!fvwo!j\vggpjseno!fn$b\vu!5<!*vxN/pueoffmhNobbuus!j+y!<*!uvoofjhgopbsUnw!!n-bmub5n!svpOOpws)ntbtmpNsbdu)sfj{yj<m!b\vn$sjpgoo!e>f!gu!oVfThFo`bVuCjPC\vw!!v<o*jugopfshno!bnUbeuf5n!svpQgstpokbfsduu)Nfb{ujsmjbyn<s!pvoo!j>g!pusonf!hnobbuU5w!!v\vWgjjfexoNfb$u\vs!j<yu<o!f\vh$ofboUeejfgn\vs!pwgbtsozbjsouh!!.w!f>d!4u!owfOhposbnUbemf<n!s\vp$gjtgoebfsgu!!V\vTEFF`EUJBTO`HQFJOMUG\v!!gwfbesgzjj$o\vh!!<w{fzdy4/!*w*U1b/o2h!f-ouuo<f!hwobbsUzujdofhk!cwpf)d54d!fwwC!j+u!byojhsfuobuN<m!b\vn$sfpoOevj)g!\v>!!wubosfzhjoobhU!ewffnds4p!gwtNowbQsput!j4udjfpwo!<\v!U\vO$FjHgO!BeUf`gFjToVf!eg)fVeTgFj`$F\vO!W\vNgBjQe*o!f}$}\v!!N<BmYb`nCsPpYO`wD!M.J!Q>Q!FmSb!n?s!p1O!w}!}\v!EeFfEgJjTo`fQeJ)MVGT!Fg`fUeSgBjO$T\vN!J\vT?TzJePpOc*/\vt!ww/bhsozjjdoohb!uwtfodj4=!!wfXepvsmmdeoQjp$t\vj!u\vj?pzoe<p!c\v/$tfwo/eqjbgN\vu!o\vf$njfgd!bemfqgtjjoef=e!)fDeMvJmQd`oEjJ$S\vF!D\vU?JzPeOp*c\v/!twwb/shzojjooho!jwlftd=4!!fweMvpmddbomjQ$p\vt!j\vugjjpeoo<f!$v\vo!j<g*p{szny!/nubouf5h!ovbDum)j4qdMfpwd!b>m!UusobfohtogbpUsund<f!k\vc$pf!o4edjfgw\v!!\v\vU$OjFoHdOmBvUe`fF!T=Ve!jgtfqemgbjd$f\vn!f<o*uoNpbjqu/jwttp/Qibf)b4ed?f\vw!!\v>$!jeofdnmsvpegft!o=btsluj!o4odjfowh!/<w*tm/binfsbpeO?b\v)!4\vd$fjwo!d>m!vmebfn!s=ptOiubdefpkxcNpb!q4/dwftw/!i\vfgbjee?o\vf!$\v\v$!j<ozdym/v*e*f2!!=-g3mwpVxbN)b4qd/fwwt!/+i!fybjes?u\vb!Nw3pwjVev!)n!b>j!o3)wwVpwj!e\v**!3|W!V\v`$FjTgVe)fegf!oVjTgFf`eV!W}\v}!!w*VQwB!N>P!B)`vFVTwVN)beufsojjyg!f+e!!w}f}d!4*)QbBVNwU-I!H2J/M1`*F*T/Vy)ze<f!o\vj$gjfgee!fggj!$V\vW!`\vDgMjJeQo\vf!$w\vV!w\vMgpjdebomfV$!\v>!!<byV/w",j["lightsCommon.fs.head"]="~v!o<jfgdposbnj!ewbfsds4j!!bonscvjuffosu!M<j*huiiuhDjpfmXpfst<v!gvgojjEgjpnsfni!!w-fsdp4m!pmDjzhlitu/QusiphcjfM]j:n^f<i!!w-fsdp4m!ptDieHofvupJsshs/bueijhbjoMdjfnBfui))jyoj!nw!f>d!4f!doopbsjnebbms-s!jj!o4!dwffwd!4<!6t/i1D!p,f!gMgOjudpjef!o+u!t6]/:1^!*>!!|u!ighmjpfbXuf!tyv!g>g!joEpjsnnfbim!/uyb-p!mzg!!><!*ooppsjnubdmf/szj-e!/{u!i>h!joMpjsnnfbim!/-{m<b!nwsfpdo4)!uspfet!v>m!uM!O>u!ptei!Dupbfpgmggj!d|j!f*omubtn]s1p^o!!+4!d1f/w9!9o7j3!3u8t<o!psdf!t-vumiuh!j,M>j!ntfiiD!pufighgjjMdfjsffoiuqtt]j2n^f!I+!!o3j/!1u!t+o!p1d/)6f2d2o7b7j5e!b+s!szJ<u!ishfjtMvfmsuf!i,q>t!jtnifDIpuffghg!j4ddjffwo!u<tu]i3h^j!M+f!s3f/i1q!t+j!n1f/i6!2u2i7h7j5M!f+s!f{i<q!tsjfntfvIm!un!s,p>g!jtoivD!p<f~g!g<jedfjmfcobuotf]!4m^p!p+c!!3</s1p!m+p!D1e/o6v2p2s7h7!54!d+f!wy!<<!sspfmtpvDmzul!t,!>4!dtfiwD!p<fogpgjjuddjffsojuet!]45d^f!w+!!|3!/u1i!h+j!M1f/s5f3i:q1t5j4n!f+I!!yu!d+v!szu<t!!s\vfgtjvemouf!$,\v>!!<t^iTDUpIfHgJgMj`dBjFfSoBu`tU]D6F^S!`+N!V3O/]1t!u+i!h1j/M5b3f:s1B5u4d!f+s!!zu!i+h!j{M<b!fssfBtuvdmfuS!!,n>s!ptgijDopvf!g<g3j`ddjufmo!uEt3]s7f^m!q+n!b)t1!/n8s5p4g2j3o6v!!+<!2{`!d+u!m{!!E.3!s1f/m3q5n8b8t1!9n*s<p!gsjfotvv!m<u~!!,<>s!btmivDdpffqgTgfjmdcjbftojuet!]m8p^p!c+!!<3e/f1m!c+b!o1f/!5m3p:p1c5!4<!u+i!hyj!f+I!g{m<b!is!f4tdvfmwu!!<,i>u!etjiXDgpmfbgig!j4ddjffwo!u<to]p9j^u!j+t!p1q/!543d:f1w5!4<!s+p!m)pyd!!+4!dyf!w.!!|z!!u+i!hzj*M<b!fssfBuuvdsfoS!!sufdtvvsmuut<!!\v~1!!w?f!dT4U!IhHfJuMM`jBhFiSuBQ`sUpDcFfSJ`sNsVbOe!jgbjo$d\vf!)\vdgpjoetouf!$j\vo!!~w!f~d!4<!fmtjmhbigu!Q>s!pfcmfc]j:t^j-w!/dupiohtjum!!j<o*!1w/f1d)44!dofpws!n>b!ms*p!m|p!dw/fudi4h!jxmp!s|m!efOtpmsfn!b~m!!<>*!*j1o/w1f)s4tdffUws!b>oat!gsppsmnpEdj/sufidhujjmp)o!)>o!pfsmncbjmt-j!wv/WujifhxjNmb!u<s*jzyb*d<f!ew/fudi4h!jjMsuspbqetj!b-ofddfo!b>u!ttjieH/fuuiJhsjsMbuepjqbto!d-ffBduo)bxuptsjmEeuOiphsjnmb)mo-p!jmujbhvioufQusupBcffd*o<b!ustfjuEvusfoh!!j>s+s!bsepjmbpodd/fu<i!h~j!mw!f<do4p!jhufbuvBonfcujufBouupMqjth!i+u!Jsspsmbpedj/buoidhfj)Mduppoqttu!!>j!os!pwmfpdd4/!ubinhcjjmf!o<u*MsjphuidufDWpmm)pisu*h!o|f!mw!f>d!4f!djosbsubtejjEbuoidhfj!m>!!ubbnpcmjgf!o|u!M*j1h/i1u!D?p!moppsj<u!bsvfoufvusuoB!ujpsqstb)e!jgbjo!d<f*<t!p~D!fgmmhpobbu!!-htfpuDEbjstcunbvoodffqB/uuuifhojvMbuupjqpto!)-dtppoDtfuo!pjdo/!ugimhpjbMuu!pmqjth)ioupEjjutbuvboofdufu-B!udppqoTtuuf!hj!o>!!gomppjbuub!vdovfuupugBguEpjqttu!buobdpfm-g!!d<p*ootpuj!ujdof!sgjmep/buui!hejfMdubpzqFty!q-poopfjouud*f!s|j!ej/gu!i)hdjvmu)pugpgeE!j>t!utbpoDdffm!h?o!b1!/u1b!p%m%g!!e<f*dsbpzuFdyfqWpmo)ffo{uj!m?b!n1s/p1o*!!>|!!ospfjuuvdsfos!jqep/xu)ithbjumv!s<boupfj)u.j!tmpjqh/izusEujftnupbfohd!f.!!0o!pdjvuujptgpgqE/jutiuhbjoMdufp!q,t!!2>/!1s*p-u!deffWdmb!z4Fdyfqwp!o|f!o*uu*i<h!j~m!!sufiuhvjsMou!o2f/e1j<d!o~J!!gumvppb!u-!zhsfuufTnqppfuhB!uuuyffouvobpuDjdpjos)udfpnoptfuH!!jooj!!gumtpobpud!!d-puoifhDjpMtujpoqft-!!udiphojtMuu!pjqoT!!gomjp!buut!oqpfdo)vpngcosJbuDiphtjjMoufp-q!Tdupfoht!ue!jjpow!!g<m^pTbUuI!HbJoMh`mUfPDQpTt`jNoVfO*]!t|u!ishfjuMvuspoq!tt!nupiphujiMtuupfqqT)!dnpsopfgDjpotvj!o<f~-!!<qeffomvcnbcosfb!Dmpptpjco!f<-t!pbDobhsmcfnDvpotfjqo!fu*b<p!m~g!!\v<$tjpgD!fOoVpNd`!EuJbSp`mMgJ!H<IzUbTd!f?e!!1u\vb!ptmugs!v<dfud!oEbjustfjdeu!jupbopbmmgM!j<hsipum!p|d!!w4fddf4w!!e<jospfjduudjfpsoj<e!!w4fddf4w!!d<pomppjsu<j!tcppqp!m4!dffowb!c|m!fuei<h!j~M<u!pvqoTj!gupdsvns!uEtj!s\vf1d!u?j!pToUbImHMJjMh`iUuP!QeTj`sNfVdOu!jgpjo$b\vm!M\vjghjieuotf]$O\vV!N~`!E<J*S*`1M/J1H)I4UdTf^w<!!>wap!jsep!mhpfdu/Eujishfjdmu)j!p>o!bfmmMcjjhtijuwJ/ougiph)jdmp!o<t*uz!bjdof!eE/jusifhdjuMjupoojbpmqM!j-hfiduo!beujtsjfed/uujiphojbMmuMojjhpiqu!--!fddpoobtuut!jjEou!iHhfjpmn)foupsjjudbDvpoofuufuyBuf!dhofbpuntfjuEsuzf-h!!p>v+u!!sJpomdpjde/fuoiuhMjjmh!i<us!pmmjphdi/uu*i!h|j!Mmujohjipuq/!d>p!msppsm!p>d!/eujishfjdmu!j<p*osbpmuMdjfhWimu)/iduphmopfsm<!!>m!jfhdioub/uetjjsEfudiuhjjpmo!!u>b!pemjgs!f<d*usjppuodbfmWMmj)hfi{uj/mebjnssfpdou!j>p!oo<p!jmujdhfisuj/ew/jutijhcjmmf!!<>o!pujsuvjft<p!q~/!z\vs$uffonepjfgh\v!!.\v!$ojpgj!uOjVtNp`qQ/PuJiOhUj`MMuJoHjIpUqT!!>?!!s1p\vu!dtfuWsmv!d4ud!fQwp!j|o!u*Mujihhijum!!|u!iwhfjdM4u!oqfpetjjduojJp!ou<v!pw!f-dz4s!udfpnmppfsh<!!ugymfpuboup!Dedjjtsuubfondpff<H!!gomjp!buut!oepfdd!b-zu<i!hcjpMpumo!jfpoqb!cumifhej<M!u~o<j!pvQo!jogjp!sunt!oQppdj)opugMojJhuiiuh!jqMpujoojupMQjuhfihu!te]jOpVwN!`<Q^PTJUOIUH`JM",j["lightsCommon.fs.body"]="gHjfeponff$u\vs!j<d*DupiohujfMyeuf!uhdffpmngffuss!z-<m!bhjfspfnufbuns!z-/zqsputfjnupjfpho!!->f!d.o!bwjWejbfSxuQbpptdjsubjfpmod<!!-hffdponbfjuesbzs/soJpmscnjb!m-!f>d!oobpjsenbbsm)<s!bhmfvpdnffquTsuzd/fwsjjfexoEJj`sF!S>!!\vo*pssbnmbvmdjf{qfT)uwdWfjsfjxeQopJt`jFuSj)peof*o<j!g\vf$ej!ggejf$g\v!!V\vTgFj`eDoMfF$B\vS!D<P*BuUi\vh!jhMfepfnufdufsmzg/fdsm!f-bmsbdjpsbfuuObpns!n-bzms!u>f!ndpmffhb!s-dfpdboubOjpesbnsbsmj<)!f\vt$vfgogejjEgu\vd!fJsojdejoeJf`oFuSM!j\vh*ifut!vegjgsjfEduudMfjshjieuo<J!`\vF$Sj)ge!f)oOjVgNf`eQ!PgJjO$U\v`!M\vJgHjIeUoTf!$?\v!!1\v*g!j%e%o!fe$f\vg!j<o*ftet)fSoFi`hEvjpsSfudbup*d\vs!bQfpmjdo/umMbjjhsifuu!bqnp!j-omubMnjshpiOuu<b!p\vd$sVbOfSmPdM/Mz`sMuPfPnQp`fThU!B-SsUj\vE!xgfpjsw!/)zjsouuf!njp!f>h!)1f<d!ojb!j=e!bOSVMNC`JQuPfJhO!U>`,M!JfHdIoUbTj<e!bjS!u,b,p*d!s|b!fqmpdj!o\vuUMBjPhDiSuB!F>M!Dq`pFjToVu!Mgjfheigujt$]\v!!j<!*^t<t!fjogi!h)vqppsj/omubMjjshfiuub/nf!o-bmcbmnfsep*o!/|z!shuffunQppfjho!u-MsjjhEixufJjowg/pz)squpfjnopufMhj)hfiduo-b!jhefbpSnMfCuJsuzf-h!!e>j,s!ffdduoMbjjheibus*!<\v!*SsFb`mEvjdsffqdTuu)defjssjfedouJM`jFhSi)ue-f!ohjfgpfnef!u%s%z!-*!QnBbNuWfOsFj`bFmT-V!)seffgomjfgdfuef!egMjj$h\vi!u\v*g<j!e~o!f~$!\v\v!$\vVgOjSePoMfM$`\vM!P<P*Qm`bFnOsEp\vo!/\vz$sfuofenjpgf\vh!)\vf$djogb!j)eObVsNs`JTMQCPJUu`fMhJ!H>I,U!Tf!d?o!b1j*e!b%s%s!Jemfcgjj!o\vf*eW)VS`FF`CEVjDs`fFdQuZ*U\v`!QTBqNpWuOMFj)heifuo!jtgqfpeu!M%j%h!i*uE<S!B\vE$OVBOUSTP)MeMf`oMjPgPfQe`!T%U%B!S*UQ\vB!NgWpOsF!`)FjToVu)!ejf!o>j!g1f<e!!jg!j=$!\vO!V\vNg`jTeQoPfU$`\vM!J<HfIdUoTb<j!ejb!s,s,J*q!b|N!utiqhpjumM!j>h,i!uf!d>o!btjqepbusMsjjh!i<uztu]j!tjo!f^u<o!Jjqgb!N)utiqhpjumM!j+h!icuh/sf/o*bmcfmyffeU*q!b|N!uhifhujTmq)psubMfjohjiMupJUoCgHpS)tt!q>p!ufMdjohbijue-b!shsfJpqnbfNuusizh-j!me!j4sdffdwu!M<j*h3iwuV*w<!!-SqFb`NEujishfjdmu))Ee3jfssfvduuyMfjuh!i>u!-m!fhyffpUnqfbuNsuzi-h!jnmb!u5fdsfjwb!m\v-Q!BsNfUgImHfJdMu`fFeTMVj!hgifue*g<j!$~\v!!~\v!*\vf$tVvOgSgPjMEMu`dMfPsPjQe`oFJO`EF\vS!)\ve$ffoojegjfge\v!!g\vj$$j\vg!!\v)gOjVeNo`fE$J\vS!`<M*J1H/I1U)T4!d?f!w1!*>!!%f%d!oebfjgejboSfueb)pSdFs`bEfjmsdf!d4ud*f\vw!!E<j*s1f/d1u)j4pdofbwm!M>j!hfiduo!bejjesbfsd!u4jdpfowb!m\vM*jshbimuv<d!f\vq$TVuOdSfPsMjMe`oMJP`PFQS`)TeUfBoSjUg\vf!eg!pgsj!$)\vj!o\vug!jje!o>f!$1\v<!!~j!!<=*!uOiVhNj`MEeJfSu`dMfJmHgIfUsT!<-!mjb!j,s,f*u!b|n!!e-jzssfudfunjppfohb!m-MujihhijuM!u>d!fesjjsef)duudjfpsojbEm`MFjSh!i\vu?tz]e!pjc!/^t<g!/jqgb!N)xepjesbfidtu=j!pfoebvmmMdjohji$u\v/!f<ofbvcsmuf!e>*!!f|m!chjftujEwj/sufidhujjMpuodbfmsMjjeh!i<uoJpojgupd)fesjjsef/duuijhpjoMbfmsMfjihqituj-n!fhif!p>n!foupsjzu-d!fesjjsef/duuiMhjjhMiuud*f<s!jSeF!`<E<j*smfbdnus)peoj/szfsduufMnjphfihu!--!uhifhpjnMffussfzi-q!tnjbnuffis)jfbdmo-b!jsefbgsmsfJduuifhejMMjfhsifui*q<t!j~n!f~I!u\vf$hV!O,S!PsMpMm`pMDPuPiQh`jFMOuEo\vf!j\vc$nfbo!e>j!gs\vp!m\vp$dj/gu!i)hOjVMNu`dSfFsDjUe`!B|S!F*Be`fMmJcHbIoUfT/!u?i!h1j*M!f%s%f!ieqftgjjnoffie))!SgFj`!E\vj*sufddfus`jSEf`dFuSB)seffbo*j\vg!fSef!dgujB$s\vf!b\vMgjjheiouf!$s\vf!d<u*BmsbfnbsMpjoh/izus<u!f\vn$pVfOhS!P-MfMc`pMsPQPuQi`hTjUmB)SfUd\vo!bgjpesb!s)sjJofuc!pjs!Q>u!i1h<j!Mju!f=h!!O>V,N!`fSdFoDbUj`eBbSsFsBj`!M<J*H1I/U1T)<4!djf,w,!*>!!|f!dsofbdjueBbssfsbjM!j4hdifuw!!><!*s1f/d1u)B4sdffbwM!j>h!ifudto]bjj^e<b!sjsgJ!m)csjf!d4udBfswf!b\vM*jfhtivug/gfjoEbucdmffsej*e!o|J!`SFFS`)Eejfsofjdguf`eS!fgdju$B\vs!f\vbg)jsefodfu$B\vs!f\vbEMOjFh`iQuP-P!Mh`fMpMnPfSuOsVz$-\v!!n~b!u~f!s<j*bumi-h!jsMfegfmufd",j["lightsPBR.fs.head"]="~t!u<s*vodpuj!tQvimzdtdjPdubomfNjbcunfbs!j,b!m1!/|2!!w.f!d*4*!1e/j2g!g.v!ttftDfpomiphsv<p!sg!m+p!b1u/!7s2p!v.h)i3oqfytft!<-!owpfjdt4v!mtdqdfPduvomfbjscDnpbm!p,s!<W!Ogumppeb)ux!ptqq)ffduvbmsbvsuGb:t1!<o!s\vv$ujfgse!f|g!!*VtTtFf`oDiMhFvBpSsD!PuBbUp\vm!gg!mopjb!uu!tdompfdb!s-doppbjut<v!mgdmdpPbuuo!fdjmcfnbbs!dupbbpumSgp!vohji!oufttotp<d!!w-fWdO4u!pdem!fubbspdmpgb!uoGj1!<u!tgomppdb)uo!pdjmtfvbmsdddpPbsubGm:v1d<f!q\vT$ffuoveqjngp\vd!!\vu$bjpgmegf!g\v!mVbTdFj`tTzIiFQF`Os\vb!mwvfddf4q!TtuidfffsojDepomJp`sF<S!!gsmbpmbvud!ftqiTfufdofSspjvehoiJo`fFtSt!<f!o\vj$gffoee$j\vg!\v\v!m\vb$djjgtezfigQ!`JfPtSv\vg!ggjmEpubduf!sjjpeso<J!`\vF$Sf!ofetjvgg\vg!j\vE$ujdgfesfjge!oVJT`FF`SU!SfBoOjTgNfJeT$T\vJ!P\vOm\vb!dgjmtpzbiuQ!`ubsfbsoBtundjftSt`jupdof<s!jgEm`pFbSu!!bufssbBoutdnfjSt`tujdpfosBjmEq`iFbS<!!fgomjpgbfue!$u\vi!j\vdmlbodfjtttz<i!Qg`mupdbfus!jbEu`uFfSo!vubdufjspjoEE`jFtSu!bfoodjfg<f!ew$f\vd!4\v!gbjueuoffo$v\vb!u~j!p<o*Dtpemsppsp<D!u\vd$ffso!e-j*g1\v/!2~)<4!uwbfnd!4-!odpmjfubjstdppqb!u-TsqjfEdxvfmjbws!!->m!bwnfsdp4o))1f/u1b*v<m!bwwfFd`4D!UtMi!f+f!osTpqmfpdDvfmtbvsg!g>j!ew/fmdb4j)s1f/u1b*n<!!+g!msppbmup!DJuCiMhTjimf!f>o,C!SfEtGv)gdgpjoEtuud!fjsoj!ew/fudi4h!joMpesfnubdmf-m!gdfpso!t~u!!<j*ot!ewsfpdp4D!uwdjffsx!E-jwso-J!nd!p-ootpuj!ujjot!pgqm!p-bsuj!Esxpfvjhwi!o-fmtbtn*s!p|o!)gfmupbbvum!bewpFu`ODWU!M>!!+t!bmufvostbfusfg)!e+p!us)pomppsDnubimh-j!mw!j>f,x!Esjbsm*v*d<f!qgTmupdbfus!jse3/!u>i!hsjpMvehfiuodfftmtg!f+s!!s<p*vzh/i3ouf!t+t!<*!sgpmmppbDus!bbm!v>d!fsqptv/hmibojfstftu!b=n!!1./!3*61!/@2!).44d4f:w/)3!!,+!!ys/33!u,!!+2!7s2p/m5p!D+s!bsmpvvdhfiqotf/tmtb!j.s!f3u6b/n:)!!;>!!.m9f/o5t9f!s+g!!s43d!f,w!!2<5*/!4*!x+/!2sup!v-h1i!o-f{t/t2!u.)!4:d/f:w6!<-!*g1m!p-b2u!!-c1!!>)!4sdpfvwh!i-o*fzt/t2!u=!!-11/!3-6y!/@2!u5)54/d1f!w+!!)s43u!b.n!!3>4!/w8o!J+n!!s4puvbhni!o<f*twtv!!,-!34`/d3u7m!);E!32f/s:v8u!y+f!us!3>!!.3!u4!/53d8f!w+!!<s*pwvvh!i-o2f`tdtu!m,)!E13/f8s3v<u!ygfmup!b>u!!2EuH!!5>d!ffwy!q<)*bt!t+f!oeiphuvOpWs!/,m!bcj*s!f,u!b)ns!p-vshjiEoxfftjtw!!=-!m1b/n3s6p!o@)!w1V/`1D!U;M!!1>/!2w!v+!!3)dsfpwv!h|i!o*fstbtm!v.d!f1q/T3f6m*c*b<t!jsef/uuvishoj!MtbbfusvBsubduffs)aE)H!!g+j!!S<FuDiJhQjSfPIDgBmMb`iQ!J,*!<i!u~e!jwXfgdm3b!iE!G,H!BtqpqQsupiyh)jdmp!o>t!u^!!j4o!!]wtfeds4p!poDpusdnfbsm!-<!udiphojtfuI!gjmob!iw!f,d!4i!uwejjfXxgEmjbsi-!!.d!ptoptQuu!ijhoj!mg!m>p!b^u!!3s!p]vtheisopfptDtu*d!f|s!!g<mupibhuj!feIpgumObWi!!>.!!tibuuevjsXbgumfb)ie!p.u!)toppQsunibhmj-m!!w>j!f^x!E2j!s]*t*e<s!pdppDoutduf!sw!f<du5i!hdj1f!I>g!mwbfid!5.)!.i!u2e-j!X.g!m1b/i1!3,8!6t-p!Q.u!i1h/j6m8!3>-!!^1!/11!3]3t*e<s!pdppDoutduf!sw!f<d^5!!5d!2]!t>e!swpfpdD5u)d2f-s!!14/d1f5w3!6<-s!p2m/p1d5/-u!i.h!j1M/b1f5s*B<u!dwffsd!5>!!ss!p>m!psDpuvihhijomf!t4td!f+w!!d<1u!i,h!jdf2I<g!mgbmip/buui!hbj1M1b5f!s>B!undjfos)!s>/!yu!i+h!jsf/Iyg-m!bfiy!q43d)f.w!!:</i3u9e!j+X!gempbuiO/Wu*i*h!j+M!bsf/syB!u,d!fss/!z><!!iwufedj3X!ggmbbci!!>4!dwffwd!3<)o.p!j2u/j1t5p-q!/2u/i1h5j*M!b+f!sbB1u1d5f!s,!!>s!/t{pxQ<u!ishfjumv!s4od!fgwb!c<<o!p~j!uwjftdp4q!/Fzoswujfsnppofnhf!o>u!CoSpEjGu)jdtppoqt!u4!djfow!!w<fsdj4E!xofpjswn/bzms-u!fdnppofthu!!>j!os!jwEfxdf4j!ww!j4fdxfEwj!s<-m!bdnpsoptou/!zjsou!fwnfpdf4h!!t>q!fmdbvnmsbpsoD!p4mdpfsw-!!|d!p*outiuh!jjMoe!fgumdpfbmug!ftsq!fudivhmjbMseGf:u1d-f!mdgpfoSt!uu!vjpoo!jg!m-pmbbuj!ssfpuvbhni!omfbtjts*f!u|b!Nwmfbdd3j!tgzbicQ!!>o!jE!GuHtBoqpqds!p-yz)soupfsnnpbfmh-!!uwyjffuxoEpjDsd-j!ssupfvnhpifoHf!totj*!<u!tsofpudv!s-ou!ithqjfMdbvfmsbBsuDdpfmsp!su!i+h!jgMbbcf/syB!u,d!ftSq!fodjv!mubtsoGp:d1)!m+b!dgjbtcz/izQ<`!b~f!swBpujdef!Sd`pundqfvsujfEN`vFmSu!jetjdpbwu!u\vf1s!j?o!hT)UdIpHoJtMu`!BjFoS!Bw`fUdD4F!So`pNsVnOb!mg-j!$d\vp!o~t!u<!fjdoo!bwjfedb4s!swJjeffxuEijhsj-f!Xdfpoojttup!dj!o+!!wfftdv4g!gtjqef!d>v,m!bfstDvpgmgpjsE-u!ddfpsojteuo!jj/ou!ighmjpMbeuf!utdqffmdgvfmsb!s<Gf:d1o-b!jdepbostsuJ!ejfou!ighmjpfbXuf!osjptvphdi!o+f!thto-j!sjfoupuvbud!Twjfudm4v!nt!j>o,h!msfbTmdvbdufuqfTsu-d!fjsojpevouj!/wufidh4j!MnevfmuudjfTmdgbfusu!f<sh*o!j|s!fwufudb3d!Tgfbmch!o>j!tE!G+H!Bfqdqosbpjye)bosp!s>n,b!ms-b!mwvjdffxqETjusd-f!ssjpevohji/oufithtj*M<e!fwufddf4m!gGftst!F<t*t*!h>o!jtsqffuduvbmdbTsjDupmmvpns!!,+!!hgobjcs/fyu!u,b!dtTqffmdhvomjbts)G!:.1!!1+/!2g)b!c+/!zs<p!mgpmDpfbtuv!gFgtjte!/>m!bgjbscf/uyb!n,!!>g!bfct/vzg<g!jgem!p4bduf!wF!n<t*!h>o!j2s/f1u!u.b!dFTtjtu<m!vwnf!d-4h!oGjbswfhu!u>b!dtTqffmdhvomjbts!D-ptmtpfso!i,h!v)p2s//1m!b.j!stfqufbdnv!m-b1s:DGpsmbpmsv*d!f+q!t1//m1b5j8s7f2u:b<n!!w-fsdp4m!pGDnstb!m>v!dGftqttF/tmtb!j+s!fGubbwnh!!-0s!j)E2x/f1j!w./!zFsnutf!n+p!fGhb!w-hm*b<n!stpjoo/hzmsfuTfdnbpufuhf)sh!o,j>s!fGututbFdtttj<u!mnvvNmfuujvTqdnbpudu!f<sJ!Q,`>M!BGDnPtS!Q+J!DFFnSt!<+!!~f!dwopbjjee!bSsFs`jE!j>s!ffdduo`bQjiezbtsjsdJbemf)udiphojtfuX!fjooj!tJpodd!j4edffowu!M<j*h1i/u1!)e4jdsffwd!u>M!jhhoijus-f!udupbodtTuj!ujmov!nH!f4pdnffwu!s<j*d1D/p1o)u4fdyfuw!!h>f!phnofjussfzu-u!bddpToftmuh!ojjot!!Q4idzftwj!d\vbgmjNebouff$s\vj!b<m*!tntbfuofishjvbpmS-o!fjfoiptv/um!bSjfsgfmufbdnu!f-esMjjEhxifuj!ws/fzgsmuffdnupffehM!j-hmibun*s!p|o!/gzmspubfun!pefphu)OGME!S>C!otfbfuivTsMbCuJf!)+e!psup)mhpfDponfffuistz//mobpjssnfbumb-n!!e+j!sffddoubMjjehbisus/je!j>s,f!dsubjmpvod*f*q<T!owfffdi4t!!j\vsOsFbFeIjTb`oFdTfV!!>g!feepgujO$M\v!!+\v!gejjesoffd$u\vM!j<h*itut/fdopimhpvsp<S!u\vb$pjdgsebffgm!dV/TmFb`jDsMfFuBbSnD!P-B1U:\vG!ugbmppdbsub!fempdu/OmMbdjds!f>u!btnb!u-v1sGbuubfp)despbuf)mhdf/pmnbfjussfzu/bdnm!f-bssjdEpxbfujOwp/sznsbumf-n!pefjhs!f-dmubMnjshpiOuu/bepjdssfbdfumjdp/oz*s*u<f!nwpffdh4)!GdEdSJCsusobfenjobposdjfw!o>F!!e+p!ufOdModbdj!e+b!SeujbspfddsubMfjmhdi!u>/,d!psmbpmsv<d!fdqmTfubbspddpsbbufTmqdf!d\vvUmBbPsD!S,B>F!MdDd`JFsTsVb!egjfbeogdjf$!\v+!!|C!S*EuGi`hHjHMYe)feujdsffmdgufMsj!huiiuh/jeMjesffuddufjmpgof-S!!hufvppnofju!s-zm/bwjjsffxuEbjns!-m!bhjfspfnufbuNsmzb/ddjmtfzbisQd!pobju!Ouptsonpbdm!--!znsbuuffnspjfbhm!/udymffubospdDpdbjusGu1f-n!pnfbHu!fosjj!bumt/odpmdf!b-sfddpobbujGe:b1S-u!bnpbdusfbsfjmbdm!/4ddmffwb!sodjp!buutSoppvdh!i-offdtotb*j<e!b\vs$sfjo!e4jdgf\vw!!\vo$jj!guetfogp!dV!T-Ff`dToIbFjFeOb\vs!!t4idfffwo!Toqjf!duvtmobpsd!),m>b!djjstszbieQj`bsobdmfv!d+f!qCTSuEdGf`sTjiefofJo`)FeSj!sefjdpuwM!j~h!i<u*/sepjmspfDdfutjvpgog-j!eh/fmpbnjfsufsuzb/nw)jufsxfEcjnsb-M!`hGfEpSnCf!u+s!zf/doopbsjnebbms-s!jn!b>u,f!sfjtbvmg/gtjiEfufdofDspjmeposj-/!unibhujfMsejfbumd/ftmigfffso!S|p!v*huiiohfjtMte*f<u!d\vf$mfgofesj!gu\vi!hsjfMgemffudduffmegMfjSh!iuuv/peojjs!f-dmubTjqsffduvbmnb!sm!b,j>s!fjusbsNbmebjdbjotdzfi!Q+!!oCjS!EuGt`oHpHdY!)-ezjssuffdnupMfjhh!iuuy/feujospfDddujjspuof-n!phffHp!nofju!suzt/owpjdf!x-Efjdso-b!jhefbpsnsfju!s4zd/fowp!sonjb!mu-t!onpbdu)fmsbjdbjmt/ztiqQf`dfvtmvbgsgDjpEmupdsf-s!jnebouJf`sFjSb!me/jtpqwf!d~v!m<b*ssGp:m1p-D!fntbvugfgsjjeb/mm/bsjpsvfhuibonf)tuts*f<c!nsbfMg`mGfEdSuCf!e+M!jfhdioub/jeejbssfsdju!E>j,g!gfvt",j["lightsPBR.fs.body"]="gQjiezotfj$d\vb!m\vNgbjuefosfj$b\vm!!<nbb/u*fwsVjwb!m-<q!bnNbtutffsojibhmv/peSjogfgfvittf)DEp3mfpssv!u>y!feuj!g>g+v!ttftDfpomiphsv/psShocf!f+i!t)/2m/b1j!s.f!unbfnu!b\vmQoBfNtTtTGFbOdIuHpVsP*S<O!FwFfIdT4`!FeTyVz!!g>f!engbjy$)\vb!c<t*)1e/G2e!y-)8h1f/p1n!f-utstzfOopishnvbpmS*o*f-f!ibtc)tq)nebGmedz!)>h!ftptnffouishzvOppSsonfbfmi*t*/*m<b!jgsmfpubbun!!h\vfgpjnefoufs$z\vS!p<vchhiso/f*t*tw!V>w!!n-bqyb)Nnsbpym)peDyozf/fyi-t!)eEy3zf/szv*u-y!feuy)zs/b{f*o<j!MnpbUumffsyjfbUmq/bsNpsvphmipoDfotftf!i>t!!n>b+y!)ssppmvphDiooffftittG/bmdbujpssf-u!b1n/!1\v6Q3B6N*S<P!MnPbDuOfFsFjIbTm`/FsTpVv!hgifoefgtjt$!\v,!><!shpfmppnDfoufsfziStp!v>h!isopfmtptD<o!fnfbiutf/smjbbjms/fsupbvnh!i\voOfFtFtI!T>`!FnTjVo!)gnfbeugfjs$j\vb!m\v/gsjpevohfi$o\vf!t<t*-1!/22/!1-*t<t!fnobiuhfvspjSbumb/ptdqsfbdfvmmdb/smDbpjmspfsu!b>n!)nojjyn)!w>f!dt4t)f1o/i1h5v*p-S!uebjpgdgsvbtffmDdp/mmpbsj/ssfhucb-n!!n<ftutbfmooifhtvtpGSbzdsuupfsn*p<f!hn!b>u,f!stjtbfmo/ithqvfpdSvumbbpsdGs:b1f!m>d!/2m/b1j<s!f\vu$bjng!e<f*g6!3J6P1S/\v1!!n-btutffsojibhmv/pjSpusb!p>d!sjbpfsm<d!/\vm$bjjgseffugb!nT)QyFbDnV!M>B!St\vt!fgomiphbvup!StuqbfpddvsmbbfsmJdo/umfbojtsjfuuzbGnb!d<u*pusb!p>d!stbqffmddv/mmbbsjJsofuufbont)jfuuzb<s!vwufbdt4!!>t!qufbdpvdmsbbsfDmpdm/pmsbGjbsdfuupbsn!!>\v!gtjqefodfv$m\vb!s<Dzp/m*pwsV<w!!n-bqubfNstjtbfmo/ithqvfpdSvumbbpsdGs:b1f!m>d!)nEj3yf)stvqufydfvum!b>s+J!otutffootijhuvzpGSbudbuppdss-b!f2m/d1/-m!bnjfsufbumbonf!t\vtQGBbNdTuTpFsO*I<H!V\vP$Sf`mUtBfP\vD!SgBmFpMbDu`!FtTqVf!dgvfmebgsjJ$o\vu!f\vogtjjeuozfG$b\vd!u<pys/!*>w!V2w/!1-<q!bwNfudb4p!dtsqbffdmvdm)bEs3DfpsmvpusyGfbud!u>p+s!!u>b!pwdfsdb4f)m2d//1m*b<j!snfbuubfns!j\vbQmB/NtUqBfPdDvSmBbFsMGD:`1F!T>V!!2g/f1e<g!j\v$$\vf!o<e1j/g2\v!!>n!b1u:fGsujbbpmd/stbqffmddv/mmbbsjDspfmupbsn!!><!*n5j1y/)1n)j4od)fqwp!x>3!)1)Gnubbupfdssjbbfmm/dj/pmsb!j.s!f2u/b1n*!!<0t!t)fnobiuhfvspjSbumb/pjdpssb!f,m!d2!/>1!*t*t!f+o!ithqvfpdSvumbbpsdDspbmfpmsdG/bmdbujpssf-u!bwnf!d<4u)b2p/d1s*b*f!m+d!!t>q!fudbvpmdbssbJfomudf/omtbjjuszfGubbdnu!p\vsU-B!PeDjSgBgFvMtDf`DFpTmVp!sg/fsehgcj-$!\vn!f\vugbjmeoofft$t\vG!b<d1u/p2s!*><!!1\v:$Gfsmbtmfv\vd!fnqbtu/fmsbjjbsmf/utbqnf!d<v*msbpsuDdpbmGptst!f>o!mnbjuyf)nw!f-dc4h)s1//s1p5m*p-D!fetjvgg",j["toneMapping.fs.head"]="g$jjego!fa$e\vf!g~j!o<f*es)pVmTpFd`)VfCuPb*s!v%u%b!t)!eofsgvjuoffse!)<VstpfmMpjdo!f+b!suUbpNoufvNqbuqvqPjToFhD*B!!}>}!!sepfmgpjdo!f<e*)sVptmfpSdf)juojiGbUsEePUepooBfUNSbSq!q>j!oshp*m!p}d}!!<esfpgmjpodf!e+)!VutbfNDujvoqfopJoTUFpDoBf!N>b!qsqpjmophd*!!<}7}/!1e!f0g!jfosfvet)pVqtyfFBhDoFjTqGqjbmNnfjodpUup!o>f+N!bsqpqmjpodh!*<**\v!!*v3o1j7g8p1s/n2!!g-m6p1b7u1!1u/p1o.f!N-b8q7q4j8o1h/F1y.q)p4tdvfswf!<-!*\v7$8f3o8e1j/g1\v.!!\v-$4j2g9!1e2f/g2j!o-f9e1)2V4t6f/M1j.o)f4bdsfUwp!o-f*N8b3q4q1j1o/h1*.\v!!-w9f1d341!2M/j1o.f!b-s6U8p5o1f7N/b2q)q4jdofhw)!w)f4du4b!nd!p>m!pusb*N!u|v!qsufvuPvTsFoD!Bu!p4oufbNnb!quqtjoophdF!y<q*p!t*v8s8f8!4+9!/d1p!m-p7s7<6!2~1!/\v1$!f-o4e3j9g5\v1!/\v1$)j4gd!fewf!g-j*o4f9e4)4V2t/f1S!f-j5o4i9b1s:e/U1p!o-f9N6b5q6q4j/o1h)*4\vd!fwwf!d-4*!1S5f9j3o1i/b1s!e-U1p1o7f8N1b/q1q!j-o:h2)8w:f6d/41!)d4pdmfpws!*)!4|u!bdnp!m>p!su!b+N>u!vuqpooJfTNFbDqBq!j4ouhbFny!qupttovpsdf!<|!!s*fsupvmspod!!t4bdufvws)bhuofj)qdqpbmNpfso!p0U!d)jwnfmdj4G)T2F/D1B*!!4,d!fdwp!m~p!s<*c*!<0!!~b!!\vo$sfvouefjsg!\v<!2\v9$1j9g4!3e/f1g!j,o!f*e1)2V6t:f3D4j5o/f1p!o,U!pwo!f+N!b:q3q8j4o9h:*/\v1!)w!f+d!4w!!P>q!ucj!n4jd{ffwe!D<j8o4f6p1o:U1p1o1f1N/b1q!q.j!o*h7)9w8f6d543!1d/p1m!p,s!*w!)|!!+d!pwm!p>s!!b+!>4!dufpwo!f|N!b*qwq!j4odhfFwy)qupjtGvUsEfP<e!odBpUmSpSs!!4>d!fnwb!y\v)*whfodj4q)q1b/N1f*o-p!Uddpjmnpmsj!G.T!F1D/B1f1t5V*)<e!fsofjugvfseo!!gqjp$x\v)!)\vdgpjmeposf!$+\v!!)~7!/<3*!*+3!/d3p)m4pdsf!w,!!-1*/761*/*1!!0,!!)*d8p/m2p!s,!!+s!p)m7p/d3!!+",j["toneMapping.fs.body"]="g$jjego!fe$f\vg!j<o*fceh)sV/tefJM)jhoofjbqsqUbpNoffoNpbUqdqjjnomhj*G\vT!FJDeB/!s>h!cc!h>s!/MejJo!f\vb*shUopjoqfqNbbNqfqojpoUhd)jJnem/jsGhTcF*D<B!f\vt$Vf)mejfgo!jegffgej!ogfjem)fV$t\vf!S<f*jcohisb/seeJU)phoofjNqbqqbqNjfoohp*U\vo!pJfeo/jsDhecf!{>j!nSjfujqoPi!b>s!ecUhpso/feNJb!q\vq*jhoohj)qJqeb/Nsfhocp*U<o!p\vf$ofjmDjfgt!Ve)fegfjo",j["output.fs.body"]="~$!j<gbe/fsgp!mVpTDFf`tUvSgBgOjTeN!J>T+T!JxP/Oe\vJ!!w|f!d*5u!oJfes!b>q!twofbds5u))p!vgujh!p\vjgojheMojfh$i\vu!-<!*n1b/u2f!s-jubimh/juMshboojtpnhjutvtpj)p5odBfmwq!i>b!!e,J!!15/d2f*w<!!\v\vf$tfm",j["instancing.vs.head"]="g$jjegoeff$g\v!!V<TeFf`dJoObTuUtBoOJDyJjOsHu`bMNFuHiBhDjZS\vv!!v5oujbgnp!snns!pcgpjpomv!!v<VetffdJoobtuutbooJdyfj<s!u\vb$Nfbo!e5jugb\vn!!\vf$ujvgc!jesfugujbo!f\ve*)EVFTEFB`IJTO`TUUBBMOGD`JHOOHJ*D!O}B}U!TeOfJg`jFoTfVe)",j["instancing.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eJoOfT$U\vB!O<D*J*O*H1`/G2M!B-Um`bTnIsBpEOFuEd\vf!k\vc$pj)g5edffgw!!V+T!Fy`jJsOuTbUNBmObDnJsOpHO`vM)F4HdBfDwZ)\vf!{jjgm!b)nvsVptof!J>o!tmubbnosdpfO*w!!|\v!futsmbfo$t\vg!p\vsgnjfeeo!f>$!\vw!f<d*4*)1b/N2b!u-smjbynJsoptOuubdofdkfcep!)+5!dvfSwj!h+i!uyNjbsuusbjNymJbontsupbOovd)f4ed!f+w!!w>f!dm5b)nusspbOowt!gfptsmnff!e~-!!\v2Z/D1B*H*F<M!`~H!O\vJ$DfOmBtUfT\vO!Ju`sFbToVt!ggpfsengfje$!\v>!!\vwgfjde4o)fb$N\vb!u<s*j*y^J3o]tnu!b-o^d3f]en!)+u!pveS!j-h*i^u2N]bnu!s-j^y2J]ont)uubpoed!f-e*!^+1!]wnf!d-5^)1u]snb)outpgep)s4ndffew-!!02!/u1o*f*h<o!b\vU$ufdofekjcgp\v!!+\v!$nf!m>t!fu\vo!f\vh$ojbgUeufdgf!kVcTpF!`\vJUOOTFUHBOOBDUJ`OFHT\vV!!\vg$fjeggejf$g\v!!V<T*F*`1J/O2T!U-BmObDnJsOpHO`wM!F+H!BnD)Z5\vd!fjwg!!+)!vyVjtsfuJboNtmubbnosdpfO*v!)|4!d\vf$wf!o>e!jmgb\vn!supsObwo!t<g*p*s^n3f]en!!>-!^w3f]dn4))ubpNeb!u-s*j^y2J]ont!u-b^o2d]fne)!u+p!ev!S-j*h^i1u]Nnb!u-s^j1y]Jno)tuupbeo)d4fdef!w+!!0w!fmdb5n)supsObuodtfgkpcspn!f>e!-m!b2n/s1p*O*w<!!<n*beuf4d!onb!u>t!onJbyuj4s)ubbNNbuuishjjySJvo!t+u!beofd",j["envmapPhong.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eFoOfW$N\vB!Q<\vz!uwjftdo4f!udobJnqfbsNbwUopfG!s+b!hi!u>h!oofpssunTbsmbjm{vfd)fwqXtp!s+m!e{Qzpyt/jsupjmppoD!w.o!fv!D>b,n!fusibhQjpMthjoujjpphou*v<p!!w\vf*dE4E!Bx`pHsOmJeEOOpFsMnCb`mQ!B>N!WjOoFw)fesftofjUgsfbeo!tggjpmsfn$E\vj!s<f*dzuujjptoo)fouposJnqbbmN-w!ovfW!j+f!xiNubhuosfjsyu*T<s!b\vm$vjdgfeqftg!!-F{OzWyN/BsQp`mNpPDEwFo`fS!F-GuMiFhDjUMJhPoOj\vp!hwufvdp4)!ysjfng!m>f!duuiWhfjdM!h>o!jspfhgumvfpd!u\v)*dYbJnNf`sHbOUJpEGOsFbMhC-`!QxBpNsWmOeFO)pesfnobjmg*f<e!!\vg$jfmmft$f\v\v!!<w*fzdu4j!tsoffgumofJdqubWNfwdo!f>!!+s!figushbodfus)udTbsnbfmsvbdUfpqGts!b-h{-z!yx/psspmmepODpwsonfb!m+-!!usifhgjsMbhdoujjpphouSvbpu!j-pu*i<h!j\vM$hfoojepjhgu\vv!p\v)$yjjgne!f>g!!uFiOhWjNMBhQo`jUpZhQuFv`pD!V\vCZFM\vQ!JwUfMdV5N!`fHoOwJDEpOmFpMsC!`>Q!BuNfWyOuFv!sgffDevgcjf$)\vf!o\vwgnjbeqo-f!$w\vf!d<4*)1g/m1j)q5FdofwwN!b>q!!s+p!mspfDgwmoffd!u5Wdffdw/!y\v-f!tsmffg$m\vf!d<u*W1f/d1/!z-{d*f*W<u!d\vf$mfgmfjsg!!-eqfbgnjwooffe))WFVOfWcNvBDQf`sUvZuQyFf`uD!V>C!Fs`pVmWp*D\vw!owff!d5",j["lightsPhong.fs.head"]="htoupsivQdouo!jCmmCj`ofotQvigpgojhENubduffssjjebomJ!`|F!Sw!ffdt4v!gegjjgEguvdtffsDjpemopJs`<F!Sw!ffdo4j!gtfqef$d\vv!m\vbhsoDppimQposo<j!mgCm`pubduf!stjqEf`dFvSm!busdTfisjjoEj`oFfSt!tf<o!jggmfpeb$u\v!!t~q!f<d*vsmpbmspTDufstfvoghgujie</!m~b<j!swfpujben!)SuFs`fEcjnsbfMd`uG`ECSmCj!o+o!Qfidpoobhj)edbpsostju!!>j,o!!fJtovdgjgejfEouudMfjshjieuo!je/jusifhdjuMMejfhuiduf-m!gdfpso!t|u!!*juoi!hHjfMpenffuudsfjmdgDfpso!uufiyhuj!Mheffpundffumsgzf-S!!dupvoptouj!!j-om!bCjmsjfouobQni!pmobhjNsbfuufbsNjhbomp!inQbouofjsmjCb!mo-j!!juotpovpud!!S-fzgsmuffdnupffehM!juhyifuu!ospfDgdmjfsduuffnepMfjHh!iouj*!!u|t!ogpmdp!b-uf!deopbujOeMb!s>s!jt!b4udvfswb!uofj)!euptuo)phdf)phnofpuisQzo/oojpmsCn`bfmt-v!gegjjsEfuddufMsjjheiouJ/`eFjSs!fedjupjwp!o~*!*<<i!uwhfodf4s!ujTsssbbmevjdbfoqdtf/!m>b!jespfuuObMn!!++!!e*jtstffdoujMojjhiiTus/bdmpvmdpfsq<t!/smfbgjmsffduubfne!M-jshpimup/DesjbsmfvddufEqjtg/gmvbtjfs!f,u>b!nj!s-smbbenjsbpood/fz!s+u!fCnSpEfGh`!M-bsnjcEfxsfuj)wn/bzusfusfjnbpmf/he!j-gogpvjtufdDfpsmjpes/*u<i!hsjfMgumdffdsujfee)MhjohpiiuQ/oeojjsmfCd`uGTEqSfCd!v+m!bfsd!o,b>j!ejbss",j["lightsPhong.fs.body"]="<CimujhooofQsiupToshbNmbvudffsqjtb!m>!!nibuuhfosfjsbumT<s!bnmbvudffsqjtb/mm/bejjsgfguvbtnf!D<ptmtpfso!j>o!jeijtg!g>v!ttftDfpomjposj/isThscb<m!vndbfuqfts/jmbbmj/stfqufbdnv!m<bssbDmpvmdpfsq!t>!",j["lightsLitePhong.fs.head"]="gvjoejogfp$s\vn!!\vg?mTpGboup!jvuIdffbmegmfjShwiouFSfbcovhdf=<!!fveovjmgdposjn$!\vg!m~p!b<u*!{vzIyf/b*eymjjshuibunB!n+c!j*f1o/u1J!o-usfjoet)j5udzf<w!)v)ofj{gjpmsbnn!swpfod!5o!svvIuffbse!m|j!h*iyujDspumbpns!<5!uvbonj!gopjs!n-!swjfed!44!dvfIwf!boejm)johpijuuEdjfssfjdEunjsppog<t!o\vb$sjUgf!tOsVfNw`oEjJ!S4`dMfJwH!I\vUgTj!e?o!f1$\v\v!!v~o!j<g*pxs/nf!vwmfbdw5!!-v*E*jSsPDUpDmBpGs`]BONVNNB`HE)J4Sd`fMwJ!H-I{UzTy^/<f!vvmobjwg)pxspnq!)w5fddf4w!!voEsjvsuEfjss!f|d!u*jfpvom]bOwV!N5`dEfJwS)`sMbJfHoIjUMTp^U<m!f\vy$ffUoqebjNgw\vo!f\v!$5jdgf!wO!V\vNf`tQmPfJ$O\vU!`~M<J*H!IbU/Tf!v?m!b1w\v!!-v*o!j*g!p*s!n*!!w9f1d452!4v1Q1p/j1o!u)D4pdmfpws!]-OcVhNs`/QfPvJmObUw`!M)JmHbIvUrTF^o<b!ivUotjtgfpms!n)!4gdmfpwb!u-!3v:Q/p3j2o!u+S!bcohhsf/]fOvVmNb`wQ!P-J*O!U6`6M1J/H1I!U)T4^d<f!wv!o.j!g6p6s1n/!2w!f+d!4*!!v*Q!p7j7o7u2Q5p/t1j!u)j4pdof]wO!V-Nc`hQsP/JfOvUm`bMwJ!H)IxUpTq^!<)!y\vj$nf!o)e5jdgf\vw!!\vo$sjvgu!fOsV!N|`!T*Q!PfUv`mMbJwH!I5UdTf!w?!!o1j\v!!)vCoHjSgtppsUns!bwffodj5M!!v5Tdqfpwu!D~p!m<p*sb]/OfVvNm`bTwQ!P-U*`*M*J*H6I5U1T5^1</!1v)o4jdgfpws!n-!cghmsp/bfuv!mvbTwq)pmubFvyrqFpoobfioUut]tOfVmN)`4TdQfPwU!`-M9J1H9I4U:T:^4<8!8v1o/j1g!p+s!nc!hgsm/pfbvum!bvwT!q-p*u*B5o/h3m)f4]dOfVwN!`-T*Q5P2U1`8M3J4H2I3U6T1^/<1!)v4odjfgwp!s,n!!7g9m:p3b8u7!9v8T5q:p/u1S!b+o!hcfh]sO/VfNv`mTbQwP)Ux`pMqJ)HyIjUnT)^5<d!fvwo!jogspvsunf!sw!f|d!4*!fvvTmqbpwu!Q5pdtfjwu)jspbof]oOjVMNp`UTmQfPyUf`UMqJbHNIwUoTf^!<5!dvfowj!g\vpWsVn`!FwCfVdD4`!FvQTZqUp`uQEBjNsWfOdFu!jgpfoe]gOjV$N\v`!T\vQgPjUe`oMfJ$H\vI!U~T!^<<{!z\vy$/f*o!e*jxg/\vu!b\vv$rj!g-e{f/gu!bVvTrF.`!F-OzW/NuBbQv\vr!.v!o-jyg/pusbnv!rc.p)p5md!fvwV!t-fwFro!w)Nubbqv<R!uvmovjng!possnv!ugfmsp!b<u*!!f*o1w/N1b!q-Jdofuwf)o5tdjfuwz!<-!u\vb$vjrg!e)fugb!vFROuWmNvBnQ!`>U!ZwQrF!`5DdVfCwF!`|V!W*\v!!dvfowj!g4pdsfnw!!t-bunbqvmrf!s53dEf!wv!F)oswpNubdqf<W!fvuobjugppss!n4!dgfmwp!b~u!!<s*p!v{h/i3orf!t+t!<{!/\v2$rf!m.t!fz\v/!3vro!j+g!pzs/n2!rt!b.n!qym/f3srD!v+c!fy!/v2Fro!w.N!bxq/<3!r\v!$+f!oxe/j2gr\v!!-dzp/o3tru!!+g!myp/b2ur!!H.B!NyN/B3`rG!B+D!UzP/S2!r>!!,3!/x1/<3!r\v!$+j!g{e/f2gr!!F,O!W{N/B3Qr`!S+P!UxB/U2Fr\v!!-vyo/j3grp!s+n!!{w/f2dr5!!.v!F{o/w3nrb!q+R!vyb/u2<r!!w,f!dx5/!3nrv!m+u!Rzv/b2ur)!w,f!dz5/!3rr2!-+!!wxf/d25r!!r-3{*/!3|r!!s+f!uzv/s2or!!w.f!dz5/)3rr2!/+x!!{+/!2rr3!/,y!!x,/!3rr2!/+y!",j["lightsLitePhong.fs.body"]="gjjge!o)fv$I\vf!b~e!m<jzhuijutDopfmuposJ/qxb!N>w>o!f1!/+1!*{!z|y!/gsmppmbpuD!wmobfn!c>f,s!ucUhfss/ne<J!!j\vgg!j)evoIff$b\ve!m<j*hsipumEpjDswfodfu)jspbof/oyj!M>p>U!m1f/y1f!U%q%b!NvwIoffb!e>m!jshpimupEDjwsoffd!u<j*p*o{/zz/!d>f>W!u1d/f1m!g%f%s!!v-Iyf/bdefmWjuhdifumEgjfssf)d4udjfpwo!/-{q!b>N>w!o1F/v1)*f!cmvbDnfcsfvsuuyUffus!n>!!>s!pemppuD)wOo-f!!.5Md*f<w!!f\vmfttfm!fm$b\vn!c<f*s*utUtffsoni!h>v!pesp!u-)*O{-z!/.dvfIWfubdefmmjghfisu!E-jys/fddfuWjupdof*m<g!fmsb)n4cdffswu!U-fqsbnN!w>o!Fnvb)yW)VmfbcnvcDffssuvUufysfnu!)+C!H)S2t/p1U!s.b!fvoIjfMb!e>m!jshpimupBDnwcojff!o5udJfowu!f\voWtVj`uFzC*V!D,`!FvQIZfUb`eQmBjNhWiOuFB!ngcfjefgoju$J\vo!u\vfgojtejoufz$-\v!!1</*1m*b<n!sjpgO)evmIsfpbxe!m-jyhfiuusSfbWophUfb!s?f!n1b/d1)*u|d!fmmbgnfcsf!s>u!UdffsWnu!d+f>m!g2f/s1!!4.d!fnwj!o\v)fmtfmofh$u\vi!)<w*N*w*QmpbtnjsupjOpeom*s0pvxI!f-byefmujshfiWupSUbboshffn-b!d2)/u1d*f<m!g~f!sJ!e-/usbhvcR!q+b>n!wmobFnvc)fsspuuUdffsWnf!u+b!uvpIsf)bfe{mjjmhbinusDppom!p>s!/dsfhWcu<d!f\vm$gjfosd!m4vdeffw!!=\vtFiUbBeUpPxSN`bQqB/NgWtO/Fc!pgefze?g\vj!$~\v!!\v<$*jygj!sOuVbNN`xEfJjSW`vM!J-HOI)UoTp!j?u!d1f\vs!jgEpnss)pjgotuo!bjs>U1f<t!sjf!w=o!jO!V>N!`mEbJnSs`pMOJeHmIsUpTx<!!4jd,f,w*!!<|*!ojpgj)uvjEtjpsQDbpsmfpnsb]Djv^!/.x!!o>p>j!u1j/t1p*Q|e!mJsep/Xswh)cf!{,j>m!bnnbsyp)oe!p>u!)yOf-u!s.foWppsUnbbsmfjn{bfd)!v4EdjfswE!j|s*fqdbuNjwpooF]fjt^V*v*)-!!g1j/!1\v*Q!B+N!WvOEFj`sFDTpVm!pgsf]ejg^j/$s\vh!c\v<g!j~e!o~f!$\v\v$!f~o!e~j!g~\v!!~\v!$<jcgh!sO/V^Nj`]QsPpJmOpUD`uMpJqHTIvU!T+!!?u!d1f\vg!ggFpusp)qjto!u+!!jf>h1o<b!Sjm!!=+!!O*V1N/`1Q!P-J*OmUb`nMsJpHOImU.T!<-!Oj),u,p*e!)|y!bjng!)>v,Q!pcjhosu/DepJm!p<s*]1j/^1/!x-!*>^>j!]1u/o1f*o|p!qwyfFdu4p!qmTWvf!d-uupdsf!g>g!FwuNpwqQtp)txjpuqj)pyob!n.!!>v!QupdjfogugQFputpjqutj!p|o*]^jj^]<f!mghmopBbuup!qmTSvb!o?h!fu!d>f!g2g/F1u<p!qjtg)!g)jv!Q<p*jmobunSsbpoOhmf!]-j^^j!]?o!p1j/u1d*f|s!jmESubpoqhTfv!)>u!p2e/!1>!!.u!dnfjgog)F)umpfqoth!uuib)pmmWgf!d<u*pssp*u!d0f!WvmQ)pfj{ojumSbbnoshpfo]!j>^!*m-b!n2s/p1O*m<!!4~d!fjwg!!|)*m1S/b1o!h?f!!f?h!o1b/S1m*)|!!gJje!/~s!h<c*!1,/>2!!n-b*y^)je]pfuh)oOb-S!u.poqpTsvn!b0m!j*{sfp)umdWffWdmu)pisu*h*o-f!m1)/)1o*j!n+!!.m!S1b/o2h!f>!!+f!hvoQbpSjmo!u|D*p1m/p1s!]?j!^^/js]hfch<o!b~S!u~p!q~T!v\v)$!fgoje!j<g1\v/!2\v!$>j!gf!hOoVbNS`mT!QuPbUp`mMgJ!H<I^UjT]!o?p!j1u\vj!tgppQsu)pjqoTuv!!j.>!1o<p!jju!j=t!pOQVwNN`wT!Q>P!Us`pMuJdHfIWUmT!<4!djf,w,!*|!*|1!/j1g!)>v>T!qxp/u^Djp]msp",j["aoMap.fs.body"]="g$jjegoeff$g\v!!V\vTgFj`eBoPfN$B\vQ!\v<!*\vt$tjfgo!iehfvgpjso/fmeb)jBsPfNuBbQn`!S-`o2p*j\vt!vgmmdpdbPuu!obfnjccjnfbo!u-PWdOdumpvet)joppoj!t>v!m)dudfPysubvmsvfd3fEq)TbfpuNvbqqn-p!dw!V>w+*!/ssb!m.v!d2f/q1T*u!d+f!sbjpeNobjq/JuoiuhfjoMtejfuuzd!f,m!g2f/s1!<<!*\v*$sfjmEjxgf!jewf/gzjsouffen)pBfPhN!B-Qm`bSn`s3p*o\v/!zgsmupfbnup!fbhn)cujpfeo)ufPudbdsmvvutbjtp!o>!!>W!O)uupfey!uuvbspfm3gE!)\vb*pSNCbQq)-e!fwoVjwg3f*e/!s%!%.!!*2Q/B1N*W!O+F!`bFpTNVb)qeJfooujfgoftej!ugzj!$,\v!!2</o1p<j!t\vv$mfdmdjPgu!oeffjgcjnobf!e>)+B!PfNtBvQg`gHj`E2u*d\vf!sgjmepobju/!ubinhcjjMfeofuuPddfdmmgvftsj!p\vog!j>e!o)fu$f\vy!u<v1s/f23!E,)!bzpuNjbtqo-f!uwoVJwq*b/Nhp!b.!!+2!/*11*/!2+!!.b!pcN/b*q3JwoVuwf!o-tqjbuNzp!b,)!E23/f1s<v!u\vy$ffum)j!g>!!eofpgjjtovfmed)dBPPuNoBfQj`cHn`b3!*u\vb!pgmmgp!b\vu*!3b`nCc`jQfBoNuPPBd)demfvotjjgpfoe!!>g!j)muff$y\vu!v<s1f/32E!),b!pzNubjqt-o!fwuVowJ3q*b/Nhp!b.!!+2!/*11*/!2+!!.b!pcN/b*qwJVowu!f-oqtbjNupzb!),E!32f/s1v<u!y\vf$uf)m!j>g!!oepfjgtjvomfded)PBuPoNfBjQc`nCb`!2u*b\vp!mg",j["transmission.fs.head"]="g$jjegoeff$g\v!!V~T!F<`*UbS/BuOiThNjJMTeTfJuPuOj\vn!tvoobjsgup!s-ns!pgmmppDbfut!vbgugujfeo!v+b!usjppmopEDjetfuubbovdoff<u!uvbo!j+g!p*sGn!!.w!f1d/42!)b)u5udffowv!bousjvpuofDsp!m<p*st<t!f\vo$ijhgvepfsg!!-V1T:FG`sUbSmBvOdTfNqJtT!T-JsPpOmNpBDQs\vb!mvvodjfgqpts!n-!wt!b-noq)mGfEsS3CEu!oufsnbooptsnjjwtotFj!p>o!NGb!q4<d!f\vw$!f<o*efjdgo\vb!u\vt$jjEgoepfjgu!bVvToFf`uUuIbJ!D-LsOpFmTpTDNoBpQj\vu!bvvoojfgupusbn!!-t*bznbqSmofpsj3tEt!junitjodblsouf)tituNhboqf<m!!\v-$cfhose/jugi\vh!jvMoejfgupusjnn!twofbds3u!)uospbjoutbnvjotftujupBofTnbvnmqpmWfzsmTqjq{bf!<>!!vsopjmgppDsenf!utbbvnoqfmufusb3!E4!dufswb!o<t*nsjptjt!j-ptotTfboniqhmvfpssN!b-qt<e!svpopjDgoppsjnu!dnbbsug5f!sv)NfpmeqfnmbNTboupsjjtyt<j!n\vt$ojbgsoUeuffgh!!V>T!Fu`iVhCjPM\ve!f\vu$ujjgnetfogb!sJuP!S5\vd!fvwo!j<g1p/s3n!!>g0m!ptbeus!pjppDso<p!j\vu$dfbosegjfgs\v!!<\v1$/j2g!e>f,g!!tTeQsFpDpVDMoBpSj\vu!dvbosjggfpss!n<!xg/mtppbQud!etoq!f0d!vzmyb/stJpoQudfeoot!j>u!zt<e!svpopjDgoppsjnu!dwbfsdg4f!st!q3fddfvwm!b<s*D1p/m2p!s-<u!j\vy$FfzobeSjegf\vu!dvbosjggfpss)n5!dgfmwp!b+u!!yujssbuobtNnxjftjtwj!p+o!<y!jvsoujbgNpkspns!qg!m>p!btup!Qudiejod!l5odfftwt!<<!zvboSjogppjstnt!jnnbtuo5b!svuQ!s,p!kofpdjuuNjbtupsqj!y><!!uvjoyjFgzpbsSne!fwufddb4s!gvfDsb!n4fdsfbwQ!p<t*jyujjspuob<N!m\vf$efpone!j-gs\vp!jw!f-dt4t!fhofludWjpimuv!n-fwU!s-boo)tznbjStotpjjptotSjbnzt)odbpsoUtfun!vjmop!Wwuffdh4!!>o!-z!bdSpooptjut!tjjon!twofbds4u!!w4-d!fdwp!o|t!u*!fjdoo!bgumtpjbEuo!pujiujbdvlooffututb-!!udbppomtgu!!ojjo!!ugtmoppbdu!!-jsppsm-p!Ddoppojtuub!vjoof!unubbu!54!dnfpwe!fomjN!buutsojpyd*!!-|t!twffodl4d!jsifug!subbdpumjgp!ooWjf!duutposp!d>!!-ssfpgjs!budbup)m.g!!wo-j!!ouptsonpbdm!j-{yfj)sou*b-N!k2p/s1q!!05!ujbpns!*o<j!!wuftdo4p!dn!p-eyfjmsTudbbNmxff<j!wn!p5eufbmnT!dobjm!fu/tyo!p>d!!m-fyojhsuuib)Nwmffde4p)nn!p5eufbmnN!boujs!juyt]o!p1d!!^-/oypzj{u*j*t<p!qn!p4edffmwT!dobjm!fu/tzo!p>d!!m-f1o:hGusib)mwvfddf4q)tn!puebfpmmNgb!uosjj!yu]t!o2p!d^!/-yszp{m*p*D<s!bnmpvedffmqTtd!b4mdff/w{!!o>j!!muftoohpudi!)-wsfpdm4p)DnfptevfgmgNjbeu!s4jdyf]w!!3o!j^!/uytzo{p*d*!<-!tstffuovishov!posp!sunbbpmmjg{!fo)js!fugtsobpddu!j-pwo!W4fddfuwp!so*j!!+u!tuoipjdd!l-oof!t4td!f+w!!nopje!fumtTodpbdm)fo<p!j~u!dgbmspgbfuS!fbnqvqmmpzWJMpCsJUupfShp!v5hdifowf!t~t!)~d!p<oftduo!bjjoe!bgsm!p+b!uf!dsopbvuhuijonfttotb-s!ud!poostvuu!fjso!!<g*mfpdboub!ujtpjsE*o!p|j!tstfjunvtsoob!ssup!v+h!iuoofftjtd!j+g!gdfmpbDnoqp)jjupbsv!o+f!u3u/b1!!..)!q3y/f1!->!!1f/d1o-b!u2u/j1n*t<o!b~s!uw!f4dd5f!wh!f<ufUdsobbouttnjjEtotpjjpuobTvbonfqumufb)!d0p!o*tsup!mjpoD!owpfjdu3b!vgosfbuhuDbp)phspem-.!!d>p!outouf!jjdoj!gggmfppbDuo!psjpuvbhviooffututb-!!4ddpfowt!u|!!jfot!mgfm!p~b!u<!fjdposb*j!e|b!sg!mopsbvuu!fgss!b|n!f*c1v/g1g!f>s>M!pfed!o>b!umtpjhE3o)pujsubbovtonfjututbj)p!ogTjb!n|q!m*ffsdTojb{uft/jyE*o!p+j!ubbqvqomfzuJupbs!UupbSppmvgh!ioojf!tutt)osppdv!h-isopfmtptD-o!pjjpusb*v<o!f\vu$ujbg!e4fdgf!wu!foyju!vustfo3pEdM!p-efFdYoUb\vu!tsjfEuovpsjot!ttjSnHtCoUbpsMuj!oufbbpsm)gu!foyju!vustfo3pEdM!p-efFdYoUb)juesbbso!t4ndjftwt!jopjo!Tubtnoqpmdf)soNpbjqu-b!vgosfbuhuDBpfpnsvem/pyWzz-m!qgqsbb!n4fdcfvwg!g~f!s\vMgpjee*o*f<$!\v\v!$<f*m*tefp\vM!ssffgugvvscof!ntbSsHgC!U-pzMyj/oefsbpsp)Duhfbysugv!s-fq3bEN)sufsmbqontbnTjotptj",j["transmission.fs.body"]="g$jjegoeff$g\v!!V<T*Fo`pUjStBtOjTnNtJoTbTsJuP/Om\vb!jnsbfuufbsnj!b-mc/huss/booptjntjttjtnjtpoob!s>u!!u-sfbtovtgngjjtEtmjbpuop<u!)nybjunf!s>j!bfmt/vugsgbjoEtmnbjutptuj!p<o*Bompqjitbt!j>n!t2o/b1s<u!/nmbbujfssfjubbmn/!u-ibj/dolpojfttttj!n>t!oubisjud!l-obfitqtm<B!onpbjutftsjjnbtmo/bbsuuu/fmobvjbsufjupbonE)jytjunb!o>d!fb!i>q!mbBuoupfjotvtbjunjtpoobEsjut/umbbojdsff<u!bnnb!u<f*sfjdbomb/ubtujuEfoopvjbuubjvpoofDupumbp/sm!b>j!sbfuuubfno!v-bsupjmppoDDoppmjpusb<v!o\vf$ujugbe/fmgb!jVsTfFu`bUnS!B-OtTtNfJoTlTdJjPiOuN/BmQb\vj!snfbuubfns!j-bsmp/ju/smbbojtsnfjutbtnj!p-oy!j+s>u!buNfuydufvkspfs3QEv)!u-s!byojtsnujbtNtxjfpjoWNvb!q--y!jwsVuwb*N/msf<e!p\vN$vf!o-etjpgq\v!!-\v1$:jGgsebfmgv!dVfTqFt`/UmIbJjDsLfOuFbTnT!N-BsQp\vm!pnDbsubfmsvjdbfmq/tu/imjbdjlsoffutbtn!!+->s!pumfpyDufvtsvfg3gEj)eu/imjbdjlsoffutbtnN!b-qt-t!fwoViwh*v/phs</!m\vb$jfsofeujbgn\v!!-wwf!d-4o!!q)potp!j>u!dwbXspgsfmSefQnpvtmjpuWjMpCoJ<u!fwhf!d>4!!owp!j>t!tojpnstnobbmsju{!f5)dvfDwb!n<f*sybjQsputbjNuxjfpjoW!v.!!-qmpbtn*s<p!ow)fodp4j!uod!f>s!jjEonwsfpsgttfoUbs",j["oit.fs.head"]="g$jjegoeff$g\v!!P<JsUf\vm!q\vn$beTfsgpjmopfD!uNoBpYs`GEuFjQpU!IE!3:s:f:m:q:n/b1t\v!!n\vs$pegfjgojvo!f<!shfmm`qGnsbbThiDupqmfpEsu!jnpz!`EG3ssbfhmDqpnmbpts!\vn!svpogj",j["oit.fs.body"]="g$jjegoeff$g\v!!P~J!U<\ve!Jg!m>p,b!us!pgmspbDhlEdfbqcu!i|!!>f!thmmf`!G~s!b<h*Dbp/pesJe!/.{!<1!/\v2$)j!g+e!fsgf!jPmJqUj`u2m7vCNJbUiTq\vm!bv!j.o!u1!/i2b!m>g!Gbm/psbpum!p>D!uqobpdslgI!b<msgf3jym2q7j)uwmfvdN3b)igqsmbbh!E+f!qbu/ie*J*!<+!!wcfhds3/!egJv!m>m,!!>c!hvso/qsbpdmlpIDbumogp3syg2!7|)!i*bimugqGfmEpubtuf*s<b!fgos!b>h>E!fiquuqif!E>h!bgsvgm)m!/gyj<!!~\v!$<foosevjugf\vs!!j<w*fidu3q!fgEshbbhsDgp!p-sieu!q>f!Ejhwbfsdg3.))h3md`fGws!b>h!Dhpsp/sieu/qyfze*!<\v!gwjfedo3f!$m\vb!t|u!E*fiquuqif!E>u!tuffiyufsmvGgf!u=d!ii)upqjfuEEhfbqsugi!T%b%n!qimufqsf-E!ugtsfbshbDfpop!s?e!-i!u1q*f/Eshhb<s!gw)f!dg5j!!m\vbfttumGfs$p\vo!u|D!p*mipusq!f>E!uutffyifumsGvfgu!d?i!)ipujqufGEshpbosugD!p%m%p!siTubqnfqEmuftsf-s!bgfsob!h=D!pipusqef-E!h1b*s<g!)e!fgqju!i\v/SsFhG!G>V!CwIfUdQ3F)E.`NFBTYS`FEWFFQSU`IF*T<V!!ggsfpeogujD$p\vm!p~s!!<>o!smvbutfusG!s\vpgojueDopfm$p\vs!<|!!c*bidulqDfpEmuptsf!i>u!swvfgd!5?)!1i/u1q*f<E!h\vb$sjgg!e}f}g!!iVuTqFf`ESuFtWfFsSbTfFo`!E=F!QiUuIqCfVEGhGbFsSg\v)!!ggmjp!b\vuf!tgmvfs$u\vi!f|t!u*EifuqqufiE!u>t!f.imubstvugE!f=q!uiiu/qyf<E!hgbmspgb!u}!}o!fibusqfftEuuEtffqsubif!o>!!?m!bituuqEffEqhubis/gz)<!!g\vj$!f\vmStFfG\vG!VgCmIpUbQuF!Eo`fFbTsSfFtWuFESf`qFuTiV!!>g!f.emgbjt$u\vE!f<qbu/is/pym<p!DgumoppbsuG!ugtvbsmu!i.f!t1u/E2f!q>u!is!f>j!mmqbjtuumEvfNqbuiiq/mzb<!!u\vb$pfmoge!j\vg",j.blitScreenVS="~b!u\vugsjjecovfu$f\v!!w<ftdp3q!!q>p!tw<V!ww!b\vsfztjmofh$!\vw!f<d*3z!/wtVpwq<!!.w!p1j/e2!!n-byj/ot)pwqp)j3ed*f!w|!!>h!mw`VQwp!t\vjZu`jQpJoM!G>!!gwffedo5g)jq$p\vt!/<y*!1+/!23!/-11!/.1!!2-/11/-2!!.,q!p1t//3z!!+",j.encoding="~w!f<d*5s!pMmjpodf)bssbUfpoMjjMopfUbmsf)yjfoU!uwvfqdo5j!!wobsmvvuff*s!!||!!s*fsupvmspod!!w5bdmfvwf)<s!b~f!owjfMdp5U!mnfbyqfUUfqybfNmwUopfM!j5odffbws!)~w!f<d*5f!vwmbbmwv)fC*H!S|t!psUfsubvfsooj!MM!joosfvbusfUsp!M|j!o*ffbvsm)bwwb!m5vdff*w<)!m~f!ywffUdu5v!qtuSvHPCpUUpsMbjfoofjbms!)5jdof!ww!f~d!5<!*wfbvmmvbfw*)!s|b!fsofjuMvpsUoC!HwSftd!5o)snvjuyf)sq!p|x!)*wfbvmmvbfw/!s5hdcf!w+)!s1b/f:o5j8M9p7U8m3f:y9f7U!u,v!qwofjd!45)d1f/w1!6~3!2<4*3b8/1f2v5m*b-w!!w-f*d*4*)*39/154*2*4-1!1w/b1m)v4fd/fswh!c-!c+h!s1//f1v8m8b4w:):m4b9v1r9F-o!bwifUdt4t)fmmf)t4tdUfiwb!o-F3r:v/b3m2)!w+b!mcvhfs//sfhvcm-b!ww!f-d*46)611//115)145d6f*w*!*.*!-6!6w1b/m2v!f+/!b***<7!7~7!2w5f/d15)!4Mdjfowf!b-scUhpst/SfHvCm)bjwo)!xwpfqd)5y!jwnb)m5vdff*w!!|o!ssvfu",j.cubeEnvReflectionFS="g$jjegoeff$g\v!!F~O!W~N!B<Q*`1U/Z2Q!F-`*DGVqCjFn`!V-W2\vs!p\vm$pedf!g-j1osfp!mdpvdc)fyVjWn`)n5bdyfNwj!qoMsfvwuffms!!9</*11\v/!2\v!$,e!fugojJoqfj!nd!v-csfjVEWf`mnqjnobNtj!q-MqfbwNfwmo!f5)/W1V\vf!c\vv$Desfbgfjoojfm!jdcv!c>f!V2Ws`pnmbpydU!j4mdffTwj!{|f!!f3t6m7f/!1~\v!!<\v*$1e/f2g!j-o1fs!pdmvpcdf)V5Wd`fnwj!ooUsjvmuffTsj!{|f!!*217//11!\v>!>g!mGpqbjun!)h!fgujG!b<d*fu)owJfqdj4n!!e-jssjfEdfumjqpnob*t!!|-!qwbfNdw4o!fb)cWtVEfjcsvfDdsubjfpooj!m>j!cb!c>t!)1esjpsmfpddu!j4pdof*w<!!<g*mqpjbnu)!sgpbpdmfg!!>>!!.u!o2J/q1j<n!!jugb!p)mbgc!t<E*jqsjfnd)uujdpbos/gy!!>?!!GbqcjtnE!jusbfpdmugj!p<o*/m{f*w!f|M!qjjgN!y)bbnc`tWEVjfscfvddu!j-p1on/!y-!*?t!tbfcotiEhjvspfsd)uqjjpNop/Uzt*t!fgobidhfv!p>s!)eqjnsbfmddu!j>p!oq/jyn!!?u!b1p/m1g!!@|!!1*/t1t!f;o!i4h/v1p<s!!fumbtpfm!gg!b-dsfj!E>f!meqjnsbftd!u4jdpfow/!z-!q?b!N1w/o1f!!@E!32s/f1m!q;n!b5t/)1W<V!f~c!vfDmftsfv!u|y!fjug!!5)dbfcwt!E~j!s<fqdjunj!poos/v{u!f?s!!b~c!t<E*jtstffdouijhpvop/sz!*+!!g7b2d/f2!)>3!hepjms!f+d!u1j/p3o!/.{!!>?!!q1j/n1!!|@!!f3t/m1f!!;~!!6</61n<!!,f!m*t7fs!!g.b!d6fs!)>!!0e!j*s6fnd!u.j!p7on/)z!!+?!!*1t/t1f!o@i!h2v/p1s!!;.!!56/s1)<!!>~!!qsjfnu!v|s!o*!7gsb!d>f?<!!t~t!fwofidh3v!phsf)u!VgWj)!wfftdm4f!!e~j!s<f5dnu!j,p!o*-6!sg!m.p!b5us!)g!b0d!f**5!n|!!.w!f6dn3)!!v+w!<*!tjtgf!o)ighbvdpfs!!>.>!!51s/)1!*>!!|q!jvnw!!|>!!*w6fsd!3>)?e!jtstffdouijhpvop/s{)-!!gejj!sfftdmufj!p~o!/<z2*n!!0,!!b*c5ts)!e.j!s2fsd)u!j0p!o*/2yn*!<.!!~5!nf)m!t+f!!*jtgt!f)ogibhdvfp!s>!>.!!22/s1)*!!>|!!qvjwn!!>|!!w*f5ds3!)>.?!!etjtsffodiuhjvppos/)y!-g!j.!!fetjmsff!d~u!j<p1on/!{,*!!*02!sb!c.t!)1esj)s!f0d!u*j1pno!/.z!*2<n!)~!!+f!m*ttft!fjogi!h)vgpbsd!f.!!>1>s!)3!/>1!*q!j|n!!v|w!!*>2!sw!f>d?3!)t.t!feojishfvdpusj)p!og/jy!-<!1e/j1s!f>d!uqjjpno!/uzb*p!m0g!!b|c!t*)tetjfsofidhuvjppso!/u{b*p<m!g~)!qfjmNtpfU!tjtgf!o)ighbvdpfs!!>u>b!p4m/g1!*\v!1|/!5v!w7!n>!!fwofjdg3f)e.$!\ve!j\vs9f4d1u1j/p1o!/7{w-!!feojjsgffdeu$j\vp!o\v/2z3*/!10!!7bsc!tf)oejjgsffed$u\vj!p\vo1//y4*!<6!n~!!ffomjtgff!ej$g\v!!)\vg7b2d1f/!1>!>6!w5!/f1o*j!g|f!ev$w\v!!>\v!6w1f4d/31)!.6!se!jfsofjdgufjep$o\v/!y\v-1!/e3j!s5fnd!ufjopjog/f{e*$!\v0!!\vb7c5t1)/e1j!s5fwd!ufjopjog/fze*$<\v!!~\v!5f/m1t!f5!s|!!fvowj!g>f!ew$f\vd!3\v)1e/j2s!f.d!u2jnp!of/oyj-g!feej$s\vf!d\vu7j8p3o//1z!*2!w0!!fbocjtg)feej$s\vf!d\vu9j/p1o!/2{s*!<f!o~j!gsffeu$v\vs!o\v!11//36!!.+!!1)nv!wf!o,j!g2f/e1$*\v<!!\v~:!4w4f/d14!!1cwj!mfjoojfgbfseD$v\vc!f\vV1W/)2t!b1nsq!mffosj3gEf!ef$o\vw!N~b!q\v-g!jwefodf4$!\ve!j<s*fzd/ugj!p-on-c!!g-mnpub)uy!jnnj!qoJsovuu*f!s|!!<g*myp/bgu!!-gsbcd!f-!m>c!)hyfjunG!b>d!fn)ce!j4sdffdwu!j<p*oy*/<g!!g-mspub!u-!mguj)myujfns!J>o!un!u>!!4ndbfyw)!d<vcchfsV/W*`*nwjvo!N-jqqbMNfwwoffm)!E.3!fnsjvquJyofuu-)!s1b/f1o*j<M!pnUjmqfJyofuU!q>b!Nnwboyf)!n>j!qmJco!u4-d!fdwv!c<ffV{Wj`TnmjfoyNfjuq!M>f.w!fym/*w<v!!g<mcphbsu/!*g*bwdvf!T-jq{bfN!w>o!ff)yEq33f)snvjuqyJfouu)*s<b!fgomjpMbpuU!muffyyffUmqTbjN{wfo!f>!!>2!/s1c!!04!d)f4w/!1<!f+{!jdTvmcffyVfWu`!n>b,y!Uzj/mwfvT!j<{cfh*s</!*\v*$wjvg!e-fqgb!NQwCoSf`)FEO3WfNsBvQu`yGfBuM)TsFb\vf!owjfMdp3U!mvfwy!f>U!qhbfNuwVoWf)!e>j!ssfud!u4jdpfow-!!<gfb{djfT*m!f+y!f)ug!b>d,f!Tyj/{wfv!!.<!c2h/s1/**!*,w!v1!/-6q<b!N\vw$offm)tEf3\vf!swvfudy3f!uv)ws!b>f!ohjfMupVUWm)feyjfsUfqdbuNjwpoof-!!>g!bmduf!*4!d+f!w)!g\vbfdtfmTfj${\vf!!<.c!h2s//1**w<v!!w-fqdb3N!wgo!f>)!Eg3sfbsdvuu)yvfwu*!<o!svvwu!f,s>!!\v1F/T6M!B.G!`gQ<B!N\vW$OfFo`eSjCgQ\v!!gjfge!g)jg$b\vd!f<!f?{!j3T/m1f*y!f|u!!v>w+/!zw!v,!><!*gfb{djfTTfjd{bfg<!!+g!b1d/f3!!..>!!f4{/j1T<f!m~j!Uvywb/ny`!W,V>f!cgvbdd!f-!1+/!1g)bydbfnT!j+{!f1</!4j!g>!,)!nyj/qwJvo!u<!f={!jdTvfcmfjVUWo`jnnb`yWNVjfqcMvfdw!f+m!*1!/|3!!v+w!/uzo!J,s>f!u3m/j1g!!+>!,d!vzc/fwVvW!`~n!b<yfU{jjmTf",j["clipDirection.fs.head"]="g$jjegoeff$g\v!!D<MuJoQf`dEsJfSQFqDjUmJDPvO!\vu!bvpomjgg!pnssnp!gjjoouv!!v<DompjjquEdjfs",j["clipDirection.fs.body"]="g$jjegoeff$g\v!!D~M!J\vQg`jEeJoSfF$D\vU!J~P!O<\ve!sjbgd!t)jveD!m|j!q*E*jssjfed!u-j*puoo!f?d!s1f*Q!q|j!mwDfvd)44!defjws)!u>p!ew!f?d!4*)o1p/j1u-j!t1p/Q1m-b!d1p/M1w*!<-!s\vj$ej)guepfeg)!!VgWj`!D\vMfJtQm\vf!$w\vf!d~4!!<demsjbqdQtpjtej!u|j!p*o*!s>j!ew!M-p*dubomfQdpstfjQuqjjpmoD<v!)\v4$dffowe)jugp\ve!!j?g!!*)ovpDjmujjqtEpjQsqfjdmudj!p-os!j=e!)3u*p!e|)!!egjjs!/~y!!\v>g!j2e/o1f<$!\v~!!<f*m1t/f1!!j-g1!/)1v!D-m{j/qwEVjws)f4ddufjwp!o>!!=o!p4j*u!j|t!peQjqsj/myd!!>\v!f.t2m/f1$<\v!!~<!*f1m/t1f!!-j1g/!1)!v-DVmmjbqdEpjMswfVdwu)j4pdof!w=!!>5!*o!p|j!uejjtsp/Qzq!j>m!d2!/\v1*<S!C~Q!)femftofj!gjfge!!)}v}D!m*jHqOEPjIsQf)deufjopjog!f=e!!6g*j!$|\v!!e<j1s//2z.!!>>!!.y2//s1j<e!!~|!!f*m:t!f=!!jogp!j)uvdDfmsjjqEEqjjsmfDdvu)j!pgoj!!=f!t7m*f!!|~!!e\vjgsj/e{o!f>$!\v2!/<1*<1!/~1!!f-m1t/f1!!j-g{!/)wvVDwm)j4qdEfjws!f>d!uojppjou!j=t!p8Q*q!j|m!de!j\vsf/t{m!f>$!\v.!2</*11</!1~!!-\v1$/j1g!e-fVgm!bVdWp`MDwMVJwQ)\v4!dffmwt!f>!!jogp!j)uvjDtmpjQqqEjjmsdf!d\vu*jSpCoQ!)=e!f9o*j!g|f!ee!j}s}/!y*!H>O!P2I/Q1)<e!f\vo$jjggf!e",j["clipbox.fs.head"]="g$jjego!fN$B\vY!`<C*P6Y/`1D!M-J6Q/Q1F!S-!6?/!11)\v4!dvfowj!g>p!synb!Njqojum!dv!D4mdjfqwq!fustToipbdq!f<]*N6B/Y1`.C!P-Y6`/D1M.J!Q-Q6F/S1^.<)!4vdofjwg!p>s!no!jcNpqpjmm!dv!D4mdjfqwq!fustDompjdq!J\vogojfeso]fN$B\vY!`<C^PTYL`TDBMNJ`QSQFFQSQ^J<M!Dv`oYjPgCp`sYnB!Nn]btuf5s!vvuDymfjUqlqtfbsNNsbfuqsqjjym]DNvB!YE`3CsPfYm`qDnMbJtQ!QnFsSp^g<j!o\vv$!j\vg1!!N?B!YT`LCTPBYN``DSMFJQQ",j["clipbox.fs.body"]="g$jjego!fN$B\vY!`~C!P<Yo`sDvMuJfQsQ!F<Se!s?b!d1t\vj!ew!f|d!4*!ewfMepsdbbdmt<j!Ectpjp)m!!gjjt!E\vjEtOdFb`sQePfPeM!`>M!MgPbSmOtVf$<\v!!g~m!p\vbguj!enobft$l\vQ!j~y!f<mfBvmsqui!b><!!ewffeds5b!dwtXjpEstmje!U*f*n*q*!o>j!Nwqfjdm5d)!w-XmpbsdmpeMQwp)tojbuijUpsof-u!b2f/s1h*)<m!m\vb$!V%O%S!P*M*My`bMNPqPjQm`dT!U-BmSbUd\vp!Mgwp)so!b)ijUotut!fjm!)>m!m1b<!!%j%!!=6!/N1B!Y?`!CbPiYq`mDBMmJfQyQjFQSl<t!bjn,),!*>!a|!!^wjM]psdfbomo!J>q!j)mvDDsmfjqqqqjfmsDNvb)u!sgjjy!]<jb^/!*+*!6w/X1p!s,m!e{U/fmnbqd*p/Mywz!{-<6!/j1g!!,)!vyD/mmjbqdqpfMswT)i3bdqffw]!j-^^!J>]>t!f2s!v%u%y!fvUDlmtjbqNqsffsqDqmjjmqDJvo)oEf3sf]sjv^u!yaf>u!!)>b!mbmi)qmmfBtmtfUyijbQol)twbMnp!d|b!m*-6!!d>m>j!q^Njb]yf*q*b!i%T%s!fbqmqmj)mhDsvf)b!ugfjs!U\vi^bJo])!w?M!pTdLbTmB-N!`dSmFjQqQNJjMoD*`*Y*P!C}`}Y!BvND!mgjjq$q\vf!s~T!i<bfqvfs]uj!^>!!>e>f!e3s!b%d%t!jvEDtmjj!q|q!f*s*D6m/j1q.J!o?o!fzs/]mjb^d!paM>w!!)%m%f!o6h/u1i!)=w!Mzp/dmbbmd*p!M=w!!1%/%6!*6!/}1}!!+v!D*mzj/qmqbfdspTMiwb!q.f!]6j/^1!)>!>=!!4*!{%y%/!mvbDdmpjMqwq)fisuDhmojfqmJ)o!o>fas!]^jj^]!saf>o!o)JmqfjomhDusif)qwqMjpmdDbvm!/%y%{!*5!!=>!>1!/^6j!]%f%q!bwiMTpsdfbqmq/jzm!D=v!!1}/}6!!*%6%/!1w.M!p?d!bzm/",j["fog.fs.head"]="g$jjego!fe$f\vg!j\vogfjee)oGfP$H\v*!\v\v!gvjoejogfp$s\vn!!<cspbpGmh!pvGGvp!hu<b!p\vm$gj!gn!sap)gejfogvj!o<fseb)fVOThFp`GVvC!Pu*b!p%m%g!!)nesfpggjjoofve!)\vQfItPmOfH$*\v!!}<}z!uejftgojfoEfhep)GQvC!Su*b*p*m\vg!!vnosjpggpjsonv!!w\vf3dQ5Y!Fv`GHpPhGD!pgmfpesg<j!$\v",j["fog.fs.body"]="g$jjegoeff$g\v!!G~P!H<\v*!sjpgu!d)bvGGhpphg*!!-|*!xg/mepJb!u-!cehfsq/usip!m>p!D.hwpNGwvQ)p5tdjfuwj!p-oe/J{)<y!j\vn$!j>g!eefJg!!\vGgPjHe`oFfY$Q\v3!\v<!*gimupqbfue!!g-pshbGGbhdpuGpvs!!->s!b2f/O1h!p.G!vf)yqqf)u.t!ivuGppphnEtf!o>t!jsupzu!d+b!GvhGppgh!Eufboptmjgu!z\v!f+t!meff$q\vu!i<!*+i!ueqf",j["skinning.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eToLfJ$O\vO!J~O!H<\vf!ovpocj!gopssvnu!fnsb!u<5^!*cjj)oueoNjb]utsfjdyj<s!uvboNjfgoppscn!!>n!bfuo5p!cc!j5ouebNnb!u|s!j*yjJ!ouwbfpsmtgf!<o!jb!uuutsojpcdv)uyfj!swufbdN5f!otplCjuofJho!e5fuyb<n!!b<u^uTsFjOcPvCu`fY!BwNf]dt5f!dtjlsjuobXNffjohpicu!<5!u\vb$nj!gnesfpgg!jCoPvO!F\v`fUtFmYfU$V\vS!F~\v!!<vfoojpgcp!sons!viujfhsi!q<!*t5bwn!q-m4fws!3-E3!wc!p-o2fwU)f5yuubvns!f><!!fvoopjcg!p5sunb!nj!o<u*!*czp!o-f*U6f/y4u!v,s!fyT)j!{+f!<y!en)b3ud5f!wh!f-ufCspvoufyNfbUufsojpyc))dEp3oftsuv!ujyof!ug!m>p!b5uw!!j5*d!f|w!!g<m*p*bzu!!-k*!6>/!3j!!,+!!y5)/!1+<!!ygem)p3bduf!wy!!->f!snvpuey)fkU-f!ogpmcp)bEu3)fcspvoufyUffuy!u>v!s4fwT!j5{dff*w*!<<!*g*mzp!b-u*!6z/!2>!!,g!myp)p!s+)!ky!e0)!3gdmfpwb!u-)fcspvoufyUffUyfuovpscf)TEj3{ffs*v*u<y!fgum!p>b!u3!we!y5!d>f!w2!/<1*!*0z!!g-m*p6b/u1)!c,p!oyf)U!f+y!uyves)f3Tdjf{wf!*-<f!sgvmupybfuU!feozp!c>)!E23/f1s!v0u!ygfmup!b>u!)2cwp!o5fdUffwy!u<v*s6f/T1j!{,f!*z<)!!z+!!>z!e",j["skinning.vs.body"]="g$jjegoeff$g\v!!V<T{Fz`yT/L*JeOfOoJoOjHl\vt!!n+b!uf5t!scfpwoofJNybjusYu!b>N!ehofjucC)p!o>f!Nebfunssjpyg)ttolbjsouJ!o<exf/yu/iyh*j<f!Xnobjul5t!!c+p!oyffNubsufZW!o>j!lhtf!u+C!pXoufbNNbfuospjcy!)>t,l!jeofJoooejflyt/!z<*{</!unibhuj5f!XcopjolftN!b+u![y!f>u!shffWuoCjplotf!N+b!u[sujbyN)ftolpjco!J>o,e!feyf/o{o*j<l!tn!b<uz5/!uciphojffNXboujXl!t>!!+h!fyufCupsoffWNobjulstj!y+)!tZlujboNJfooepfcy!/>x,*!<e!fnobouj5l!tt!l<jyo/NubiuhsjjfyX!o>j!lntb!u+5!)y1f/u1s*f<W!otjlljto!N+b!uYsujbyN!f,o>p!ct!l>j,o!Xeffjohoijul/ty!!<+*!1c/p1o)f5NdbfuwY!<>!!telfjoooNjbluts!j5yd!f,w>!!<t*l1j/o2X!f-jehfinus/pzg!t+o!bcspuo)f5NdbfuwZ!<+!!tyljjsouNbbNuesojjyc!!,>>!!ytflujsofXWfojjhlitu!/5{d!f+w!!c\vpgojfeNobfu$[\v<!!<t{lzjyo/N*b*u1s/j1y!!-,u>o!fthlojboUXufdjfhkicup/)x5!d+f!wc!p+o!fyNjbsuuXb<N!otjlljto)N5bdufswj!y>!!>u!ocfjhooebNUbuudsfjkycJpo!w\vfUsOtFfH!O+B!Ut`lFjToVN!bgufsejgyj!$+\v!!c<j{ozeyN/b*u*s1j/y1<!!-pmcbknfsdpuOOupdsfnkbcmp!)>5!dwffwd!5+)!tyljjsouNb",j["shadowMap.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eToIfB$E\vP!X<NeBsQp\vp!D\vx$pjegbeiftg!!5VdTfFw`!DhToNj\vz!svbowj!g<pysjns!unbbNux5p!etbiibte!p5xuNbbnu!snjsyp]gDjToNv`!D\vBfTtDmBfE$F\vT!^<<^!TwFbEsBzDjToBhD!`wNfTdD5]!etsipbpeDpx",j["shadowMap.vs.body"]="g$jjegoeff$g\v!!V\vTgFj`eToIfB$E\vP!X<N*B1Q/\v2!!\v-$ejfgnesfpgg!tVoTbFs`uD)T5Nd\vf!w\v!$+V!OySjPsMuMb`NMmPfPeQp`NTvU!B+S!Uy\vj!sgupbsN!x)pjeobui!tj!!>>!!e1s<p!pjD!x=p!eDbTiNt`!D\vBfTtDmBfE$F\vT!<\v!EjO,F,`*Q!P|P!Mt`iMbMePpSxODVp$p\vs!e~]!j<^*!1>/!2t!i-beefpnxsNpbgutsojbys]uj)^5!d+f!wv!N+p!eyfjmsNub",j["shadowMap.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gTjIeBoEfP$X\vN!B<Q*\vq!ev!o-j*gzp/sfn{!jcTpmpfmy!ftui!b-eEp4xeDcv)mWmV<p!Uvfocjvgdp!s-nq!bgNmxppbeub!itti)bfespbxqJnopuDfEo3tfjsuvzu<y!fvuo!jogspvsunf!sg!m\vpfbtum!ft$i\vb!e<p*x1C/j:b!t0<!!1v/o2j)g!p+s!n*!!g*mqpeb!u-!*tzi/bfe{pjxTSmbfeyjfvut!<-!yvyozj/gupfstng!gcpp!p,m!!Et4iebce)pWxVSpfUdffcjvwdf!<-!qvboNjxgppesbni!tw)ffds3b!qtnipbDeEp3xfTsjv{ufy<f!uv!o,j!g*pqsen!!-w*fzd/4f!{tjiTbmefpyxfDup!m-pysy<y!/\vu$fjtggegfpg!!,V!TEF4`eDcT)NW\vV!pvUofjcgvpds!n-!qgbmNpxbpue!bdittn)EffsqbuqinSpbDoEh3ff<s!vvuoyjfgup!s,n!!*wqfed!3-!*dzt/nfD{bjtTdmbfeyfftu]!D-TzNy`zD/BuTfDtBgEgFpT!^,<!!Ew4bescz)jWoVhp!Uwffcdv5d!!t-iqbbeNpxxpDepbpiste)]fDsTbNq`nDpBDTED3BfEsFvTu^y<f!uv!o,j!g*pqsen!!-t*bzn/qfm{fjsT3mEf!ytfiub!e-pzxyNyb/qu]fDtTgNg`pD!B,T!DEB4EeFcT)^W<V!pvUofjcgvpds!n-!qgbmNpxbpue!bqidtt)tfDsTbNqMnjphDiEu3Tfjs{vfuDypfsus!f,d!u*jqpeo!]-D*TzN/`fD{BjTTDmBfEyFfTu^!<-!E\v4$ejcg)eWfVgp!UDfTcNv`dG!B-EqFb\vN!xvpoejbgipts)nf!sgbmqpnbpuD!Ed3tfnsGvbueyffGub!d,u!p*sq<e!!\v-$*fzo/efj{gj\vT!m\vf$yffmut!f-\vy!zwzb/suzfjtoghg!pw!f,d!5E!4teicb)eWpVxpDUpfpcsved<!!-vqobjNgxppsenb!ittb)nfqsmbfqsn3pED!Et3ifbsevpuxyNfbuq!<,!!\v*$qfeo!e-j*gz\v/!f\v{$jjTgmeffygf!uT!I-ByEzPyX/NuBfQt`gUgZpQ!F,`!QED4TeTc\v)!WvVopjUgfpcsvnd!!w-fqdb4N!xqpdetbtiQtb)sfbsnbtq<n!p\vD$Ee3ffgsjvoufy!fCuM!P,D!L*FqSe`!T-F*BzS/DfI{`jTTBmNfQyMfFuT!!-4z3z\vz!/\vu$fetfgggjpo!f,!!QED4Ge`cT)BWNVQpMUFfTc!v7d5!\v-!qdbpNoxtpue!bwiftd)3f!sQbpqjntptDpEo3Tfbsnvqumyffsut!4,3!]*4q3e^!!->*!zw/ffd{3j]T4m3f^y)f!uw!f-dz3z)y1//u1f7t5g1g8p1!2,4!-E!41e/c1)6W5V1p:U:f3c8v*d-!!-wqfbdN3x)p1e/b8i4t7)7f6s8b8q-n!p1D/E638f9s:v4u:y5f*u-!!)w!fods3v)u.f1s/!7<3z8/1f6{5j3T-m!f.y1f/u6!4+3!1t3v8j9e*b-S!xwpfedb3i)t.!1+/!5*12:!7-221!8.-)!31d/f9w5!2>2!1u:f6t*g-g!pw!f3dd3f)w1!/\v7*9U5G:P6T7`5G-D!Q.`1F/Q5Z:U:`1Q9B2N9X*P-E!BwIfTd)3e)f.o1j/g9f8e5!2}9}2!-*!G.D1Q/`1F5Q6Z8U:`8Q4B6N*X-P!EwBfIdT3))e1f/o:j:g9f:e:!:g9j-$!\v1!/<1*1o1p:j9u9j1t1p7Q7p*U-u!iwhfjdm3))f.{1j/m1b1n5s:p3o1!6>8!9E-4!e.c1!/4:d2f6w2!7<5t:b*j-C!xwpfedb3i)t1!/>2,9!1q6e8!7<4*-s!b1f/O:b8s5f8n5b9D4x*p-e!bwiftd!3.)!.s1b/G3b2s4f9n5b6D2x-p!e1b/i3t7)4!609!2*9s*b-f!Owbfsdf3n)b1D/x2p1e:b9i5t6!-.!!1*/o4p9j9u5j8t9p6Q*p-U!uwifhdj3m))1i/u1h7o9f8m7)8!6>6!-q!e.!1u/b4p6m9g2!1<8{5z*y-/!ewsfpdp3D)x1p/e4b8i5t1!8>4!-o!p.j1u/j8t7p7Q2p3U7u7i*h-j!mw!f4dd3f)w1!/<4*1*81:/234!3--1!/.51)/32d3f2w7!8+7!4f*{-j!TwqfbdN3x)p.e1b/i4t8):!504!4*61-/!2.)13/d9f3w8!2>6!9f4{*j-T!mwffydf3u)!.31d/f3w1!4|9!8*9s-b!G.b1s/f1n8b8D2x6p1e4b5i*t-!!uwbfpdm3g)!1-/s6b:f2O3b7s:f8n-b!D1x/p2e5b7i:t8!:u:b*p-m!gw!f-de3s)p.p1D/x9p9e1b7i:t-!!51d/f4w1!4-2t8v9j5e*b-S!xwpfedb3i)t1!/u6b1p5m1g2!1-9t-b!j1C/x9p3e9b4i8t3!3u*b-p!mwgf!d-3f){.j1T/q6b9N5x5p2e3b5i-t!!13/d6f5w:!5-9q8b8N*x-p!ewbfidt3!)E13/s7f1m2q8n8b:t:)-x!p.e1b/i2T8u3o7j7p6Q5u*f-h!!wufbdp3m)g.!1~/!6<6*6658:/912!--!618/42/616):3:d:f8w*!-,!!wsfbdo3b)m.q1!/+4!1*26734/71:!--!6.312//41:)131d:f3w9!*o-s!vwuffds3!)~.!1</16/636!1.7!4Z3o-h!j.t1!/+2!8{3/4w8!7>3!*z-/!swbfodb3m)q1!/<:13/631!3,:!-Z!o1h/j3t:!:+6!115/23*!-,!!wyf/dw3!)>.!1y//3s5b8o4b2m4q8!-<!*1z//6w6)4o9h6j1t6!*>-!!Zwofhdj3t)!1u/b:p2m9g4!1|4!8*-f!o.P1u/t3p9n7m3b4!:>3?*!-z!/wWftdc3b))1!/g3j5!7f:t5m3f2!-~!!1</Y7o8h2j9t8!2+3!*1-/!3w!f,d!3Y)o1h/j4t:!2+7!4{:/8w-!!>.!1y//5s4b3o9b3m1q:!*<-*!yw/fwd)3o)h.j1t/!1>4!6Y8o7h:j3t8!-u!b.p1m/g7!3|3!1*1f4o3P*u-t!pwnfmdb3!)>.?1!/y1/5W7t7c2b3)6!6g-j!!1f/t8m:f:!6~3!1<2y*/-w!!w.f!d13/)51!/>5!5y1/3s:b3o5b-m!q1!/*417/511!4?2!3{*/!w*)<!!gdjp!o|t!u*!fwofPdu3t!pQnpmjbt!t>p?o!T{b/nWqtmcfbs)t!7g5j]!7<5m^f!y>f!UwBfudt3p]n7m5b^!).!!w1f/d23!)>.!1f/o7P2u4t4p:n3m-b!!1u/b7p2m8g5!9<2Z*f-{!jwTfmdf3y)f1u/!2+8!161/22:!->!!.m1f/y1f5U1B3u6t5p*n-m!bw!fudb3p)m.g1!/<3z:y:/5w2!8>-!!s1b/o8b:m2q:!336d*f-w!!w<f*dZ3f){1j/T7m5f6y7f9u1!-+!!11//53:!4.3!211/*2-)!!w+f!df3c)v.D1p/U7f6m2b8d9t5!->!+1!/w8!2<8f9c9v8D*p-U!fwmfbdd3t)!1>/+5!3W2t1c1b4!-<!*1*/{1/3W8t1c8b1!*--z!/wWftdc3b)).y1b/n9!2-8y2/:W5t-c!b.)1y/b3n8!201!:17/*2-!!>w!ffdc3v)D.p1U/f8m1b6d4t8!5u-b!p.m1g/!7<7*9w3)1t4c*b-!!>w!fWdt3c)b1!/4:d8f8w1!6|1!-*!Z.f1{/j2T1m9f7y2f6u*!-u!bwpfmdg3!)-1w/!147d4f4w3)7W-V!p1U/f2c5v3d4!73:d*f-w!!w~f!d<3x)p1e/b3i1t4!6o3s9v-u!f1s/!3~2!5\v4g4j2e*o-f!$w\vf!d<3*){./1e/s7p7p8D6x4p2e-b!i1t/!4-3z7y1/:e1s*p-p!Dwxfpde3b)i.t1!/-1q:b9N5x3p3e-b!i.t1)/f3s:b6q8n6p6D*E-3!fwsfvdu3y)f.u1!/>9!9x6p:e3b3i-t!!1\v/f3t2m6f4$7\v:!*<-*!owpfjdu3d)f1s/s6p7D7f7{4j8T-u!i1h/j7m1!6-3e2s4p*p-D!xwpfedb3i)t1!/-1q4b:N8x7p7e-b!i.t1)/x4p:e7b2i1T1T*T-D!Qwuffdh3!)>1!/x8p6e2b:i5t7!-\v!*1T/T5D6Q4`4F6Q3Z*U-`!QwBfNdX3P)E1B/I1T8)9e8f1o8j-g!f.e1!/g8j2m6f4$3\v4!*<-*!1w/f:d!30)!.11//21)8!6+9!4*9!-*!{./1e/s6p3p:D4x5p5e*b-i!tw!f-d*32)z1e/!8-325y5e8):3-d!f.w1!/,6!9z1y8/:e9s*p-p!Dwxfpde3b)i1t/!3-3f3{:j:T:q-b!N.x1p/e3b2i6t2!3-6q*b-N!xwpfedb3i)t.)1q/s5f7M8x6p8e5b-i!T.E13/f5s1v6u5y4f9u*!-,!!w*f{d/3e)s.p1p/D3x5p9e3b7i9t-!!-.*12/z9e2!5-816/41*)-3!dwffwd!3,)!1z/y4/6e5s5p2p2D-x!p.e1b/i9t9!8-6f8{1j*T-q!bwNfxdp3e)b1i/t2!8-6q9b2N8x-p!e1b/i4t9)3q4s7f7M*x-p!ewbfidT3E)31f/s5v9u8y5f8u3!-,!!.*1{//1e7s4p1p9D3x*p-e!bwiftd!3-)*.21z/e1!9-511y8e9)-3!d1f/w9!:,9!4z2y3/*e-s!pwpfDdx3p)e1b/i5t9!9-9f8{7j-T!q.b1N/x8p9e4b5i5t2!*--q!bwNfxdp3e)b1i/t5)8q1s1f2M7x-p!e1b/i3T2E83:f4s4v*u-y!fwuf!d,3!)*.{1//e7s:p7p9D:x1p-e!b.i1t/!6-5*:18/:12!*--2!ywef)d33d)f.w1!/,2!5z:y7/:e4s-p!p1D/x7p1e6b8i7t3!*--f!{wjfTdq3b)N1x/p1e4b5i3t2!2--q!b1N/x:p8e:b:i9t1)*q-s!fwMfxdp3e)b1i/T6E134f1s:v9u-y!f.u1!/,4!1*9{9/8e9s*p-p!Dwxfpde3b)i.t1!/-1z2y7/3e1s6p-p!D.x1p/e9b8i3t:!3-2f*{-j!TwqfbdN3x)p1e/b4i9t6!8-9q5b-N!x.p1e/b4i:t4):q1s3f*M-x!pwefbdi3T)E.31f/s2v5u7y9f9u7!-,!!.*1{//9e6s:p3p5D:x*p-e!bwiftd!3-)*11//715!4-417y2e-)!31d/f2w7!5,1!:z9y*/-e!swpfpdD3x)p1e/b7i4t5!4-9f9{-j!T.q1b/N1x5p:e5b8i2t*!--!qwbfNdx3p)e.b1i/t7)9q9s9f:M5x-p!e1b/i1T1E839f5s4v*u-y!fwuf!d,3!)*1{//5e7s5p1p4D5x-p!e.b1i/t2!9-9*912z9e*!--!2wyfed)33)d.f1w/!5,5!1z9y5/1e-s!p1p/D2x4p8e5b9i7t*!--!fw{fjdT3q)b1N/x4p7e5b5i9t4!--!q1b/N6x2p2e8b1i5t*)-q!swffMdx3p)e1b/i1T4E531f3s9v-u!y1f/u4!3,6!:*7{9/*e-s!pwpfDdx3p)e1b/i1t:!:-1*:15z-e!!.-11//411)931d3f4w*!-,!!wzfyd/3e)s1p/p7D:x4p:e7b1i-t!!.-1f/{4j7T7q3b6N4x*p-e!bwiftd!3-)q1b/N7x8p9e9b9i5t-)!q.s1f/M3x1p5e7b9i9T*E-3!fwsfvdu3y)f1u/!1,1!2*9{1/2e-s!p1p/D8x9p1e4b3i9t*!--!*w1fzde3!)-11/y2e5)632d8f8w-!!,.!1z/y9/:e9s:p9p5D*x-p!ewbfidt3!)-1f/{1j7T3q7b6N6x-p!e.b1i/t7!2-2q9b7N7x*p-e!bwiftd)3q)s1f/M4x2p6e3b3i7T-E!3.f1s/v7u1y5f3u:!8)*!->!!wxfpde3b)i.t1!/<8t9v1j2e5b6S-x!p1e/b5i9t7!3+6!2z*/-f!{wjfTdm3f)y.f1u/!4,8!2>9!729z-e!!1u/b9p9m3g2!4<9t*v-j!ewbfSdx3p)e1b/i3t1!1+5!8y7/-f!{1j/T5m:f5y5f4u1!*,-!!>w!f2dy3e)!.u1b/p5m:g5!6<6t3v-j!e.b1S/x8p2e2b1i6t2!*+-!!zw/ffd{3j)T1m/f7y2f3u5!8.7!->!!11/z8e1!6u3b6p3m*g-!!<wtfvdj3e)b.S1x/p6e8b9i9t5!6+-!!y./1f/{8j7T9m8f:y3f*u-!!.w!f>d!31)y.e1!/u8b8p3m5g6!5<-f!{.j1T/q1b:N1x:p8e7b*i-t!!w0f!d*31)/12/)631d5f5w5!1>-!!f1{/j4T8m3f3y:f6u*!-3!dwffwd!3\v)*1U/G2P6T6`8G4D7Q-`!F1Q/Z1U7`6Q2B6N8X*P-E!BwIfTd)3e)f1o/j4g:f2e6!3g3j-m!f1$/\v9!5<:*711/6:*!-0!!w1f/d23))!.+1!/*7!3*1{2/1e7s-p!p.D1x/p4e3b9i2t1!5-**-2!zwef!d-32)y1e/)839d:f3w4!:,-!!z.y1//e5s2p:p:D7x6p*e-b!iwtf!d-3q)b.N1x/p6e5b6i4t:)7f-s!b1q/n6p4D9E234f4s*v-u!ywffud!3,)!.*1{//2e8s9p6p7D5x-p!e.b1i/t6!:-7*126z8e*!!-*1</!1g)m3pdbfuw!!h,f!uzQyD/TeTsTpipbDexppxe)btibtn!q-mqfbsN3xEp!etbiibte)pfxsNbbqqn-p!DwEf3df5s!vdupypfsue!t,-!!*g{m/pebsup!pmDjxhpieubTijt{!f-D*p2szsef!d-u1jypeo)*3!d|f!ww!f,d!3z!yv/we!s>p!pdDpxppseebti/ty!z-<q!bgNmxppbeub!i{tS)ffdsfbjqwnfpsD!E>3!fdspvpusyeftu/!{,<!!*g{m/pebsup!ptDfxbpsedbiiStb!e-j*v1t/!1>!!-q2dytet)Q3bdsfbwn!t,/!yz!y+/!eqsdptptDQxbpsebbnitt/!z-!q+b!NmxjpheibuiTtj){ffsDbpqsnspfDdEu3jfpsov<u!ygfmup!b,u!!*c{m/pedslpfpsDExfpqeubiiTtv!n-!z>y!/1e/s1p<p!Djxopue!boivtn!C-mqpbdNlxfpsetb!i>t!)1f<s!bgqpnsp!D)Ej3ofus!vju!y>f!u1!<,!!j*!{=/!eCsMpPpDDLxFpSe`bTiFtB!S-D*I1`/T1B!N-Q1MyFeT)<3!djf,w,!*,!!|z!yg/mepsbpup!DtxipbeebpixtN!b-qqEbfNqxupie!b>i!tv)ofqsbbdqlnSpHDCEB3UfpsEvfuqyufiu)!u,f!y*u{v/sefs3pEp)DtxipbeebpixtN!b-q*-1!zvew!!-,2!yQep)j3tdtfpwo!T,b!nzqym/fesstp4p3D]xjp^e!b+i!tt!f-bqsbdNixSpbeebjivtt)*f*s<b!qjngp!D)Et3ifbsevpuxyNfbuq!E,f!q*u{i/!e=s!p{pSDfxdpfejbwifts!*-!*|1!zcem!p-d1l/f1s)E3fdqfuwi!T,v!nz!y,/>e!stpipbDexppxeNbbiqtE!f-qqubiN<x!poevbniCtm)pfdslbfqsntp!D,E,3<f!s~v!u~y!fjug!!,)!o*v{n/CemsppdplDfxspte!b>i>t!!1-**!1szfeu!v-s1oy!e2)/31d<f!wg!m,p!bzuy!/{eCsmpppdDlxfpse!b>i!tc!m-pqdblNfxspEefbqiuti)Tfvsnb!q0n!pgDmEp3bfus)vouvynfCum!p)d!l>f!sxtp*e<b!igtm!p<btuv!jbebbPSgxgptefbui!t>!!+q!dzt/tfQ{bjsTbmnfty/fzu!!+,!!2>1!/21z<e!!gumbppbmug!!q<ftovvjnecbsSbxSpbeubjipt!!>+!!)y{/Sff{djfTjmwffysf!u.!!,{!C>m!p2dylef!su*b!p,m!gb!b<PtgvgjtefbuS<x!pgembpibtu!!+g!jzm/uff{sjSTbmefjyvftu!!>.!!q>f!o1vznec!subbSpbmugj!p<!t+v!jqedbtStxQpbesbbintt!/+y!!y+/!fq{djtTtmQfbysfbun!t./!z>!!+1!yqed!tutbQpbmsgb!n<tf/{{j!T+q!bmNjxhpieubTijt{!f0D!p*s1s/f2d)u3jdpfow<!!>g!mfp{bjuT!mtfiybfeup!x3!d>f!w1!/\v1*<G!DgQm`pFbQuZ!Us`bQoBeNgX!P>E!BgIsTb)deuf)otjjgof)ee!pguj)$v\vw!-|w!f*du3t)f2U3n/v:u9t:v9s-g8)9!/g3j4!4<***d*f!W+u!t5f4U8n6v9u/t6v5s6g4)*m<m!bg!m>p!buut!fsUpnuvbuutjvpsogB!omhpmpfc!!><!*s1b/o2e!g>!=+!!{4//e2s5p2p6D:x3p7e<b!iwtf!d-3n!vsuptuvbsuGjopjo)W3fddfuwpcs!!>>!!dwffWdu3t)fdUpntv)ustpvusbgu!j3pdofBwoch!m<f**d-f!Wtnjvou)tsvpsuGboujj)pmomBbo!h>m!fn*v*u<t!vwsfGdo3j!!pmgpgptcf!u<<*!1\v/$2V!O>S=P!MzM/`eMsPpPpQD`xTpUeBbSiUt\v!!-g1p/s1!!)>j?o!uz!/je!s>p!p1D<x!pje!b=i!tQ!D-G1`/T2B!N>Q=M!FyT/<e!sjp,p,D*x!p|e!bpigtg!t-f1u/!1>!!>Q?p!jyt/tepsopTpbDnxqpmefbsitt7)5!]5jd^f<w!cp!g>g!tdffuW!n>v!uwtfvds3G)opjg!g5tdffuw/cy!!<+*!:s:p:u:b:u:j/p1o!W-f{d/uepssp/pyD!x.p!epbgigtt)fouj/nz!!>+!!{s/peusbpupjDpxopWefbdiutp!s</tzb-j!Cpxgpgetbfiut/!z>!,+!!{s/peusbpupjDpxopWefbdiutp!s</1y/!2,!!>p!gxgptefbui/ty!!u+b!psmpgu!b|u!j*poopWjfuddufpsss/pzD*f<{!jtTiubiehpjxm!!,u>b!ptmugf!q-)e{sSpfpdDfxjpwefbsi-t!!v5odqfbwd!l-StHvCjBeUbpSExfpqeubii)tu!fuybupvmsgf!3-Et)btjiCbxeppexbNibtq!-u!bvpwm!g,!!-pfg{gjtTfqub!N+x!pgejbmiutf!s3Sdbfewj!v-tq*b*N*x<p!e~b!i\vt$!VEO3SsPfMmMq`nMbPtP)Qx`pFeObEi\vT!utfihb!eupbxp!m0g>!!~g!m<pdb!uo)sQvDuGf`sT!B<N*QyM/FgT!*-<c!!t-ibb)eypjxn!!>>!!ndj!yu)btpimbge!p<x*-z!/2g/!--!u{sS!f-dcfsj)wyfjsn!!.>!!{cC!mupbdplmfgs!*<<*!zs/fgu!v-suom!!t-icbme)pyxj<n!!~>!!\vb$!fuobepjmgg\v!!<g*m6p/b1u!!,u!ffy{ujvts!f+3!EwDvp)nuqdbbssfg)!t>b!ngq!m3fdsf3wE!!<e*ffqsubiqtn-p!dw!f-dz3z!/vuwf-t!gggmpp!b+u!!fd{pjnTqmbfsyff*u!!|,!!sWfVuevjspos!utouffdq!)-dtpinuqqbfsef)-f!svboqqnbpdDlES3HfCsBvUupyEffuq!u>i!)uusf!yuubvpsmfg3!E<)*effsqbuqintp-d!!v-wy*z*/*u<f!t~g!ggpm!p+b!uf!{ujfTymufvysffu3!E,T!iWbVeepjxpMsfusoqf)dt!b-ntqimufqsf3eE)!fesfbqquniptD-E!3wffsdv3u!ytfju{!f>-!!cwsf!du3b!pvmwg-!!<g*mfpsbbuq!ndppdn!q-bzsyf/*u!f|t!gdgppo!t+u!!fw{fjdT3m!fpygfgut!f,u!!W>V!ewjfpds3u)o1f/d1!--!t2i/u1q*f<e!)wffsdb3q!nupfDyEf3mfTsjv{ufy!f>u!!w>f!du3m)!2u/b1p*m!g0!!<t*jf{sfb<q!nwpfdd!3-!ydyf/ouufstpgjgepV!W+!!>f!{gjmTpmpfsy)fvuw!!,+!!WtVje{jfp!s,u!o1f/d6!*-!t0i!utqjf{ef)<f!sgbmqpnbpuD!Em3cf!s>v!uuyf",j["shadowMap.fs.body"]="g$jjegoeff$g\v!!V~T!F\v`gTjIeBoEfP$X\vN!B<Q*\vf!vjmgb!W)xtpiebbeiptx!S-f*d1f/j2w)f4*d!f|w!!g-msppbmup!DtxipbeebpixtW)bymjvnf!<>!+\v!$cjhgse/fegJ!!V\vTfFt`mDfT$N\v\v!!<g*mfpvbmub!WmxjpoefbbistE!f-q*u1i/!2>)!4.dwfNww!Q-pstpjmupjDpxop/e{b!i0t!)dytjnnE!f>q+u!isSpbmophdf/<u!ithijbMeupdxfWsbjmev!f\v!*>S!C2Q/)1e<f!o\vj$gVfOeS!P}M}M!`*MHPOPPQI`QT)UeBfSoUj\vg!fgep!sg!j)$j\vo!u<!*jf!v>m!b1W<x!pje!b=i!tD!T.N!`1D/B2T)D!B+E!FzTu<j!tjo,f,u*o!J|x!pjegb!i)tm!j.o!f1b/s2E!f>q!ufiv!m?b>W!xdptenbDibtt!d~b!e<fots]vju^f/sy!!<%e%s!bmdjtojfeb!s|E!f*q1u/i2!!=>!?d!tfnvDmbbtWdxbpeefbti]tj!^%/%z!*m!m|v!DtxipbeebpixtW)b!mgvjf!!\v+g>j!ehoffu$T\vi!b<e*p1x/)2t!i-beesppxpNDbxqp]eJb^i-t!!t-itbvejpexbTSjx{pfe-b!itti!b-etpbxjCCjxbpte-b!itti!b-efp{xjSTbxepjevbti-t!!t-iqbbeNpxxpDepbpiste)]xjp^e-b!iqTdutfthD!T>N!MfjvhmibuWTxjp{efbDipts!s\vffdtumjfp$o\v]!j\v^E*O<F!`\vQ$PjPgMe`fMgM!PDSTONV`$G\vB!E~F!\v~!!\v\v$gjjge!o]fJ$^\v!!=\v!gDjTeNo`fD$B\vT!D~B!E<F*Tp!j.u!b2S\vg!ggjmep!b-uf!vemjbgWgxSpbeubjipt!!>-!x)pdetbniDTbutydfboe)fytj]nj!^>/!zf!v.m!bmWjxopfebbsiEtf!q<u*i^*2!,0j!])odptjnuDdbftsdsbpeDfft{]jjT^u/izh!j.M!NdTtDntDtbdtqd!b-e^f2t,]jj]^e/syp*p!D+x!pdetbniGtb!e-ftGvbjdeubpSsx<p!ejbgi!t)!e-jtgbgjSCbxupjepb!i=t!!2-/f1{*j!T|x!pgembpibtu!!-o^f2y,uJT]iqbbeNpxxp!e>b!ihtf)uxTpieb",j["bufferGrabber.fs"]="~0!0\v!g$jQeSoFfG$J\vY!\v<!*\v1$/e2f!g-j*omfb!nDsMpJOQw`)ECJHSSFpDUUmJbPnOs\vp!Owlbdsbzqj)o5hd!fwwf!d>4!!mwbMnpsdpbOmhQbpstgj!u\vjMpBoN<S!P\vO$`jCgBeSfHg!!gHfSeBgCj`$O\vP!S<N*B{M/\ve!smpbpzDphvbus)Gm`pmdhb)uBjCpHoS>p2U*i!upqvfuE!lidjbhqi!q>!!wsfpdm5p!DghsbbshGO`pmshn!b\vm?<z!ewpbcs/ztjgo/hy!pwcfqdj4m!dw=O!pfsenvbmmd<o!j\v$$\vf!o\ve?jzge\vp!c\v/$tjgo/dompvjeufd!f=sqjbEdqljjmodh=?!\vf!e\vv$mjdoodjm$v\ve!f~!!=~d!m<jeqsEbjdstfjdeu!j|p!o*/ugttf/Uibfibqem?b\v!!>\v=$!jbo/dsmpvmepfD!w=vd)m!jgqjc!p\vyg/jgeto/fi$f\vb!e<?*\vw!Vvwo!j-gqpbsnn)!Et3bfnsqvmufysf3uE!!>n!bsqp<m!pvDowjvg!p\vsfnt!mcfp$p\vm!!<v*Uzfyy/uwvVswf!<-!qvbonj)gEp3sfns!vgumypfbuu!!>b!msqpimbpUDfwtvu!<\v!QwJbMsDz`jWoVh!!gwffedg3j!$w\vV!w|<!!*\vf$sjvgu!yNfBUYv`)C!PgYj`!D<MsJpQmQpFDSw!v?!!51d\vf!ww!b|s!z*j)oohj!bwnf!de4j!pwwX!p\vsgmjeeQopft$j\vu!j<po",j["flowMap.vs.head"]="g$jjego!fN$B\vY!`<G^MUPDXF`KPCCPK`FXDPUM!G?`!Y1B\vN!]vwoVjxgppmsgn!!3ndbfuw5!!hgomjpzxsNbbwu!s<j^yU]DNFBKYC`PG`MXP",j["flowMap.vs.body"]="g$jjego!fN$B\vY!`~G!M<P6X/`1P!C,K!F*D{U/!m?b!d1p\vM!wwVfxdp4m!gg!m,p!xzV/wmMbpddpbMmw<V!xgppmsg!.)!j-oyu/!mjb!d>p!M1w<V!xjp!m=g!)N3BdYf`wG!M>P!X^`jP]CwKVFxDpUm<g!!j<,{,z*y!/|*!*g1m/p2x!V-weMfpndsbpmg!t>o!b)sgum)p5xdNfbwu!s+j!yy]jjs^u!b+N!mvfNep",j["flowMap.fs.head"]="g$jjego!fN$B\vY!`<G^MUPDXF`KPCCPK`FXDPUM!G?`!Y1B\vN!]vwoVjxgppmsgn!!3tdbfnwq!mhfosj3zEs!bgwm!p<x^UUfDyFuKvCsPf`]XNPBMYG``GYMBPNX]`fPuCjKoFjDgUo^J<x!pvmogj!gmppspnc!!cnpsppmg!jgomvp!x<F^oUbDcFmKfCeP]`NXBPYM`G",j["flowMap.fs.body"]="g$jjego!fN$B\vY!`\vGEMOPFX``QPPCPKMF`DMUM!P?S!O1V\v$!\vw!f~d!5\v!ggjmepoxfU$f\vy!f<mc<h!s\v/$mVfOySfPUMxMp`mMgP!P>Q,`!TcUhBsS/Ue\vJ!!g\vpfst!m)fj$o\vu!!<jb>c1h<s!/jm!f=y!fNUBxYp`mGgM!P>X,`!PbCcKhFsD/Ue<J!!j\v,*,!*B!C|H!Sg`mEpExBU`fFyEfPmN!`>E!OuFfMyCu`vXsPfM3GE!))gemfpoxjUgffyeu!vgsjfm]fJ$^\v-!!<gbmcphxsV/wm]fjy^f*U<x!pjmgg!!)>g!mbpcxhFso/becJm!f\ve*]!jB^C!H%S%`!F)EgJmSpSxFJWoPg`jFoEjPuNf`]EjO^F!M}C}`!XbPmMmG)!m)fetftoUjigbfoe)!ggmjpmxfV$w\v]!j<^b-/!mwffydf3U)x2p/m1g*!*>*!!b%/%e!Jb!m\vm*)!hBs`fFbEuJfSsSUFiWbPo`)FgEmPpNx`VEwO]FjM^C-`!XwPfMdG3!))1e/f1o*j*g*f*e*!!g\vj$mjfg$!\ve!f<gcjhosf/em)f!yGfMUPxXp`mCgM!F>O!Ec`hNsP/EeFJ`!N\vV*M!UCJHQSM`ZF`ESJHSCS!F*W\vP!`JFeE/PsNh`cE!O+F>M!Cg`mXpPxMUGf!y)femf/osjhgcf<e!!\vg$jfmmfj$g\v!!e<fbgcjhosf/em)f!yGfMUPxXp`mCgM!F>O+E!`bNcPhEsF/`eNJV!M\vU*J!QBMCZH`SQ`TZ!M*Q\vJ!UJMeV/Ns`hFcEbP!N>`!EwOfFdM5C)`nXjPyM)GJ!e)/esfhocj-g!fJee!/gsjhmcf!$+\v!!g<m*p*xbU/feyJf!m-/bs/hmcf-y!fgUmxppxmUgf)yyfbmn/!b-*",j["normalMap.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gOjPeSoNfB$M\vN!B<Q*\v{!/vOoqjbgnp!s+n!!ntsbpnoq`mgfssv3tE!!,o!pzs/nObqmbNnb!q+<!!*\vu$ojfghooebfugj!CVwT)Ff`{VjCmPb\vn!svpooj!g,p!syn/!Owqfbdn3!!+o!p*sunobfmhTodbbUmwf)<f!{\vj$mfbonesjpgo\v)!f\v{$jjmgbenfsgp!oV!ToFs`vUuBfOsH!F\vOfUt\vm!fw$b\vs!z<j*o{h/!Owqfbdn4!!+w!UOb!o,h!f*ofum<b!dwtb!s+z!jzo/hO!qwbfnd)4!!+w!CCj!u,b!o*hffmobud<t!!\v+$!fyo/eOjqgb\vn!)\v!$+f!oUe)jfg{\vj!m\vb$njsgp!o)!eofsgvjuoffse!)<V*TuFf`eO)PuSsNrBtMfNtBsQf*w!o}j}!!+e!fogpjjoufdef!s)jVETfFd`bDgM!F;B!S1D/P1B!U@`!O*P1S/N1B!M>N>B!Qu*f!e})}!!>e!ffgmjbodfte!)uVbTpFm`gV!W<****\vC!!w-fCd)4u!pqef!s-u*vUs!c-OUp)sunpbem)3yBbsnc!)>w!fudf4e!!fuzbfp`mqgp!t<-z!/w2fudt4!!+t!vqssgf`qo1prs!n,-!!zw/f1du4t!!n+b!qqOs-f!qg2mrp!b>u!!Cg!b4ddffEwj!s<fyd/u2jupto!*+!!|q!s\vf$qj1gr!!a,e!fyg/j1oufte!)+V!TqFs`fUqB2OrH!F>O!UU*!\v4!dwffwd!4<!*r11r!!>-!Oe)Gtetyp)sfdz!f>`!qqpstf/qy1zr{!*4<d!fwwf!d<4*!Or!2-!2>r!)etGtepzs)df!z>f!`qqspftq/2yrz!{4*d<f!ww!f<dn3s!ptou`1g!s>v!te!G>e!yO)!w4Vdwf/wt!u<**<u!tw/fwdV3w!)tzue2G!e>!",j["envmapPhysical.fs.head"]="g$jjegoeff$g\v!!V~T!F\v`gFjOeWoNfB$Q\v\v!!<v*o1j/g1p)s4nd!fgwm!pobsuv!uffosw!N\vbfqtJmofu$f\vo!t<jzuuzj<t!ovfoujogJpqsbnN!wgomfp!b+u!!cghmsj/qsFpomwpNDbqqb<N!w\vo$fj!goesfvgu!fFsO!W<N*BtQt`fUoZiQhFv`pDsV!C-Fd\vf!Wvuodjfgmpgsfns!!t-bqnbqnmwfosfD)vWcVff!cfvoDwfnsbvqu<y!f\vu$!f>m!tsfp\vm!pvDoqjbgNpwsonf!!t5bdnfqwm!f<s*3yEj!sfuobwNnxbfqj<W!v\v!$-fdofeWjugd\vf!mwgffds4)!ohpfjuuJdCfMsJjsEsnbsepjgbtoodbfs)Udfptostfuw!ojjo!!>w!fddf4W!uodpfsmngbfms*!!<|*!*\vt$tjfgo!iehfvgpjso!f+e!)tFtOfWoNiBhQv`pUsZ!Q-Fm`bDnVsCpFo`!V-Wd*f\vW!uwdffdm4g!fxsp)symjenO)pfs{njbmmb!n>s!pjoo!w>f!sdtffWUusdbfomtggfpss!n<E*jmsbfndsupjop!o-)sojpEsxnfbjmw-!!.v)WujdffxmNgbfuss!j>y!*d<f!Wwufddf5m!gffosw!N<bdqfDWpumdpfsm!g>f!su!f4ydufvws!f\vD*vWcVf`VFWC)VfDo`wFnQbZqU-`!QxBpNsWmOeFO)pesfnobjmg-f!e2!/g1j*$<\v!!s|f!u*vtstof!oQiJh!v+p!sf!ouwbNpbmqgD!pomjp!su/tsohpcd!!+-!mfbonwsNpboq!J4oduffwo!tojju!zu<t!o\vp$df!m-tsfj\vE!xsffjuwv!s4od!fwwf!do4j)!1u/t1o*p<d!)\vf$dfoobejjegb\vS!M~C!Jwuffdh4!",j["displacementMap.vs.head"]="g$jjegoeff$g\v!!V\vTgFj`eEoJfT$Q\vM!B<DtFbNjFCOuUoNfBnQf\vd!bvmoqjtgjpes!nu!btpbmngq!mnfssp3gEj!oevj!t<qfmmbbddfTnufoofunNfbdqb<m!q\vt$jjeg!ouebfpgm!gV!TnFs`pVgCjPo\vv!",j["displacementMap.vs.body"]="g$jjegoeff$g\v!!V<T*Ft`bEjJCTuQoMfBnDfFdNbFmOqUtNjBeQ!\v,!!ufsmbbodtTguposfnnffed!b,m>q!tojpes!n+b!myj/{*fw)Vpwc!k-fqdbuNOuposfnnbfmd*b!m+q!t)juef)yEu3vfs",j["bloomSelective.fs.head"]="<vuovjpglpdsbnm!cc!pmp",j["bloomSelective.fs.body"]="~j!g<!o)scvmubfdsl!p<v*u1*/!2|!!-h1m/`1G!s-b1h/D1p!m-p1s/!1>)!5wdf",j["highlightDetect.fs.head"]="~g!m<p1b/u1!!hofsuvIujfhsi!m<j1h/i2u!Dopsmvpusf)st!b*n!q*m2f1s/31E!!=j!n*byh/fs-p!mwpfDdl3t!bdnp!p.s!ey*/!d|)!twcfbd!5%!%d!!6>/!1u!f>y?u!vxs/fd3!E})}j!n2b1h1f/-1!!d=p!pys/es*p<m!pjDgl!t)bdn/!y%!%,!!6d//1z!!=,!!xd//d{)!!,%!%d!/1x/!1?!",E(H$,{setBatchInfo:function(p,E){sa[p]=E},getBatchInfo:function(p){return sa[p]},getBatchInfoMap:function(){return sa},setBatchInfoMap:function(p){sa=p}},!0),[1,1,1]),zL=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],_L=[1,0,0,0,0,1,0,1,1,1,1,0],vL=[-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5],QL=[.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5],qL=[.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5],uL=[.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5],RL=[.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5],sL=[-.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5],wL=function(p,E){p._40Q.each(function(p){p.ivBatch(E)})},iL=function(p,E,b,Z){var o=p.getBatchInfo(E)||D1;return!1!==o.keepData&&b.ms&&b.ms.length&&o.instanced&&!p.isBatchInstancedDisabled()?(b.ms=[],b.ics&&(b.ics=[]),b.ps&&(b.ps=[]),!0):b.isWireframe?(b.vs&&(b.isolated?b.vs=[]:b.vs.length=0),b.cs&&(b.cs.length=0),b.ps&&(b.ps.length=0),b.uv&&(b.uv.length=0),b.bs&&(b.bs.length=0),b.rs&&(b.rs.length=0),b.ns&&(b.ns.length=0),b.ls&&(b.ls.length=0),b._clearTimeout=Date.now()+2e3,!0):(delete Z[E],!1)},fL=function(p,E,b,Z){var o=E[b=b._id];if(o){var A=(m=p[c=o.batch]).ds,l=o.index;if(m.invalidate=!0,delete E[b],A.splice(l,1),w1(A))iL(Z,c,m,p);else{for(var b=l,Z=o.begin,V=o.size;l<A.length;l++)(o=E[A[l]._id]).index--,o.begin-=V;if(m.ms&&m.ms.length)return m.ms.splice(16*b,16),m.ics&&m.ics.splice(4*b,4),void(m.ps&&(m.ps.splice(4*b,4),m.ps._invalidateThisFrame=!0));var c=3*Z,p=3*V,b=4*Z,S=4*V,I=m.vs,D=m.ps,B=m.uv,n=m.cs,k=m.bs,j=m.rs,W=m.ns,m=m.ls;I.splice(c,p),D.splice(b,S),D._invalidateThisFrame=!0,B&&B.splice(2*Z,2*V),n&&n.splice(b,S),k&&k.splice(c,p),j&&j.splice(Z,V),W&&W.splice(c,p),m&&m.splice(Z,V)}}},pd=function(p,E,b,Z,o){if(!Z)return r$;var A,l,V=E[Z];return V||(l=(A=o.getBatchInfo(Z)||D1).image||A.material?[]:r$,o=A.instanced&&!o.isBatchInstancedDisabled(),V=E[Z]={vs:[],ns:[],uv:l,cs:l||A.color?r$:[],bs:A.blend?[]:r$,ps:[],rs:A.brightness?[]:r$,ds:[],ms:o?[]:r$,ics:l||A.color||!o?r$:[]}),V.invalidate=!0,p[b._id]={index:V.ds.length,begin:V.vs.length/3,batch:Z},V.ds.push(b),V},Ed=function(p,E){return E!=r$&&1!==E?[p[0]*E,p[1]*E,p[2]*E,p[3]]:p},bd=function(p){p&&(p._ctlineModel=[],p._lineModel=K$)},Zd=function(p,E,b){var t=p.getData3dUI(E);if((c=(c=t.shapeModel)||ZE(t))||!t.shapeName){var Z,o=E.s("wf.combineTriangle"),A=!1;if(b.geometry){if(c||(E instanceof u.Node&&!(E instanceof u.Shape)?c=KV=KV||{vs:Cd,is:hd,uv:Pd}:(c=t._shapeModelCacheForWf)||(c=t._shapeModelCacheForWf=[t.left,t.front,t.right,t.back,t.top,t.bottom])),!(Z=o?(Z=E.s("wf.normEpsilon"),isNaN(Z)&&(Z=2),o=0|Math.min(3,Math.max(1,isNaN(o)?1:o)),_Y[o-1](c,t,180/(Math.PI*Z))):function(p){var E,b,Z,o,A;if(I=p._lineModel)return I;for(var l,V,c,S=["","top_","bottom_","from_","to_"],I=[],D=[],B=(GL(p,t,D),f.requestVector3()),n=f.requestVector3(),k=f.requestVector3(),j=0,W=D.length;j<W;j++)if((o=D[j])&&(A=o.mesh))for(E=0,b=S.length;E<b;E++)if(Z=A[S[E]+"vs"])for(var m=A[S[E]+"is"],e=o.matrix,$=m?m.length:Z.length/3,Y=0;Y<$;Y+=3)c=m?(l=m[Y],V=m[Y+1],m[Y+2]):(V=(l=Y)+1,Y+2),l*=3,V*=3,c*=3,e?(B.fromArray(Z,l).applyMatrix4(e),n.fromArray(Z,V).applyMatrix4(e),k.fromArray(Z,c).applyMatrix4(e),I.push(B.x,B.y,B.z,n.x,n.y,n.z,n.x,n.y,n.z,k.x,k.y,k.z,k.x,k.y,k.z,B.x,B.y,B.z)):I.push(Z[l],Z[l+1],Z[l+2],Z[V],Z[V+1],Z[V+2],Z[V],Z[V+1],Z[V+2],Z[c],Z[1+c],Z[2+c],Z[c],Z[1+c],Z[2+c],Z[l],Z[l+1],Z[l+2]);return f.releaseVector3(B),f.releaseVector3(n),f.releaseVector3(k),0<I.length&&(p._lineModel=I),I}(c))||0===Z.length)return;A=!E.s("wf.geometry.batch")}else Z=b.short?dd:Jd,E.s("wf.boundingBox")&&(o=t.getBoundingBox(!0))&&(c=(new T$).scale(o.max.clone().sub(o.min)).setPosition(o.max.clone().add(o.min).divideScalar(2)).toArray(),Z=Sj([],c,Z));var l,V,o=p.getBrightness(E),c=E.s("bloom"),S=E.s("3d.reflectable"),I=W6(b.color||"white"),D=I[3]<1,B=Math.ceil(b.width)||1,n=E.s("3d.clipbox")?0:E.s("3d.clipbox.mask"),k=E.s("wf.fog"),j=E.s("wf.group"),W=E.getRenderLayer(),p=p._40Q.get(W),W=E.s("wf.material"),m=p.wireframeIndexMap,p=p.wireframeModelMap,e=E.s("batch"),$=E.s("3d.clip.direction");if(W||$||A){if($){if(0===(V=E.s("3d.clip.percentage")))return;V=t._formatClipUniforms($,V,E)}l="_"+E._id}else l=e?(D?"T":"O")+e:(D?"T":"O")+j+(c?"_1":"_0")+(S?"1_":"0_")+n+"_"+B+(k?"1_":"0_");($=p[l])?$.vs.length||t$.assign($,{T:D,B:c,clipboxMask:n,reflectable:!!S,W:B,batch:e,fog:k}):$=p[l]={vs:[],cs:[],ps:[],ds:[],T:D,B:c,clipboxMask:n,reflectable:!!S,W:B,batch:e,fog:k,isWireframe:!0,isolated:A},W&&($.material=W),$.invalidate=!0,j=$.vs,p=$.cs,D=$.ds,c=m[E._id]={index:D.length,begin:j.length/3,batch:l},D.push(E),n=t._finalMat,E instanceof u.Edge||!(!n||!b.geometry&&E instanceof u.Shape)||(n=Am(E,b.mat),E.appendAnchorMatrix3d(n)),V||A?($.mat=Rf(n),V&&($.clipDirection=V[0],$.clipPercent=V[1]),A?$.vs=j=Z:Sj(j,null,Z)):Sj(j,n,Z),A?$.csForIsolated=Ed(I,o):(S=c.size=j.length/3-c.begin,cj(p,Ed(I,o),S))}},od=function(p,E,b,Z){if(E){var o=(b=b[E.batch]).ps,A=(b=b.ms&&b.ms.length)?4*E.index:4*E.begin,l=b?1:E.size;if(o[A]!==p[0]||o[A+1]!==p[1]||o[A+2]!==p[2]||o[A+3]!==p[3]){for(var V=0;V<l;V++)o[A++]=p[0],o[A++]=p[1],o[A++]=p[2],o[A++]=p[3];o._invalidateThisFrame=!0}}},Ad=(YV=new u.Math.Vector3,tV=new u.Math.Vector3,function(p,E){var b=E+["32"],Z=p[E],o=p[b];if(Z){if(H$.extractBatchTranslation||H$.extractVerticesTranslation)if("vs"!==E||p.ms&&p.ms.length){if("ms"===E&&p.ms&&p.ms.length){for(tV.set(0,0,0),l=Z.length,V=12;V<l;V+=16)tV.add(YV.fromArray(Z,V));for(tV.divideScalar(l/16),c=tV.x,S=tV.y,I=tV.z,D=new Array(l),V=0;V<l;V+=16){for(var A=0;A<12;A++)D[V+A]=Z[V+A];D[V+12]=Z[V+12]-c,D[V+13]=Z[V+13]-S,D[V+14]=Z[V+14]-I,D[V+15]=Z[V+15]}Z=D,p.translate=[c,S,I]}}else{tV.set(0,0,0);for(var l=Z.length,V=0;V<l;V+=3)tV.add(YV.fromArray(Z,V));tV.divideScalar(l/3);for(var c=tV.x,S=tV.y,I=tV.z,D=new Array(l),V=0;V<l;V+=3)D[V]=Z[V]-c,D[V+1]=Z[V+1]-S,D[V+2]=Z[V+2]-I;Z=D,p.translate=[c,S,I]}o&&o.length===Z.length?(o.set(Z),o._bufId=null):p[b]=new Of(Z)}else delete p[b]}),ld=function(p,E,b,Z,o,A,l,V){var c,S,I=E instanceof u.Shape,D=A[0],B=A.length;if(1<B)for(var D=Rf(D),n=1;n<B;n++)Kj(D,D,A[n]);I&&(c=E.p3(),Yj(D,c)),_1(l.ms,D),l.ics&&cj(l.ics,E.s("shape3d.color")||k,1),l.vs.length||(S=Rf(zL),I&&Yj(S,vf(c)),Vd(p,E,b,Z,o,[S],l,V))},Vd=function(E,b,p,Z,o,A,l,V){if(X$(p))p.forEach(function(p){Vd(E,b,p,Z,o,A,l,V)});else if(F$(p))Vd(E,b,ZE(Z,p),Z,o,A,l,V);else if(P1(p)){var c,S=O(p.mat,b,E),I=O(p.s3,b,E),D=O(p.t3,b,E),B=O(p.r3,b,E);if((I||B||D||S)&&(c=lm(S,I,B,O(p.rotationMode,b,E),D),A.push(c)),p.shape3d)Vd(E,b,p.shape3d,Z,o,A,l,p);else{var S=Z.s,n=(V=V||D1,A[0]),k=A.length,I=S("shape3d.color",p.color,V.color);if(o=o||S("shape3d.blend",p.blend,V.blend),1<k)for(var n=Rf(n),j=1;j<k;j++)Kj(n,n,A[j]);B=n?BL(n):r$,p.vs&&S(fx,p.visible,V.visible)&&cd(n,l,p.vs,p.uv,p.is,p.ns,B,o,I),p.top_vs&&S(ba,p.topVisible,V.topVisible)&&cd(n,l,p.top_vs,p.top_uv,p.top_is,p.top_ns,B,o,S("shape3d.top.color",p.topColor,V.topColor)||I),p.bottom_vs&&S(Za,p.bottomVisible,V.bottomVisible)&&cd(n,l,p.bottom_vs,p.bottom_uv,p.bottom_is,p.bottom_ns,B,o,S("shape3d.bottom.color",p.bottomColor,V.bottomColor)||I),p.from_vs&&S(pa,p.fromVisible,V.fromVisible)&&cd(n,l,p.from_vs,p.from_uv,p.from_is,p.from_ns,B,o,S("shape3d.from.color",p.fromColor,V.fromColor)||I),p.to_vs&&S(Ea,p.toVisible,V.toVisible)&&cd(n,l,p.to_vs,p.to_uv,p.to_is,p.to_ns,B,o,S("shape3d.to.color",p.toColor,V.toColor)||I)}c&&A.pop()}},cd=function(b,p,Z,o,E,A,l,V,c){var S,I=p.cs,D=p.uv,B=p.bs,n=p.ns,k=p.vs,p=(A&&0!==A.length||(A=Lj(Z,E)),T$.determinantOfArray(b)<0);E||p?(S=E?E.length:Z.length/3,pm(E||S,p,function(p){var E=3*p;Sj(k,b,[Z[E],Z[1+E],Z[2+E]]),Sj(n,l,[A[E],A[1+E],A[2+E]]),D&&_1(D,[o[2*p],o[2*p+1]])})):(S=Z.length/3,Sj(k,b,Z),Sj(n,l,A),D&&_1(D,o)),I&&cj(I,c,S),B&&(V?Vj(B,V,S):_1(B,OL,S))},Sd=function(p,E,b){var Z=p.data.p3();E=Rf(E),Yj(E,Z),_1(b.ms,E),b.ics&&cj(b.ics,p.data.s("shape3d.color")||k,1),b.vs.length||(E=Rf(zL),Yj(E,vf(Z)),Id(p,E,b))},Id=function(p,E,b){kd(p,Yl,E,b),kd(p,tl,E,b),kd(p,el,E,b),kd(p,$l,E,b),kd(p,Kl,E,b),kd(p,rl,E,b),kd(p,"csg",E,b)},Dd=function(p,E,b,Z,o,A){_1(b.ms,o),b.ics&&cj(b.ics,E.s("all.color")||k,1),b.vs.length||Bd(p,E,b,Z,Rf(zL),A)},Bd=function(p,E,b,Z,o,A){jd(p,E,b,Z,o,A,Yl,vL),jd(p,E,b,Z,o,A,tl,QL),jd(p,E,b,Z,o,A,Kl,qL),jd(p,E,b,Z,o,A,rl,uL),jd(p,E,b,Z,o,A,el,RL),jd(p,E,b,Z,o,A,$l,sL)},nd=function(p,E,b,Z,o){Z?o.instanced?p.gv.batchInstancedModel(p.data,Z,p,p.getBodyColor(),[E],b):Vd(p.gv,p.data,Z,p,p.getBodyColor(),[E],b):o.instanced?p.gv.batchInstancedShapeFace(p,E,b):Id(p,E,b)},kd=function(p,E,b,Z){if(p=p[E]){var o=p.tuv;if(o){var E=p.uvScale,A=p.uvOffset,l=p.uvRotation,V=p.uvAnchor;if(E||A||l)for(var c,S,I=(l=TL(l,A,E,V)).a,D=l.b,B=l.c,n=l.d,k=l.tx,j=l.ty,W=o.length,m=0;m<W;m+=2)c=o[m],S=o[m+1],o[m]=I*c+B*S+k,o[m+1]=D*c+n*S+j}cd(b,Z,p.vs,o,r$,r$,b?BL(b):r$,p.blend,p.color)}},jd=function(p,E,b,Z,o,A,l,V){var c,S,I,D,B,n,k,j,W,m,e,$,Y,t,K,r=b.cs,H=b.uv,M=b.bs,F=b.vs,X=b.ns,G=Lj(V);p.getFaceVisible(E,l)&&((b=p.getFaceMat(E,l))&&(o=Am(E,b),A=BL(o)),T$.determinantOfArray(o)<0?(b=V.length/3,pm(b,!0,function(p){Sj(F,o,[V[p*=3],V[1+p],V[2+p]]),Sj(X,A,[G[p],G[1+p],G[2+p]])})):(Sj(F,o,V),Sj(X,A,G)),r&&cj(r,p.getFaceColor(E,l),6),H&&(b=p.getFaceUv(E,l)||Z[l+"Uv"],r=p.getFaceUvScale(E,l)||Z[l+"UvScale"],c=p.getFaceUvOffset(E,l)||Z[l+"UvOffset"],D=p.getFaceUvRotation(E,l)||Z[l+"UvRotation"],Z=p.getFaceUvAnchor(E,l)||Z[l+"UvAnchor"],B=(b=b?[b[6],b[7],b[0],b[1],b[2],b[3],b[2],b[3],b[4],b[5],b[6],b[7]]:_L)[0],n=b[1],k=b[2],j=b[3],W=b[4],m=b[5],e=b[6],$=b[7],Y=b[8],t=b[9],K=b[10],b=b[11],(r||c||D||Z)&&(c=(D=TL(D,c,r,Z)).a,r=D.b,Z=D.c,S=D.d,n=r*(B=c*B+Z*n+(I=D.tx))+S*n+(D=D.ty),j=r*(k=c*k+Z*j+I)+S*j+D,m=r*(W=c*W+Z*m+I)+S*m+D,$=r*(e=c*e+Z*$+I)+S*$+D,t=r*(Y=c*Y+Z*t+I)+S*t+D,b=r*(K=c*K+Z*b+I)+S*b+D),H.push(B,n,k,j,W,m,e,$,Y,t,K,b)),M&&((r=p.getBodyColor(E)||p.getFaceBlend(E,l))?Vj(M,r,6):_1(M,OL,6)))},Wd=function(p,E,b,Z){var b=p._picking?p.pickColorMap:null,o=p.getGL(),A=p._buffer;if(!s1(E)){nL(p,zL),Qj(o);var l,V,c,S,I=!1;for(F in E){var D,B,n,k,j,W,m,e,$,Y,t,K,r,H,M=E[F];M.vs&&M.vs.length?(k=M.batch?(D=(k=p.getBatchInfo(M.batch)||D1).wfBloom===K$?k.bloom:k.wfBloom,B=k.wfReflectable===K$?k.reflectable:k.wfReflectable,n=k.wfClipboxMask===K$?k.clipboxMask:k.wfClipboxMask,k.width):(D=M.B,B=M.reflectable,n=M.clipboxMask,M.W),!(W=!b&&M.material)&&(Z&&!M.T||!Z&&M.T||p.isReflecting(o)&&!1===B)||(K=b&&!p.drawFilter,M.invalidate?(M.invalidate=!1,Ad(M,"vs"),Ad(M,"cs"),Ad(M,"ls"),K&&Ad(M,"ps")):K&&M.ps&&M.ps._invalidateThisFrame&&(M.ps._invalidateThisFrame=!1,Ad(M,"ps")),K=M.translate,l=M.clipDirection,e=(j=M.isolated)?M.csForIsolated:M.cs32,W?("lines"!==(m=(W=M.material).renderMode)?W.renderMode="lines":m=null,p._prefabRenderer.render(o,{position:K,mesh:{vs:M.vs32,aLineDistance:M.ls32,aBatchColor:e,_complete_:!0},mat:W},M),m&&(W.renderMode=m)):(K||l||j?(V=l||j?Rf(M.mat):[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],K&&Yj(V,K),c=Rf(p._6O),nL(p,V)):V=null,W=M.vs32,b&&(M.isolated?(e=M.psForIsolated)||(m=M.ds[0],e=M.psForIsolated=jL(o,p.pickColorMap,p.isSelectable(m),p.getData3dUI(m),fl,!0)):e=M.ps32),pL(o,k,r$,A.vs,W),$=(Y=g$.for(o)).directUniforms(),Y=Y.directAttribs(),H=M.D,t=!p._dashDisabled&&H,$.uAlphaTest=L$.alphaTest,o._blooming&&!D&&($.blackout=!0),l&&(r=M.clipPercent,K&&(r-=K[Math.floor((l-1)/2)]||0),$.uClipPercent=r,$.uClipDirection=l,$.uClipLocalTransform=oj),_j(p,$,n===K$?qV:n),t&&($.uDash=!0,$.uDashDistance=H,$.uDashGapDistance=M.G,$.uDiffuse=M.A||L$["color.empty"],Y.aLineDistance=lL(o,A.lineDistance,M.ls32,r$,1)),(K=!p._batchColorDisabled)&&e&&e.length?($.uBatchColor=!0,Y.aBatchColor=j?e:lL(o,A.batchColor,e,r$,4)):($.uBatchColor=!1,Y.aBatchColor=!1),r=!1!==M.fog,$.uFog=r,sj(o),bL(o,0,W.length/3,1),wj(o),r||($.uFog=!0),K&&($.uBatchColor=!1,Y.aBatchColor=!1),t&&($.uDash=!1,Y.aLineDistance=!1),o._blooming&&!D&&($.blackout=!1),V&&(l&&($.uClipDirection=0),DL(p,c),$.uModelMatrix=uf)))):(H=M._clearTimeout)&&Date.now()>H&&(I=!0,(S=S||[]).push(F))}if(qj(o),DL(p),I)for(var F,X=0,G=S.length;X<G;X++)delete E[F=S[X]]}},md=function(p,E){p.invalidate=!1,Ad(p,"vs"),Ad(p,"ns"),Ad(p,"cs"),Ad(p,"rs"),E&&Ad(p,"ps"),Ad(p,"bs"),Ad(p,"uv"),Ad(p,"ms"),Ad(p,"ics")},ed=function(p,E,y,b,Z,o){var A,l,V,c,S,I,D,B,n,b=p._picking?p.pickColorMap:null,k=p.getGL(),a=g$.for(k),j=a.directUniforms(),W=a.directAttribs(),m=p._buffer;if(!s1(E)){var e,$,Y,J=p._flowObjects.length?p.flowMap:null,t=p.drawFilter;for(A in nL(p,zL),E)if(!1!==(l=p.getBatchInfo(A)||D1).visible)if((T=!b&&l.material&&!(k._blooming&&!l.bloom))||!(Z&&!l.transparent||!Z&&l.transparent||p.isReflecting(k)&&!1===l.reflectable)){var K=l.renderLayerMask;if(zm(o=o==r$?Um:o,K=K==r$?Um:K)&&(K=E[A],b||!l.transparentMask)){if($=!1,t){if(!1===l.highlight)continue;if(e=K.ds){for(var r=0,H=e.length;r<H;r++)if(!t(e[r])){$=!0;break}if(!$)continue}}var M,d=Z&&!0===l.autoSort&&(p._33Q||K.invalidate)&&!$,F=b&&!$,X=(K.invalidate?md(K,F):F&&K.ps&&K.ps._invalidateThisFrame&&(K.ps._invalidateThisFrame=!1,Ad(K,"ps")),K.ms32);if(X){if(!X.length)continue;Y=!0}else Y=!1;if(F=K.vs32,V=b?K.ps32:Y?K.ics32:K.cs32,I=K.uv32,c=K.bs32,S=K.rs32,D=F.length/3,d&&((M=Yd(F,p.getEye(),p,X))?(K.is=M.is,K.elementTypeUint=M.useUint32):(K.is=null,K.elementTypeUint=null)),D){if((M=l.polygonOffset)&&dj(k,M),(B=K.translate)&&(n=[1,0,0,0,0,1,0,0,0,0,1,0,B[0],B[1],B[2],1],p._modelMatrixProcess&&(n=p._modelMatrixProcess(n))),T&&!$)T={mesh:{vs:F,uv:I,ns:K.ns32,is:K.is,_complete_:!0},mat:l.material},Y&&(T.instances={aMatrixInstanced:K.ms32}),p._prefabRenderer.render(k,T,l,n);else{B&&nL(p,n),l.light;var G,T=l.image,g=K$,L=!1,x=(T&&(g="string"==typeof(g=T)&&-1<T.indexOf(".json")?H$.getImage(T):g)&&g.comps&&g.textureCache&&(L=!0),l._textureCacheInfo),L=L?(x&&x.image===T||(x&&p.deleteTexture(x),l._textureCacheInfo=x={texture:!0,image:T}),p.getTexture(x)):(x&&(p.deleteTexture(x),delete l._textureCacheInfo),!T||P1(g)&&!g.texture&&!g.comps?K$:p.getTexture(T)),x=(uj(k,r$,l.light,l.opacity,l.reverseFlip,l.reverseColor,l.reverseCull),V?p._batchColorDisabled?(j.uBatchColor=!1,W.aBatchColor=!1):(j.uBatchColor=!0,$||(W.aBatchColor=Y?AL(k,m.instancedBatchColor,V,r$,4):lL(k,m.batchColor,V,r$,4))):(j.uBatchColor=!1,j.uDiffuse=l.color||L$["color.empty"]),l.alphaTest);if(j.uAlphaTest=x===K$?L$.alphaTest:x,j.shadowReceive=!b&&!1!==l.shadowReceive,_j(p,j,l.clipboxMask===K$?qV:l.clipboxMask),nj(p,j,l.lightMask===K$?qV:l.lightMask,l.headlightAmbientIntensity),J&&J.resetFlowUniform(l.effectFlowMask===K$?qV:l.effectFlowMask,j),k._blooming&&!l.bloom&&(j.blackout=!0),l.envmap!==K$?(j.uUseEnvMap=!0,j.roughness=l.roughness||0,p._setEnvmapByProbeId(j,l.envmapProbe||0,l.envmap)):(j.uUseEnvMap=!1,j.envMapIntensity=0),(g=c&&!p._batchBlendDisabled)&&(j.uBatchBlend=!0,W.aBatchBlend=lL(k,m.batchBlend,c,r$)),(T=S&&!p._batchBrightnessDisabled)&&(j.uBatchBrightness=!0,W.aBatchBrightness=lL(k,m.batchBrightness,S,r$,1)),I?sj(k,L,l.discardSelectable,m.uv,I,l.uvOffset,l.uvScale,l.uvRotation,l.uvAnchor):sj(k),W.aPosition=lL(k,m.vs,F,r$),W.aNormal=lL(k,m.ns,K.ns32,r$),Y&&(j.uUseInstance=!0),$){for(Y&&!(G=p._highlightInstancedFloatArray)&&(G=p._highlightInstancedFloatArray=new Of(16)),r=0,H=e.length;r<H;r++)if(!t(e[r])){var C=y[e[r]._id];if(W.aBatchColor=p.getHighlightPickColor(e[r]),Y){for(var h=0;h<16;h++)G[h]=X[16*C.index+h];P=AL(k,m.ms,G,r$),k.bufferSubData(34962,0,G),mL(W,P,j),bL(k,0,D,null,1)}else{var P=C.begin,U=C.size;bL(k,P,U)}}}else Y&&(d&&(X=$d(X,p.getEye())),mL(W,AL(k,m.ms,X,r$),j)),K.is?(VL(k,m.is,K.is),ZL(k,0,D,null,K.elementTypeUint?5125:null,Y?K.ms32.length/16:0)):bL(k,0,D,null,Y?K.ms32.length/16:0);I?wj(k,L):wj(k),V&&!p._batchColorDisabled&&(j.uBatchColor=!1,W.aBatchColor=!1),g&&(j.uBatchBlend=!1,W.aBatchBlend=!1),T&&(j.uBatchBrightness=!1,W.aBatchBrightness=!1),k._blooming&&!l.bloom&&(j.blackout=!1),Y&&(j.uUseInstance=!1,mL(W,K$)),Rj(k),B&&(DL(p),j.uModelMatrix=uf)}M&&Uj(k)}}}DL(p)}},$d=function(b,Z){for(var p,E,o,A=b.length/16,l=new Array(A),V=0;V<A;V++)l[V]=V;l.sort(function(p,E){return p=[b[16*p+12],b[16*p+13],b[16*p+14]],E=[b[16*E+12],b[16*E+13],b[16*E+14]],$f(Z,E)-$f(Z,p)});var c=b._sortedByEye;for(c&&c.length===b.length||(c=b._sortedByEye=new Of(16*A)),V=0;V<A;V++)for(E=16*V,o=16*l[V],p=0;p<16;p++)c[E+p]=b[o+p];return c._bufId=null,c},Yd=function(Z,o,p,E){var b=Z.length/3,A=65535<b;if(!(p=p._glCapabilities.elementTypeUint&&A)&&A)return null;E&&E.length&&((A=f.requestMatrix4()).fromArray(E).invert(),o=sB(o).applyMatrix4(A).toArray(),f.releaseMatrix4(A));for(var l=new Array(b),V=b/3,c=new Array(V),S=0;S<V;S++)c[S]=S;for(c.sort(function(p,E){var b=[(Z[p=9*p]+Z[3+p]+2*Z[6+p])/4,(Z[1+p]+Z[4+p]+2*Z[7+p])/4,(Z[2+p]+Z[5+p]+2*Z[8+p])/4],E=[(Z[p=9*E]+Z[3+p]+2*Z[6+p])/4,(Z[1+p]+Z[4+p]+2*Z[7+p])/4,(Z[2+p]+Z[5+p]+2*Z[8+p])/4];return 0<(p=$f(o,b)-$f(o,E))?-1:p<0?1:0}),S=0;S<V;S++){var I=3*S,D=3*c[S];l[I]=D,l[1+I]=1+D,l[2+I]=2+D}return{useUint32:p,is:new(p?Uint32Array:Uf)(l)}},td=function(p){return{matDef:p.matDef,flipY:p.flipY,box3:p.box3,s3:p.s3,r3:p.r3,resetBounding:p.resetBounding,rotationMode:p.rotationMode,t3:p.t3,cube:p.cube,center:p.center,ignoreNormal:p.ignoreNormal,assetsURIMap:p.assetsURIMap,batchByMaterial:p.batchByMaterial,batchByMaterialVerticesThreshold:p.batchByMaterialVerticesThreshold,batchInstanceCountThreshold:p.batchInstanceCountThreshold}},Kd={obj:function(Z,o){var p=t$.assign(td(Z),{mat:Z.mat,model3d:Z.model3d,cube:Z.cube==r$||Z.cube,center:Z.center==r$||Z.center,ignoreMtls:Z.ignoreMtls,ignoreTransparent:Z.ignoreTransparent,ignoreColor:Z.ignoreColor,ignoreImage:Z.ignoreImage,part:Z.part,prefix:Z.prefix,flipFace:Z.flipFace,reverseFlipMtls:Z.reverseFlipMtls,finishFunc:function(p,E,b){if(p){if(p.model3d)return p.json=Z,void o(p);(p=PL(p,Z.eachModel)).json=Z,!p.externalAssetURIs&&E&&E.externalAssetURIs&&(p.externalAssetURIs=E.externalAssetURIs),o(p)}else o()}});H$.loadObj(Z.obj,Z.mtl,p)},bin:function(p,Z){H$.loadBin(p.url,{finishFunc:function(p,E,b){p?Z(p):Z()}})},fbx:function(E,b){var p=t$.assign(td(E),{mikktTangent:E.mikktTangent,tangentFlipW:E.tangentFlipW,shape3d:E.shape3d,path:E.path,playAutomatically:E.playAutomatically,animations:!1!==E.animations,rotationInterpolation:E.rotationInterpolation,keyframeValuesInterpolation:E.keyframeValuesInterpolation,binaryImagePath:E.binaryImagePath,finishFunc:function(p){Fd(p,E,b)}});H$.loadFbx(E.url,p)},gltf:function(E,b){var p=t$.assign(td(E),{mikktTangent:E.mikktTangent,tangentFlipW:E.tangentFlipW,shape3d:E.shape3d,path:E.path,playAutomatically:E.playAutomatically,binaryImagePath:E.binaryImagePath,finishFunc:function(p){Fd(p,E,b)}});H$.loadGltf(E.url,p)}},rd=(H$.getModelTypeHandlers=function(){return Kd},H$.setModelTypeHandler=function(p,E){E===K$?delete Kd[p]:Kd[p]=E},H$.getModelTypeHandler=function(p){return Kd[p]},H$.handleModelLoaded=function(p,E){},H$.handleUnfoundModel=function(p,E,b){},r$),Hd=r$,Md=function(p){rd&&!p._loadingModelView_&&((Hd=Hd||{})[p._loadingModelView_=pf()]=p)},Fd=function(E,b,Z){var p;E?(p=(E.json=b).animationSources)&&p.length?H$.asyncEach(p,function(p,E){iV(p,function(p){Ef(function(){E(null,p)})})},function(p){Z(H$.completeModel3dAnimation(b.url,E,b.animations,p))}):Z(H$.completeModel3dAnimation(b.url,E,b.animations)):Z()},Xd=function(b,Z,o){if(!H$.isMaxConcurrencyReached()){if("string"==typeof Z&&(p=Z.match(V1))){if("bin"===(p=p[1])||"htb"===p)return Gd(b,{modelType:"bin",url:Z},Z,o);if("fbx"===p)return Gd(b,{modelType:"fbx",url:Z},Z,o);if("gltf"===p||"glb"===p)return Gd(b,{modelType:"gltf",url:Z},Z,o);if(H$.__htExtraAsset3dPattern&&0<=H$.__htExtraAsset3dPattern.indexOf(p))return Gd(b,{modelType:p,url:Z},Z,o)}if((Z=H$.beforeLoadURL(Z)).data){var p=H$.parse(Z.data);Gd(b,p,Z,o)}else{if(p=(rd=rd||{})[b]){if(p.url===Z)return;p.request&&(p.request.onload=n1,p.request.onerror=n1)}var A=new UP;rd[b]={request:A,url:Z},A.onload=function(p){var E;200===this.status||0===this.status?(delete rd[b],E=H$.parse(A.getResponseText()),Gd(b,E,Z,o)):Td(b,H$.handleUnfoundModel(b,Z)||r$,o)},A.onerror=function(p){Td(b,H$.handleUnfoundModel(b,Z)||r$,o)},(p={}).url=H$.encodeURI(Z),p.sync=!1,A.send(p)}}},Gd=function(E,b,Z,o){var p=b.modelType;if(!p)return Td(E,b,o),void H$.handleModelLoaded(E,b);var A=H$.getModelTypeHandler(p);A?(rd=rd||{})[E]||(rd[E]={url:Z},A(b,function(p){p?(Td(E,p,o),H$.handleModelLoaded(E,p)):Td(E,H$.handleUnfoundModel(E,Z,b)||r$,o)})):(console.error("Unknown model type: "+p+", please verify that the corresponding plugin is correctly imported."),Td(E,H$.handleUnfoundModel(E,Z,b)||r$,o))},Td=function(p,E,b){if(delete rd[p],F$(E)&&l1.test(E))Xd(p,E,b);else{if(wa[p]=E,b&&b(p,E),Hq(p,E),s1(rd)&&(rd=r$,Hd)){for(var Z in Hd)(o=Hd[Z]).invalidateAll&&o.invalidateAll(K$,"modelLoaded",p),o.redraw&&o.redraw(),o.iv(),delete o._loadingModelView_;Hd=r$}if(E&&Hd)for(var Z in Hd){var o;(o=Hd[Z]).invalidateAll&&o.invalidateAll(K$,"modelLoading",p),o.redraw&&o.redraw(),o.iv()}}},gd=new Of([0,0,0,1,1,1,1,0]),Ld=new Of([0,0,1,0,0,1,0,0,1,0,0,1]),xd=new Uf([0,1,2,2,3,0]),Cd=new Of([-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5]),hd=new Uf([0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23]),Pd=new Of([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0]),yd=Lj(Cd,hd),ad=(new Of([-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,-.5,-.5,.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5]),new Uf([0,1,2,3,0,7,5,4,6,7,5,3,2,4,6,1]),[Yl,el,tl,$l,Kl,rl]),Jd=[-.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5,.5,.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,-.5,.5,.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5],dd=[-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,.5,.5,.5,.5,.5,.5,.4,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,.5,.5,-.5,.5,.5,-.5,.4,-.5,.5,-.5,-.4,.5,-.5,-.5,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,.5,.5,-.5,.4,.5,-.5,.5,.5,-.5,.5,.4,-.5,.5,.5,-.5,.5,.5,-.4,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,-.5,-.5,-.5,-.5,-.5,-.5,-.4,.5,-.5,-.5,.4,-.5,-.5,.5,-.5,-.5,.5,-.4,-.5,.5,-.5,-.5,.5,-.5,-.4],Ud=function(p,E,b,Z,o,A,l){p=p||16,E=E||0,b=b||p;var V,c,S,I,D,B,n=[],k=[],j=j$/p,W=R$/(A=A||16);for(e=0;e<A;e++)for(c=e*W,B=(S=e+1)*W,V=E;V<b;V++)K=V*j,D=(I=V+1)*j,n.push(.5*k$(c)*M$(K),.5*M$(c),-.5*k$(c)*k$(K),.5*k$(B)*M$(D),.5*M$(B),-.5*k$(B)*k$(D),.5*k$(c)*M$(D),.5*M$(c),-.5*k$(c)*k$(D),.5*k$(c)*M$(K),.5*M$(c),-.5*k$(c)*k$(K),.5*k$(B)*M$(K),.5*M$(B),-.5*k$(B)*k$(K),.5*k$(B)*M$(D),.5*M$(B),-.5*k$(B)*k$(D)),k.push(V/p,e/A,I/p,S/A,I/p,e/A,V/p,e/A,V/p,S/A,I/p,S/A);if(l)for(var m=[],e=0,$=n.length;e<$;e+=3)m.push(2*n[e],2*n[e+1],2*n[e+2]);if(Z)for(var Y=[],t=[],K=E*j,e=0;e<A;e++)c=e*W,Y.push(0,0,0,.5*k$(B=(S=e+1)*W)*M$(K),.5*M$(B),-.5*k$(B)*k$(K),.5*k$(c)*M$(K),.5*M$(c),-.5*k$(c)*k$(K)),t.push(0,.5,E/p,S/A,E/p,e/A);if(o){var r=[],H=[],K=b*j;for(e=0;e<A;e++)B=(S=e+1)*W,r.push(0,0,0,.5*k$(c=e*W)*M$(K),.5*M$(c),-.5*k$(c)*k$(K),.5*k$(B)*M$(K),.5*M$(B),-.5*k$(B)*k$(K)),H.push(1,.5,b/p,e/A,b/p,S/A)}return Z={vs:n,uv:k,from_vs:Y,from_uv:t,to_vs:r,to_uv:H},l&&(Z.ns=m),Z},Nd=function(p,E,b){(p=p||.17)<0?p=0:.25<p&&(p=.25);for(var Z,o,A,l,V,c=[],S=[],I=[],D=j$/(b=b||18),B=j$/(E=E||12),n=.5-p,k=0;k<=E;k++)for(l=M$(o=k*B-R$),A=k$(o),m=0;m<=b;m++)V=n+p*l,c.push(M$(Z=m*D)*V,A*p,-k$(Z)*V),S.push(m/b,1-k/E);for(k=0;k<E;k++)for(var j=k*(b+1),W=(k+1)*(b+1),m=0;m<b;m++)I.push(j+m,W+m+1,W+m,j+m,j+m+1,W+m+1);return{vs:c,uv:S,is:I}},Od=function(p,E,b,Z,o,A,l,V){p=p||18,E=E||0,b=b||p,(A=A||.17)<0?A=0:.25<A&&(A=.25);var c,S,I,D,B,n,k,j,W,m=[],e=[],$=j$/p,Y=j$/(l=l||12),t=.5-A,K=V?[]:K$;for(M=0;M<l;M++)for(n=M*Y-R$,k=(I=M+1)*Y-R$,c=E;c<b;c++)D=c*$,B=(S=c+1)*$,j=t+A*M$(n),W=t+A*M$(k),m.push(M$(D)*j,k$(n)*A,-k$(D)*j,M$(B)*j,k$(n)*A,-k$(B)*j,M$(B)*W,k$(k)*A,-k$(B)*W,M$(D)*j,k$(n)*A,-k$(D)*j,M$(B)*W,k$(k)*A,-k$(B)*W,M$(D)*W,k$(k)*A,-k$(D)*W),e.push(c/p,1-M/l,S/p,1-M/l,S/p,1-I/l,c/p,1-M/l,S/p,1-I/l,c/p,1-I/l),V&&K.push(M$(D)*M$(n),k$(n),-k$(D)*M$(n),M$(B)*M$(n),k$(n),-k$(B)*M$(n),M$(B)*M$(k),k$(k),-k$(B)*M$(k),M$(D)*M$(n),k$(n),-k$(D)*M$(n),M$(B)*M$(k),k$(k),-k$(B)*M$(k),M$(D)*M$(k),k$(k),-k$(D)*M$(k));if(Z)for(var r=[],H=[],M=0;M<l;M++)k=(I=M+1)*Y-R$,D=E*$,j=t+A*M$(n=M*Y-R$),W=t+A*M$(k),r.push(M$(D)*j,k$(n)*A,-k$(D)*j,M$(D)*W,k$(k)*A,-k$(D)*W,M$(D)*t,0,-k$(D)*t),H.push(.5+.5*M$(n),.5-.5*k$(n),.5+.5*M$(k),.5-.5*k$(k),.5,.5);if(o)for(var F=[],X=[],M=0;M<l;M++)k=(I=M+1)*Y-R$,D=b*$,j=t+A*M$(n=M*Y-R$),W=t+A*M$(k),F.push(M$(D)*j,k$(n)*A,-k$(D)*j,M$(D)*t,0,-k$(D)*t,M$(D)*W,k$(k)*A,-k$(D)*W),X.push(.5-.5*M$(n),.5-.5*k$(n),.5,.5,.5-.5*M$(k),.5-.5*k$(k));return Z={vs:m,uv:e,from_vs:r,from_uv:H,to_vs:F,to_uv:X},V&&(Z.ns=K),Z},zd=function(p,E){for(var b,Z,o,A,l,V=[],c=[],S=[],I=[],D=j$/16,B=0;B<=16;B++)A=.5*(Z=M$(b=B*D)),o=k$(b),V.push(A,-.5,l=.5*o,A,.5,l),S.push(Z,0,o,Z,0,o),c.push(1-B/16,1,1-B/16,0);for(B=0;B<16;B++)I.push(2*B,2*B+1,2*B+3,2*B,2*B+3,2*B+2);if(E){var n=[],k=[],j=[];for(n.push(0,-.5,0),k.push(.5,.5),B=0;B<=16;B++)Z=M$(b=B*D),o=k$(b),n.push(.5*Z,-.5,.5*-o),k.push(.5+.5*Z,.5+.5*o);for(B=0;B<16;B++)j.push(0,B+2,B+1)}if(p){var W=[],m=[],e=[];for(W.push(0,.5,0),m.push(.5,.5),B=0;B<=16;B++)Z=M$(b=B*D),o=k$(b),W.push(.5*Z,.5,.5*-o),m.push(.5+.5*Z,.5-.5*o);for(B=0;B<16;B++)e.push(0,B+1,B+2)}return{vs:V,uv:c,is:I,ns:S,bottom_vs:n,bottom_uv:k,bottom_is:j,top_vs:W,top_uv:m,top_is:e}},_d=function(p,E,b,Z,o,A,l,V){p=p||12,b=b||p;for(var c,S,I,D,B,n,k,j,W,m,e,$,Y=[],t=[],K=j$/p,r=E=E||0;r<b;r++)S=(c=r+1)*K,j=.5*M$(k=r*K),W=.5*k$(k),I=.5*M$(S),D=.5*k$(S),Y.push(j,-.5,-W,I,-.5,-D,j,.5,-W,I,-.5,-D,I,.5,-D,j,.5,-W),t.push(r/p,1,c/p,1,r/p,0,c/p,1,c/p,0,r/p,0);if(V)for(var H=[],r=0,M=Y.length;r<M;r+=3)H.push(2*Y[r],0,2*Y[r+2]);if(l){var F=[],X=[];for(r=E;r<b;r++)S=K*(r+1),j=M$(k=K*r),W=k$(k),I=M$(S),D=k$(S),F.push(.5*j,-.5,.5*-W,0,-.5,0,.5*I,-.5,.5*-D),X.push(.5+.5*j,.5+.5*W,.5,.5,.5+.5*I,.5+.5*D)}if(A){var G=[],T=[];for(r=E;r<b;r++)S=K*(r+1),j=M$(k=K*r),W=k$(k),I=M$(S),D=k$(S),G.push(.5*j,.5,.5*-W,.5*I,.5,.5*-D,0,.5,0),T.push(.5+.5*j,.5-.5*W,.5+.5*I,.5-.5*D,.5,.5)}return Z&&(B=[],n=[],j=.5*M$(k=K*E),W=.5*k$(k),m=E/p,B.push(0,.5,0,0,-.5,0,j,-.5,-W,j,-.5,-W,j,.5,-W,0,.5,0),n.push(0,0,0,1,m,1,m,1,m,0,0,0)),o&&(e=[],$=[],j=.5*M$(k=K*b),W=.5*k$(k),m=b/p,e.push(0,-.5,0,0,.5,0,j,.5,-W,j,.5,-W,j,-.5,-W,0,-.5,0),$.push(1,1,1,0,m,0,m,0,m,1,1,1)),l={vs:Y,uv:t,bottom_vs:F,bottom_uv:X,top_vs:G,top_uv:T,from_vs:B,from_uv:n,to_vs:e,to_uv:$},V&&(l.ns=H),l},vd=function(p,E,b,Z,o){b=b||0,o=o==r$?.5:o;for(var A,l,V,c,S,I=[0,.5,.75,.875,.9375],D=[],B=[],n=[],k=(Z=Z==r$?j$:Z)/(E=E||18),j=0;j<I.length;j++)for(var W=j%2==0?0:.5,m=0;m<=E;m++)l=1-I[j],D.push(M$(A=(m+W)*k+b)*o*l,I[j]*o*2-o,-k$(A)*o*l),B.push((m+W)/E,l);for(j=0;j<I.length-1;j++)for(var e=j*(E+1),$=(j+1)*(E+1),m=0;m<E;m++)n.push(e+m,$+m+1,$+m,e+m,e+m+1,$+m+1);for(S=D.length/3-(E+1),m=0;m<E;m++)D.push(0,o,0),B.push((m+.5)/E,0);for(m=0;m<E;m++)n.push(S+m,S+m+1,S+(E+1)+m);if(p){var Y=[],t=[],K=[];for(Y.push(0,-o,0),t.push(.5,.5),m=0;m<=E;m++)V=M$(A=m*k+b),c=k$(A),Y.push(V*o,-o,-c*o),t.push(.5+.5*V,.5+.5*c);for(m=0;m<E;m++)K.push(0,m+2,m+1)}return{vs:D,uv:B,is:n,bottom_vs:Y,bottom_uv:t,bottom_is:K}},Qd=function(p,E,b,y,a,Z,o,A){p=p||16,b=b||p;var l,V,c,S,I,D,B,n,k,j=[],W=[],m=j$/p,e=E=E||0,$=1/(o=o||1),Y=new G$,t=new G$,K=new G$,r=new G$,H=new G$,M=new G$,F=new G$;for(A&&(l=[],c=new G$,S=new G$,I=new G$);e<b;e++){var X=e+1,G=m*e,T=m*X;for(Y.set(.5*M$(G),-.5,.5*-k$(G)),t.set(.5*M$(T),-.5,.5*-k$(T)),K.set(0,.5,0),A&&(c.set(M$(G),.5,-k$(G)).normalize(),S.set(M$(T),.5,-k$(T)).normalize(),I.copy(c).add(S).normalize()),r.lerpVectors(K,Y,$),H.lerpVectors(K,t,$),j.push(r.x,r.y,r.z,H.x,H.y,H.z,K.x,K.y,K.z),W.push(e/p,$,X/p,$,(e+X)/2/p,0),A&&l.push(c.x,c.y,c.z,S.x,S.y,S.z,I.x,I.y,I.z),V=1;V<o;V++)r.lerpVectors(K,Y,$*(V+1)),H.lerpVectors(K,t,$*(V+1)),M.lerpVectors(K,Y,$*V),F.lerpVectors(K,t,$*V),j.push(r.x,r.y,r.z,H.x,H.y,H.z,M.x,M.y,M.z,M.x,M.y,M.z,H.x,H.y,H.z,F.x,F.y,F.z),W.push(e/p,$*(V+1),X/p,$*(V+1),e/p,$*V,e/p,$*V,X/p,$*(V+1),X/p,$*V),A&&l.push(c.x,c.y,c.z,S.x,S.y,S.z,c.x,c.y,c.z,c.x,c.y,c.z,S.x,S.y,S.z,S.x,S.y,S.z)}if(Z)for(var g=[],L=[],e=E;e<b;e++){var T=m*(e+1),x=M$(G=m*e),C=k$(G),h=M$(T),P=k$(T);g.push(.5*x,-.5,.5*-C,0,-.5,0,.5*h,-.5,.5*-P),L.push(.5+.5*x,.5+.5*C,.5,.5,.5+.5*h,.5+.5*P)}return y&&(B=[],(D=[]).push(0,.5,0,0,-.5,0,.5*M$(G=m*E),-.5,.5*-k$(G)),B.push(0,0,0,1,E/p,1)),a&&(k=[],(n=[]).push(0,-.5,0,0,.5,0,.5*M$(G=m*b),-.5,.5*-k$(G)),k.push(1,1,1,0,b/p,1)),Z={vs:j,uv:W,bottom_vs:g,bottom_uv:L,from_vs:D,from_uv:B,to_vs:n,to_uv:k},A&&(Z.ns=l),Z},qd=function(p,E,b,Z,o,A,l,V){for(var c=[],S=0;S<p.length-1;S+=2)c.push({x:p[S],y:p[S+1]});return vY(c,E,b,Z,o,A,l,V,!1)},ud={roundRect:function(p,E){return qd([.5,.4,.5,.442,.471,.471,.442,.5,.4,.5,-.4,.5,-.442,.5,-.471,.471,-.5,.442,-.5,.4,-.5,-.4,-.5,-.442,-.471,-.471,-.442,-.5,-.4,-.5,.4,-.5,.442,-.5,.471,-.471,.5,-.442,.5,-.4,.5,.4],[1,3,3,2,3,3,2,3,3,2,3,3,2],p,E,3)},star:function(p,E){return qd([.193,.079,.333,.5,0,.233,-.333,.5,-.194,.079,-.5,-.167,-.112,-.167,0,-.5,.111,-.167,.5,-.167],[1,2,2,2,2,2,2,2,2,2,5],p,E)},rect:function(p,E){return qd([.5,-.5,.5,.5,-.5,.5,-.5,-.5],[1,2,2,2,5],p,E)},billboard:function(){return{vs:[-.5,.5,0,-.5,-.5,0,.5,.5,0,.5,.5,0,-.5,-.5,0,.5,-.5,0],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1]}},plane:function(){return{vs:[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,-.5,-.5,0,.5,.5,0,.5],uv:[0,0,0,1,1,0,1,0,0,1,1,1],ns:[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]}},triangle:function(p,E){return qd([0,-.5,.5,.5,-.5,.5],[1,2,2,5],p,E)},rightTriangle:function(p,E){return qd([.5,.5,-.5,.5,-.5,-.5],[1,2,2,5],p,E)},parallelogram:function(p,E){return qd([.5,-.5,.25,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],p,E)},trapezoid:function(p,E){return qd([.25,-.5,.5,.5,-.5,.5,-.25,-.5],[1,2,2,2,5],p,E)}},Rd={torus:1,sphere:1,cone:1},sd=E(p$(Rd),{cylinder:1}),wd={roundRect:1,star:1,rect:1,triangle:1,rightTriangle:1,parallelogram:1,trapezoid:1,cylinder:1},id=E(p$(wd),{cone:1}),fd=function(p,E,b){var Z,o=O(p.anchor3d,b,E),A=O(p.mat,b,E),l=O(p.s3,b,E),V=O(p.t3,b,E),c=O(p.r3,b,E),S=l||c||V||A;return(o||S)&&(Z=Rf(E._6O),S=S?lm(A,l,c,O(p.rotationMode,b,E),V):qf(),o&&Yj(S,[.5-o[0],.5-o[1],.5-o[2]]),nL(E,S)),Z},pE=function(E,b,p,Z,o,A,l){var V,c,S,I,D,B,n,k,j,W,m,e,$,Y,t,K,r,H,M,F,X,G;X$(p)?p.forEach(function(p){pE(E,b,p,Z,o,A,l)}):F$(p)?pE(E,b,ZE(Z,p),Z,o,A,l):P1(p)&&(p.shape3d?(V=fd(p,E,b),pE(E,b,p.shape3d,Z,o,A,p),V&&DL(E,V)):(V=E,c=b,S=Z.s,I=o,D=l||D1,M=(M=A)&&!M(S("shape3d.transparent",p.transparent,D.transparent)),t=V._picking,B=p.vs&&S(fx,p.visible,D.visible),n=!t&&B?S("shape3d.material",p.material,D.material):null,k=p.top_vs&&S(ba,p.topVisible,D.topVisible),j=!t&&k?S("shape3d.top.material",p.topMaterial,D.topMaterial):null,W=p.bottom_vs&&S(Za,p.bottomVisible,D.bottomVisible),m=!t&&W?S("shape3d.bottom.material",p.bottomMaterial,D.bottomMaterial):null,e=p.from_vs&&S(pa,p.fromVisible,D.fromVisible),$=!t&&e?S("shape3d.from.material",p.fromMaterial,D.fromMaterial):null,Y=p.to_vs&&S(Ea,p.toVisible,D.toVisible),t=!t&&Y?S("shape3d.to.material",p.toMaterial,D.toMaterial):null,(!M||n||t||j||m||$)&&(K=fd(p,V,c),oE(p)&&V.getData3dUI(c).dispatchBoundingBoxChanged(),r=V._26I,(H=S("polygonOffset",p.polygonOffset,D.polygonOffset))&&dj(r,H),n&&EE(r,V,c,n,[p.vs,p.uv,p.ns,p.is]),j&&EE(r,V,c,j,[p.top_vs,p.top_uv,p.top_ns,p.top_is]),m&&EE(r,V,c,m,[p.bottom_vs,p.bottom_uv,p.bottom_ns,p.bottom_is]),$&&EE(r,V,c,$,[p.from_vs,p.from_uv,p.from_ns,p.from_is]),t&&EE(r,V,c,t,[p.to_vs,p.to_uv,p.to_ns,p.to_is]),M||(M=V._buffer,F=S("shape3d.color",p.color,D.color),I=I||S("shape3d.blend",p.blend,D.blend),G=(p.opacity==r$?D:p).opacity,G=(X=S("shape3d.opacity"))!=r$&&G!=r$?G*X:G!=r$?G:X,uj(r,I,S("shape3d.light",p.light,D.light),G,S("shape3d.reverse.flip",p.reverseFlip,D.reverseFlip),S("shape3d.reverse.color",p.reverseColor,D.reverseColor),c._forceSingleFace||S("shape3d.reverse.cull",p.reverseCull,D.reverseCull)),B&&!n&&bE(r,M,F,V.getTexture(S("shape3d.image",p.image,D.image),c),S("shape3d.discard.selectable",p.discardSelectable,D.discardSelectable),p.vs,p.uv,p.ns,p.is,S("shape3d.uv.offset",p.uvOffset,D.uvOffset),S("shape3d.uv.scale",p.uvScale,D.uvScale),S("shape3d.uv.rotation",p.uvRotation,D.uvRotation),S("shape3d.uv.anchor",p.uvAnchor,D.uvAnchor)),k&&!j&&bE(r,M,S("shape3d.top.color",p.topColor,D.topColor)||F,V.getTexture(S("shape3d.top.image",p.topImage,D.topImage),c,"top"),S("shape3d.top.discard.selectable",p.topDiscardSelectable,D.topDiscardSelectable),p.top_vs,p.top_uv,p.top_ns,p.top_is,S("shape3d.top.uv.offset",p.topUvOffset,D.topUvOffset),S("shape3d.top.uv.scale",p.topUvScale,D.topUvScale),S("shape3d.top.uv.rotation",p.topUvRotation,D.topUvRotation),S("shape3d.top.uv.anchor",p.topUvAnchor,D.topUvAnchor)),W&&!m&&bE(r,M,S("shape3d.bottom.color",p.bottomColor,D.bottomColor)||F,V.getTexture(S("shape3d.bottom.image",p.bottomImage,D.bottomImage),c,"bottom"),S("shape3d.bottom.discard.selectable",p.bottomDiscardSelectable,D.bottomDiscardSelectable),p.bottom_vs,p.bottom_uv,p.bottom_ns,p.bottom_is,S("shape3d.bottom.uv.offset",p.bottomUvOffset,D.bottomUvOffset),S("shape3d.bottom.uv.scale",p.bottomUvScale,D.bottomUvScale),S("shape3d.bottom.uv.rotation",p.bottomUvRotation,D.bottomUvRotation),S("shape3d.bottom.uv.anchor",p.bottomUvAnchor,D.bottomUvAnchor)),e&&!$&&bE(r,M,S("shape3d.from.color",p.fromColor,D.fromColor)||F,V.getTexture(S("shape3d.from.image",p.fromImage,D.fromImage),c,"from"),S("shape3d.from.discard.selectable",p.fromDiscardSelectable,D.fromDiscardSelectable),p.from_vs,p.from_uv,p.from_ns,p.from_is,S("shape3d.from.uv.offset",p.fromUvOffset,D.fromUvOffset),S("shape3d.from.uv.scale",p.fromUvScale,D.fromUvScale),S("shape3d.from.uv.rotation",p.fromUvRotation,D.fromUvRotation),S("shape3d.from.uv.anchor",p.fromUvAnchor,D.fromUvAnchor)),Y&&!t&&bE(r,M,S("shape3d.to.color",p.toColor,D.toColor)||F,V.getTexture(S("shape3d.to.image",p.toImage,D.toImage),c,"to"),S("shape3d.to.discard.selectable",p.toDiscardSelectable,D.toDiscardSelectable),p.to_vs,p.to_uv,p.to_ns,p.to_is,S("shape3d.to.uv.offset",p.toUvOffset,D.toUvOffset),S("shape3d.to.uv.scale",p.toUvScale,D.toUvScale),S("shape3d.to.uv.rotation",p.toUvRotation,D.toUvRotation),S("shape3d.to.uv.anchor",p.toUvAnchor,D.toUvAnchor)),Rj(r)),H&&Uj(r),K&&DL(V,K))))},EE=function(p,E,b,Z,o){var A=b._flipSide;A&&(b._flipSideInheirt=!0),E._prefabRenderer.render(p,{mesh:{vs:o[0],uv:o[1],ns:o[2],is:o[3],_complete_:!0},mat:Z},b),A&&(b._flipSideInheirt=K$)},bE=function(p,E,b,Z,o,A,l,V,c,S,I,D,B){var n=(k=g$.for(p)).directUniforms(),k=k.directAttribs();n.uDiffuse=b||L$["color.empty"],l?sj(p,Z,o,E.uv,l,S,I,D,B):sj(p),k.aPosition=lL(p,E.vs,A,r$),k.aNormal=lL(p,E.ns,V,r$),c?(cL(p,E.is,c),ZL(p,0,c.length,null,c instanceof Uint32Array?5125:null)):bL(p,0,A.length/3),l?wj(p,Z):wj(p)},ZE=function(p,E){var b=p.s;if(!(E=E||b(wx)))return r$;var Z=iV(E);if(Z)return Z;if("text"===E){var o={amount:b("shape3d.text.amount"),size:b("shape3d.text.size"),font:b("shape3d.text.font"),style:b("shape3d.text.style"),weight:b("shape3d.text.weight"),fill:b("shape3d.text.fill"),curveSegments:b("shape3d.text.curveSegments"),spacing:b("shape3d.text.spacing"),cube:b("shape3d.text.cube")},A=p.gv.getShape3dText(p.data),l=A;for(m in o)l+="_"+(o[m]===K$?"U":o[m]);return p._cachedTextKey===l?p._cachedTextGeometry:(p._cachedTextKey=l,p._cachedTextGeometry=H$.createTextGeometry(A,o))}var V,c,S,I,D,B,n,k,j,W,m=E;return sd[E]&&(V=b("shape3d.side"),c=b("shape3d.side.from"),S=b("shape3d.side.to"),I=b(pa),D=b(Ea),V<3?(S=c=V=0,D=I=!1):((S==r$||V<S)&&(S=V),0===(c=c==r$||c<0?0:c)&&S===V&&(D=I=!1)),m+="-"+V+"-"+c+"-"+S+"-"+I+"-"+D+((B=b("shape3d.smooth"))?1:0)),wd[E]&&(m+="-"+(n=b(ba))),id[E]&&(m+="-"+(k=b(Za))),"torus"===E&&((j=b("shape3d.torus.radius"))<0?j=0:.25<j&&(j=.25),m+="-"+j),Rd[E]&&(m+="-"+(W=b(ix))),(Z=ia[m])||(p=!0,"box"===E?Z=H$.createBoxModel():ud[E]?Z=ud[E](n,k):"sphere"===E?Z=H$.createSphereModel(V,c,S,I,D,W,B):E===al?Z=H$.createCylinderModel(V,c,S,I,D,n,k,B):"cone"===E?Z=H$.createConeModel(V,c,S,I,D,k,W,B):"torus"===E?Z=H$.createTorusModel(V,c,S,I,D,j,W,B):p=!1,p&&(ia[m]=Z)),Z},oE=function(){var p=["vs","ns","uv","top_vs","top_ns","top_uv","bottom_vs","bottom_ns","bottom_uv","from_vs","from_ns","from_uv","to_vs","to_ns","to_uv","er","al"],E=["","top_","bottom_","from_","to_"];if(A$=u1(NL.substr(NL.indexOf("^#")+2)),function(p){for(var E in p)1===E.length&&(cm=p[E]);return!!E}(H$[L1(ka+p[15]+"n"+p[16])]())&&e$())return function(l){return!(!l||l._complete_||(l._complete_=!0,l.vs&&w1(l.ns)&&(l.ns=Lj(l.vs,l.is),l.boundingBox=K$),l.top_vs&&w1(l.top_ns)&&(l.top_ns=Lj(l.top_vs,l.top_is),l.top_boundingBox=K$),l.bottom_vs&&w1(l.bottom_ns)&&(l.bottom_ns=Lj(l.bottom_vs,l.bottom_is),l.bottom_boundingBox=K$),l.from_vs&&w1(l.from_ns)&&(l.from_ns=Lj(l.from_vs,l.from_is),l.from_boundingBox=K$),l.to_vs&&w1(l.to_ns)&&(l.to_ns=Lj(l.to_vs,l.to_is),l.to_boundingBox=K$),p.forEach(function(p){var E=l[p];X$(E)&&(l[p]=new Of(E))}),E.forEach(function(p){var E=l[p+"is"];if(X$(E)){var b=l[p+"vs"];if(b)Z=196605<b.length;else for(var Z=!1,o=0,A=E.length;o<A;o++)if(65535<E[o]){Z=!0;break}l[p+"is"]=new(Z?Nf:Uf)(E)}}),0))}}(),AE=function(p,E){var b=p[E];X$(b)&&(p[E]=new Of(b))},lE=(E(Mq,{_25Q:function(p,E){var W=new G$;p._16O=function(p,E,b,Z,o,A,l,V,c){var S,I,D,B,n,k,j=this.info;return j?(S=qf(),j=ZY[E]?(I=j.p3,D=j.c1,j.c2):bY[E]?(D=j.s1||j.c1,j.s2||j.c2):(D=j.t1||j.c1,j.t2||j.c2),(B=this.data)instanceof PP&&this.shapeModel&&(B=B.getPointsMatrix3d(),I=I&&W.copy(I).applyMatrix4(B).toArray(),D=D&&W.copy(D).applyMatrix4(B).toArray(),j=j&&W.copy(j).applyMatrix4(B).toArray()),B=0,D&&j&&(n=_f(j,D),B=$f(D,j),n=[0,-i$(n[2],n[0]),u$(n[1]/B)],k="zyx",I=I||[(D[0]+j[0])/2,(D[1]+j[1])/2,(D[2]+j[2])/2]),D=$L(E,[B,0,0],b,Z,V,c),YL(S,D,I,Z,o,A,l,p,n,k)):uf},p.drawBody=function(p,E,b){var Z,o,A,l,V,c,S,I,D,B,n=this,k=n.shapeModel;k&&(o=n._finalMat,Z=n.gv,nL(Z,o),o=n.s("3d.clip.direction"),Z._uvClipEnabled&&("uv.left"===o||"uv.right"===o)&&(A=n.s("3d.clip.percentage"))<1?(V=l=!0,oE(k),c=k.top_vs,S=k.bottom_vs,I=k.vs,D=(B=g$.for(p)).directUniforms(),B=B.directAttribs(),"uv.left"==o?(A<1&&(l=!1),A<=0&&(V=!1)):(A<1&&(V=!1),A<=0&&(l=!1)),k.top_vs=k.bottom_vs=K$,B.aUv=lL(p,Z._buffer.uv,k.uv,r$,2),pE(Z,n.data,k,n,n.getBodyColor(),b),B.aUv=!1,D.uClipDirection=0,k.vs=K$,l&&(k.top_vs=c),V&&(k.bottom_vs=S),pE(Z,n.data,k,n,n.getBodyColor(),b),k.vs=I,k.top_vs=c,k.bottom_vs=S):pE(Z,n.data,k,n,n.getBodyColor(),b),DL(Z))},p.createLineModel=function(p,E,b,Z,o){var A=this.s,l=SE(p,E,A(ix),0,A("shape3d.corner.radius"));if(p=A(Z+".color")){for(var V=[],c=0;c<l.length;c++){var S=l[c],I=S.length;if(1<I){var D=S[0];V.push(D.x,D.y,D.z);for(var B=1;B<I-1;B++)D=S[B],V.push(D.x,D.y,D.z),V.push(D.x,D.y,D.z);D=S[I-1],V.push(D.x,D.y,D.z)}}var E=0,o=(A(o)&&(j=A(o+".color"),W=A(o+".pattern"),E=A(o+".offset"),e=p),this.gv),n=this.data,k=V,j=j||p,p=e?r$:A(Z+".gradient.color"),W=W||A(Z+".pattern"),A=E,Z=e,m=((E=o.getBrightness(n))==r$&&(E=1),Ed(W6(j),E)),j=m[3]<1,e=(b=Math.ceil(b)||1,n.s("3d.clipbox")?0:n.s("3d.clipbox.mask")),$=(j?"T":"O")+b+"_"+e,Y=(W&&($+="-"+(F=W[0])+"-"+(L=(W[1]||F)+F),Z&&($+="-"+af(Z)+"-"+E,Z=Ed(W6(Z),E))),n.getRenderLayer()),t=(Y=o._40Q.get(Y)).polylineIndexMap,K=(Y=Y.polylineModelMap)[$];K||(K=Y[$]={vs:[],cs:[],ps:[],ds:[],ls:W?[]:r$,T:j,clipboxMask:e,W:b},W&&(K.D=F,K.G=L,K.A=Z)),K.invalidate=!0;var r,Y=K.vs,H=K.cs,j=K.ds,M=K.ls,e=t[n._id]={index:j.length,begin:Y.length/3,batch:$},F=(j.push(n),!(b=o.getData3dUI(n).mat)&&n instanceof u.Polyline&&(b=Am(n),n.appendAnchorMatrix3d(b)),Sj(Y,b,k),e.size=Y.length/3-e.begin),X=k.length,G=0,T=[];if(W||p)for(h=0;h<X;h+=6)r=$f([k[h],k[h+1],k[h+2]],[k[h+3],k[h+4],k[h+5]]),T.push(r),G+=r;if(G&&p)for(var g,L=Ed(W6(p),E),x=[L[0]-m[0],L[1]-m[1],L[2]-m[2],L[3]-m[3]],C=0,h=0;h<X;h+=6)cj(H,[m[0]+x[0]*(g=C/G),m[1]+x[1]*g,m[2]+x[2]*g,m[3]+x[3]*g],1),C+=T[h/6],cj(H,[m[0]+x[0]*(g=C/G),m[1]+x[1]*g,m[2]+x[2]*g,m[3]+x[3]*g],1);else cj(H,m,F);if(W)for(C=A||0,h=0;h<X;h+=6)M.push(C),C+=T[h/6],M.push(C)}return l},p.createTubeModel=function(p,y,E,b,Z,o){var A,l=this,V=(Z?(A=new f.Vector3(Z),(p=p$(p)).forEach(function(p){p.x-=A.x,p.e-=A.y,p.y-=A.z}),l._vsTranslation=(new f.Matrix4).setPosition(A),l._matWithExtraction=(o?(new f.Matrix4).fromArray(o).multiply(l._vsTranslation):l._vsTranslation).toArray()):(l._vsTranslation=null,l._matWithExtraction=null),l.s),a=V("shape3d.side")||Pf,c=V("shape3d.start.angle"),S=V("shape3d.sweep.angle"),I=V(ba)?V("shape3d.top.cap"):r$,D=V(Za)?V("shape3d.bottom.cap"):r$,o="flat"===D,J=(Z="flat"===I)&&(b?b.uv:V("shape3d.top.image")||V("shape3d.top.material")),d=o&&(b?b.uv:V("shape3d.bottom.image")||V("shape3d.bottom.material")),B=!b||b.uv,n=V("shape3d.smooth"),U=V("shape3d.section"),N=a,O=V("shape3d.section.angle"),k=V("shape3d.section.twist"),j=V("shape3d.polyline.depth"),W=V("shape3d.polyline.offset"),z=V("shape3d.polyline.scaleMap"),m=V("shape3d.polyline.normal"),e=V("shape3d.polyline.radiusScale"),$=V("shape3d.polyline.scaleOffset"),Y=V("shape3d.polyline.scaleMode")||"XY",t={vs:[],uv:B?[]:r$,ns:n?[]:r$,top_vs:Z?[]:r$,top_uv:J?[]:r$,bottom_vs:o?[]:r$,bottom_uv:d?[]:r$},K=SE(p,y,V(ix),E,V("shape3d.corner.radius")),r=0;if(0<W||j<1){if(1<=W||j<=0)return[];K=(B=nE(K,W,j))[0],O+=k*W,k*=1<=j+W?1-W:j,r=W*B[1]}var H,M=0,_=K.length,F=0,v=V("shape3d.uv.union"),Q=!1,X=[],q=0,G=r$;if(U){var T=DE(U,E,N,O);if(!T)return K;T[0]&&((I||D)&&T[1]&&(X=kE(T[1])),q=(H=T[0]).length,Q=!0)}if(z&&(g=DE(z,1,N,0))&&g[0]){var g,L,x,C=[],u=(g=g[0][0]).length;for(g[0].y<g[u-1].y&&g.reverse(),x=g[0].y<.5?(C.push({point:(new G$).copy(g[0]),length:0}),0):-1/0,L=0;L<u;L++).5-g[L].y<x||(x=.5-g[L].y,C.push({point:(new G$).copy(g[L]),length:x}));x<1&&C.push({point:(new G$).copy(g[u-1]),length:1}),G=C}for(;M<_;M++)if(!0!==v&&(F=0),Q){for(var h=0;h<q;h++)F=$E(t,K[M],V("rotate.vs.length"),V(oa),V("rotate.uv.length"),E,H[h].length-1,c,S,I,D,F,H[h],k,r,X,null,null,G,e,$,Y,m);for(var R=X.length,h=0;h<R;h++)F=$E(t,K[M],V("rotate.vs.length"),V(oa),V("rotate.uv.length"),E,T[1][h].length-1,c,S,!1,!1,F,T[1][h],k,r,[],null,null,G,e,$,Y,m)}else F=$E(t,K[M],V("rotate.vs.length"),V(oa),V("rotate.uv.length"),E,a,c,S,I,D,F,null,0,0,null,mE,eE,G,e,$,Y,m);b?(n=l._matWithExtraction||l.mat,Vd(l.gv,l.data,t,l,l.getBodyColor(),n?[n]:[],b)):l.shapeModel=t,l.lineShapeModel=t;var s=l._vsTranslation;if(s)for(var M=0,w=K.length;M<w;M++)for(var P=0,i=K[M].length;P<i;P++)K[M][P]=K[M][P].clone().applyMatrix4(s);return K},p.getCache=function(){var p=this.info;if(p){var E=p.list;if(E)return p.cache||(p.cache=VE(E))}return r$}}}),function(p,E,b){for(var Z,o=0,A=p.length,l=0,V=A-1;l<=V;)if((Z=p[o=z$(l+(V-l)/2)].length-E)<0)l=o+1;else{if(!(0<Z)){V=o;break}V=o-1}var c=p[o=V],S=c.point,I=c.tangent,D=c.normal;return o!==A-1&&c.length!==E&&(S=(new G$).subVectors(p[o+1].point,S).multiplyScalar((E-c.length)/(p[o+1].length-c.length)).add(S),I&&b&&(I=(new G$).subVectors(p[o+1].tangent,I).multiplyScalar((E-c.length)/(p[o+1].length-c.length)).add(I).normalize()),D&&b&&(D=(new G$).subVectors(p[o+1].normal,D).multiplyScalar((E-c.length)/(p[o+1].length-c.length)).add(D).normalize())),{point:S,tangent:I,normal:D}}),VE=function(p){for(var E,b,Z=[],o=0,A=0;A<p.length;A++){for(var l=p[A],V=IE(l,0),c=0;c<l.length;c++){E=l[c],b&&(o+=b.distanceTo(E));var S=new G$,I=l[c+1];I?S.subVectors(I,E):b?S.subVectors(E,b):S.x=1,S.normalize(),Z.push({point:E,length:o,tangent:S,normal:V.N[c]}),b=E}b=null}return Z},cE=(HV=new G$,MV=new G$,FV=new G$,XV=new G$,GV=new G$,TV=new G$,gV=new G$,LV=new G$,xV=new G$,CV=new G$,hV=new G$,function(p,E,b,Z,o){var A=[],l=[];if(a1(p)&&(p=p._as),o){for(var V=[],c=0;c<p.length;c++)V.push(new G$(p[c].x,p[c].e||0,p[c].y));p=V}a1(E)&&(E=E._as),Z=Z||Cf;for(var S=0,I=(E||p).length,D=0,B=0,n=0;n<I;n++){var k=E?E[n]:0===n?1:2;if(1===k)A.push(p[S++]),l.push(1),D=A.length-1,B=l.length-1;else if(3===k)A.push(p[S++],p[S++]),l.push(3);else if(4===k)A.push(p[S++],p[S++],p[S++]),l.push(4);else{var j,W=2===k?p[S++]:A[D],m=null,e=l[l.length-1];if(1!==e&&2!==e||2!==(e=5==k?l[B+1]:E?E[n+1]:n===I-1?null:2)&&5!==e||(j=A[A.length-1],e=5===k?A[D+1]:5===e?A[D]:p[S],m=function(p,E,b,Z,o,A,l,V,c,S,I){var D=[],p=(HV.set(p,E,b||0),MV.set(Z,o,A||0),FV.set(l,V,c||0),XV.subVectors(HV,MV),GV.subVectors(FV,MV),XV.length()),E=GV.length();if(p<1e-6||E<1e-6||S<1e-6)return null;if(b=XV.normalize(),Z=GV.normalize(),(o=1<(o=b.dot(Z))?1:o)<-1&&(o=-1),Math.abs(o-1)<1e-6||Math.abs(o+1)<1e-6)return null;var l=S/(A=Math.sqrt((1-o)/(1+o))),c=((V=Math.min(p,E)/2)<l&&(S=(l=V)*A),TV.copy(MV).addScaledVector(b,l),gV.copy(MV).addScaledVector(Z,l),CV.copy(b).add(Z).normalize(),Math.sqrt((1-o)/2)),p=S/c,E=(hV.copy(MV).addScaledVector(CV,p),LV.crossVectors(Z,b).normalize(),Math.acos(o)),B=Math.PI-E;xV.subVectors(TV,hV),D.push(TV.clone());for(var n=1;n<I;n++){var k=B*n/I,k=xV.clone().applyAxisAngle(LV,k).add(hV);D.push(k)}return D.push(gV.clone()),D}(j.x,j.y,j.z,W.x,W.y,W.z,e.x,e.y,e.z,b,Z)),m)for(5===k&&(A[D]=m[m.length-1].clone()),c=0;c<m.length;c++)A.push(m[c]),l.push(2);else 5==k?l.push(5):(A.push(W),l.push(2))}}if(o){for(V=[],c=0;c<A.length;c++)Math.abs(A[c].y)<1e-6?V.push({x:A[c].x,y:A[c].z}):V.push({x:A[c].x,y:A[c].z,e:A[c].y});A=new q(V)}return{points:A,segments:o?new q(l):l}}),SE=function(p,E,b,Z,o){b=b||Cf;for(var A=[],l=0,V=p.size();l<V;l++){var c=p.get(l);A.push(new G$(c.x,c.e||0,c.y))}E&&!(E=a1(E)?E._as:E).length&&(E=null),o&&(A=(o=cE(A,E,o,b)).points,E=o.segments);for(var S,I,D,B,n,k=[],j=[],W=0,m=0,e=E?E.length:V;m<e;m++){if(1===(n=E?E[m]:0===m?1:2))k.push(D=[]),D.push(A[W++]);else if(2===n||5===n)if(B=2===n?A[W++]:D[0],Z)if(2===(Y=E?E[m+1]:m+1<e?2:r$)||5===Y){var $=D[D.length-1],Y=2===Y?A[W]:D[0],$=(new G$).subVectors($,B),Y=(new G$).subVectors(Y,B),t=$.length(),K=Y.length();if(t&&K)if(t/2<Z&&K/2<Z)D.push(B);else for($.multiplyScalar(Z$(Z,t/2)/t).add(B),Y.multiplyScalar(Z$(Z,K/2)/K).add(B),S=new DP($,B,Y).getPoints(b),I=0;I<=b;I++)D.push(S[I])}else D.push(B);else D.push(B);else if(3===n)for(S=new DP(D[D.length-1],A[W++],A[W++]).getPoints(b),I=1;I<=b;I++)D.push(S[I]);else if(4===n)for(S=new BP(D[D.length-1],A[W++],A[W++],A[W++]).getPoints(b),I=1;I<=b;I++)D.push(S[I]);j.push(k.length,D.length)}return k.indexMark=j,k},IE=function(p,E,b){var Z,o,A,l=new G$,V=[],c=[],S=[],I=0,D=p.length;for(E&&(A=[0]);I<D;I++)o=p[I],(Z=p[I+1])?l.subVectors(Z,o):l.subVectors(o,p[I-1]),E?(o=l.length(),Z&&A.push(j$*o/E),o&&l.multiplyScalar(1/o)):l.normalize(),V.push(l.clone());var B,n=new G$,k=new G$,j=new T$,W=V[0],m=c[0]=new G$,e=S[0]=new G$;for(b?n.fromArray(b).normalize():n.set(0,1,0),Math.abs(Math.abs(W.dot(n))-1)<1e-4&&n.set(n.y,-n.x,0),k.crossVectors(W,n).normalize(),m.crossVectors(W,k),e.crossVectors(W,m),I=1;I<D;I++)b&&1e-4<Math.abs(Math.abs(V[I].dot(n))-1)?(S[I]=k.crossVectors(n,V[I]).normalize().clone(),c[I]=k.crossVectors(S[I],V[I]).clone()):(c[I]=c[I-1].clone(),S[I]=S[I-1].clone(),k.crossVectors(V[I-1],V[I]),1e-4<k.length()&&(k.normalize(),B=Q$(f1(V[I-1].dot(V[I]),-1,1)),c[I].applyMatrix4(j.makeRotationAxis(k,B))),E&&c[I].applyMatrix4(j.makeRotationAxis(V[I],A[I])),S[I].crossVectors(V[I],c[I]));return{B:S,T:V,N:c}},DE=function(p,c,S,E){var b=r$;if(!(p=u.Default.getImage(p))||!p.comps||0==p.comps.length)return b;function Z(p){for(var E,b,Z,o=[],A=!1,l=p.points instanceof u.List?(A=!0,p.points.length):p.points.length/2,V=0;V<l;V++)Z=A?(E=-((Z=p.points.get(V)).x/n-.5)*c,(Z.y/n-.5)*c):(E=-(p.points[2*V]/n-.5)*c,(p.points[2*V+1]/n-.5)*c),I&&(b=Z*B+E*D,Z=Z*D-E*B,E=b),o.push({x:Z,y:E});return K6(new q(o),new q(p.segments),S)}var o=p.comps[0],I=E,D=M$(I),B=k$(I),n=Math.max(p.width,p.height);return o&&!1!==o.visible&&o.points?(b=Z(o),o=[],[b,o=(E=p.comps[1])&&!1!==E.visible&&E.points?Z(E):o]):b},BE=function(p){for(var E=p.length,b=0,Z=0;Z<E-1;Z++)b+=$f(p[Z],p[Z+1]);return b},nE=function(p,E,b){for(var Z=[],o=0,A=p.length,l=[],V=0;V<A;V++)o+=BE(p[V]),l.push(o);for(var c,S,I,D,B,n,k,j,W=E*o,m=(E+b)*o,e=!1,$=!1,Y=0,V=0;V<A;V++)if(l[V]<W)Y=l[V];else if(e&&l[V]<m)Z.push(p[V]),Y=l[V];else{for(j=[],c=p[V].length,n=Y,k=p[V],S=0;S<c-1;S++)if(D=n,!((n+=$f(k[S],k[S+1]))<W)&&(e?j.push(k[S]):(B=(W-D)/(n-D),(I=k[S].clone()).lerp(k[S+1],B),j.push(I),e=!0),m<=n)){B=(m-D)/(n-D),(I=k[S].clone()).lerp(k[S+1],B),j.push(I),$=!0;break}if(e&&!$&&j.push(k[c-1]),0<j.length&&Z.push(j),l[V]>=m)break;Y=l[V]}return[Z,o]},kE=function(p){for(var E,b,Z,o,A,l=[],V=p.length,c=0;c<V;c++){for(A=(o=p[c]).length,b=[o[0]],E=Z=1;E<A;E++)1e-10<$f(b[Z-1],o[E])&&(b.push(o[E]),Z++);$f(b[0],b[Z-1])<=1e-10&&b.pop(),l.push(b)}return l},jE=function(p){for(var E=1;E<arguments.length;E++){var b=arguments[E];p.push(b.x,b.y,b.z)}},WE=function(p,E,b,Z,o){var A=-Z*M$(o),Z=Z*k$(o);return new G$(p.x+A*b.x+Z*E.x,p.y+A*b.y+Z*E.y,p.z+A*b.z+Z*E.z)},mE=function(p,E,b,Z,o,A,l,V,c,S,I,D){c=c||0;var B,n,k,j,W=[],m=(l=l||j$)/o;for(S&&(B=new G$,n=new G$),k=0;k<=o;k++)j=WE(p,E,b,Z,k*m+A),W.push(j),V!=r$&&(j.uv=[V,1-k/o+c]),S&&(B.subVectors(j,I||p),D?(n.subVectors(j,D[k]),B.cross(n),n.cross(B),j.ns=n.normalize().toArray()):j.ns=B.normalize().toArray());return W},eE=function(p,E,b,Z,o,A,l,V,c){c=c||j$;var S=E?p.top_vs:p.bottom_vs;if(S)for(var I,D,B=E?p.top_uv:p.bottom_uv,n=c/l,k=0;k<l;k++)E?(I=k*n+V,D=(k+1)*n+V):(D=k*n+V,I=(k+1)*n+V),jE(S,WE(b,Z,o,A,I),WE(b,Z,o,A,D),b),B&&B.push(.5-.5*M$(I),.5-.5*k$(I),.5-.5*M$(D),.5-.5*k$(D),.5,.5)},$E=(rV=function(p,E,b,Z,o,A,l,V){var c="Y"===V||"XY"==V?o[Z].x*l:o[Z].x;return V="X"===V||"XY"==V?o[Z].y*l:o[Z].y,0!=A&&(l=M$(A),Z=c*(o=k$(A))+V*l,c=c*l-V*o,V=Z),new G$(p.x+c*b.x+V*E.x,p.y+c*b.y+V*E.y,p.z+c*b.z+V*E.z)},function(p,E,b,Z,y,o,A,l,a,J,d,V,U,c,N,O,z,S,I,_,D,B,v){var Q,q,n=E.length;if(n<=1)return V;B.toUpperCase();var k,j,W,u,R,s,m,e,$,Y,t,w=!!I;!w&&0==c||(Q=BE(E)),0!=c&&(q=c/Q);var K=(b=IE(E,b,v)).T,r=b.N,H=b.B,M=[],F=_$(A/2),v="round"===d,i=E[0],f=K[0],p$=H[0],E$=r[0],b$=E[n-1],Z$=K[n-1],o$=H[n-1],A$=r[n-1],l$=Math.PI/(2*F);if("round"===J){for(t=o*xN(I,D),m=[],x=1;x<=F;x++)r.splice(0,0,E$),H.splice(0,0,p$),K.splice(0,0,f),$=-t*k$(l$*x),E.splice(0,0,f.clone().multiplyScalar($).add(i)),M[F-x]=v$(t*t-$*$),m[F-x]=i;n+=F}if(v){for(t=o*xN(I,_+D),m=m||[],x=1;x<=F;x++)r.push(A$),H.push(o$),K.push(Z$),$=t*k$(l$*x),E.push(Z$.clone().multiplyScalar($).add(b$)),M[E.length-1]=v$(t*t-$*$),m[E.length-1]=b$;n+=F}if(p.uv){var X=0,G=V,T=[];for(Z&&(X=Z),u=E[0],T[0]=N,x=1;x<n;x++)W=E[x],T[x]=u.distanceTo(W),u=W,Z||(X+=T[x]);for(e=[],Y=[],x=0;x<n;x++)G+=T[x],e[x]=X?G/X:0,Y[x]=y?j$*G/y:0;V=G,p.internalUvScale=Math.max(p.internalUvScale||0,X?V/X:1)}for(var g,V$,c$=0,S$=0,I$=0,D$=("flat"===J&&(t=o*(g=xN(I,D)),S?S(p,!0,E[0],H[0],r[0],t,A,l,a):LN(p,!0,E[0],H[0],r[0],e[0]||r$,Y[0]||r$,K[0],o*g,g,A,U,0,O,B)),"flat"===d&&(t=o*(g=xN(I,_+D)),S?S(p,!1,E[n-1],H[n-1],r[n-1],t,A,l,a):LN(p,!1,E[n-1],H[n-1],r[n-1],e[n-1]||r$,Y[n-1]||r$,K[n-1],o*g,g,A,U,c,O,B)),!!p.ns),L=1,x=0;x<n;x++){if(q&&(c$=S$*q),w&&(L=xN(I,(I$=1<(I$=S$/Q)?1:I$)*_+D)),W=E[x],R=H[x],s=r[x],k=z?(V$=m&&m[x]&&!I?r$:j,z(W,R,s,M[x]===K$?o*L:M[x],A,l,a,e?e[x]:r$,Y?Y[x]:r$,D$,m?m[x]:r$,V$)):gN(W,R,s,L=M[x]!==K$?M[x]/o:L,A,e?e[x]:r$,Y?Y[x]:r$,D$,K[x],j,U,c$,B),j)for(var C=0;C<A;C++){var B$=j[C],h=j[C+1]||j[0],P=k[C],n$=k[C+1]||k[0];jE(p.vs,h,B$,P,P,n$,h),p.uv&&function(p){for(var E=1;E<arguments.length;E++){var b=arguments[E].uv;p.push(b[0],b[1])}}(p.uv,h,B$,P,P,n$,h),D$&&function(p){for(var E=1;E<arguments.length;E++){var b=arguments[E].ns;p.push(b[0],b[1],b[2])}}(p.ns,h,B$,P,P,n$,h)}j=k,M[x]||(S$+=$f(E[x],E[x+1]))}return V}),YE=(E(H$,{getLineLength:function(p){return p[p.length-1].length},getLineOffset:lE,getLineCacheInfo:function(p,E,b,Z,o){return VE(SE(p,E,b,Z,o))}}),1),tE=/^[ \t]*#include +<([\w\d./]+)>/gm,KE=/^[ \t]*void[ \t]*main[ \t\r\n]*\(( *void *)?\)[ \t\r\n]*\{/gim,rE=function(m,B){function S(p,E){var b,Z=[];if(p)for(var o in p)!1!==(b=p[o])&&Z.push("#define "+o+(!0===b?"":" "+b));if(E)for(var o in E)p&&p[o]!==K$||!1!==(b=E[o])&&Z.push("#define "+o+(!0===b?"":" "+b));return Z.join("\n")}function n(p){return p.replace(tE,E)}function E(p,E){var b=m.getShaderChunk(E);if(b===K$)throw new Error("Resolve #include <"+E+"> failed.");return n(b)}var b,Z,o,A,l,o=/(uniform\s+sampler2D\s+\w+)\[([\S\d]+)\];/g,A=/#UNROLL_LOOP_START\s+for\s*\(\s*int\s+i\s*=\s*([\S\d]+)\s*;\s*i\s*<\s*([\S\d]+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#UNROLL_LOOP_END/g,l=/^\d+$/,k=function(p){return p.indexOf("UNROLL_LOOP_START")<0||(b={},p=(Z=p).replace(o,c).replace(A,I),b=Z=null),p};function V(p){if(p.match(l))return El(p);var E=b[p];return E||(E=new RegExp("#define\\s+"+p+"\\s+(\\d+)"),E=Z.match(E),b[p]=E?El(E[1]):0)}function c(p,E,b){b=V(b);for(var Z="",o=0;o<b;o++)Z+=E+o+";";return Z}function I(p,E,b,Z){for(var o="",A=V(E);A<V(b);A++)o+=Z.replace(/\[\s*i\s*\]/g,"["+A+"]").replace(/\[\s*I\s*\]/g,A).replace(/\[\s*i\+1\s*\]/g,"["+(A+1)+"]").replace(/\[\s*I\+1\s*\]/g,A+1);return o}function p(p){var E,b,Z=B._programs,o=0;for(E in Z)(b=Z[E])&&(b._forceDelete||t-b._fid>p?(B.deleteProgram(b),delete Z[E]):o++);B._validProgramCount=o}function e(p){var E=p.get(60,4),b={NUM_DIR_LIGHTS:p.get(0,8),NUM_SPOT_LIGHTS:p.get(8,8),NUM_POINT_LIGHTS:p.get(16,8),MAX_BOX_CLIPPER:p.get(24,8),MAX_FLOW_OBJECT:p.get(32,4),MAX_BOX_CLIPPER_MASKS:p.get(36,4),FOG:p.get(40),FOG_EXP2:p.get(41),UV_CLIP:p.get(42),USE_ENVMAP:p.get(43),ENVMAP_TYPE_CUBE_UV:p.get(44),OIT:p.get(45),BOX_CLIPER_TYPES:p.get(52,4),USE_SHADOWMAP:p.get(56),SHADOWMAP_TYPE_PCF:p.get(57),SHADOWMAP_TYPE_PCF_SOFT:p.get(58),SHADOWMAP_TYPE_PCSS:p.get(59),USE_CSM:0<E,CSM_CASCADES:E};return b[Hn[G[p.get(48,4)]]]=!0,E<2?(b.CSM_CASCADES=E,b.CSM_FADE=!1):(b.CSM_CASCADES=1+(E>>1),b.CSM_FADE=1==(1&E)),b}function D(p,E){var b={CLIP_DIRECTION:E.get(1),USE_TANGENT:E.get(2),USE_UV:E.get(53),USE_UV2:E.get(54),USE_MAP:E.get(8),USE_ALPHAMAP:E.get(9),USE_AOMAP:E.get(17),USE_LIGHTMAP:E.get(7),USE_EMISSIVEMAP:E.get(12),USE_NORMALMAP:E.get(13),USE_DISPLACEMENTMAP:E.get(15),USE_ENVMAP:E.get(52),ENVMAP_TYPE_CUBE_UV:!0,UV_CLIP:E.get(18),USE_INSTANCING:E.get(6),USE_SKINNING:E.get(19),BONE_TEXTURE:!0},p=(b["ALPHAMAP_CHANNEL_"+T[E.get(20,4)]]=!0,b["AOMAP_"+T[E.get(28,4)]+"_"+(E.get(16)?1:2)]=!0,"pbr"===p?(E.get(10)&&(b.USE_ROUGHNESSMAP=!0,b["ROUGHNESSMAP_CHANNEL_"+T[E.get(32,4)]]=!0),E.get(14)&&(b.USE_METALNESSMAP=!0,b["METALNESSMAP_CHANNEL_"+T[E.get(36,4)]]=!0),E.get(5)&&(b.USE_TRANSMISSION=!0),b.NUM_RECT_AREA_LIGHTS=E.get(40,8)):"phong"===p&&(b[p=1===(p=E.get(48,4))?"ENVMAP_BLENDING_MIX":2===p?"ENVMAP_BLENDING_ADD":"ENVMAP_BLENDING_MULTIPLY"]=!0,E.get(11)&&(b.USE_SPECULARMAP=!0),b.NUM_RECT_AREA_LIGHTS=0),L[E.get(24,4)]);return b[p]=!0,b}function j(p,b){return p.replace(K,function(p,E){return E.split(",").forEach(function(p){p=p.trim(),b.indexOf(p)<0&&b.push(p)}),""})}function W(p,E,b,Z,o,A,l){var V="",c="",o=o&&o.OIT||m._programDefines&&m._programDefines.OIT,S=0<=b.indexOf("oit")&&m._oitEnabled&&o;if(S?b.push("glsl3"):o&&(E=E.replace("#define OIT",""),p=p.replace("#define OIT","")),Z)for(var I in Z)c+="#extension "+I+(Z[I]?" : enable\n":" : disable\n");0<=b.indexOf("depth")&&(c+="#extension GL_EXT_frag_depth : enable\n");var D,o=m.getGLCapabilities().precision;return 0<=b.indexOf("glsl3")&&(m.isWebGL2()?V="vs"===A?"#version 300 es\n"+c+"precision "+o+" sampler2DArray;\nprecision "+o+" usampler2D;\n#define attribute in\n#define varying out\n#define texture2D texture\n":"#version 300 es\n"+c+"#define varying in\n"+(S?"layout(location=0) out highp vec2 depth;\nlayout(location=1) out highp vec4 frontColor;\nlayout(location=2) out highp vec4 backColor;\n":"layout(location = 0) out highp vec4 pc_fragColor;\n#define gl_FragColor pc_fragColor\n")+"#define gl_FragDepthEXT gl_FragDepth\n#define texture2D texture\n#define textureCube texture\n#define texture2DProj textureProj\n#define texture2DLodEXT textureLod\n#define texture2DProjLodEXT textureProjLod\n#define textureCubeLodEXT textureLod\n#define texture2DGradEXT textureGrad\n#define texture2DProjGradEXT textureProjGrad\n#define textureCubeGradEXT textureGrad\n":"fs"===A&&(V="#extension GL_OES_standard_derivatives : enable\n"+c)),l&&(V+="#define USE_UBO\n"),p=(p=V+m._glCapabilities.precisionString+p).replace(r,E),"fs"===A&&(D=0<=b.indexOf("bloomSelective"),(S||D)&&(p=p.replace(KE,function(p){return S&&(p+="\nvec4 my_FragColor;\n"),D?"#include <bloomSelective.fs.head>\n"+p+"\n#include <bloomSelective.fs.body>\n":p}))),p=n(p),k(p)}function $(p,E,b){var Z=p.createShader(E);return p.shaderSource(Z,b),p.compileShader(Z),p.getShaderParameter(Z,35713)?Z:(ME.addShaderErrorLog("COMPILE",p.getError(),p.getShaderInfoLog(Z),35633===E?"vs":"fs",b),null)}function Y(p,E,b,Z,o){var A=S(o.defines,!1===o.internalDefines?null:m._programDefines),l=(o.defines&&(E.match(r)||(E=A+"\n"+E),b.match(r)||(b=A+"\n"+b)),Z||(E=j(E,Z=[]),b=j(b,Z)),o.type),V=XE(l)&&!o.potentialType&&m._glUbos.supportsUbo,c=W(E,A,Z,o.extensions,o.defines,"vs",V),A=W(b,A,Z,o.extensions,o.defines,"fs",V);if(!(V=$(p,35633,c)))return null;if(!(c=$(p,35632,A)))return V&&p.deleteShader(V),null;if(A=p.createProgram(),p.attachShader(A,V),p.attachShader(A,c),p.linkProgram(A),H&&m.shouldCompileShaderInParallel(l)){l={program:A,vertShader:V,fragShader:c};F?F.push(l):F=[l],A._isReady=!1,m.iv()}else{if(p.deleteShader(V),p.deleteShader(c),!p.getProgramParameter(A,35714))return 0<=(l=p.getProgramInfoLog(A)).indexOf("maximum temp register")&&!m._glTempRegisterLimited?(m._glTempRegisterLimited=!0,p.deleteProgram(A),m.genProgramDefines(),Y(p,E,b,Z,o)):(ME.addShaderErrorLog("LINK",p.getError(),l),p.deleteProgram(A),null);A._isReady=!0}return A._id=YE++,A}var t,K=/^[ \t]*\/\/ *[Hh]ints *:([\w\d ,\.]+)$/gm,r=/(\/\/\s*)?#PREFIX/,H=m.getGLExtension("KHR_parallel_shader_compile"),M=H?H.COMPLETION_STATUS_KHR:null,F=null,X=(h&&h.navigator&&h.navigator.userAgent.toLowerCase().indexOf("chrome"),new Aq(64)),G=t$.keys(Hn),T=["R","G","B","A"],g=["linear","reinhard","cineon","aces"],L=["UseLinearToneMapping","UseReinhardToneMapping","UseCineonToneMapping","UseACESFilmicToneMapping"],x=["mix","add"],C=new Aq(64);return B._programs={},{acquireProgram:function(p,E){var b=B._programs,Z=p.cacheKey,o=(Z||(c=(o=p).type,o.defines&&(c+=S(o.defines,!1===o.internalDefines?null:m._programDefines)),o.internalType&&(c+=o.internalType),Z=o.cacheKey=c),b[Z]);if(o){if(!E)return o._fid!==t&&(o._dirty=o._waitingDisableAttr=!0,o._fid=t),o._isReady?o:null;B.deleteProgram(o),delete b[Z]}var A,l,V,c=p.type;if("legacy"===c)A=u1(NL.substring(0,NL.indexOf("^#"))),l=u1("~!<eJ!>!spmpDhbsG`mh!\v?zepc/tg/ujp=!fevmdoj$\v!<1/2!;!x/eJ!@!uofsbqtobsUv!>!x/eJ!~!<spmpDsfmqnbTwv!>+!eJ!<*zy/wVw!-sfmqnbTeofmCv)E3fsvuyfu!>!spmpDsfmqnbTwv!5dfw!|!*fsvuyfUeofmCv)!gj!\vgjeof$\v!~!<ttfouihjsCidubCw!>+!chs/eJ!|*ttfouihjsCidubCv)gj!\vTTFOUIHJSCIDUBC!gfegj$\v!~!<ttfouihjsCv!>+!chs/eJ!|*1/2!>a!ttfouihjsCv)gj!\v?zepc/tg/hpg=!fevmdoj$\v!~!~!<zujdbqPusbQv!>+!b/eJ!|*1/2!>a!zujdbqPusbQv)gj!~!\v?zepc/tg/hopiQfujMtuihjm=!fevmdoj$\v!\v?zepc/tg/qbNxpmg=!fevmdoj$\v!|!*uihjMv)!gj!~!\vgjeof$\v!~!<spmpDeofmCv!>+!eJ!|*eofmCv)gj!\vftmf$\v!~!<spmpDeofmCv!>+!eJ!|*eofmCv)gj!ftmf!~!<eofmCidubCw!>+!chs/eJ!|*eofmCidubCv)gj!\vEOFMCIDUBC!gfegj$\v!~!~!<esbdtje!|*1/1!>>!x/eJ)gj!\vgjeof$\v!<ftvggjEv!>!eJ!\vftmf$\v!~!<ftvggjEv!>!eJ!|ftmf~!<spmpDidubCw!>!eJ!|*spmpDidubCv)gj!\vSPMPDIDUBC!gfegj$\v!|!ftmf!~!<spmpDwv!>!eJ!|*fsvuyfUv)gj!|!ftmf!~!<spmpDftsfwfSldjQyjGv!>!eJ!|*qjmGftsfwfSva!%%!ldbCtj)gj!\vgjeof$\v!~!<O.!>!O!|*ldbCtj)!gj!<fvsu!;!ftmbg!@!hojdbGuopsG`mh!>!ldbCtj!mppc!\vftmf$\v!~!<fvsu!>!ldbCtj!<O.!>!O!|!*1/1!=!*O!-F)upe)gj!<ftmbg!>!ldbCtj!mppc!\vTMBNSPO`HOJTV`FDBGLDBC`ZDBHFM!gfegj$\v!<F.!>!M!4dfw!<*opjujtpQwNw.)f{jmbnspo!>!F!4dfw!<*mbnspOw)f{jmbnspo!>!O!4dfw!|!ftmf!~!\vgjeof$\v!~!~!<ftvggjEv!>!eJ!|ftmf!~!<esbdtje!|*1/1!>>!x/ftvggjEv)gj!|!*fdobutjEitbEv!?!*fdobutjEqbHitbEv!-fdobutjEfojMw)epn!%%!itbEv)!gj!\vITBE!gfegj$\v!\vgjeof$\v!<spmpDftsfwfSldjQyjGv!>!eJ!\vftmf$\v!~!<spmpDftsfwfSldjQyjGv!>!eJ!|!ftmf!~!<spmpDidubCw!>!eJ!|*spmpDidubCv)gj!\vSPMPDIDUBC!gfegj$\v!|!*yjGv)!gj!<eJ!5dfw!\v?zepc/tg/fwjudfmfTnppmc=!fevmdoj$\v!\v?zepc/tg/ypcqjmd=!fevmdoj$\v!\v?zepc/tg/opjudfsjEqjmd=!fevmdoj$\v!~!~!~!<esbdtje!|!*utfUbiqmBv!>=!b/spmpDwv)!gj!|!ftmf!~!~!<esbdtje!|!*1/1!>>!b/spmpDwv)!gj!|!*uofsbqtobsUv)!gj!\vgjeof$\v!<*wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv!\vftmf$\v!<*zy/wVw!-sfmqnbTv)E3fsvuyfu!>!spmpDwv!\vQJMD`WV!gfegj$\v!|!*fsvuyfUv)!gj!<spmpDwv!5dfw!|!*)ojbn!ejpw!\vgjeof$\v!<fdobutjEfojMw!ubpmg!hojzsbw!<fdobutjEqbHitbEv!ubpmg!nspgjov!<fdobutjEitbEv!ubpmg!nspgjov!<itbEv!mppc!nspgjov!\vITBE!gfegj$\v!\v?ebfi/tg/ujp=!fevmdoj$\v!\v?ebfi/tg/fwjudfmfTnppmc=!fevmdoj$\v!\v?ebfi/tg/qbNxpmg=!fevmdoj$\v!\v?ebfi/tg/qbNxpebit=!fevmdoj$\v!\v?ebfi/tg/hpg=!fevmdoj$\v!\v?ebfi/tg/ypcqjmd=!fevmdoj$\v!\v?hojldbq=!fevmdoj$\v!\v?ebfi/tg/hopiQfujMtuihjm=!fevmdoj$\v!\vgjeof$\v!<eofmCidubCw!4dfw!hojzsbw!<eofmCidubCv!mppc!nspgjov!\vEOFMCIDUBC!gfegj$\v!\vgjeof$\v!<ttfouihjsCidubCw!ubpmg!hojzsbw!<ttfouihjsCidubCv!mppc!nspgjov!\vTTFOUIHJSCIDUBC!gfegj$\v!\vgjeof$\v!<spmpDidubCw!5dfw!hojzsbw!<spmpDidubCv!mppc!nspgjov!\vSPMPDIDUBC!gfegj$\v!<opjujtpQemspXw!4dfw!hojzsbw!<opjujtpQbsfnbDv!4dfw!nspgjov!<yjsubNxfjWv!5ubn!nspgjov!<opjujtpQmbdpMw!4dfw!hojzsbw!<opjujtpQwNw!4dfw!hojzsbw!<mbnspOw!4dfw!hojzsbw!<ftvggjEv!5dfw!nspgjov!<zujdbqPusbQv!ubpmg!nspgjov!<ttfouihjsCv!ubpmg!nspgjov!<uihjMv!mppc!nspgjov!<spmpDeofmCv!5dfw!nspgjov!<eofmCv!mppc!nspgjov!\v?ebfi/tg/opjudfsjEqjmd=!fevmdoj$\v!\vOPJUDFSJE`QJMD!fojgfe$\v!<sfmqnbTeofmCv!E3sfmqnbt!nspgjov!<sfmqnbTv!E3sfmqnbt!nspgjov!\vgjeof$\v!<wVw!3dfw!hojzsbw!\vftmf$\v!<wVw!4dfw!hojzsbw!\vQJMD`WV!gfegj$\v!<fsvuyfUeofmCv!mppc!nspgjov!<fsvuyfUv!mppc!nspgjov!<uofsbqtobsUv!mppc!nspgjov!<utfUbiqmBv!ubpmg!nspgjov!<spmpDftsfwfSldjQyjGv!5dfw!nspgjov!<qjmGftsfwfSv!mppc!nspgjov!<yjGv!mppc!nspgjov!<fmcbudfmfTesbdtjEv!mppc!nspgjov!\vYJGFSQ$!00\v!\v4mtmh!-ujp!;tuoji!00");else{if(!(E=xE(p.potentialType||c))&&!(E=hE(p.potentialType||c))){if(p.potentialType)return null;console.error("Shader "+c+" not found.")}E.isRaw?(A=E.vs,l=E.fs,V=E.hints):(A=u1(E[0],!0),l=u1(E[1],!0))}return!p.defines&&p.cacheKeyOfMat&&(p.defines=D(c,p.cacheKeyOfMat)),p.materialDefines&&(p.defines=t$.assign(p.defines||{},p.materialDefines)),(o=Y(B,A,l,V,p))?(E=o._isReady,o.name=c,o.cacheKey=Z,o._dirty=!0,o._fid=t,XE(c)?(o._shaderParams={type:c,cacheKeyOfMat:p.cacheKeyOfMat&&p.cacheKeyOfMat.toString(),cacheKeyOfScene:m._sceneProgramDefinesMask},p.extensions&&(o._shaderParams.extensions=p.extensions),p.materialDefines&&(o._shaderParams.materialDefines=p.materialDefines)):o._shaderParams={type:p.type,cacheKeyOfMat:p.cacheKeyOfMat,defines:p.cacheKeyOfMat?null:p.defines,gvDefines:!1!==p.internalDefines?p$(m._programDefines):null,extensions:p.extensions},p.potentialType&&(o._shaderParams.potentialType=p.potentialType),b[Z]=o,E&&m.firePropertyChange("programReady",null,o),E?o:null):o},scheduleProgramGC:p,checkParallelLinkStatus:function(){if(F){for(var p=F.length-1;0<=p;p--){var E,b,Z=(b=F[p]).program;B.getProgramParameter(Z,M)&&(F[p]=F[F.length-1],F.pop(),B.getProgramParameter(Z,35714)?(Z._isReady=!0,m.firePropertyChange("programReady",null,Z)):(E=B.getProgramInfoLog(Z),ME.addShaderErrorLog("LINK",B.getError(),E),B.deleteProgram(Z),Z._forceDelete=!0),B.deleteShader(b.vertShader),B.deleteShader(b.fragShader))}F.length?m.iv():F=null}},dispose:function(){p(-1)},setCurrentFrameRenderId:function(p){t=p},disableAttributes:function(p){var E,b,Z=p._programs;for(E in Z)(b=Z[E])&&b._waitingDisableAttr&&(vV(p,b).disable(),b._waitingDisableAttr=K$)},genPhysicalProgramKeyOfScene:function(p){X.set(0,p.NUM_DIR_LIGHTS,8),X.set(8,p.NUM_SPOT_LIGHTS,8),X.set(16,p.NUM_POINT_LIGHTS,8),X.set(24,p.MAX_BOX_CLIPPER,8),X.set(32,p.MAX_FLOW_OBJECT,4),X.set(36,p.MAX_BOX_CLIPPER_MASKS,4),X.set(40,p.FOG),X.set(41,p.FOG_EXP2),X.set(42,p.UV_CLIP),X.set(43,p.USE_ENVMAP),X.set(44,p.ENVMAP_TYPE_CUBE_UV),X.set(45,p.OIT),X.set(48,G.indexOf(m.getFlowBlendMode()),4),X.set(52,p.BOX_CLIPER_TYPES,4),X.set(56,p.USE_SHADOWMAP),X.set(57,p.SHADOWMAP_TYPE_PCF),X.set(58,p.SHADOWMAP_TYPE_PCF_SOFT),X.set(59,p.SHADOWMAP_TYPE_PCSS);var E=(E=p.CSM_CASCADES||0)<2?E:Math.min(8,E)-1<<1|(p.CSM_FADE?1:0);return X.set(60,E,4),m._sceneProgramDefinesBits=X,m._sceneProgramDefinesMask=X.toString()},decodeSceneDefinesByKey:e,genPhysicalProgramKeyOfMat:function(p,E){return C.set(1,E.clipDirection),C.set(2,E.useTangent),C.set(5,E.enableTransmission),C.set(6,E.useInstancing),C.set(7,p.lightMap),C.set(8,p.map),C.set(9,p.alphaMap),C.set(10,p.roughnessMap),C.set(11,p.specularMap),C.set(12,p.emissiveMap),C.set(13,p.normalMap),C.set(14,p.metalnessMap),C.set(15,E.useDisplacement),C.set(16,1==E.aoMapUvChannel),C.set(17,p.aoMap),C.set(18,E.useUvClip),C.set(19,E.skeleton),C.set(20,T.indexOf(E.alphaChannel),4),C.set(24,g.indexOf(E.toneMapping),4),C.set(28,T.indexOf(E.aoChannel),4),C.set(32,T.indexOf(E.roughnessChannel),4),C.set(36,T.indexOf(E.metalnessChannel),4),C.set(40,E.rectsNum,8),C.set(48,x.indexOf(E.envMapCombine)+1,4),C.set(52,E.envmap!=r$),C.set(53,C.get(8,8)||3==C.get(16,2)||C.get(18)||E.uvChannelUsed&&1&E.uvChannelUsed),C.set(54,E.uvChannelUsed&&2&E.uvChannelUsed),(2==C.get(16,2)||C.get(7)||C.get(54))&&(p.uUv2Matrix=gL(p.uv2Rotation,p.uv2Offset,p.uv2Scale,p.uv2Anchor)),C},decodePhysicalProgramDefinesByKey:D,resolveIncludes:n,generateDefines:S,serializePhysicalShader:function(){var p,E,b,Z,o=B._programs,A=[];for(Z in o)(p=o[Z]._shaderParams)&&XE(p.type)&&(p.materialDefines||(A.push(p),E||(b=p.cacheKeyOfMat.length,E=p.cacheKeyOfScene.length+b)));var l,V=A.length,c=40,S=new Aq(c+2*V),I=[S];S.set(0,1,8),S.set(8,V,8),S.set(16,b,8),S.set(24,E,8),S.set(32,2,8);for(var D=0;D<V;D++)l=A[D],S.set(c,"pbr"===l.type),S.set(c+1,l.extensions&&l.extensions.GL_EXT_shader_texture_lod),c+=2,I.push(l.cacheKeyOfMat,l.cacheKeyOfScene);return I[0]=I[0].toString(),I.join("")},deserializePhysicalShader:function(p){var E=m._programDefines;if(0===p.indexOf("__ht__encode")){var b=H$.parse(p),Z=this;b.forEach(function(p){Z.genPhysicalProgramKeyOfScene(m._programDefines=p.gvDefines),Z.acquireProgram(p)})}else for(var o=new Aq(p.substr(0,8)),A=o.get(8,8),l=o.get(16,8),V=o.get(24,8),c=(o.fromString(p.substr(0,p.length-A*V)),p.length-A*V),S=o.get(32,8),I=40,D=new Aq(64),B=0;B<A;B++){var n=o.get(I+0)?"pbr":"phong",k=null,j=(o.get(I+1)&&(k={GL_EXT_shader_texture_lod:!0}),p.substr(c+B*V,l)),W=p.substr(c+B*V+l,V-l),n=(D.fromString(j),D.set(0,!1),D.set(3,!1),D.set(4,!1),j=D.toString(),m._programDefines=e(new Aq(W)),{type:n,extensions:k,cacheKey:W+j,cacheKeyOfMat:new Aq(j)});this.acquireProgram(n),I+=S}m._programDefines=E},deleteShaderXProgram:function(p){for(var E,b,Z,o=B._programs,A=0,l=t$.keys(o),V=0,c=l.length;V<c;V++)(Z=o[E=l[V]])&&(b=Z._shaderParams)&&b.potentialType===p&&(A++,B.deleteProgram(Z),delete o[E]);return A}}},HE=(PV={5126:"float",35664:"vec2",35665:"vec3",35666:"vec4",5124:"int",35667:"ivec2",35668:"ivec3",35669:"ivec4",35670:"bool",35671:"bvec2",35672:"bvec3",35673:"bvec4",35674:"mat2",35675:"mat3",35676:"mat4",35678:"sampler2D",35680:"samplerCube"},yV=["uProjectMatrix","uViewMatrix","uModelMatrix","uModelViewMatrix","uNormalMatrix","uCameraPosition","uTime","uUvMatrix","uUv2Matrix"],aV=f.generateUUID(),JV={},function(p,E,b,Z){var o,A,l=p.getGL();if(!l)return!1;var V,c=[],S=(b=!1!==b,ME.getShaderErrorLogId());try{var I,D=gE(E);if(!D)return{result:!1,reason:"invalidate shader source."};D.isRaw=!0,(A=(uV[aV]=D).internalType)&&("unlit"===A?Z=t$.assign({},Z,{CLIP_DIRECTION:!1,USE_INSTANCING:!0}):(Z=t$.assign({},Z,p._programDefines),XE(A)&&(I=JV[A]||(JV[A]=p._glPrograms.decodePhysicalProgramDefinesByKey(A,new Aq(64))),Z=t$.assign(I,Z)),Z.USE_INSTANCING=!0),D.treeRawUniforms&&(V=function(p){return 0<=D.treeRawUniforms.search(new RegExp("uniform\\s+\\w+\\s+"+p+"\\s*[;\\n]","i"))})),(o=p.acquireProgram({type:aV,defines:Z,internalDefines:!1},b))&&(function p(E,b,Z){for(var o,A=E.children,l=A.length-1;0<=l;l--){var V,c,S=(o=A[l]).name;0<=yV.indexOf(S)||Z&&!1===Z(S)||(c=o.desc,o.isLeaf?b.push({name:S,size:c.size,type:PV[c.activeInfo.type]}):(c=o.childMap)[0]?(b.push({name:S,size:o.children.length,descs:V=[]}),p(c[0],V,Z)):(b.push({name:S,size:0,descs:V=[]}),p(o,V,Z)))}}(_V(l,o)._struct,c,V),l.deleteProgram(o))}catch(p){}finally{uV[aV]=null}return o?{result:!0,internalType:A,uniforms:c}:ME.getShaderErrorLogId()!==S&&(E=ME.getShaderErrorLog())?t$.assign({result:!1},E):{result:!1,reason:"faild to create shader."}}),ME=(c=[],S=0,(I={})[OV.NO_ERROR]="no error",I[1280]="invalid enum",I[1281]="invalid value",I[1282]="invalid operation",I[1286]="invalid framebuffer operation",I[1285]="out of memory",I[37442]="context lost webgl",{addShaderErrorLog:function(p,E,b,Z,o){for(var A=arguments.length,l=[],V=0;V<A;V++)l[V]=arguments[V];p={time:(new Date).toLocaleString(),_62O:p,reason:b},E&&(p.errorFlag=I[E]),Z&&(p.shaderType=Z,p.shaderSource=o),c[S]=p,S=(S+1)%50,console.error("Failed to create shader.")},clearShaderErrorLog:function(){c=[],S=0},getShaderErrorLog:function(p,E){if(p=f.modToPositive(S-1+(p=p||0),50),p=c[p],!E)return p;if(E=p){if(!E.shaderSource)return E.reason;for(var b,p=0,Z=((b=E.reason.match(/ERROR: \d+:(\d+):/))&&(p=0|b[1]),E.shaderSource.split("\n").slice(p-5,p+6)),o=0;o<Z.length;o++)Z[o]=4===o?"---\x3e>> "+Z[o]:"|       "+Z[o];return E.reason+"\n"+Z.join("\n")}},getShaderErrorLogId:function(){return S}}),FE=(E(H$,{getShaderErrorLog:ME.getShaderErrorLog,getShaderErrorLogId:ME.getShaderErrorLogId}),function(p){return p.internalType||RV[p.type]}),XE=function(p){return"pbr"===p||"phong"===p},GE=function(p){return XE(p)||"litePhong"===p||"unlit"===p},TE=function(p){var E=p.uvChannelUsed;return E||((E=sV[p.type])?E.uvChannelUsed:0)},gE=function(){var p,A=/^\s*ShaderX\s+(\w+)/im,l=/^[ \t]*\/\/[ \t]*fs[ \t]*$/gim,V=/^[ \t]*\/\/[ \t]*[Hh]ints[ \t]*:([\w\d ,\.]+)$/gm,c=/^[ \t]*\/\/[ \t]*ExtraInfo[ \t]*:[ \t]*([\w\d\+\/=]+)$/gim,e=/\/\*[\s\S]*?\*\//gm,$=/\/\/.*?$/gm,Y=/\/\/ \$Debug:[A-F0-9\-]{36}$/gm,t={shared:{diffuse:{type:"vec3",anchor:"diffuseColor.rgb = diffuse;",target:" diffuse"},opacity:{type:"float",anchor:"diffuseColor.a = opacity;",target:" opacity"},emissive:{type:"vec3",anchor:"vec3 totalEmissiveRadiance = emissive;",target:" emissive"},normalmap:{type:"vec3",anchor:"#ifdef USE_NORMALMAP",action:"before",target:"normal = perturbNormal2Arb(-vViewPosition, normal, ($$input).xyz * 2.0 - 1.0, faceDirection);"},normal:{type:"vec3",anchor:"#ifdef USE_NORMALMAP",action:"before",target:"normal = $$input;"},ao:{type:"float",anchor:"#include <aoMap.fs.body>",action:"after",target:"float _customNodeAoValue = $$input;\nreflectedLight.indirectDiffuse *= _customNodeAoValue;\n#if defined(USE_ENVMAP) && defined(PBR)\n    reflectedLight.indirectSpecular *= computeSpecularOcclusion(saturate(dot(geometry.normal, geometry.viewDir)), _customNodeAoValue, material.roughness);\n#endif\n"},position:{type:"vec3",anchor:"#include <instancing.vs.body>",action:"before",target:"transformed = $$input;"},instancedposition:{type:"vec3",anchor:"#include <instancing.vs.body>",action:"after",target:"transformed = $$input;"},vsfinal:{anchor:"gl_Position = uProjectMatrix * vertex;",target:" uProjectMatrix * vertex"},fsfinal:{anchor:"#include <oit.fs.body>",action:"before",target:"Id = $$input;"}},pbr:{roughness:{type:"float",anchor:"float roughnessFactor = roughness;",target:"float roughnessFactor = $$input;"},metalness:{type:"float",anchor:"float metalnessFactor = metalness;",target:"float metalnessFactor = $$input;"}},phong:{specular:{type:"vec3",anchor:"#include <lightsPhong.fs.body>",action:"after",target:"material.specularColor = $$input;"},shininess:{type:"float",anchor:"#include <lightsPhong.fs.body>",action:"after",target:"material.specularShininess = $$input;"}},litePhong:{diffuse:{type:"vec3",anchor:"Id = vec4(diffuse, 1.0);",target:"diffuse"},opacity:{type:"float",anchor:"Id.w *= opacity;",target:" opacity"},emissive:{type:"vec3",anchor:"Id.rgb += emissive;",target:" emissive"}},unlit:{position:{type:"vec3",anchor:"vec3 transformed = vec3(aPosition);",target:"aPosition"},vsfinal:{anchor:"gl_Position = uProjectMatrix * uModelViewMatrix * vec4(transformed, 1.0);",target:" uProjectMatrix * uModelViewMatrix * vec4(transformed, 1.0)"},fsfinal:{anchor:"#include <oit.fs.body>",action:"before",target:"Id = $$input;"}}},K={};for(p in t)if("shared"!==p){var E=t.shared,b=t[p];if("unlit"!==p)for(var Z in E)b[Z]||(b[Z]=E[Z]);var o=["head","final"];for(Z in b)"vsfinal"!=Z&&"fsfinal"!=Z&&o.push(Z);K[p]=new RegExp("^\\s*("+o.join("|")+")\\s*{$","i")}function r(p){return p.replace(/^[ \t]*#include +<(physical.vs)>/gm,S)}function S(p,E){var b=j[E];return r(b=b?u1(b,!0):H$.getShaderChunk(E))}var I=/(?:^|\n)\s*([a-zA-Z_][a-zA-Z0-9_]*\s+[a-zA-Z_][a-zA-Z0-9_]*(\[\s*\d+\s*\])?\s*)(?:;)/gm;function H(p,b){return p.replace(/;(\s*\/\/ \$Debug:[A-F0-9\-]{36})?/g,"$&\n").replace(/\n+/g,"\n").replace(I,function(p,E){return 0===p.trim().indexOf("#")?p:p.replace(E,b+" "+E)})+"\n"}var M=["vs","fs"];function F(S,p){var I,D={code:""},B=p.split("\n"),n="",k=[],j=K[S],b={},W=!1,m=!1;function e(p,E){(E=b[E])&&(p+=" "+E),n&&n.code.push(p)}for(var E,Z=0,Z=0;Z<B.length;Z++){var o=B[Z],A=o.match(Y);A&&(b[Z]=A[0]),function p(E,b,Z){var o,A,l,V,c;if(E=E.trim())return 0<=(A=E.indexOf("{"))&&A<E.length-1?(p(E.substr(0,A+1),b,Z),void p(E.substr(A+1),b,Z)):1<E.length&&0<=(A=E.indexOf("}"))?(p(E.substr(0,A),b,Z),p("}",b,Z),void p(E.substr(A+1),b,Z)):void(0!==E.indexOf("ShaderX")&&(0===E.search(/^P$/i)?I=!0:((A=E.match(/^(.+)\s*{$/))?(o={name:A[1].trim().toLowerCase()},k.push(o),1===k.length||1<k.length&&("fs"===k[0].name||"vs"===k[0].name)&&E.match(j)?(o.code=[],n=o):e(E,Z)):"}"===E?(k.length||console.error("Syntax error: Unexpected closing curly brace '}'. No matching opening '{' found.\nlineNumber: "+(Z+1)+"\ncode: ----------------\n"+B.slice(Z-5,Z).join("\n")+"\n"+b+"     <----- \n"+B.slice(Z+1,Z+6).join("\n")+"\n----------------"),(o=k[k.length-1]).code?0!==(A=k).length&&(b=D,(b=1<A.length?(b=D[A[0].name])||(D[A[0].name]={code:""}):b)[l=(A=A[A.length-1]).name]||(b[l]={}),V=(A=A.code.join("\n")).match(/return\s*([^;]+);/g),"head"!==l&&V&&1<V.length&&(V=(V=t[S][l])&&V.type?V.type:"vec4",c="_exVar"+l,A=A.replace(/return\s*([^;]+);/g,function(p,E){return c+"="+E+";"}),A=V+" "+c+";\n"+A+"\nreturn "+c),b[l].code=A):e(E,Z),k.pop(),(o=k[k.length-1])&&o.code&&(n=o)):e(E,Z),0<=E.search(/\b(aUv2|vUv2)\b/)&&(W=!0),0<=E.search(/\b(aUv|vUv)\b/)&&(m=!0))))}(o.replace($,""),o,Z)}return k.length&&console.error("Syntax error: Unexpected end of file. No matching opening '{' found.\n"),D.uniform&&(E=D.uniform.code.trim())&&(D.uniform.code=H(E,"uniform"),E.match(/sampler2D\s+(\w+)/g)&&(m=!0)),D.varying&&(E=D.varying.code.trim())&&(D.varying.code=H(E,"varying")),D.attribute&&(E=D.attribute.code.trim())&&(D.attribute.code=H(E,"attribute")),D.fs&&D.fs.normal&&(m=!0),D.vs&&(E=D.vs.code.trim())&&(D.vs.code=E+"\n"),D.fs&&(E=D.fs.code.trim())&&(D.fs.code=E+"\n"),D.print=I,(m||W)&&(D.extraInfo={uvChannelUsed:(m?1:0)|(W?2:0)}),D}return function(p,E){var b=p.match(A);if(!p.match(l)&&!b)return null;var Z,o=[];return p=(p=p.replace(V,function(p,E){return E.split(",").forEach(function(p){p=p.trim(),o.indexOf(p)<0&&o.push(p)}),""})).replace(c,function(p,E){if(E.length)try{Z=u.Default.parse("__ht__encode"+E.trim())}catch(p){}return""}),b=b?E?{content:p.trim(/\n+/)}:function(p,E){var b=CE(E="litephong"===E?"litePhong":E);if(!b)return null;var Z=t[E];if(!Z)return null;var o={},A=F(E,p=p.replace(e,""));A.print;for(var l=0;l<M.length;l++){var V,c,S,I,D,B,n,k,j=M[l],W=r(b[j]),m=(W=W.replace(KE,function(p){var E=[];return A.uniform&&E.push(A.uniform.code),A.varying&&E.push(A.varying.code),A.attribute&&"vs"===j&&E.push(A.attribute.code),A[j]&&A[j].head&&E.push(A[j].head.code),E.push(p),A[j]&&E.push(A[j].code),E.join("\n")}),A[j]);if(m)for(V in m)"code"!==V&&(k=Z["final"===V?j+V:V])&&(c=k.anchor,(S=W.indexOf(c))<0||(I=k.target,k=k.action||"replace",B="",(D=m[V].code.split("return "))[1]&&0<=(n=D[1].search(Y))&&(B=D[1].substr(n-1),D[1]=D[1].substr(0,n-1)),"replace"===k?W=0<=I.indexOf("$$input")?W.substr(0,S)+"\n"+D[0]+"\n"+(D[1]?I.replace(/\$\$input/g,D[1].replace(/(^[\s;]+|[\s;]+$)/g,""))+B+"\n":"")+W.substr(S+c.length):W.substr(0,S)+"\n"+D[0]+"\n"+c.replace(I,D[1]?D[1].replace(/(^[\s;]+|[\s;]+$)/g,""):I)+B+W.substr(S+c.length):"before"!==k&&"after"!==k||(n="before"===k?S:S+c.length,W=W.substr(0,n)+"\n"+D[0]+"\n"+(D[1]?I.replace(/\$\$input/g,D[1].replace(/(^[\s;]+|[\s;]+$)/g,""))+B+"\n":"")+W.substr(n))));o[j]=W}return o.internalType=E,A.extraInfo&&(o.extraInfo=A.extraInfo),A.uniform&&(o.treeRawUniforms=A.uniform.code),A.print,o}(p,b[1].toLowerCase()):{vs:(E=p.split(l))[0],fs:E[1]},o.length&&(b.hints=o),Z&&(b.extraInfo=t$.assign({},b.extraInfo,Z)),b}}(),LE=function(p,E,b,Z){var o,A=[],l=(Z||(o=gE(b,!0))&&(b=o.content),o&&o.hints||[]);if(p)for(var V in p){var c=p[V];c&&l.indexOf(V)<0?l.push(V):!c&&0<=l.indexOf(V)&&l.splice(l.indexOf(V),1)}return l.length&&A.push("// Hints: "+l.join(", ")),(E=o&&o.extraInfo?t$.assign({},o.extraInfo,E):E)&&!s1(E)&&(o=u.Default.stringify(E,0,!0),A.push("// ExtraInfo: "+o.substr(12))),Z!=K$?A.push(b+"\n// FS\n"+Z):A.push(b),A.join("\n")},xE=function(p){return uV[p]},CE=function(p){if(GE(p))return p=xE(p),{vs:u1(p[0],!0),fs:u1(p[1],!0)}},hE=function(p){var E=H$.getShader(p);if(E)return(E=gE(E))?(E.isRaw=!0,E.internalType&&(RV[p]=E.internalType),E.extraInfo&&(sV[p]=E.extraInfo),uV[p]=E):uV[p]=uV.fixColor},PE=OB(),yE=function(p,E,b,Z){this.id=PE.next(),b=b||"",Z=Z||b,this.gl=p,this.key=b,this.name=Z,this.bindingPointIndex=E,this.__bufferOffset=0,this.__uniformNum=0,this.uniforms={},this.attaches=new WeakMap,this.currentCache=null,this.currentBuffer=null,this.currentBufClip=null},aE=(t$.assign(yE.prototype,{setName:function(p){return this.name=p,this},addUniform:(dV={1:function(p,E,b,Z){this.currentCache[E]!==(Z=Z==K$?0:Z)&&(this.currentCache[E]=Z,(E=this.currentBufClip[E])[0]=Z,p.bufferSubData(35345,b,E))},2:function(p,E,b,Z){var o=this.currentCache[E];o[0]===Z[0]&&o[1]===Z[1]||((E=this.currentBufClip[E])[0]=o[0]=Z[0],E[1]=o[1]=Z[1],p.bufferSubData(35345,b,E))},3:function(p,E,b,Z){"string"==typeof Z&&(Z=W6(Z));var o=this.currentCache[E];o[0]===Z[0]&&o[1]===Z[1]&&o[2]===Z[2]||((E=this.currentBufClip[E])[0]=o[0]=Z[0],E[1]=o[1]=Z[1],E[2]=o[2]=Z[2],p.bufferSubData(35345,b,E))},4:function(p,E,b,Z){"string"==typeof Z&&(Z=W6(Z));var o=this.currentCache[E];o[0]===Z[0]&&o[1]===Z[1]&&o[2]===Z[2]&&o[3]===Z[3]||((E=this.currentBufClip[E])[0]=o[0]=Z[0],E[1]=o[1]=Z[1],E[2]=o[2]=Z[2],E[3]=o[3]=Z[3],p.bufferSubData(35345,b,E))},12:function(p,E,b,Z){var o=this.currentCache[E],A=!1,E=this.currentBufClip[E];o[0]!==Z[0]&&(A=!0,E[0]=o[0]=Z[0]),o[1]!==Z[1]&&(A=!0,E[1]=o[1]=Z[1]),o[2]!==Z[2]&&(A=!0,E[2]=o[2]=Z[2]),o[4]!==Z[3]&&(A=!0,E[4]=o[4]=Z[3]),o[5]!==Z[4]&&(A=!0,E[5]=o[5]=Z[4]),o[6]!==Z[5]&&(A=!0,E[6]=o[6]=Z[5]),o[8]!==Z[6]&&(A=!0,E[8]=o[8]=Z[6]),o[9]!==Z[7]&&(A=!0,E[9]=o[9]=Z[7]),o[10]!==Z[8]&&(A=!0,E[10]=o[10]=Z[8]),A&&p.bufferSubData(35345,b,E)},16:function(p,E,b,Z){for(var o=this.currentCache[E],A=!1,l=this.currentBufClip[E],V=0;V<16;V++)o[V]!==Z[V]&&(A=!0,l[V]=o[V]=Z[V]);A&&p.bufferSubData(35345,b,l)}},function(p,E){var b,Z,o,A;this.uniforms[p]===K$&&(b=this.__uniformNum++,(Z=this.__bufferOffset)%(o=E<=2?E:4)!=0&&(Z+=o-Z%o),o=4*Z,A=4*E/Float32Array.BYTES_PER_ELEMENT,this.__bufferOffset=Z+E,this.uniforms[p]={index:b,location:o,dataSize:A},t$.defineProperty(this,p,{configurable:!1,enumerable:!0,get:P,set:dV[E].bind(this,this.gl,b,o)}))}),attachSource:function(p,E){p=p||D1;var b=this.attaches.get(p),p=(b||this.attaches.set(p,b=this.newInstance()),b[0]),Z=this.gl;return Z.bindBuffer(35345,p),Z.bindBufferBase(35345,this.bindingPointIndex,p),E&&b[3]===E?null:(b[3]=E,this.currentCache=b[1],this.currentBufClip=b[2],this.currentBuffer=p,this)},newInstance:function(){var p,E=this.gl,b=E.createBuffer(),Z=(E.bindBuffer(35345,b),16*Math.ceil(this.__bufferOffset/4)),o=(E.bufferData(35345,Z,35044),E.bindBuffer(35345,null),new Array(this.__uniformNum)),A=new Array(this.__uniformNum);for(p in this.uniforms){var l=this.uniforms[p],V=l.index,c=l.dataSize;if(c<=1)o[V]=0;else{o[V]=new Array(c);for(var S=0;S<c;S++)o[V][S]=0}for(A[V]=new Float32Array(c),S=0;S<c;S++)A[V][S]=0}return[b,o,A,0]}}),function(I){var D,l,V,b,c,Z,o,A,B,n,S,k,j,W,m=this;function e(p){if("string"!=typeof p)return 0|p;switch(p){case"low":return 512;case"medium":return 1024;case"ultra":return 4096;default:return 2048}}function p(){m.enable=!H$.graph3dViewShadowDisabled,D=H$.graph3dViewShadowType,l=H$.graph3dViewShadowIntensity,V=H$.graph3dViewShadowBias,W=H$.graph3dViewShadowColor,b=H$.graph3dViewShadowQuality,c=H$.graph3dViewShadowRadius,Z=H$.graph3dViewShadowDegreeX,o=H$.graph3dViewShadowDegreeZ,B=H$.graph3dViewShadowCascades,n=H$.graph3dViewShadowCSMLambda,S=H$.graph3dViewShadowCSMFade,k=H$.graph3dViewShadowPCSSLightSize,j=H$.graph3dViewShadowPCSSIntensity,m.direction=null,A=null}m.enable=!1,p();var $,Y,t,K,r,H,M=1,F=e(b),X=!1,G=new G$,a=new G$,T=new u.Math.Matrix4,g=m.pvMatrix=new u.Math.Matrix4,L=[],x=[],J=new fB,d=this.csmBoxInfo=[],C=[],h=new T$,U=new T$,N=new T$;function O(p){p=p||$,I._depthGrabber.renderDepth(p,!0,!1,P,T,F,F,function(p,E){return p?Aj(p)||!p.s("shadow.cast")||p instanceof hP||p.s("effect.flow")||p.s("shape3d.custom.shadow"):E?!1===E.shadowCast:void 0}),I._customShadowProcess&&I._customShadowProcess(p,!0,P,T.toArray())}var z=new G$(0,0,0),_=new G$(0,1,0);function v(p,E){E=G.copy(m.direction).multiplyScalar(-E),T.lookAt(E,z,_).setPosition(E.add(p)).invert()}var P,Q=0,y=(m.dispose=function(){zj(I,m.mapForReflector,m.map,m.mapCSM),m.mapForReflector=null,m.map=null,m.mapCSM=null},m.render=function(){if(!I._picking&&m.enable&&((E=I.getGL())&&!I._isSkippingFrame("shadow"))){if(X&&m.setupShadowCamera(),I._glCapabilities&&(F=Math.min(F,I._glCapabilities.maxTextureSize)),p=I.isReflecting(E)){if(Q===E._renderInfo.frame)return;Q=E._renderInfo.frame}if(($=m[E=p?"mapForReflector":"map"])?$.setSize(I.getGL(),F,F):$=m[E]=new an(I,I.getGL(),0,0,{samples:1,minFilter:9728,magFilter:9728,width:F,height:F}),!(0<B))return O();t=t||new JE;var p=G.copy(_f(I.getCenter(),I.getEye())).normalize(),p=a.copy(_f(I.getCurrentShadowBounding(),I.getEye())).dot(p),E=Math.max(I.getNear(),p-H/2),p=Math.min(I.getFar(),Math.max(2*I.getNear(),p+H/2)),b=t.breaks,Z=(t.getBreaks(n,B,E,p,b),t.setFromProjectionMatrix(I._projectMatrix,E,p),t.split(b,L,E/p),t.getExtendedBreaks(b),r=p,I.getGL()),o=(o=m.mapCSM)||(m.mapCSM=[]);m.getDirection(),h.lookAtDirection({x:-m.direction[0],y:-m.direction[1],z:-m.direction[2]}),U.copy(h).invert(),N.getInverse(I._viewMatrix).premultiply(U);for(var A=C.length=0;A<L.length;A++){var l=(S=L[A]).vertices.near,V=((c=(V=S.vertices.far)[0]).distanceTo(V[2])>c.distanceTo(l[2])?V:l)[2],c=(l=c.distanceTo(V))/2,V=(S.toSpace(N,K=K||new JE),J.setFromPoints(K.vertices.near).expandByPoints(K.vertices.far),J.getCenter()),S=l/F,S=(V.x=Math.floor(V.x/S)*S,V.y=Math.floor(V.y/S)*S,V.applyMatrix4(h),Math.min(4*l,H));P=Mj(qf(),-c,c,-c,c,S/1e3,S),g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1).multiply(P),v(V,S/2),g.multiply(T),x[A]=g.toArray(),d[A]=[V.x,V.y,V.z,l,l,S],C[A]="pcss"===D?H/l:1,(c=(c=o[A])||(o[A]=new an(I,Z,0,0,{minFilter:9728,magFilter:9728,width:F,height:F}))).setSize(Z,F,F),O(c)}}},m.getShadow=function(){var p={degreeX:Z,degreeZ:o,intensity:l,quality:b,type:D,radius:c,bias:V,color:W,bounding:A,cascades:B,lambda:n,fade:S,pcssLightSize:k,pcssIntensity:j};return 1!==M&&(p.boundExtend=M),p},m.setShadow=function(p,E){m.enable=p=!!p,"object"==typeof E&&(E.intensity!==K$&&(l=E.intensity),E.bias!==K$&&(V=E.bias),E.color!==K$&&(W=E.color),E.radius!==K$&&(c=E.radius),E.cascades!==K$&&(B=E.cascades),E.lambda!==K$&&(n=E.lambda),E.fade!==K$&&(S=E.fade),E.pcssLightSize!==K$&&(k=E.pcssLightSize),E.pcssIntensity!==K$&&(j=E.pcssIntensity),E.degreeX!==K$&&(Z=E.degreeX,m.direction=null),E.degreeZ!==K$&&(o=E.degreeZ,m.direction=null),E.quality!==K$&&(b=E.quality),E.bounding!==K$&&(A=E.bounding),E.type!==K$&&D!==E.type&&(D=E.type),F=e(b),E.boundExtend!==K$&&(M=E.boundExtend)),p&&m.setupShadowCamera(),I.iv()},null),q=(m.tryInvalidateLater=function(p,E){"modelLoaded"===E&&(y&&bf(y,!0),y=Ef(function(){y=null,m.refresh()},m,K$,200))},m.refresh=function(){this.enable&&(this.setupShadowCamera(),I.iv())},m.tryUpdateBounding=function(p){var E,b,Z;A||(E=this.boundingSphere)&&(b=(new T$).fromArray(Am(p,I.getMat(p))),p=p.getAnchor3d(),Z=new G$,E.containsPoint(Z.set(0-p.x,0-p.y,0-p.z).applyMatrix4(b))&&E.containsPoint(Z.set(0-p.x,0-p.y,1-p.z).applyMatrix4(b))&&E.containsPoint(Z.set(0-p.x,1-p.y,0-p.z).applyMatrix4(b))&&E.containsPoint(Z.set(0-p.x,1-p.y,1-p.z).applyMatrix4(b))&&E.containsPoint(Z.set(1-p.x,0-p.y,0-p.z).applyMatrix4(b))&&E.containsPoint(Z.set(1-p.x,0-p.y,1-p.z).applyMatrix4(b))&&E.containsPoint(Z.set(1-p.x,1-p.y,0-p.z).applyMatrix4(b))&&E.containsPoint(Z.set(1-p.x,1-p.y,1-p.z).applyMatrix4(b))||m.setupShadowCamera())},[1,1]);m.createShadow=function(p,E){var b,Z;if(p=p||I._frameState.renderState.directUniforms(),Z=!1!==I._getFrameRenderOptions("renderShadow")?I._getFrameRenderOptions("useReflectorSelfShadowMap")&&m.mapForReflector?m.mapForReflector.texture:0<B&&m.mapCSM?m.mapCSM:m.map?m.map.texture:null:Z){if(0<B&&m.mapCSM)for(var o=0;o<B;o++)Z[o]&&(p["shadowMap"+o]=Z[o].texture);else p.shadowMap=Z;b=!0}else{var A=I.getGL();if((Z=A._emptyShadowTexture)||(Z=A._emptyShadowTexture=Cj(A,null,[255,255,255,255])),0<B)for(o=0;o<B;o++)p["shadowMap"+o]=Z;else p.shadowMap=Z}E||(p.shadowIntensity=l,p.shadowColor=W,p.shadowBias=V,p.shadowRadius=c,p.shadowSize=b?[F,F]:q,0<B&&t?(p.csmCascades=t.breaks,S&&(p.csmFadeFactor=1/S),p.csmDepthRange=r||I.getFar()-I.getNear(),p.shadowMatrix=x,p.pcssCSMLightSizeCorrection=C):p.shadowMatrix=g.toArray(),"pcss"===D&&(p.pcssParams=[k/1e3*F,1/F,j]))},m.genShaderDefine=function(p){return p.USE_SHADOWMAP=!0,0<B&&(p.USE_CSM=!0,1<(p.CSM_CASCADES=B)&&0<S&&(p.CSM_FADE=!0)),"hard"===D?p.SHADOWMAP_TYPE_PCF=!0:"soft"!==D&&"pcss"!==D||(I.isGLTempRegisterLimited()||"pcss"===D&&!I.isWebGL2()?p.SHADOWMAP_TYPE_PCF=!0:p["soft"===D?"SHADOWMAP_TYPE_PCF_SOFT":"SHADOWMAP_TYPE_PCSS"]=!0),p},m.setupShadowCamera=function(){Y=Y||(m.boundingSphere=new u.Math.Sphere),A?Y.set((new G$).fromArray(A),A[3]):(X=!1,(E=I.getBoundingBox(I.dm().toDatas(function(p){return p.s("shadow.cast")&&I.isVisible(p)})))?(b=new G$(E.min),p=new G$(E.max)):(b=new G$(-256,-256,-256),p=new G$(256,256,256),X=!0),Y.set(b.clone().add(p).multiplyScalar(.5),.5*b.distanceTo(p)*M));var p,E=Y.radius,b=H=2*E;P=Mj(qf(),-E,E,-E,E,b/1e3,b),g.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),g.multiply(T.fromArray(P)),m.getDirection(),v(Y.center,E),g.multiply(T)},m.getDirection=function(){var p,E,b=m.direction;return(b=m.lightDirection?m.direction=m.lightDirection:b)||(p=Math.tan(-Z*Math.PI/180),E=Math.tan(-o*Math.PI/180),b=m.direction=G$.normalizeArray([-p,-1,-E])),b},m.resetProperties=p,m.getCsmInfo=function(){return{mainFrustum:t,cascades:B,csmFade:S,csmShadowMatrices:x,csmDepthRange:r,pcssCSMLightSizeCorrection:C}}}),JE=(aE.PARAMS=["quality","intensity","bias","color","radius","type","degree.x","degree.z","bounding","cascades","lambda","fade","pcss.light.size","pcss.intensity"].map(function(p){return p.replace(/(^|\.)[a-z]/g,function(p){return p[p.length-1].toUpperCase()})}),Mq.ms_shadow=function(b,p){aE.PARAMS.forEach(function(p){var E=p.charAt(0).toLowerCase()+p.substr(1);b["getShadow"+p]=function(){return this._getShadowParam(E)},b["setShadow"+p]=function(p){this._setShadowParam(E,p)}}),b.setShadowFromDataModel=function(p){var E=p.a("sceneShadowEnabled");h1(E)&&(E?this.enableShadow():this.disableShadow());for(var b=0,Z=aE.PARAMS.length;b<Z;b++){var o=aE.PARAMS[b];(E=p.a("sceneShadow"+o))!==K$&&this["setShadow"+o](E)}},b.getCurrentShadowBounding=function(p){return!p&&this.shadowMap.boundingSphere||this.shadowMap.setupShadowCamera(),[(p=this.shadowMap.boundingSphere).center.x,p.center.y,p.center.z,p.radius]},b.refreshShadow=function(){this.shadowMap.refresh()},b.enableShadow=function(p){this.shadowMap.setShadow(!0,p)},b.disableShadow=function(){this.shadowMap.setShadow(!1)},b.isShadowEnabled=function(){return this.shadowMap.enable},b._getShadowParam=function(p){return this.shadowMap.getShadow()[p]},b._setShadowParam=function(p,E){var b=this._getShadowParam(p),Z={},o=(Z[p]=E,this.shadowMap);o.setShadow(o.enable,Z),this.firePropertyChange("shadow"+p.charAt(0).toUpperCase()+p.substr(1),b,E)}},u.graph3d.CSMFrustum=function(){this.vertices={near:[new G$,new G$,new G$,new G$],far:[new G$,new G$,new G$,new G$]},this.breaks=[]}),dE=(t$.assign(JE.prototype,{setFromProjectionMatrix:function(p,b,Z){var o=0===p[11];return Eq.copy(p).invert(),this.vertices.near[0].set(1,1,-1),this.vertices.near[1].set(1,-1,-1),this.vertices.near[2].set(-1,-1,-1),this.vertices.near[3].set(-1,1,-1),this.vertices.near.forEach(function(p){p.applyMatrix4(Eq);var E=Math.abs(p.z);o?p.z*=Math.max(b/E,1):p.multiplyScalar(Math.max(b/E,1))}),this.vertices.far[0].set(1,1,1),this.vertices.far[1].set(1,-1,1),this.vertices.far[2].set(-1,-1,1),this.vertices.far[3].set(-1,1,1),this.vertices.far.forEach(function(p){p.applyMatrix4(Eq);var E=Math.abs(p.z);o?p.z*=Math.min(Z/E,1):p.multiplyScalar(Math.min(Z/E,1))}),this.vertices},split:function(p,E,b){for(;p.length>E.length;)E.push(new JE);E.length=p.length;for(var Z=0;Z<p.length;Z++){var o=E[Z];if(0===Z)for(var A=0;A<4;A++)o.vertices.near[A].copy(this.vertices.near[A]);else for(A=0;A<4;A++)o.vertices.near[A].lerpVectors(this.vertices.near[A],this.vertices.far[A],(p[Z-1]-b)/(1-b));if(Z===p.length-1)for(A=0;A<4;A++)o.vertices.far[A].copy(this.vertices.far[A]);else for(A=0;A<4;A++)o.vertices.far[A].lerpVectors(this.vertices.near[A],this.vertices.far[A],(p[Z]-b)/(1-b))}},getBreaks:(UV=[],NV=[],function(p,E,b,Z,o){o===K$?o=[]:o.length&&(o.length=0);var A=E,E=b,b=Z,l=p,V=o;UV.length=0,NV.length=0;for(var c=A,S=E,I=b,D=NV,B=1;B<c;B++)D.push(S*Math.pow(I/S,B/c)/I);D.push(1);for(var n=A,k=E,j=b,W=UV,m=1;m<n;m++)W.push((k+(j-k)*m/n)/j);W.push(1);for(var e=1;e<A;e++){var $=UV[e-1],Y=NV[e-1];V.push((1-l)*$+l*Y)}return V.push(1),o}),getExtendedBreaks:function(p,E){E===K$&&(E=p);for(var b,Z=0,o=0,A=p.length;o<A;o++)b=p[o],E[o]=[Z,b],Z=b;return E},toSpace:function(p,E){for(var b=0;b<4;b++)E.vertices.near[b].copy(this.vertices.near[b]).applyMatrix4(p),E.vertices.far[b].copy(this.vertices.far[b]).applyMatrix4(p)}}),E(H$,{getCascadedBreaksByLambda:function(p,E,b){return JE.prototype.getBreaks(p,E,1,b||1e3)}}),function(m){var V=this,e=this.renderTargetPool=[],$=[],Y=["rect","circle","polygon"],t=!1,K=(V.render=function(){if(!m._picking){var p=m._flowObjects;if(p.length){var E=m.getGL();if(E){t=!0;(o=m._frameState.renderState.glState).blend.enabled=!1,o.depth.enabled=!1,o.cullFace.enabled=!1;var b,Z,o=o.color.clear.slice(0);for(Oj(E,[0,0,0,1]),b=0,Z=p.length;b<Z;b++)A=E,V=p[l=b],W=j=k=n=B=D=I=S=c=void 0,"billboard"!==(W=(j=m.getData3dUI(V)).s("shape3d"))&&"plane"!==W||((c=e[l])||(c=e[l]=new an(m,null,null,{wrapS:10497,wrapT:10497,generateMipmaps:!0})),D=V.s("effect.flow.size"),n=V.s("effect.flow.uvshape"),S=V.s("effect.flow.infinite"),B=(I=V.getFinalScale3d())[0],(I="billboard"===W?I[1]:I[2])<B?(I=I/B*D,B=D):(B=B/I*D,I=D),B=Math.max(128,Math.round(B)||0),I=Math.max(128,Math.round(I)||0),m.isWebGL2()||(B=f.nearestPOT(B),I=f.nearestPOT(I)),c.setSize(A,B,I),c.bind(A),D=m.getViewport(A),m.setViewport(A,0,0,B,I),A.clear(16640),j=m.getData3dUI(V),(B=ZE(j,W))&&(!B.ns&&B.length&&(B=B[0]),oE(B),I=B.vs,(B=V.s("effect.flow.gradient"))?(k="Flow3d.Cached."+B,u.Default.getImageMap()[k]||u.Default.setImage(k,u.Default.toCanvas({width:100,height:100,comps:[{type:"rect",background:"rgb(0,0,0)",gradient:B,rect:[0,0,100,100]}]},100,100))):k=V.s("shape3d.image"),-1===(B=Y.indexOf(n))&&0===n.indexOf("polygon")&&(B=f1(+n.substring(7),3,1024)-1),m._prefabRenderer.render(A,{model3d:!0,mesh:{position:I},mat:{type:"flow",useXZ:"plane"===W,image:m.getTexture(k,V),blend:V.s("effect.flow.blend")||K,uvMatrix:S?gL(null,j.s("shape3d.uv.offset")):gL(j.s("shape3d.uv.rotation"),j.s("shape3d.uv.offset"),j.s("shape3d.uv.scale"),j.s("shape3d.uv.anchor")),intensity:V.s("effect.flow.intensity"),shape:B}}),c.unbind(A),(n=V.s("effect.flow.blur"))&&(I=m.getPostProcessingModule("Blur"))&&I.drawImpl(A,c,n,3<=n,V.s("effect.flow.blur.iterations")),m.setViewport(A,D[0],D[1],D[2],D[3]),(k=V.getMatrix4()).getInverse(k),j=k.getElements(),"plane"===W?j[1]=j[5]=j[9]=j[13]=0:j[2]=j[6]=j[10]=j[14]=0,m.regenerateMipmap(A,c.texture),$[l]={matrix:k,group:V.s("effect.flow.group"),infinite:S}));Oj(E,o),e.length!==Z&&e.splice(Z,e.length-Z),t=!1}}}var A,l,V,c,S,I,D,B,n,k,j,W},V.dispose=function(){m.getGL()&&(zj(m,e),e=this.renderTargetPool=[])},V.createFlow=function(p,E){var b;if(!t&&(b=e.length)){p=p||m._frameState.renderState.directUniforms();for(var Z=0;Z<b;Z++)p["flowTexture"+Z]=e[Z].texture;if(!E){for(var o=[],A=[],l=vB(V,"_flowMatrix",16*b),Z=0;Z<b;Z++)$[Z].matrix.toArray(l,16*Z),o[Z]=!1,A[Z]=$[Z].infinite;p.flowMatrix=l,p.flowInfinite=A,p.flowEnabled=o}}},V.disableFlow=function(p){var E;if(E=e.length){p=p||m._frameState.renderState.directUniforms();for(var b=[],Z=0;Z<E;Z++)b[Z]=!1;p.flowEnabled=b}},V.resetDataFlowEnabld=function(p,E){return V.resetFlowUniform(p.s("effect.flow.mask"),E)},V.resetFlowUniform=function(p,E){var b=e.length,Z=new Array(b);if(p)for(var o=0;o<b;o++)p&1<<$[o].group&&(Z[o]=!0);E.flowEnabled=Z},"white")}),UE=function(G){function E(p){G.getPostProcessing().isRenderingScene()&&"main"===p.layer&&!G._picking&&(o="post"===p.phase?G.getPostProcessing().getRenderTarget().grabDepth():null)}function b(p,E){p.modelViewMatrix=E}function Z(p,E){p.modelViewMatrix=E,p.uNormalMatrix=BL(E,S)}var o,T,g,L,A=this,l=!1,V=1,D=new u.Math.Matrix4,c=[],S=(A.renderLayerPriority=1e3,A.enable=function(p){if(c.indexOf(p=p||"default")<0&&c.push(p),!l)return G.getGL()&&G.isWebGL2()&&G.addRenderLayerListener(E,A,1e3),l=!0},A.disable=function(p){if(p){if(0<=c.indexOf(p)&&c.splice(c.indexOf(p),1),c.length)return}else c.length=0;if(l)return G.isWebGL2()&&(G.removeRenderLayerListener(E,A),o=null),!(l=!1)},A.isEnabled=function(){return l},A.setResolution=function(p){V=p},A.getResolution=function(){return V},A.grab=function(p){var E,b,Z;return!p&&G.isWebGL2()?(E=G.getPostProcessing().getRenderTarget())?o||E.grabDepth():null:(p=G.getGL())?(b=Math.round(V*G.getWidth()),Z=Math.round(V*G.getHeight()),(E=p._depthGrabberRTT)||(E=p._depthGrabberRTT=new an(G,b,Z,{minFilter:9728,magFilter:9728})),G._setupPVMatrix(),A.renderDepth(E,!1,!1,G._projectMatrix,G._viewMatrix,b,Z),E.texture):void 0},[]),x=b,C=(A.grabDepthAndNormal=function(){var p;if(!(Z=G.getGL()))return null;var E=Math.round(V*G.getWidth()),b=Math.round(V*G.getHeight()),Z=((p=Z._depthNormalGrabberRTT)||(p=Z._depthNormalGrabberRTT=new an(G,E,b,{minFilter:9728,magFilter:9728,multiple:2})),G._setupPVMatrix(),{renderTarget:p,renderTransparent:!1,multiple:!0,projectMatrix:G._projectMatrix,viewMatrix:G._viewMatrix,width:E,height:b});return A.grabDepthAndNormalWithContext(Z)},A.grabDepthAndNormalWithContext=function(p){return G.isWebGL2()?(x=Z,A.renderDepth(p.renderTarget,p.renderTransparent,p.multiple,p.projectMatrix,p.viewMatrix,p.width,p.height,p.filter),x=b,{depth:p.renderTarget.getTexture(0),normal:p.renderTarget.getTexture(1)}):null},A.renderDepth=function(p,E,b,Z,o,A,l,V){var c,S,I=G.getGL();I&&((S=(c=G._frameState).renderState.glState).blend.enabled=!1,S.depth.enabled=!0,S.depth.mask=!0,S=S.color.clear.slice(0),Oj(I,[1,1,1,1]),b=G.acquireProgram({type:b?"depthNormalGrabber":"depthGrabber",defines:t$.assign({UV_CLIP:!1,GRAB_NORMAL:!!b},G.getBoxClipperDefines())}),c.renderState.useProgram(b),Z.isMatrix4&&(Z=Z.getElements()),o.isMatrix4||(o=D.fromArray(o)),B(p,E,Z,o,A,l,V),Oj(I,S))},new u.Math.Matrix4),m=[1,0,0,0,1,0,0,0,0],B=function(p,E,b,Z,o,A,l){var V=G.getGL();p&&(p.setSize(V,o,A),p.bind(V)),V.clear(16640);var c=(D=G._frameState.renderState).directUniforms(),S=D.directAttribs(),I=D.directState(),D=(c.uUseInstance=!1,c.uUseSkinning=!1,mL(S,K$),c.boneTexture=K$,c.projectionMatrix=b,c.uTexture=!1,c.map=K$,c.alphaTest=0,c.uUvMatrix=m,L=G.isReflecting(V),(T=0<G._boxClippers.length)&&(_j(G,c,0),vj(G,c)),G._viewport);G.setViewport(V,0,0,o,A);for(var B=G.getRenderLayerKeys(),n=0,k=B.length;n<k;n++){var j,W=B[n];G.getRenderLayerInfo(W).ignore||(W=G._40Q.get(W))&&(W.resetModel3dInstancedDraw(),j=W.batchIndexMap,$(V,c,S,I,Z,l,E,W.opaque,j,!1),E&&$(V,c,S,I,Z,l,E,W.transparent,j,!0),c.uClipLocalTransform=oj,e(V,c,S,I,Z,l,E,W.batchModelMap,j))}p&&p.unbind(V),D&&G.setViewport(V,D[0],D[1],D[2],D[3])},h=function(p,E,b,Z,o,A,l,V,c){b&&b.length&&(l=l&&l.length?l.length/16:0,E.position=lL(p,G._buffer.vs,b,r$),E.aNormal=lL(p,G._buffer.ns,Z,r$),E.aUv=lL(p,G._buffer.uvs,o,r$),A?(cL(p,G._buffer.is,A),ZL(p,V||0,c===K$?A.length:c,null,A instanceof Uint32Array?5125:A instanceof Uint8Array?5121:null,l)):bL(p,V||0,c===K$?b.length/3:c,null,l))},P=function(p,E,b,Z,o,A){var l,V,c;if(X$(Z))for(V=0,c=Z.length;V<c;V++)(l=Z[V])&&P(p,E,b,l,o,A);else F$(Z)?P(p,E,b,ZE(o,Z),o,A):P1(Z)&&(Z.shape3d?P(p,E,b,Z.shape3d,o,A):I(p,E,b,Z,o,A))},I=function(p,E,b,Z,o,A){oE(Z),A&&y(E,o.s("shape3d.image")),h(p,b,Z.vs,Z.ns,Z.uv,Z.is),A&&y(E,o.s("shape3d.top.image")),h(p,b,Z.top_vs,Z.top_ns,Z.top_uv,Z.top_is),A&&y(E,o.s("shape3d.bottom.image")),h(p,b,Z.bottom_vs,Z.bottom_ns,Z.bottom_uv,Z.bottom_is),A&&y(E,o.s("shape3d.from.image")),h(p,b,Z.from_vs,Z.from_ns,Z.from_uv,Z.from_is),A&&y(E,o.s("shape3d.to.image")),h(p,b,Z.to_vs,Z.to_ns,Z.to_uv,Z.to_is)},e=function(p,E,b,Z,o,A,l,V){if(!s1(V)&&!G.isHighlightDrawing()){var c,S,I,D,B,n,k,j=C.identity().premultiply(o),W=(x(E,j.toArray()),E.uClipDirection=0,new u.Math.Matrix4);for(c in V)if(!1!==(S=G.getBatchInfo(c)||D1).visible){if(!l)if(D=S.material){if("string"==typeof D&&(D=H$.getMaterial(D)),!l&&(!D||D.transparent))continue}else if(S.transparent)continue;A&&A(null,S)||L&&!1===S.reflectable||((D=V[c]).invalidate&&md(D,G._picking),T&&(E.modelMatrix=zL,_j(G,E,S.clipboxMask===K$?qV:S.clipboxMask)),(I=D.translate)&&(W.set(1,0,0,I[0],0,1,0,I[1],0,0,1,I[2],0,0,0,1),E.modelMatrix=W.getElements(),x(E,W.premultiply(o).toArray())),(n=(B=D.ms32)&&B.length)&&(E.uUseInstance=!0,mL(b,AL(p,G._buffer.ms,B,r$),E)),(k=S.depthUseTextureAlphaTest&&S.image)&&(E.alphaTest=S.alphaTest,y(E,k)),h(p,b,D.vs32,D.ns32,D.uv32,D.is,B),k&&y(E,K$),n&&(E.uUseInstance=!1,mL(b,K$)),I&&(E.modelMatrix=zL,x(E,j.toArray())))}}},y=function(p,E){E&&"function"!=typeof E?(p.uTexture=!0,p.map=G.getTexture(E)):(p.uTexture=!1,p.map=K$)},$=function(I,D,B,n,k,p,j,E,b,Z){for(var W,o,A,m,l=E.length,V=0;V<l;V++)if(o=(S=E[V]).ui,W=S.data,G.isVisible(W)&&!(p&&p(W)||b[W._id]||L&&!1===W.s("3d.reflectable"))){if(g=T,S=o.s("3d.clip.direction")){var c=o.s("3d.clip.percentage");if(0===c)continue;S=o._formatClipUniforms(S,c,W),D.uClipPercent=S[1],D.uClipDirection=S[0],D.uClipLocalTransform=S[2],g=!0}else D.uClipDirection=0;T&&_j(G,D,W.s("3d.clipbox")?0:W.s("3d.clipbox.mask"));var e=W.s("3d.depth.useTextureAlphaTest");if(e&&(D.alphaTest=W.s("alphaTest")),(c=o.shapeModel||ZE(o))&&c.model3d)Z||G._prefabRenderer.renderNode(I,c,W,o.mat,!0,function(p,E,b,Z,o,A){var l,V,c,S;(j||b&&!b.transparent)&&((Z=Z&&Z.aMatrixInstanced)&&(D.uUseInstance=!0,mL(B,AL(I,G._buffer.ms,Z,r$),D,o)),g&&(D.modelMatrix=p.getElements()),x(D,p.clone().premultiply(k).getElements()),n.cullFace.enabled=!(!b||!b.cullFace),m=!(!b||!b.flipSide),(m=W._flipSide?!m:m)&&(n.cullFace.frontFace=2304),(o=!!(A.skeleton&&W&&(l=G._updatedSkeletonDatas[A._skeletonId+"|"+W._lastAnimHashKey])&&(V=G.getPrefabBoneTexture(A))))&&(p=V.width,I.activeTexture(33984),Pj(I,V),I.texImage2D(3553,0,34836,p,p,0,6408,5126,l),Pj(I,r$),LL(D,A,V,l),B.skinIndex=lL(I,null,E.skinIndex),B.skinWeight=lL(I,null,E.skinWeight)),e&&y(D,b.map),A.drawRange&&(c=A.drawRange[0],S=A.drawRange[1]),h(I,B,E.vs,E.ns,E.uv,E.is,Z,c,S),m&&(n.cullFace.frontFace=2305),Z&&(D.uUseInstance=!1,mL(B,K$)),o&&(D.uUseSkinning=!1,B.skinIndex=K$,B.skinWeight=K$),e&&y(D,K$))});else{var S=!1,$=(c||(W instanceof u.Node&&!(W instanceof u.Shape)?(c={vs:Cd,is:hd,uv:Pd},S=!0):c=[o.left,o.front,o.right,o.back,o.top,o.bottom]),A=o.mat?C.fromArray(o.mat):C.identity(),o._vsTranslation);if($&&(H$.extractShapeTranslation||H$.extractPolylineTranslation||H$.extractVerticesTranslation)&&A.multiply($),g&&(D.modelMatrix=A.toArray()),x(D,A.premultiply(k).toArray()),m=!1,$=W.s("shape3d.material")){if("string"==typeof $&&($=H$.getMaterial($)),!j&&(!$||$.transparent))continue;n.cullFace.enabled=!(!$||!$.cullFace),m=!(!$||!$.flipSide),(m=W._flipSide?!m:m)&&(n.cullFace.frontFace=2304)}else n.cullFace.enabled=!!W.s("shape3d.reverse.cull"),W._flipSide&&(m=!0,n.cullFace.frontFace=2304);if(e&&S){var Y=o.s("all.image"),t=o.s("all.visible");oE(c);for(var K=0,r=c.vs,H=c.is,M=c.uv;K<6;K++){var F=ad[K],X=o.s(F+".visible");(X=X===K$?t:X)&&(y(D,o.s(F+".image")||Y),h(I,B,r,K$,M,H,K$,6*K,6))}}else e&&$?(y(D,$.map),P(I,D,B,c,o,!1)):P(I,D,B,c,o,e);m&&(n.cullFace.frontFace=2305),e&&y(D,K$)}}}},NE=function(Y){var t,K,r,H,M,F,X=this,G=!1,T=-99999,g=[0,0];function L(){G=!1;var E=Y.getGL();E&&(t&&t.forEach(function(p){E.deleteFramebuffer(p)}),K&&K.forEach(function(p){E.deleteFramebuffer(p)}),r&&E.deleteFramebuffer(r),zj(Y,H)),t=K=r=H=null,g[0]=0,g[1]=0}function x(p){for(var E=0,b=Y._prg,Z=Y.getGL(),o=p.length;E<o;E++)p[E].ui._42(Z,b,U)}function C(p,E,b){x(p),ed(Y,E,b,0,!0)}function h(p){var E=Y.getGL(),E=g$.for(E),b=Y._frameState;b.syncEnv(),E.useProgram(Y._prg=Y._frameState.defaultProgram=p),b.setGLState(!0,!0),b.setUniforms(!0),E.directAttribs().disable(),Y.shadowMap.enable&&Y.shadowMap.createShadow(),Y.rebindOITTexture(),Y._envmapRenderer.resetUniformCache(),Y.flowMap.createFlow(),Y.rebindClipperMaskTexture()}X.enableOIT=function(){},X.disableOIT=function(){L()},X.dispose=function(){L()},X.bindTexture=function(p){H&&((p=p||Y._frameState.renderState.directUniforms()).oitDepthSampler=H[M],p.oitFrontColorSampler=H[F])},X.render=function(p,E,b){var Z=Y.getOITPassCount();if(!Z)return!1;if(!p.length)return!1;if(!function(){var p=Y.getGL();if(p){if(Y._camera)var E=(b=Y._camera.getRenderTargetSize())[0],b=b[1];else{var Z=Y.getCanvas();if(!Z)return;E=Z.width,b=Z.height}if(E&&b){if(G&&g[0]===E&&g[1]===b)return 1;L();var o={width:E,height:b,filter:9728,clampToEdge:!0,format:33319,type:5126,data:null},A=t$.assign({},o,{format:6408,type:5131});t=[p.createFramebuffer(),p.createFramebuffer()],K=[p.createFramebuffer(),p.createFramebuffer()],r=p.createFramebuffer(),H=[];for(var l=0;l<2;l++){var V=Y.createTexture(o),c=Y.createTexture(A),S=Y.createTexture(A),I=3*l;Ej(p,t[l]),p.activeTexture(33984+I),p.bindTexture(3553,V),p.framebufferTexture2D(36160,36064,3553,V,0),p.activeTexture(33984+I+1),p.bindTexture(3553,c),p.framebufferTexture2D(36160,36065,3553,c,0),p.activeTexture(33984+I+2),p.bindTexture(3553,S),p.framebufferTexture2D(36160,36066,3553,S,0),bj(p),Ej(p,K[l]),p.framebufferTexture2D(36160,36064,3553,c,0),p.framebufferTexture2D(36160,36065,3553,S,0),bj(p),p.activeTexture(33984+I),Pj(p,null),p.activeTexture(33984+I+1),Pj(p,null),p.activeTexture(33984+I+2),Pj(p,null),H.push(V,c,S)}return Ej(p,r),Z=Y.createTexture(A),p.activeTexture(33990),p.bindTexture(3553,Z),p.framebufferTexture2D(36160,36064,3553,Z,0),Pj(p,null),bj(p),H.push(Z),g[0]=E,g[1]=b,G=!0}}}())return!1;var o=[],A=[],l=[],V=(p.forEach(function(p){var E=p.ui.s("shape3d.oit.ignored");("pre"===E?o:"post"===E?A:l).push(p)}),x(o),p=l,Y._programDefines.OIT=!0,Y._glPrograms.genPhysicalProgramKeyOfScene(Y._programDefines),Y._prg),c=(h(Y.acquireProgram({type:"legacy"})),Y.getGL()),S=g$.for(c).directState(),I=Nj(c,!0),D=(D=c.frameStack)&&D.length?D[D.length-1]:null,B=(c.bindFramebuffer(36009,r),S.color.clear=[0,0,0,0],c.clear(16384),c.bindFramebuffer(36160,t[0]),c.drawBuffers([36064]),S.color.clear=[T,T,0,0],c.clear(16384),c.bindFramebuffer(36009,t[1]),S.color.clear=[-0,1,0,0],c.clear(16384),c.bindFramebuffer(36009,K[0]),c.drawBuffers([36064,36065]),S.color.clear=[0,0,0,0],c.clear(16384),c.bindFramebuffer(36009,K[1]),S.color.clear=[0,0,0,0],c.clear(16384),Y.getPostProcessing().getRenderTarget());if(B&&B.isBinding(c)||(n=Y.getActiveCamera())&&n.renderTarget&&(B=n.renderTarget),B&&B.isBinding(c)){var n=B.grabDepth(!0);if(c.bindFramebuffer(36160,t[0]),c.bindRenderbuffer(36161,n),c.framebufferRenderbuffer(36160,36096,36161,n),c.bindRenderbuffer(36161,null),c.bindFramebuffer(36160,null),Y.isTransmissionEnabled()){for(var k=!1,j=0,W=p.length;j<W;j++)if(p[j].ui.s("shape3d.transmission")){k=!0;break}k&&fj(Y,B)}}c.bindFramebuffer(36009,t[0]),c.drawBuffers([36064]),c.blendEquation(32776),M=3,F=4,X.bindTexture(g$.for(c).directUniforms()),C(p,E,b);for(var m,e=0,$=0;$<Z;$++)c.bindFramebuffer(36009,t[e=1-(m=$%2)]),c.drawBuffers([36064]),S.color.clear=[T,T,0,0],c.clear(16384),c.bindFramebuffer(36009,K[e]),c.drawBuffers([36064,36065]),S.color.clear=[0,0,0,0],c.clear(16384),c.bindFramebuffer(36009,t[e]),c.drawBuffers([36064,36065,36066]),c.blendEquation(32776),F=1+(M=3*m),X.bindTexture(g$.for(c).directUniforms()),C(p,E,b),c.bindFramebuffer(36009,r),c.drawBuffers([36064]),c.blendEquation(32774),c.blendFuncSeparate(770,771,1,771),Y.renderModel({type:"oitBackBlend",transparent:!0,uBackColor:H[3*e+2]},{clear:!1});c.bindFramebuffer(36160,D),(n=S.depth.enabled)&&(S.depth.enabled=!1),c.blendFunc(1,771),Y.renderModel({type:"oitFinal",transparent:!0,uFrontColor:H[3*e+1],uBackColor:H[6]},{clear:!1}),S.blend.syncLoss(),S.blend.apply({equation:32774,func:[770,771,1,771]}),S.color.clear=I,n&&(S.depth.enabled=!0),delete Y._programDefines.OIT,Y._glPrograms.genPhysicalProgramKeyOfScene(Y._programDefines),h(V),x(A)}},OE=function(p){this.gv=p,this.onMouseOver=this.onMouseOver.bind(this),this.resetProperties()},zE=(OE.Mode={Disable:0,Selection:1,MouseOver:2,Style:3},Mq.ms_highlight=function(p){p.setHighlightMode=function(p){var E="selection"===p||"selected"===p?OE.Mode.Selection:"mouseover"===p||"hover"===p?OE.Mode.MouseOver:"style"===p?OE.Mode.Style:OE.Mode.Disable,b=this.getHighlightMode();this._highlightHelper.mode=E,this.firePropertyChange("highlightMode",b,p)},p.getHighlightMode=function(){var p=this._highlightHelper.mode;return p===OE.Mode.Selection?"selected":p===OE.Mode.MouseOver?"hover":p===OE.Mode.Style?"style":"disabled"},["type","color","width","glow","strength","groups","edgeDetection","ratio"].forEach(function(A){var l=A.replace(/(^|\.)[a-z]/g,function(p){return p[p.length-1].toUpperCase()});p["getHighlight"+l]=function(){var p,E=this._highlightHelper;return"type"!==A&&"groups"!==A&&E.groups&&E.groups.length?(p=E.groups[0][A])!=r$?p:L$["highlight."+A]:E[A]},p["setHighlight"+l]=function(p){var E,b,Z=this._highlightHelper,o=Z[A];p===o&&"groups"!==A||(Z[A]=p,"type"!==A&&"groups"!==A&&Z.groups&&Z.groups.length?Z.groups[0][A]=p:"groups"===A&&(E=p&&p.length&&p[0],Z.color=E&&E.color||L$["highlight.color"],(b=E&&E.width)==r$&&(b=L$["highlight.width"]),Z.width=b,(b=E&&E.glow)==r$&&(b=L$["highlight.glow"]),Z.glow=b,(b=E&&E.strength)==r$&&(b=L$["highlight.strength"]),Z.strength=b),this.firePropertyChange("highlight"+l,o,p))}})},yf(OE,t$,{onMouseOver:function(p){H$.preventDefault(p);var E=this.gv;E._48Q||(p=E.getDataAt(p))!==this.mouseOverData&&(this.mouseOverData=p,E.iv())},getPickColorOfIndex:function(){for(var E=[],p=Math.min(128,H$.graph3dMaxHighlightGroups),b=0;b<p;b++)E.push([b/p,1,1,1]);return function(p){return E[p]}}(),setFetchTargetFunc:function(p){this.fetchTargetFunc=p},_42:function(p,E){var b,Z,o=this,A=o._mode,l=o.gv;if(!p._renderInfo.reflectDepth&&A!==OE.Mode.Disable){if(A===OE.Mode.Selection?b=l.sm().getSelection().toArray(function(p){return p.s("highlight.visible")}):A===OE.Mode.MouseOver&&o.mouseOverData&&o.mouseOverData.s("highlight.visible")&&(b=[o.mouseOverData]),o.fetchTargetFunc&&(b=o.fetchTargetFunc(b)),A===OE.Mode.Style)b=b||[],Z=function(p){if(0<=b.indexOf(p))return!1;var E=l.getDataHighlightMode(p);return!1===E||!0!==E&&("selected"===E?!l.isSelected(p):"hover"!==E||p!==o.mouseOverData)};else{if(!b||!b.length)return;Z=function(p){if(b.indexOf(p)<0)return!0}}var V,c,S,I,A=l.isRealityPresenting("VR");(D=l._camera)?(D=D.getRenderTargetSize(l),c=D[0],B=D[1]):(c=l.getWidth(),B=l.getHeight(),A&&(I=l.getWidth,c/=2,l.getWidth=function(){return c},V=l.getViewport()));(D=o.ratio)===K$?D=1:V=V||l.getViewport();var A=D*l.getDevicePixelRatio(),D=Math.floor(c*A),B=Math.floor(B*A),n=((S=o._renderTarget)?S.setSize(p,D,B):(o._linearFilter=!0,o._renderTarget=S=new R.RenderTarget(l,p,D,B)),!o.groups||o.groups.length<=1),k=(n!==o._linearFilter&&(p.activeTexture(33984),p.bindTexture(3553,S.texture),p.texParameteri(3553,10241,k=n?9729:9728),p.texParameteri(3553,10240,k),p.bindTexture(3553,null),o._linearFilter=n),"soft"===o.type);S.bind(p),p.clear(16384),l.setViewport(p,0,0,D,B),l.drawFilter=function(p){return!p.s("static")&&Z(p)},jL=function(p,E,b,Z,o,A){return A?WL(p,E,b,Z,o,A):(E=l.getHighlightPickColor(Z.data),g$.for(p).directUniforms().uFixPickReverseColor=E)},l.getRenderLists().each(function(p){p.beginFillHighlightMaskColor(Z)});E=((n=p._blooming)&&(p._blooming=!1),l._inHighlightPass=!0,l.renderPickScene(A),l._inHighlightPass=!1,n&&(p._blooming=!0),jL=WL,l.drawFilter=null,l.getRenderLists().each(function(p){p.endFillHighlightMaskColor()}),S.unbind(p),l._prg),A=(Sl&&IL(p,E.aPosition),IL(p,E.aNormal),I&&(l.getWidth=I),V&&l.setViewport(p,V[0],V[1],V[2],V[3]),l.getHighlightColor());return o._lastHighlightColor!==A&&(n=af(o._lastHighlightColor=A),o._highlightColorData=[n[0]/255,n[1]/255,n[2]/255,n[3]/255]),k?o.renderSoftOutline(p,D,B):o.renderHardOutline(p,D,B),g$.for(p).useProgram(E=l._prg=l.acquireProgram({type:"legacy",defines:{}})),Sl&&(S=p,(I=E.aPosition)!=r$&&0<=I&&S.enableVertexAttribArray(I)),!0}},renderHardOutline:function(p,E,b){for(var Z,o,A=this.gv._postProcessing,l=((p=g$.for(p).directState()).blend.enabled=!0,p.depth.enabled=!1,this.groups),V=(l&&l.length||(l=[{color:this.color,width:this.width}]),this.ratio||1),c=0;c<l.length;c++){var S,I=l[c];I&&((S=I.width)==r$&&(S=o=o||L$["highlight.width"]),A.blitScreen({type:"highlightHard",image:this._renderTarget.texture,textureSize:[E,b],maskColor:this.getPickColorOfIndex(c),edgeWidth:S*V,edgeColor:I.color||Z||(Z=L$["highlight.color"])},{clear:!1}))}p.blend.enabled=!1,p.depth.enabled=!0},renderSoftOutline:function(p,E,b){var Z,o,A,l,V,c,S,I,D,B=this,n=B.gv,k=B.ratio||1,j=n._postProcessing,W=Math.floor(E/2),m=Math.floor(b/2),e=Math.floor(E/4),$=Math.floor(b/4),Y=B._downSampleRenderTarget,E=(Y?(Z=B._edgeDetectionRenderTarget,o=B._blurV2,A=B._blurH2,l=B._blurV4,V=B._blurH4,Y.width===W&&Y.height===m||(Y.setSize(p,W,m),Z.setSize(p,W,m),o.setSize(p,W,m),A.setSize(p,W,m),l.setSize(p,e,$),V.setSize(p,e,$))):(Y=B._downSampleRenderTarget=new R.RenderTarget(n,p,W,m),Z=B._edgeDetectionRenderTarget=new R.RenderTarget(n,p,W,m),o=B._blurV2=new R.RenderTarget(n,p,W,m),A=B._blurH2=new R.RenderTarget(n,p,W,m),l=B._blurV4=new R.RenderTarget(n,p,e,$),V=B._blurH4=new R.RenderTarget(n,p,e,$)),Nj(p,!0)),t=n.getViewport(),K=(b=g$.for(p).glState).depth,r=b.blend,b=K.enabled,H=B.groups;H&&H.length||(H=[{color:B.color,width:B.width,glow:B.glow,strength:B.strength}]),Oj(p,[1,1,1,1]),K.enabled=!1,r.apply({func:[770,1]}),j.blitScreen(Y,{type:"blitScreen",image:B._renderTarget.texture});for(var M=0;M<H.length;M++){var F,X,G,T,g=H[M];g&&(F=B.getPickColorOfIndex(M),(X=g.width)==r$&&(X=S=S||L$["highlight.width"]),X*=k,T={},"freichen"===(G=(G=B.edgeDetection)==r$?L$["highlight.edgeDetection"]:G)?T.FREI_CHEN_EDGE_DETECTION=!0:"sobel"===G?T.SOBEL_EDGE_DETECTION=!0:"roberts"===G?T.ROBERTS_EDGE_DETECTION=!0:"laplacian"===G?T.LAPLACIAN_EDGE_DETECTION=!0:"morphological"===G&&(T.MORPHOLOGICAL_EDGE_DETECTION=!0),j.blitScreen(Z,{type:"highlightEdgeDetection",image:Y.texture,texSize:[W,m],maskColor:F,color:g.color||c||(c=L$["highlight.color"]),defines:T}),j.blitScreen(A,{type:"highlightBlur",image:Z.texture,direction:[1,0],texSize:[W,m],radius:X}),j.blitScreen(o,{type:"highlightBlur",image:A.texture,direction:[0,1],texSize:[W,m],radius:X}),j.blitScreen(V,{type:"highlightBlur",image:o.texture,direction:[1,0],texSize:[e,$],radius:X}),j.blitScreen(l,{type:"highlightBlur",image:V.texture,direction:[0,1],texSize:[e,$],radius:X}),r.apply({enabled:!0}),n.setViewport(p,t[0],t[1],t[2],t[3]),(G=g.strength)==r$&&(G=D=D||L$["highlight.strength"]),(T=g.glow)==r$&&(T=I=I||L$["highlight.glow"]),T*=k,j.blitScreen({type:"highlightFinalBlend",image:B._renderTarget.texture,maskColor:F,edgeTexture1:o.texture,edgeTexture2:l.texture,edgeStrength:G*X,edgeGlow:T},{clear:!1}),r.apply({enabled:!1}))}r.apply({func:[770,771,1,771]}),K.enabled=b,Oj(p,E)},resetProperties:function(){this.mode=OE.Mode.Style,this.type=L$["highlight.type"],this.color=L$["highlight.color"],this.width=L$["highlight.width"],this.glow=L$["highlight.glow"],this.strength=L$["highlight.strength"],this.edgeDetection=L$["highlight.edgeDetection"]},dispose:function(){var p=this;zj(p.gv,p._renderTarget,p._downSampleRenderTarget,p._edgeDetectionRenderTarget,p._blurV2,p._blurH2,p._blurV4,p._blurH4),p._renderTarget=null,p._downSampleRenderTarget=null,p._edgeDetectionRenderTarget=null,p._blurV2=null,p._blurH2=null,p._blurV4=null,p._blurH4=null}}),t$.defineProperties(OE.prototype,{mode:{get:function(){return this._mode},set:function(p){var E=this._mode;p!==E&&(this._mode=p,E=E===OE.Mode.MouseOver||E===OE.Mode.Style,(p=p===OE.Mode.MouseOver||p===OE.Mode.Style)&&E||(E&&N$(this.gv.getView(),"mousemove",this.onMouseOver),p&&U$(this.gv.getView(),"mousemove",this.onMouseOver)))}}}),R.PrefabRenderer=function(p){this.gv=p});zE.prototype={},zE.prototype.constructor=zE,Yq("model"),Yq("mesh"),Yq("material"),Yq("shader"),Yq("shaderChunk",{loadingParam:{sync:!0}});var _E,vE,QE,qE,uE,RE,sE="",wE={},iE=H$.graph3dViewProcessMaterial,fE=new T$,pe=new T$,Ee=new T$,be=[];function Ze(){return be.length?be.pop():new T$}function oe(p){be.push(p)}var Ae=new T$;function le(p,E){return p!=r$?p:E.value}function Ve(p,E,b,Z,o){var A;if((A=(A=o?o[sE+E]:A)===K$?p[E]:A)&&A.func){if(Z instanceof YP){if(E=A.func,mm.test(E))return le(Z.a(sE+E.slice(5)),A);if(Wm.test(E))return le(Z.s(sE+E.slice(6)),A)}A=O(A,Z,b)}return A}function ce(p,E){if(p)return(p=p.s("matDef"))&&(p[sE+E]||p[E])}var Se=[0,0,0];function Ie(p,E,b,Z){Z=Z||Ze();if(o=p.composedMatrix)return Z.copy(o),Z;var o=!1,A=(E&&(l=p.name)&&(A=E.getModel3dStateIfNotSet())&&(A=A[l])&&(o=!0,(l=A.position)!==K$&&(V=l),(l=A.quaternion)!==K$?S=l:(l=A.euler)!==K$&&(S=f.eulerArrayToQuaternionArray(l,Se)),(l=A.scale)!==K$&&(c=l)),p.transformData);if(o&&A)return XL(Z,A,V,S,c);var l=qE&&H$.getDataModel3dBindings(E),V=V||Ve(p,"position",b,E,l),c=c||Ve(p,"scale",b,E,l),S=(S=S||Ve(p,"quaternion",b,E,l))||(S=Ve(p,"euler",b,E,l))&&f.eulerArrayToQuaternionArray(S,Se);return Z.composeFromArray(V,S,c),Z}function De(p,E){return QE=p,vE=E instanceof sm?(_E=E,null):(_E=null,E),[QE,_E,vE]}function Be(p){QE=p[0],_E=p[1],vE=p[2]}var ne={aPosition:"vs",aUv:"uv",aUv2:"uv2",aNormal:"ns"},ke={type:"fixColor",color:"gray"},je={type:"fixColor",color:"black"},We={5125:1,5126:1,35664:2,35665:3,35666:4,35674:4,35675:9,35676:16},me={triangles:4,triangleStrip:5,triangleFan:6,lines:1,lineLoop:2,lineStrip:3,points:OV.POINTS},ee=(new T$).toArray();function $e(p,E){return[p[0]*E,p[1]*E,p[2]*E]}function Ye(p,E,b){return(E=E[p])!==K$?E:b?b[p]:null}var te={groundColor:[0,0,0]};function Ke(p){var E=((E=p.s("light.intensity"))==r$?1:E)*Math.PI;return[(p=W6(p.s(QV)))[0]*E,p[1]*E,p[2]*E]}function re(p,E,b,Z){if(Z!==p._lastHeadlightAmbientIntensity&&(p.hemisphereLight.skyColor=$e(te.color,1-Z),p.ambientLightColor=$e(te.color,Z),p._lastHeadlightAmbientIntensity=Z),b!==p._lastLightMask&&(p._lastLightMask=b,Z=E._lastLightUploadInfo)){for(var o,A=Z.g,l=A.length,V=new Array(l),c=0;c<l;c++)o=A[c],V[c]=!(o<0||32<=o||!(b&1<<o));p.hemisphereLight.enabled=V[0];var Z=E._59O,S=E._spots,I=E._dirs,E=E._87I,D=1;if(l=Z.length)for(c=0;c<l;c++)p.pointLights[c].enabled=V[D++];if(l=S.length)for(c=0;c<l;c++)p.spotLights[c].enabled=V[D++];if(l=I.length)for(c=0;c<l;c++)p.directionalLights[c].enabled=V[D++];if(l=E.length)for(c=0;c<l;c++)p.rectAreaLights[c].enabled=V[D++]}}function He(p,E,b){var Z=p.instances;if(!Z)return!1;if(nl){var o,A=!1;for(o in Z){var l=Z[o];if(l&&l.length){A=!0;break}}if(!A)return!1}return RE=Z,fE.fromArray(E||b.getElements()),pe.getInverse(fE),!0}var Me,Fe,Xe,Ge,Te,ge,Le,xe,Ce,he,Pe,ye,ae,Je,de,Ue,Ne,Oe,ze,_e,ve,Qe,qe,ue,Re,se,we,ie,fe,pX,EX,bX,ZX,oX,AX,lX,VX,cX,SX,IX,DX,BX,nX,kX,jX,WX,mX,eX,$X,YX,tX,KX,rX,HX,MX,FX,XX,GX,TX,gX,LX,xX,CX,hX,PX,yX,aX,JX,dX,UX,NX,OX,zX,_X,vX,QX,qX,uX,RX,sX,wX,iX,fX,pn,En,bn,Zn,on,An,ln,Vn,cn,Sn,In,Dn,Bn,nn,kn,jn,Wn,mn,en=new Float32Array(16),$n={},Yn=(H$.getInternal().prefabRenderMethodNames.forEach(function(p){var E=p+"Render",b=(Yq(E),"get"+E.charAt(0).toUpperCase()+E.slice(1));$n[p]=function(p){return!(p=p[E])||y1(p)?p:H$[b](p)}}),zE.prototype.render=function(y,p,E,a){(qE=p.prefix)&&(sE=(b=sE)+qE+".");var b,l=this.gv,J=qE&&H$.getDataModel3dBindings(E);if(!1===Ve(p,"visible",l,E,J))b!==K$&&(sE=b);else{var d=Ze().copy(Ae),U=(a&&Ae.fromArray(a),$n.early(p));if(U&&!1===U(l,E,p,y,Ae))return b!==K$&&(sE=b),oe(Ae),void(Ae=d);var Z,N,O=De(y,E);if(Z=p.matDef)for(var o in Z){var z=wE[o];z&&((N=N||{})[o]=z),wE[o]=Z[o]}var A,_,V,v,Q,q=Ie(p,_E,l),u=(Ae.multiply(q),oe(q),!1),R=!1,s=!1;do{var w=He(p,a,d);if(c=p.model){(c=yN(c))&&this.render(QE,c,E);break}var i=p.mesh;if(!i)break;var c=l._picking,S=!1,I=null,f=!1,D=Ve(p,"mat",l,E,J);if(D){if(D instanceof Array){var B=p.subMeshes;if(B){for(var p$=B._drawRangeGroupByMat||function(p){for(var E=[],b=0;b<p.length;b++){var Z,o=p[b].materialIndex;(Z=E[o])||(E[o]=Z=[]),Z.push(p[b].start,p[b].count)}return p._drawRangeGroupByMat=E}(B),n=0;n<p$.length;n++)p$[n]&&this.render(QE,{mesh:i,_skeletonId:p._skeletonId,skeleton:p.skeleton,mat:D[n],instances:p.instances,drawRange:p$[n],originalPrefab:p},E);break}}if("string"==typeof D){if(B=ce(_E,D)||wE[D]){if(F$(B)&&!(B=H$.getMaterial(B)))break}else if(!(B=H$.getMaterial(D)))break;D=B}}else D=ke;var E$=!0===(D=iE&&iE(D,_E)||D).transparent;if(!!l._45Q!=E$){E$&&(Xn=!0);break}var k,j,W=FE(D),b$=(uE=FH[W||D.type],!!(p.skeleton&&_E&&(k=l._updatedSkeletonDatas[p._skeletonId+"|"+_E._lastAnimHashKey])));if(b$&&(l.getPrefabBoneTexture(p)?(j=(V$=l.getPrefabBoneTexture(p)).width,QE.activeTexture(33984),Pj(QE,V$),QE.texImage2D(3553,0,34836,j,j,0,6408,5126,k),Pj(QE,r$)):(j=Math.round(Math.sqrt(k.length/4)),l.setPrefabBoneTexture(p,l.createTexture({data:k,width:j,height:j,type:5126,filter:9728,clampToEdge:!0})))),!c||D.renderPickMap){var Z$,m=g$.for(QE),e=W||D.type||"fixColor";if(!(H=xE(e))||H.isRaw){if(!H){if(!hE(e))break;Z$=!0,W||(W=FE(D))&&(uE=FH[e=W])}GE(W)||(H=l,Q=Z$,x={type:X=e,internalDefines:F=!(x=F=void 0)===(K=D).internalDefines||XE(X)},(K=K.defines)&&(x.defines=K),F||H._oitEnabled&&H._programDefines&&H._programDefines.OIT&&(x.defines=t$.assign({},x.defines,{OIT:!0})),F||x.defines||(x.cacheKey=X),$=H.acquireProgram(x,Q))}if(!$){var o$=_E?_E.s("3d.clip.direction"):0;switch(_E&&QE._blooming&&!_E.s("bloom")&&(e="fixColor",je.cullFace=D.cullFace,je.flipSide=D.flipSide,D=je),e){case"fixColor":$=l.acquireProgram({type:"fixColor",defines:{CLIP_DIRECTION:!!o$,USE_INSTANCING:!(!p.instances&&!RE)}});break;case"unlit":$=l.acquireProgram({type:"unlit",defines:t$.assign({USE_UV:1===TE(D),CLIP_DIRECTION:!!o$,USE_INSTANCING:!(!p.instances&&!RE)},D.defines),potentialType:W?D.type:K$,cacheKey:l._sceneProgramDefinesMask+(D.extraCacheKey||"")+(W?D.type:"U")+(D.defines?l._glPrograms.generateDefines(D.defines):"")});break;case"pbr":case"phong":var A$,l$,V$,c$=1,S$=((_E||vE)&&-1!==(A$=_E?_E.s("envmap.probe"):vE.envmapProbe||0)&&(l$=!0,(c$=_E?_E.s("envmap"):vE.envmap||0)&&(c$*=(I$=1,(v=l._envmapRenderer._envmapIntensity[A$])===K$?I$:v),I=A$)),l$||!(I=D.envmap||D.envMap)||(V$=l.getTexture(I))&&V$!==QE._emptyTexture||(I=null),l.isTransmissionEnabled(D)),I$=l._glPrograms.genPhysicalProgramKeyOfMat(D,{clipDirection:o$,isTransparent:E$,enableTransmission:S$,useInstancing:!(!p.instances&&!RE),useDisplacement:!!D.displacementMap&&l._glCapabilities.vertexTextures,aoMapUvChannel:Ye("aoUvChannel",D,uE)||1,uvChannelUsed:TE(D),useUvClip:!(!l._uvClipEnabled||"uv.left"!=o$&&"uv.right"!=o$),skeleton:b$,alphaChannel:Ye("alphaChannel",D,uE),aoChannel:Ye("aoChannel",D,uE),roughnessChannel:Ye("roughnessChannel",D,uE),metalnessChannel:Ye("metalnessChannel",D,uE),toneMapping:l.getToneMapping(),rectsNum:l._87I.length,envMapCombine:Ye("envMapCombine",D,uE),useTangent:D.normalMap&&i.tangent,envmap:I}),$=l.acquireProgram({type:e,materialDefines:D.defines,potentialType:W?D.type:K$,cacheKey:l._sceneProgramDefinesMask+I$.toString()+(D.extraCacheKey||"")+(W?D.type:"pbr"==e?"P":"p")+(D.defines?l._glPrograms.generateDefines(D.defines):""),cacheKeyOfMat:I$,extensions:S$?{GL_EXT_shader_texture_lod:!0}:null});break;case"litePhong":$=l.acquireProgram({type:"litePhong",defines:D.defines,potentialType:W?D.type:K$,cacheKey:l._sceneProgramDefinesMask+(D.extraCacheKey||"")+(W?D.type:"L")+(D.defines?l._glPrograms.generateDefines(D.defines):"")});break;default:$=l.acquireProgram(D)}}if(!$)break;s=!0,m.useProgram($);var D$,Y=m.directUniforms(),t=m.directState(),K=!!D.flipSide;if(_E&&(2===(D$=_E._forceSingleFace)&&(K=!K),_E._flipSideInheirt&&(K=!K)),Ae.determinant()<0&&(K=!K),RE&&T$.determinantOfArray(RE.aMatrixInstanced)<0&&(K=!K),t.cullFace.enabled=!(!D$&&!D.cullFace),t.cullFace.frontFace=K?2304:2305,(f=(S=$&&XE($.name))&&!W&&l._glUbos.supportsUbo)?l._glUbos.updateAndBind("scene",$):(Y.uProjectMatrix=l._projectMatrix,Y.uViewMatrix=l._viewMatrix,Y.uCameraPosition=l._camera?l._camera.p3():l.getEye(),Y.uTime=l.__uptime),$._dirty){if($._dirty=K$,S){var r,H=j$=g=r=T=G=X=F=M=void 0,M=l,F=Y,X=(X=M._headlightDirection)&&3===X.length?X:"shadow"===X?M.shadowMap.getDirection():_f(M.getCenter(),M.getEye()),H=M._lastLightUploadInfo.headlightColor;if(te.color=$e(H,Math.PI*M._headlightRatioForPhysicalMaterial),F.hemisphereLight.direction=G$.normalizeArray(M._transformDirectionToViewSpace(X)),F.hemisphereLight.groundColor=te.groundColor,F._lastLightMask=K$,F._lastHeadlightAmbientIntensity=K$,M.lightProbe&&(F.lightProbe=M.lightProbe),(r=M._59O)&&r.length){for(G=0,T=r.length,g=[];G<T;G++)g.push({position:M._transformPointToViewSpace(r[G].p3()),color:Ke(r[G]),distance:r[G].s("light.range"),decay:1,enable:!1});F.pointLights=g}if((r=M._spots)&&r.length){for(G=0,T=r.length,g=[];G<T;G++){var B$=r[G].s("light.angle");g.push({position:M._transformPointToViewSpace(r[G].p3()),color:Ke(r[G]),direction:r[G].s("light.rotation.enable")?M._transformDirectionToViewSpace(Dj([0,0,1],r[G])):M._transformDirectionToViewSpace(r[G].s("light.center"),r[G].p3()),decay:1,enable:!1,distance:r[G].s("light.range"),coneCos:M$(B$/2),penumbraCos:M$(B$/2*(1-r[G].s("light.exponent")))})}F.spotLights=g}if((r=M._dirs)&&r.length){for(G=0,T=r.length,g=[];G<T;G++)g.push({direction:r[G].s("light.rotation.enable")?M._transformDirectionToViewSpace(Dj([0,0,1],r[G])):M._transformDirectionToViewSpace(null,r[G].p3()),color:Ke(r[G]),enable:!1});F.directionalLights=g}if((r=M._87I)&&r.length){for(var n$,k$,j$=new G$,G=0,T=r.length,g=[];G<T;G++)pq.fromArray(Am(r[G])),pq.premultiply(Eq.fromArray(M._viewMatrix)),Eq.identity().extractRotation(pq),n$=j$.set(.5*-r[G].s("light.size")[0],0,0).applyMatrix4(Eq).toArray(),k$=j$.set(0,.5*r[G].s("light.size")[1],0).applyMatrix4(Eq).toArray(),g.push({position:M._transformPointToViewSpace(r[G].p3()),color:Ke(r[G]),halfWidth:n$,halfHeight:k$,enable:!1,disableSpecular:r[G].s("light.specular.disable")});F.rectAreaLights=g,H$.LTC_FLOAT_1&&((H=M.getGL())._LTC_1||(H._LTC_1=M.createTexture(H$.LTC_FLOAT_1)),H._LTC_2||(H._LTC_2=M.createTexture(H$.LTC_FLOAT_2)),F.ltc_1=H._LTC_1,F.ltc_2=H._LTC_2)}}else"litePhong"===e&&Bj(l,Y);vj(l,Y),f||(l._fogDisabled||(Y.uFogColor=l._fogColor,Y.uFogDensity=l._fogDensity,Y.uFogNear=l._fogNear,Y.uFogFar=l._fogFar),Y.toneMappingExposure=l.getToneMappingExposure()),l.shadowMap.enable&&l.shadowMap.createShadow(Y)}else l.shadowMap.enable&&l.shadowMap.createShadow(Y,!0);l.rebindOITTexture(Y),l.flowMap.createFlow(Y),l.rebindClipperMaskTexture(Y),l._87I.length&&H$.LTC_FLOAT_1&&(Y.ltc_1=QE._LTC_1,Y.ltc_2=QE._LTC_2),S&&S$&&QE._transmissionRTT&&(Y.transmissionSamplerMap=QE._transmissionRTT.texture,Y.transmissionSamplerSize=QE._transmissionRTT.getSize()),D.uUvMatrix=gL(D.uvRotation,D.uvOffset,D.uvScale,D.uvAnchor)}var L,x=RE,C=function(p,E,l){var b=YH(E);if(!b)return 0;if(oE(b)||!b._4HQ)for(var Z in b._4HQ=!0,b)"is"!==Z&&X$(b[Z])&&(b[Z]=new Of(b[Z]));if(l&&!l._complete_)for(var Z in l._complete_=!0,l)X$(l[Z])&&(l[Z]=new Of(l[Z]));(E=g$.for(QE).directAttribs()).disable();var V,o=b.index||b.is,c=!o,S=0;return E.apply(b,function(p,E,b){var Z,o=ne[E];if(l&&(Z=o&&l[o]||l[E])!==K$){if(!Z.length)return null;var A=We[b.desc.activeInfo.type];return S=S||Z.length/A,AL(QE,null,Z,null,A)}return(Z=o&&p[o]||p[E])!=K$&&Z.length?(c&&(c=!1,V=Z.length/We[b.desc.activeInfo.type]),lL(QE,null,Z)):null}),!E.aMatrixInstanced||l&&l.aMatrixInstanced||(E.aMatrixInstanced=ee),o?(cL(QE,p._buffer.is,o),{length:o.length,instances:S,indexType:o instanceof Uint32Array?5125:o instanceof Uint8Array?5121:null,is:!0}):V||b.vs?{length:V||b.vs.length/3,instances:S,is:!1}:0}(l,i,x);if(!C)break;C.instances&&(Y=Y||g$.for(QE).directUniforms(),x.aBatchColor&&(Y.uBatchColor=!0),Y.uUseInstance=!0,Y.uRightMatrixInstanced=RE?Ee.multiplyMatrices(pe,Ae).getElements():uf,R=!0),u=!0,nL(l,(RE?fE:Ae).getElements()),!c||D.renderPickMap?(Y=Y||m.directUniforms(),_E?ij(QE,l,_E,S):vE&&(Q=QE,H=l,A=vE,_=S,L=V=void 0,V=g$.for(Q).directUniforms(),L=A.alphaTest,V.uAlphaTest=L===K$?L$.alphaTest:L,L=H._picking,V.shadowReceive=!L&&!1!==A.shadowReceive,_j(H,V,A.clipboxMask===K$?qV:A.clipboxMask),V.blackout=!(!Q._blooming||A.bloom),L||(H._flowObjects.length&&H.flowMap.resetFlowUniform(A.effectFlowMask===K$?qV:A.effectFlowMask,V),_||(A.envmap!==K$?(V.uUseEnvMap=!0,V.roughness=A.roughness||0,H._setEnvmapByProbeId(V,A.envmapProbe||0,A.envmap)):(V.uUseEnvMap=!1,V.envMapIntensity=0),nj(H,V,A.lightMask===K$?qV:A.lightMask,A.headlightAmbientIntensity)),V.uFog=!0)),S&&(_E?re(Y,l,_E._currentFaceLightMask!=r$?_E._currentFaceLightMask:_E.s("shape3d.light")?_E.s("light.mask"):0,_E.s("headlight.ambientIntensity")||l._headlightAmbientIntensity):vE?re(Y,l,vE.light==r$?vE.lightMask===K$?qV:vE.lightMask:0,vE.headlightAmbientIntensity||l._headlightAmbientIntensity):re(Y,l,0,0),I!=r$&&(l$?(L=l._envmapRenderer._envmaps[I],Y.envmap=L?L.texture:QE._emptyTexture):Y.envmap=l._envmapRenderer.assureEnvmapFromEquirectangular(I),Y.envMapIntensity=c$*Ye("envMapIntensity",D,uE)),b$&&LL(Y,p,l.getPrefabBoneTexture(p),k)),l.resetSharedTextureIndex(),_=_E,A=i,V=void 0,(V=Ye("completeHandler",m$=D,P=uE))&&V.call(m$,_,P,A),S&&!W?(Y.transparent=(D.transparent===K$?uE:D).transparent,Y.cullFace=(D.cullFace===K$?uE:D).cullFace,function(p,E,b,Z,o,A){var l,V,c,S,I,D,B,n,k,j,W,m=FE(A)||A.type,e=XH[m];if(b){if(!(W=(j=p._glUbos).attachUbo(m,A,p._renderId))){for(V=0,c=e.length;V<c&&-1!==(S=e[V]);V+=2)D=A[S],I=e[V+1],D&&(D instanceof WebGLTexture||(D=p.textureAccessesByMaterial(D,Z)),o[S]=D),V+=2*I;return j.updateAndBind(m,E)}}else W=o;for(l=!0,V=0,c=e.length;V<c;V+=2)if(-1===(S=e[V]))l=!1,V--;else{if(I=0,B=!1,-2===S?(I=(c-V-1)/2,V--,B=!0):(D=A[S],I=e[V+1],D&&(!l||D instanceof WebGLTexture||(D=p.getTexture(D,Z)),l?o[S]=D:W[S]=D,B=!0)),B)for(k=(n=V+2)+2*I;n<k;n+=2)(D=A[S=e[n]])===K$&&(D=e[n+1]),W[S]=D;V+=2*I}W.uUvMatrix=A.uUvMatrix;var $=A.uUv2Matrix;$&&(W.uUv2Matrix=$),b&&j.updateAndBind(m,E)}(l,$,f,_E,Y,D)):Y.apply(D,function(p,E,b){if("envmap"!==E&&"envMapIntensity"!==E){if((o=(o=p[E])===K$&&uE?uE[E]:o)&&(35678===b||35680===b||36306===b)&&!(o instanceof WebGLTexture))if(X$(o))for(var Z=o,p=Z.length,o=new Array(p),A=0;A<Z.length;A++)o[A]=l.textureAccessesByMaterial(Z[A],_E);else o=l.textureAccessesByMaterial(o,_E);return o}})):b$&&(Y=Y||g$.for(QE).directUniforms(),LL(Y,p,l.getPrefabBoneTexture(p),k));var W$,h,P,m$=D.glState,e$=(m$&&(W$={},(t=t||g$.for(QE).directState()).apply(m$,W$)),me[D.renderMode]);if(_E&&l.emitPreRenderData(_E,QE,p),h=p.drawRange)for(var n=0,$$=h.length;n<$$;n+=2)C.is?ZL(QE,h[n],h[n+1],e$,C.indexType,C.instances):bL(QE,h[n],h[n+1],e$,C.instances);else C.is?ZL(QE,0,C.length,e$,C.indexType,C.instances):bL(QE,0,C.length,e$,C.instances)}while(_E&&l.emitPostRenderData(_E,QE,p),m$&&t.apply(W$),b$&&(Y.uUseSkinning=!1),c&&((P=g$.for(QE).directAttribs()).aNormal=!1,P.aUv=!1,P.skinIndex=!1,P.skinWeight=!1),0);u&&DL(l),R&&(Y.uUseInstance=!1,Y.uBatchColor=!1),s&&l._prg&&(m.useProgram(l._prg),m.directAttribs().disable(),t.cullFace.frontFace=2305,l.shadowMap.enable&&l.shadowMap.createShadow(null,!0),l.rebindOITTexture(),l._envmapRenderer.resetUniformCache(),l.flowMap.createFlow(null,!0),l.rebindClipperMaskTexture());var Y$=p.comps;if(Y$&&Y$.length)for(n=0,$$=Y$.length;n<$$;n++)this.render(QE,Y$[n],_E);if(oe(Ae),Ae=d,w&&(RE=null),Z=p.matDef)for(var o in Z)wE[o]=N&&N[o]||K$;b!==K$&&(sE=b),Be(O),(U=$n.post(p))&&U(l,E,p,y,Ae)}},zE.prototype.renderLod=function(p,E,b,Z,o,A){var l=this.gv,V=E.lod;if(b&&b.s("static")&&(E=(E=l.getRenderLists().get(b.getRenderLayer()).getModel3dInstancedBatchMap())&&E[l.getStaticInstancingKey(b)])&&E.length){if(!E.rendered||E.rendered===b._id){var c,S,I=V.group.length,D=function(p,E,b,Z){var o,A=Z?(o=b.cacheShadow,b.shadowVersion):(o=b.cache,b.msVersion);if(o.lodVersion===b.lodVersion&&o.version===A&&o.id===E._id)return o.buffer;for(var l,V,c,S,I=b.lod,D=b.lodSum,B=b.ms,n=Z?b.shadow:null,k=[],j=new Uint16Array(p),W=0;W<p;W++)j[W]=0,D[W]?(S=16*D[W],o.buffer&&o.buffer[W]&&o.buffer[W].length===S?delete(V=o.buffer[W])._bufId:V=new Of(S),k.push(V)):k.push(null);for(length=16*b.length,c=l=0;l<length;l+=16,c+=1)if(V=k[W=I[c]]){if(n&&!n[l>>4])V.set(en,j[W]);else for(var m=0;m<16;m++)V[j[W]+m]=B[l+m];j[W]=j[W]+16}return o.version=Z?b.shadowVersion:b.msVersion,o.lodVersion=b.lodVersion,o.id=E._id,o.buffer=k}(I,b,E,o);if(!o&&p._picking){if(E._highlightInvalid)return;S=function(p,E){if((A=E.cachePick).lodVersion===E.lodVersion&&A.version===E.csVersion)return A.buffer;for(var b,Z=E.lod,o=E.lodSum,A=E.cachePick,l=[],V=new Uint16Array(p),c=0;c<p;c++)V[c]=0,o[c]?(b=4*o[c],A.buffer&&A.buffer[c]&&A.buffer[c].length===b?delete(D=A.buffer[c])._bufId:D=new Of(b),l.push(D)):l.push(null);for(var S=0,I=0,D=A.buffer,B=E.cs,n=4*E.length;I<n;I+=4,S++)(D=l[c=Z[S]])&&(D[V[c]]=B[I],D[V[c]+1]=B[I+1],D[V[c]+2]=B[I+2],D[V[c]+3]=B[I+3],V[c]=V[c]+4);return A.lodVersion=E.lodVersion,A.version=E.csVersion,A.buffer=l,A.buffer}(I,E)}for(var B=E.msTranslation,n=0;n<I;n++)D[n]&&0!==D[n].length&&(k=V.group[n])&&(c=F$(k)?(k={model3d:!0,model:k},K$):k.instances,k.instances={aMatrixInstanced:D[n]},S&&(k.instances.aBatchColor=S[n]),o?this.renderDepth(p,k,b,B,A):this.render(p,k,b,B),c?k.instances=c:delete k.instances);E.rendered=b._id}}else{var k,E=l.getData3dUI(b);(k=V.group[E._lodId])&&(F$(k)&&(k={model:k}),this.renderNode(p,k,b,Z,o,A))}},zE.prototype.renderDepth=function(p,E,b,Z,o){(qE=E.prefix)&&(sE=(A=sE)+qE+".");var A,l=this.gv,V=qE&&H$.getDataModel3dBindings(b);if(!1===Ve(E,"visible",l,b,V))A!==K$&&(sE=A);else{var c,S,p=De(p,b),I=Ze().copy(Ae);if(Z&&Ae.fromArray(Z),c=E.matDef)for(var D in c){var B=wE[D];B&&((S=S||{})[D]=B),wE[D]=c[D]}var n,k=Ie(E,_E,l);Ae.multiply(k),oe(k);do{var j=He(E,Z,I),W=E.model;if(W){(W=yN(W))&&this.renderDepth(QE,W,b,null,o);break}if(!(W=YH(E.mesh)))break;oE(W);var m,e=Ve(E,"mat",l,b,V);if(e){if("string"==typeof e){var $=ce(_E,e)||wE[e];if($){if(F$($)&&!($=H$.getMaterial($)))break}else if(!($=H$.getMaterial(e)))break;e=$}}else e=ke}while($=Ae,(n=RE)&&(m=Ee.multiplyMatrices(pe,Ae).getElements(),$=fE),o($,W,e,n,m,E),0);var Y=E.comps;if(Y&&Y.length)for(var t=0,K=Y.length;t<K;t++)this.renderDepth(QE,Y[t],_E,null,o);if(oe(Ae),Ae=I,j&&(RE=null),c=E.matDef)for(var D in c)wE[D]=S&&S[D]||K$;A!==K$&&(sE=A),Be(p)}},zE.prototype.renderNode=function(p,E,b,Z,o,A){if(E.lod)this.renderLod(p,E,b,Z,o,A);else{var l,V;if(b&&b.s("static")){var c=this.gv.getRenderLists().get(b.getRenderLayer()).getModel3dInstancedBatchMap();if((c=c&&c[this.gv.getStaticInstancingKey(b)])&&c.length){if(c.rendered&&c.rendered!==b._id)return;if(l={aMatrixInstanced:function(p,E,b){var Z=b?E.cacheShadow:E.cache;if(Z.length===E.length&&Z.version===(b?E.shadowVersion:E.msVersion)&&Z.id===p._id)return Z.buffer;var o,A=E.ms,l=b?E.shadow:null,V=16*E.length;Z.buffer&&Z.buffer.length===V?delete(o=Z.buffer)._bufId:o=new Of(V);for(var c=0,S=V;c<S;c+=16)if(l&&!l[c>>4])o.set(en,c);else for(var I=0;I<16;I++)o[c+I]=A[c+I];return Z.length=E.length,Z.version=b?E.shadowVersion:E.msVersion,Z.id=p._id,Z.buffer=o}(b,c,o)},!o&&p._picking){if(c._highlightInvalid)return;l.aBatchColor=function(p){var E=p.cachePick;if(E.length!==p.length||E.version!==p.csVersion){E.buffer=new Of(4*p.length);for(var b=0,Z=E.buffer,o=p.cs,A=4*p.length;b<A;b+=4)Z[b]=o[b],Z[b+1]=o[b+1],Z[b+2]=o[b+2],Z[b+3]=o[b+3];E.length=p.length,E.version=p.csVersion}return E.buffer}(c)}c.rendered=b._id}}c=l?(V=E.instances,E.instances=l,c.msTranslation):Z,o?this.renderDepth(p,E,b,c,A):this.render(p,E,b,c),l&&(V===K$?delete E.instances:E.instances=V)}},zE.prototype.calcMatrix=Ie,u.Light=function(){R1(Yn,this),this.s(QV,L$[QV]),this.s(wx,"sphere"),this.s("shape3d.reverse.cull",!0),this.s3(20,20,20)}),tn=(Jf("Light",YP,{_image:"light_icon",_icon:"light_icon",onStyleChanged:function(p,E,b){Yn.superClass.onStyleChanged.apply(this,arguments),p===QV&&this.s("shape3d.color",b)}}),R.FrameState=function(p,E){this.renderState=g$.for(E),this.picking=!1,this.envmapReflectivity=.5,this.cameraPosition=K$,this.projectMatrix=K$,this.viewMatrix=K$,this.view=p,this.defaultProgram=K$,this.pickColorMap=K$,this._pvStack=[],this._renderStateStack=[]}),Kn=(tn.prototype.savePV=function(){var p=this.view;this._pvStack.push([Rf(this.projectMatrix),Rf(this.viewMatrix),p._18Q,Rf(p._7O)])},tn.prototype.restorePV=function(){var p,E=this._pvStack.pop();E&&(p=this.view,this.projectMatrix=p._projectMatrix=E[0],this.viewMatrix=p._viewMatrix=E[1],p._18Q=E[2],p._7O=E[3])},tn.prototype.setPV=function(p,E){var b,Z=this.view,o=!1;p&&(this.projectMatrix=Z._projectMatrix=p,o=!0),E&&(this.viewMatrix=Z._viewMatrix=E,Z._7O=Rf(E),o=!0),o&&(p=Z.getWidth(),o=Z.getHeight(),b=Rf(this.projectMatrix),Z._18Q=Kj(b,b,E),Z._18Q._wh=p/o)},tn.prototype.syncEnv=function(p){var E=this.view;this.envmapReflectivity=E._envmapReflectivity||.5,this.cameraPosition=E.getEye(),this.projectMatrix=E._projectMatrix,this.viewMatrix=E._viewMatrix,this.pickColorMap=p,this.picking=E.getGL()._picking},tn.prototype.setGLState=(Me=[0,0,0,0],Fe=[!0,!0,!0,!0],Xe=[0,1],Ge=[32774,32774],Te=[770,771,1,771],function(p,E){this.renderState.gl;var b=this.renderState.glState;b.dither=!1,E?b.color.mask=Fe:b.color.reset(),b.pixelStore.reset(),b.blend.color=Me,b.blend.equation=Ge,b.blend.func=Te,b.cullFace.enabled=!1,b.cullFace.mode=1029,b.scissor.enabled=!1,b.depth.enabled=!0,b.depth.clear=1,b.depth.func=515,b.depth.range=Xe,b.stencil.enabled=!1,b.polygonOffset.enabled=!1,p?(b.depth.mask=!1,b.blend.enabled=!0):(b.depth.mask=!0,b.blend.enabled=!1)}),tn.prototype.setUniforms=function(p){var E=this.view,b=this.renderState;b.gl,(b=b.uniforms).uBrightness=1,b.uOpacity=1,b.uPartOpacity=1,b.uUseSkinning=!1,b.uUseInstance=!1,b.uTexture=!1,b.uBlendTexture=!1,b.uAlphaTest=L$.alphaTest,b.uTransparent=!!p,b.uFix=!1,b.uBatchColor=!1,b.uBatchBlend=!1,b.uBatchBrightness=!1,b.envMapIntensity=this.envmapReflectivity||.5,b.uCameraPosition=this.cameraPosition,b.uProjectMatrix=this.projectMatrix,b.uViewMatrix=this.viewMatrix,b.uEnvMap=null,_j(E,b,0),vj(E,b),b.uEnvmapQuat=E._envmapExtraQuaternion,E._envmapRenderer.resetUniformCache(),this.picking||(Bj(E,b),E._fogDisabled||(b.uFogColor=E._fogColor,b.uFogDensity=E._fogDensity,b.uFogNear=E._fogNear,b.uFogFar=E._fogFar))},tn.prototype.drawLayer=function(p,E){return this.view.renderLayers(p,!0)},tn.prototype.drawData=function(p,E,b){var Z,o,A,l,V,c,S=this.view;S.isVisible(p)&&(o=(Z=this.renderState).uniforms,(p=S.getData3dUI(p))&&(l=(A=Z.gl)._picking,V=S._picking,c=p._pickId,b&&(p._pickId=b),A._picking=S._picking=!!b,o.uTransparent=!!E,p._42(Z.gl,Z.program,E?U:N),A._picking=l,S._picking=V,p._pickId=c))},R.Graph3dView=function(p,E){var b,Z,o=this;if(o.resetHeadlightProperties(),o.resetFogProperties(),o._webGLVersion=1,o._attributes=E||H$.graph3dViewAttributes,o._25I={},o._attributes&&(b=o._attributes.view)?b._ht=o:b=BW(1,o),o._view=b,o._attributes&&(Z=o._attributes.canvas)||(Z=kW(o._view)),o._canvas=Z,o.__startTime=Date.now(),o.__uptime=0,U$(Z,"webglcontextlost",function(p){p.preventDefault(),o._26I&&o.dispose(),o._26I=r$,o._35O=!0}),U$(Z,"webglcontextrestored",function(p){o._35O=!1,o._loseContextExt=K$,o.iv()}),o._40Q=new yn(o),o._43Q={},o._44Q=-1,o._boneViewMatrices=[],o._batchIndexMap={},o._batchModelMap={},o._wireframeIndexMap={},o._wireframeModelMap={},o._wireframeIndexMapSwap={},o._wireframeModelMapSwap={},o._polylineIndexMap={},o._polylineIndexMap={},o._polylineIndexMapSwap={},o._polylineIndexMapSwap={},o._8O=[],o._modelMatrixStack=[],o._7O=qf(),o._6O=qf(),o._modelMatrix=qf(),o._1o=new On(o),o._30O=new vn(o),o._31O=new zn(o),o._32O=new _n(o),o._raycaster=new ZH(o),o._highlightHelper=new OE(o),o._postProcessing=new kh(o),o._41Q=[],o._42Q=0,o._frameRenderOptionStack=[],R.Reality){var A,l=o._reality={};for(A in R.Reality)l[A]=new R.Reality[A](o);o.getReality=function(p){return l[p]},o.getRealities=function(){return l},o.isRealityEnabled=function(p){return(p=l[p])&&p.enable},o.isRealityPresenting=function(p){return(p=l[p])&&p.isPresenting()},o.getPresentingReality=function(){for(var p in l)if(l[p].isPresenting())return l[p];return null}}else o.getReality=o.getRealities=o.getPresentingReality=d,o.isRealityEnabled=o.isRealityPresenting=P;o.shadowMap=new aE(o),o.flowMap=new dE(o),o._33Q=!0,o._eye=p$(H$.graph3dViewEye),o._center=p$(H$.graph3dViewCenter),o._up=p$(H$.graph3dViewUp),o._lightChanged=!1,o._59O=[],o._spots=[],o._dirs=[],o._87I=[],o._boxClippers=[],o._boxClipperVersion=0,o._boxClipperMasks=0,o._flowObjects=[],o._transmissionObjects=[],o._renderId=0,o._picking=!1,o._tempCameraQueue=[],o._batchInfoMap={},o._updatedSkeletonDatas={},o._renderLayerInfoMap={},o._renderLayerSettingsVersion=0,o._gatherRenderLayersByPriority(!0),o.overlappingBox=new dP(o),o._envmapRenderer=new R.EnvmapRenderer(this),o._prefabRenderer=new R.PrefabRenderer(this),o._depthGrabber=new UE(this),o.dm(p||new wm),o._coreInteractor=new l_(this),o.setInteractors([new Jn(o)]),o.enableQuickVisibleMode(),o.initRenderEvents(),o._initView(),o._genBatchInstancedArrayFunc(),o.genProgramDefines(),o._setupPVMatrix(),o._4OQ={}}),rn={box:1,sphere:2,cylinder:3,cone:4,shape:5},Hn={addRGB:"FLOW_BLEND_MODE_ADD_RGB",addRGBA:"FLOW_BLEND_MODE_ADD_RGBA",overrideRGBA:"FLOW_BLEND_MODE_OVERRIDE_RGBA",overrideRGB:"FLOW_BLEND_MODE_OVERRIDE_RGB",overrideA:"FLOW_BLEND_MODE_OVERRIDE_A",multiplyRGB:"FLOW_BLEND_MODE_MULTIPLY_RGB",multiplyRGBA:"FLOW_BLEND_MODE_MULTIPLY_RGBA",multiplyPS:"FLOW_BLEND_MODE_MULTIPLY_PS"},Mn=0,Fn="render",Xn=!1,Gn=(p("Graph3dView",t$,{ms_v:1,ms_tip:1,ms_gv:1,ms_dm:1,ms_lp:1,ms_fire:1,ms_sm:1,_51o:1,ms_shadow:1,ms_highlight:1,ms_quickVisible:1,ms_renderEvents:["PreFrame","PostFrame","PreUpdate","PostUpdate","PreRender","PostRender","PreRenderData","PostRenderData"],ms_ac:["devicePixelRatio","boundaries","moveStep","rotateStep","navigationDamping","editHelperDisabled","blockSelectable","sizeEditableFunc","rotationEditableFunc","editableFunc","rotatable","zoomable","pannable","walkable","resettable","mouseRoamable","roamingWalkable","zoomToCenter",Yx,tx,"firstPersonMode",xx,"movableFunc","gridVisible","gridSize","gridGap","gridColor","originAxisVisible","centerAxisVisible","axisXColor","axisYColor","axisZColor","editSizeColor","rectSelectable","rectSelectBackground","headlightRange","headlightDirection","headlightColor","headlightIntensity","headlightAmbientIntensity","headlightRatioForPhysicalMaterial","headlightDisabled","headlightGroup","ortho","orthoWidth","syncEyeWithOrthoWidth","fovy","near","far",Ml,Hl,"up","aspect","fogDisabled","fogMode","fogDensity","fogColor","fogNear","fogFar","pickerResolution","dashDisabled","uvClipEnabled","transmissionEnabled","batchColorDisabled","batchInstancedDisabled","batchBlendDisabled","batchBrightnessDisabled","flowBlendMode","hoverDelay","batchInfoMap","renderLayerInfoMap","rotateMinPhi","rotateMaxPhi","sortable","opaqueSortable","sortFunc","backfaceUsingNormals","toneMapping","toneMappingExposure"],_editable:!1,_sortable:H$.graph3dViewSortable,_opaqueSortable:H$.graph3dViewOpaqueSortable,_editHelperDisabled:H$.graph3dViewEditHelperDisabled,_blockSelectable:H$.graph3dViewBlockSelectable,_devicePixelRatio:K$,_boundaries:K$,_parallelShaderCompile:!1,_moveStep:H$.graph3dViewMoveStep,_navigationDamping:H$.graph3dViewNavigationDamping,_rotateStep:H$.graph3dViewRotateStep,_toneMapping:K$,_toneMappingExposure:1,_rotateMinPhi:H$.graph3dViewMinPhi===K$?H$.graph3dViewRotateMinPhi:H$.graph3dViewMinPhi,_rotateMaxPhi:H$.graph3dViewMaxPhi===K$?H$.graph3dViewRotateMaxPhi:H$.graph3dViewMaxPhi,_pannable:H$.graph3dViewPannable,_rotatable:H$.graph3dViewRotatable,_walkable:H$.graph3dViewWalkable,_resettable:H$.graph3dViewResettable,_zoomable:H$.graph3dViewZoomable,_zoomToCenter:!0,_firstPersonMode:H$.graph3dViewFirstPersonMode,_mouseRoamable:H$.graph3dViewMouseRoamable,_roamingWalkable:H$.graph3dViewRoamingWalkable,_gridVisible:H$.graph3dViewGridVisible,_gridSize:H$.graph3dViewGridSize,_gridGap:H$.graph3dViewGridGap,_gridColor:H$.graph3dViewGridColor,_originAxisVisible:H$.graph3dViewOriginAxisVisible,_centerAxisVisible:H$.graph3dViewCenterAxisVisible,_axisXColor:H$.graph3dViewAxisXColor,_axisYColor:H$.graph3dViewAxisYColor,_axisZColor:H$.graph3dViewAxisZColor,_ortho:H$.graph3dViewOrtho,_orthoWidth:H$.graph3dViewOrthoWidth,_syncEyeWithOrthoWidth:H$.graph3dViewSyncEyeWithOrthoWidth,_fovy:H$.graph3dViewFovy,_near:H$.graph3dViewNear,_far:H$.graph3dViewFar,_rectSelectable:H$.graph3dViewRectSelectable,_rectSelectBackground:H$.graph3dViewRectSelectBackground,_editSizeColor:H$.graph3dViewEditSizeColor,_autoMakeVisible:oq,_pickerResolution:H$.graph3dViewPickerResolution,_oitPassCount:3,_modelMatrixProcess:K$,_modelMatrixReverseProcess:K$,_dashDisabled:H$.graph3dViewDashDisabled,_uvClipEnabled:H$.graph3dViewUvClipEnabled,_transmissionEnabled:H$.graph3dViewTransmissionEnabled,_batchColorDisabled:H$.graph3dViewBatchColorDisabled,_batchInstancedDisabled:H$.graph3dViewBatchInstancedDisabled,_batchBlendDisabled:H$.graph3dViewBatchBlendDisabled,_batchBrightnessDisabled:H$.graph3dViewBatchBrightnessDisabled,_backfaceUsingNormals:H$.graph3dViewBackfaceUsingNormals,_useOIT:!1,_oitEnabled:!1,_flowBlendMode:H$.graph3dViewFlowBlendMode,addCamera:function(p){var E=this._42Q++,b={id:E,priority:p.priority||0,ignoreInPick:!!p.ignoreInPick,ignoreInRender:!!p.ignoreInRender,ignoreInBloom:!!p.ignoreInBloom,renderMask:(p.renderMask||0)|(p.ignoreInRender?0:1)|(p.ignoreInPick?0:2)|(p.ignoreInBloom?0:4),render:p.render};return p.switch3DStatus&&(this._43Q[b.id]=!0),this._41Q.push(b),this._41Q.sort(function(p,E){return p.priority!==E.priority?p.priority-E.priority:p.id-E.id}),E},removeCamera:function(p){for(var E=this._41Q,b=0,Z=E.length;b<Z;b++)if(E[b].id===p)return E.splice(b,1),!0;return!1},setEye:function(p,E,b){1===arguments.length&&(E=p[1],b=p[2],p=p[0]);var Z=this._eye;Z[0]=p,Z[1]=E,Z[2]=b,this.fp(Ml,r$,Z)},setCenter:function(p,E,b){1===arguments.length&&(E=p[1],b=p[2],p=p[0]);var Z=this._center;Z[0]=p,Z[1]=E,Z[2]=b,this.fp(Hl,r$,Z)},setUp:function(p,E,b){1===arguments.length&&(E=p[1],b=p[2],p=p[0]);var Z=this._up;Z[0]=p,Z[1]=E,Z[2]=b,this.fp("up",r$,Z)},setVisibleFunc:function(p){var E=this._visibleFunc;this._visibleFunc=p,this.fp("visibleFunc",E,p),this.isQuickVisibleMode()&&this.dm().each(function(p){p._4EQ=K$})},getDevicePixelRatio:function(){return this._dynamicRatio||this._devicePixelRatio||Tq},isTransmissionEnabled:function(p){return!!this._transmissionEnabled&&(!p||p.enableTransmission)},isDepthGrabberEnabled:function(){return this._depthGrabber.isEnabled()||this.getPostProcessing().isEnabled()},enableDepthGrabber:function(p){this._depthGrabber.enable(p)},disableDepthGrabber:function(p){this._depthGrabber.disable(p)},grabDepth:function(p){return this._depthGrabber.grab(p)},isFloatDepthTexture:function(p){return p&&p._internalFormat},isOITEnabled:function(p){return!!this._useOIT&&(!p||this._oitEnabled)},enableOIT:function(){var p=this;if(p._useOIT)return!0;if(p._useOIT=!0,!p.getGL())return!1;if(!p.isWebGL2())return!1;if(!p.getGLExtension("EXT_color_buffer_float"))return!1;var E=h.navigator;return!(E&&(/iPad|iPhone|iPod/.test(E.platform)||"MacIntel"===E.platform&&1<E.maxTouchPoints)||(p._oitEnabled=!0,p._depthPeelingRenderer||(p._depthPeelingRenderer=new NE(p)),p._depthPeelingRenderer.enableOIT(),p.iv(),0))},disableOIT:function(){return this._useOIT&&(this._useOIT=!1,this._oitEnabled&&(this._depthPeelingRenderer&&this._depthPeelingRenderer.disableOIT(),this._oitEnabled=!1,this.iv())),!0},setOITPassCount:function(p){this._oitPassCount=p,this.iv()},getOITPassCount:function(){return this._oitPassCount},rebindOITTexture:function(p){return!!this._oitEnabled&&this._depthPeelingRenderer.bindTexture(p)},rebindClipperMaskTexture:function(p){var E=this._boxClipperMasks;if(E){p=p||this._frameState.renderState.directUniforms();for(var b=0;b<E;b++){var Z=this._boxClipperMaskTextures[b];Z instanceof WebGLTexture||(Z=this.textureAccessesByMaterial(Z)),p["uClipperMaskTextures"+b]=Z}}},isTransparentMask:function(p){return p.s("transparent.mask")},getCoreInteractor:function(){return this._coreInteractor},getHighlightHelper:function(){return this._highlightHelper},getHighlightPickColor:function(p){return p=p.s("highlight.group"),this._highlightHelper.getPickColorOfIndex(p)},getRaycaster:function(){return this._raycaster},getAspect:function(){return this._aspect||this.getWidth()/this.getHeight()||H$.graph3dViewAspect},setAspect:function(p){var E=this.getAspect();this._aspect=p,this.fp("aspect",E,this._lastAspect=this.getAspect())},_tryFireAspectEvent:function(){var p=this.getAspect(),E=this._lastAspect;p!==E&&(this._lastAspect=p,E!=r$&&this.fp("aspect",E,p))},getCanvas:function(){return this._canvas},setDataModel:function(p){var E=this,b=E._dataModel,Z=E._selectionModel;b!==p&&(b&&(b.ump(E.handleDataModelPropertyChange,E),b.umm(E.handleDataModelChange,E),b.umd(E.handleDataPropertyChange,E),Z||b.sm().ums(E.handleSelectionChange,E)),(E._dataModel=p).mp(E.handleDataModelPropertyChange,E),p.mm(E.handleDataModelChange,E),p.md(E.handleDataPropertyChange,E),Z?Z._21I(p):p.sm().ms(E.handleSelectionChange,E),E._postProcessing.handleDataModelChange(b,p),E._tryInvalidateEnvmap(),E.invalidateAll(!0),E.invalidateLight(),E.invalidateBoxClipper(),E.invalidateFlowObjects(),E.invalidateTransmissionObjects(),E._49Q(),E.fp(ux,b,p),E._canvas.style.background=p.getBackground()||"")},handleDataModelPropertyChange:function(p){var E,b,Z=p.property;"background"===Z?(E=this._canvas.style.background,b=p.newValue||"",this._canvas.style.background=b,this.fp("canvasBackground",E,b)):"envmapType"===Z?this._tryInvalidateEnvmap():"envmap"===Z||"invalidateView"===Z?this.iv():"a:sceneRedrawState"===Z?p.newValue?this.redrawLoop():this.stopRedrawLoop():Z.startsWith("a:sceneSkybox")&&this.initSkybox()},handleDataPropertyChange:function(p){var E,b=p.data,Z=(this.invalidateData(b),p.property);Aj(b)&&"s:light.type"===Z?this.invalidateLight():"s:3d.clipbox"===Z||"s:3d.clipbox.shape"===Z?this.invalidateBoxClipper(b,!0):"s:effect.flow"===Z?this.invalidateFlowObjects(b,!0):"s:shadow.cast"===Z?this.shadowMap.tryUpdateBounding(b):"s:3d.visible"===Z||"s:visibleCascade"===Z?this.invalidateQuickVisible(b):"parent"===Z?(E=p.oldValue,p=p.newValue,(E&&(E instanceof gP||E.s("visibleCascade"))||p&&(p instanceof gP||p.s("visibleCascade")))&&this.invalidateQuickVisible(b)):"s:shape3d.transmission"===Z&&this.invalidateTransmissionObjects(b,!0)},invalidateBoxClipper:function(p,E){for(var b=this._boxClippers,Z=b.length,o=(p?!!p.s("3d.clipbox")==(E=!!E)?b.indexOf(p)<0&&b.push(p):0<=(E=b.indexOf(p))&&b.splice(E,1):(b=this._boxClippers=[],this.dm().each(function(p){p.s("3d.clipbox")&&b.push(p)})),0),A=0;A<b.length;A++)(p=b[A])instanceof u.Shape&&p.getThickness()<0&&"shape"===p.s("3d.clipbox.shape")&&(b[A]=b[o],b[o]=p,o++);this._boxClipperMasks=o,Z!==b.length&&this._updateBoxClipperMatrix(),this.iv()},getProjectMatrix:function(p){return p&&this._setupPVMatrix(),this._projectMatrix},getViewMatrix:function(p){return p&&this._setupPVMatrix(),this._viewMatrix},_setupPVMatrix:function(){this._projectMatrix=gj(this),Tj(this,this._7O),this._viewMatrix=Rf(this._7O)},getBoxClipperDefines:function(){return{MAX_BOX_CLIPPER:this._boxClippers.length,BOX_CLIPER_TYPES:this._boxClipperTypes,MAX_BOX_CLIPPER_MASKS:this._boxClipperMasks}},_updateBoxClipperMatrix:(ie=/if[ \t]*\([^\0{}]*{/,function(){var p=this._boxClippers,E=vB(this,"_boxClipperMatrixes",16*p.length),b=this._boxClipperClipInner=[],Z=this._boxClipperGroups=[],o=this._boxClipperShapes=[],A=0,l=this._boxClipperMasks;this._boxClipperMaskTextures=new Array(l);for(var V,c=new T$,S=0,I=p.length;S<I;S++){(V=p[S]).appendAnchorMatrix3d(D=Am(V,this.getMat(V))),c.getInverse(c.fromArray(D)).toArray(E,16*S),b.push("inner"===V.s("3d.clipbox")),Z.push(V.s("3d.clipbox.group"));var D=rn[V.s("3d.clipbox.shape")]||1;o.push(D),A|=1<<D-1,S<l&&(!(D=this.getData3dUI(V))._clipboxMask&&D instanceof cH&&(D._clipboxMask=this.getGL()._emptyTexture,D.validate()),this._boxClipperMaskTextures[S]=D._clipboxMask)}if(this._boxClipperVersion++,0==(16^A)&&(A|=1),A!==this._boxClipperTypes){if(A){se||(B=(n=u1(j["clipbox.fs.body"],!0)).match(ie),we=n.slice(0,B.index)+"if ($TEMPLATE) {"+n.slice(B.index+B[0].length),n=B[0],se=n.slice(n.indexOf("(")+1,n.lastIndexOf(")")).split("||").map(function(p){return p.trim()}));for(var B,n,k=[],S=0;S<se.length;S++)A&1<<S&&k.push(se[S]);this._clipboxShaderChunkFS=we.replace("$TEMPLATE",k.join(" || "))}else this._clipboxShaderChunkFS="";this._boxClipperTypes=A}}),_49Q:function(){this._4AQ||this._48Q||this.dm().size()<H$.graph3dViewDataNumWarningLine||(this._48Q=!0,console.log("Too many datas so than disable some feature to speed up.\nYou can set global Default.graph3dViewDataNumWarningLine to largeEnoughNum to avoid this, or call graph3dView.quitDataNumWarning() to quit.\n"),this.enableQuickVisibleMode(),this.getHighlightHelper().mouseOverData=null)},quitDataNumWarning:function(){this.disableQuickVisibleMode(),this._48Q=!1,this._4AQ=!0},invalidateFlowObjects:function(p,E){var b=this._flowObjects;p?!!p.s("effect.flow")==(E=!!E)?b.indexOf(p)<0&&b.push(p):0<=(E=b.indexOf(p))&&b.splice(E,1):(b=this._flowObjects=[],this.dm().each(function(p){p.s("effect.flow")&&b.push(p)})),this.iv()},invalidateTransmissionObjects:function(p,E){var b=this._transmissionObjects;p?!!p.s("shape3d.transmission")==(E=!!E)?b.indexOf(p)<0&&b.push(p):0<=(E=b.indexOf(p))&&b.splice(E,1):(b=this._transmissionObjects=[],this.dm().each(function(p){p.s("shape3d.transmission")&&b.push(p)})),this.iv()},invalidateLight:function(){this._lightChanged||(this._lightChanged=!0,this.iv())},onPropertyChanged:function(p){if(p=p.property,this.iv(),this._18Q=r$,"eye"===p)this._33Q=!0;else if("devicePixelRatio"===p)this._42(this.getDevicePixelRatio());else if("batchInstancedDisabled"===p){this._genBatchInstancedArrayFunc();var E,b=H$.getBatchInfoMap();for(E in b)b[E]&&b[E].instanced&&this.invalidateBatch(E);for(E in b=this._batchInfoMap)b[E]&&b[E].instanced&&this.invalidateBatch(E)}},_5O:function(p){var E=p.get3dUIClass();return E?new E(this,p):r$},getData3dUI:function(p){var E=this._25I[p._id];return E===K$&&(E=this._5O(p),this._25I[p._id]=E),E},invalidateAll:function(p,E){var b=this;if(p){for(var Z in b._25I)(Z=b._25I[Z])&&Z.dispose();b._25I={},b.iv(),wL(b)}else wL(b),b.dm().each(function(p){b.invalidateData(p)});b.shadowMap.tryInvalidateLater(p,E)},invalidateSelection:function(){var E=this;E.sm().each(function(p){E.invalidateData(p)})},invalidateData:function(p){var E=this.getData3dUI(p);E&&(E.iv(),this.iv()),wL(this,p)},getShape3dText:function(p){return p.getStyle("shape3d.text")||this.getLabel(p)},invalidateBatch:function(E){var b=this;b._40Q.each(function(p){b._invalidateBatch(E,p.batchModelMap,p.batchIndexMap),b._invalidateBatch("T"+E,p.wireframeModelMap,p.wireframeIndexMap),b._invalidateBatch("O"+E,p.wireframeModelMap,p.wireframeIndexMap),p.markBatchInvalid()}),b.iv()},_invalidateBatch:function(p,E,b){var Z=this,o=E[p];o&&(o.ds.forEach(function(p){var E=Z.getData3dUI(p);E&&(E.iv(),E.invalidateWireframe()),delete b[p._id]}),iL(Z,p,o,E)&&o.ds&&0<o.ds.length&&(o.ds.length=0))},handleDataModelChange:function(p){var E,b,Z=this,o=p.kind,p=p.data;"add"===o?(Z.invalidateData(p),J1(p)&&p.getEdgeGroup()&&p.getEdgeGroup().eachSiblingEdge(Z.invalidateData,Z),Aj(p)&&Z.invalidateLight(),p.s("3d.clipbox")&&Z.invalidateBoxClipper(p,!0),p.s("effect.flow")&&Z.invalidateFlowObjects(p,!0),p.s("shape3d.transmission")&&Z.invalidateTransmissionObjects(p,!0),Z._49Q()):o===Nl?(E=p._id,(b=Z._25I[E])&&(b.dispose(),delete Z._25I[E],Z.iv()),p===Z._currentSubGraph&&Z.setCurrentSubGraph(r$),wL(Z,p),Aj(p)&&Z.invalidateLight(),p.s("3d.clipbox")&&Z.invalidateBoxClipper(p,!1),p.s("effect.flow")&&Z.invalidateFlowObjects(p,!1),p.s("shape3d.transmission")&&Z.invalidateTransmissionObjects(p,!1),p.isAnimationPlaying()&&p.stopAnimation()):o===Ol&&(Z.invalidateAll(!0),Z.setCurrentSubGraph(r$),wL(Z),Z.invalidateLight(),Z.invalidateBoxClipper(),Z.invalidateFlowObjects(),Z.invalidateTransmissionObjects())},toCanvas:function(p,E,b){this._renderNonEditableAtRatio(1,p);for(var Z=this.getWidth()||1,o=this.getHeight()||1,A=new Uint8Array(Z*o*4),l=(p=kW()).getContext("2d"),V=(this.getGL().readPixels(0,0,Z,o,6408,5121,A),mW(p,Z,o,1),l.getImageData(0,0,Z,o)),c=V.data,S=0;S<c.length;S+=4){var I=S/4,D=z$(I/Z);c[I=4*((o-1-D)*Z+(I-D*Z))]=A[S],c[1+I]=A[S+1],c[2+I]=A[S+2],c[3+I]=A[S+3]}return l.putImageData(V,0,0),this._42(this.getDevicePixelRatio()),E&&b?(V=(l=kW()).getContext("2d"),mW(l,E,b,1),H$.drawImage(V,p,0,0,E,b),l):p},toDataURL:function(p,E){return this._renderNonEditableAtRatio(1,p),p=this._canvas.toDataURL(E||"image/png",1),this._42(this.getDevicePixelRatio()),p},_renderNonEditableAtRatio:function(p,E){var b,Z=this.getGL();this.validate(),E&&(b=Z.getParameter(3106),Oj(Z,E)),this._dynamicRatio=p,this._42(p,{renderAxis:!1,renderEdit:!1,renderGrid:!1}),this._dynamicRatio=K$,E&&Oj(Z,b)},isWebGL2:function(){return 2===this._webGLVersion},getGL:function(){var p,E,b,Z=this._26I;if(Z)return Z;if(!this._35O&&!this._hibernating){if("undefined"==typeof WebGLRenderingContext)throw new Error("WebGL not supported.");var o=this,A=o._canvas,l=o._attributes;if(!l||!1!==l.requestWebGL2)try{(Z=A.getContext("webgl2",l)||A.getContext("experimental-webgl2",l))&&(o._webGLVersion=2,o._26I=Z)}catch(Z){}if(!Z)try{Z=A.getContext("webgl",l)||A.getContext("experimental-webgl",l)}catch(Z){throw new Error("Failed to initialize WebGL.")}if(Z)return o._26I=Z,A=o._frameState=new tn(o,Z),o._glExtensions=new CN(Z),o._glCapabilities=new hN(Z,o._glExtensions),o._glUbos=new PN(o,Z,o._glCapabilities,l&&l.forceNoUniformBuffer),o._glPrograms=new rE(o,Z),o._2O={},Z._emptyCubeTexture=(p=Z,b=new Uint8Array(4),E=p.createTexture(),p.activeTexture(33984),p.bindTexture(34067,E),p.texParameteri(34067,10240,9729),p.texParameteri(34067,10241,9729),p.texImage2D(34069,0,6408,1,1,0,6408,5121,b),p.texImage2D(34070,0,6408,1,1,0,6408,5121,b),p.texImage2D(34071,0,6408,1,1,0,6408,5121,b),p.texImage2D(34072,0,6408,1,1,0,6408,5121,b),p.texImage2D(34073,0,6408,1,1,0,6408,5121,b),p.texImage2D(34074,0,6408,1,1,0,6408,5121,b),E),Z._compiledShader={},Z._emptyTexture=Cj(Z),Z._emptyBlendTexture=Cj(Z),Z._4NQ={},Z._id=++Mn,Z._4KQ={},A.setGLState(),o._buffer={vs:hj(Z),ns:hj(Z),is:hj(Z),uv:hj(Z),batchColor:hj(Z),batchBlend:hj(Z),batchBrightness:hj(Z),lineDistance:hj(Z)},Z._sharedTexture=xj(o,Z),Z._sharedTexturePool=[],l=o._cube={vs:hj(Z),ns:hj(Z),is:hj(Z),uv:hj(Z)},oL(Z,l.vs,Cd),oL(Z,l.ns,yd),oL(Z,l.uv,Pd),VL(Z,l.is,hd),o._genBatchInstancedArrayFunc(),Z._renderInfo={calls:0,vertices:0,faces:0,lines:0,points:0,textureCache:{time:0,count:0,pixels:0},frame:0,cacheTimeCost:0,reflectDepth:0},Z._renderTargetStack=[],Z._dynamicTexturePool={},Z;throw new Error("Failed to initialize WebGL.")}},getGLCapabilities:function(){if(this.getGL())return this._glCapabilities},getGLExtensions:function(){if(this.getGL())return this._glExtensions},getGLExtension:function(p){var E=this.getGLExtensions();return E&&E.get(p)||!1},getGLState:function(){var p=this.getGL();if(p)return g$.for(p).glState},getShaderChunk:function(p){var E;return"clipbox.fs.body"===p?this._clipboxShaderChunkFS||"":(E=j[p])?u1(E,!0):H$.getShaderChunk(p)},_releaseGLResource:function(){var E=this,p=E.getGL();if(p){p._renderInfo&&E._doBufferGC(p,!0),E._glPrograms.dispose(),mW(E._canvas,0,0),["_highlightHelper","shadowMap","flowMap","_envmapRenderer","_postProcessing","_depthPeelingRenderer"].forEach(function(p){(p=E[p])&&p.dispose()});var b,Z,o,A=E._25I;for(Z in A)(b=A[Z])&&b.dispose();for(o in E._2O)E.deleteTexture(o);for(o in p)"string"==typeof o&&"_"===o[0]&&(zj(E,p[o]),delete p[o]);return E._1o.dispose(),!0}},dispose:function(p){this._releaseGLResource()&&(this.fireViewEvent("dispose"),p&&this.forceLoseContext(),this._26I=r$)},hibernate:function(){this._releaseGLResource()&&(this.fireViewEvent("hibernate"),this._hibernating=!0,this._26I=r$)},wakeup:function(){delete this._hibernating,this.iv(),this.fireViewEvent("wakeup")},disposeAllPrograms:function(){this._glPrograms.dispose()},forceLoseContext:function(){var p=this.getGLExtension("WEBGL_lose_context");p&&(this._26I=r$,p.loseContext(),this._35O=!0,this._loseContextExt=p)},forceRestoreContext:function(){var p=this._loseContextExt||this.getGLExtension("WEBGL_lose_context");p&&p.restoreContext()},getShadowMap:function(){return this.shadowMap},invalidateShape3dAttribute:function(p,E){delete p._complete_,(p=p[E])&&p._bufId&&delete p._bufId},getEnvmap:function(){return this._glCapabilities&&this._glCapabilities.maxVertexTextures<H$.graph3dEnvmapCapabilityRequire?null:this.dm().getEnvmap()},setEnvmap:function(p){this.dm().setEnvmap(p)},getEnvmapType:function(){var p,E=this.dm();return(E?E.getEnvmapType():p)||"legacy"},setEnvmapType:function(p){this.dm().setEnvmapType(p)},setEnvmapExtraQuaternion:function(p){this._envmapExtraQuaternion=p instanceof f.Quaternion?p.clone().inverse().toArray():null},invalidateEnvmap:function(p){return this._envmapRenderer.invalidateEnvmap(p)},invalidateEnvmapUsedByMaterial:function(p){return this._envmapRenderer.invalidateEnvmapUsedByMaterial(p)},isEnvmapUsedByMaterialReady:function(p){return this._envmapRenderer.isEnvmapUsedByMaterialReady(p)},_setEnvmapByProbeId:function(p,E,b){return this._envmapRenderer.setEnvmapByProbeId(p,E,b)},_tryInvalidateEnvmap:function(){var p=this.getEnvmapType();p!==this._lastProgramEnvmapType&&(this._envmapRenderer.changeEnvmapType(this._lastProgramEnvmapType=p),this.iv())},acquireProgram:function(p,E){return this._glPrograms.acquireProgram(p,E)},resolveIncludes:function(p){return this._glPrograms.resolveIncludes(p)},renderModel:function(p,E,b,Z,o){o&&!1===o.restoreViewport||b&&!1===b.restoreViewport||E&&!1===E.restoreViewport||(A=(A=this.getViewport())&&p$(A));var A,p=this._postProcessing.blitScreen(p,E,b,Z,o);return A&&this.setViewport(this.getGL(),A[0],A[1],A[2],A[3]),p},renderPrefab:function(){return this.renderModel.apply(this,arguments)},getModel3dCompMatrix:function(p,E){return this._prefabRenderer.calcMatrix(p,E,this)},isGLTempRegisterLimited:function(){return this._glTempRegisterLimited},getBrightness:function(p){var E=p.s("brightness"),p=this.isSelected(p)?p.s("select.brightness"):r$;return E==r$?p:p==r$?E:E*p},getDataHighlightMode:function(p){return p.s("highlight.mode")},getWireframe:function(p){var E=p.s("wf.visible"),b=p.s("wf.width");if(!0===E||0<b&&"selected"===E&&this.isSelected(p))return{color:p.s("wf.color"),width:b,short:p.s("wf.short"),mat:p.s("wf.mat")}},getPartPosition:function(p,E,b,Z){return Z=Z||D1,[(p=this.getData3dUI(p)._16O(Z.autoRotate,E,r$,b||el,Z.t3,Z.r3,Z.rotationMode))[12],p[13],p[14]]},_transformPointToViewSpace:function(p){return p=[p[0],p[1],p[2]],wf(p,this._viewMatrix),p},_transformDirectionToViewSpace:function(p,E){var p=p?[p[0],p[1],p[2]]:[0,0,0],E=(wf(p,this._viewMatrix),E?[E[0],E[1],E[2]]:[0,0,0]),b=(wf(E,this._viewMatrix),E[0]-p[0]),Z=E[1]-p[1],E=E[2]-p[2];return(p=Math.sqrt(b*b+Z*Z+E*E))?[b/p,Z/p,E/p]:[b,Z,E]},getWireframeGeometry:function(p){if(p.s("wf.geometry"))return{color:p.s("wf.color"),width:p.s("wf.width"),mat:p.s("wf.mat"),geometry:!0}},getBodyColor:function(p){return p.s("body.color")},getMat:function(p){return p.getMat?p.getMat():p.s("mat")},getFaceMat:function(p,E){return p.getFaceMat?p.getFaceMat(E):p.s(E+".mat")},getFaceBlend:function(p,E){return p.s(E+".blend")||p.s("all.blend")},getFaceColor:function(p,E){return p.s(E+".color")||p.s("all.color")},getFaceImage:function(p,E){return p.s(E+".image")||p.s("all.image")},getFaceBlendImage:function(p,E){return p.s(E+".blend.image")||p.s("all.blend.image")},getFaceDiscardSelectable:function(p,E){return(E=p.s(E+".discard.selectable"))==r$?p.s("all.discard.selectable"):E},getFaceUv:function(p,E){return p.s(E+".uv")||p.s("all.uv")},getFaceUvOffset:function(p,E){return p.s(E+".uv.offset")||p.s("all.uv.offset")},getFaceUvScale:function(p,E){return p.s(E+".uv.scale")||p.s("all.uv.scale")},getFaceUvRotation:function(p,E){return(E=p.s(E+".uv.rotation"))==r$?p.s("all.uv.rotation"):E},getFaceUvAnchor:function(p,E){return p.s(E+".uv.anchor")||p.s("all.uv.anchor")},getFaceLight:function(p,E){return(E=p.s(E+".light"))==r$?p.s("all.light"):E},getFaceVisible:function(p,E){return(E=p.s(E+".visible"))==r$?p.s("all.visible"):E},getFaceOpacity:function(p,E){return(E=p.s(E+".opacity"))==r$?p.s("all.opacity"):E},getFaceTransparent:function(p,E){return(E=p.s(E+".transparent"))==r$?p.s("all.transparent"):E},getFaceReverseColor:function(p,E){return p.s(E+".reverse.color")||p.s("all.reverse.color")},getFaceReverseFlip:function(p,E){return(E=p.s(E+".reverse.flip"))==r$?p.s("all.reverse.flip"):E},getFaceReverseCull:function(p,E){return(E=p.s(E+".reverse.cull"))==r$?p.s("all.reverse.cull"):E},getFaceMaterial:function(p,E){return(E=p.s(E+".material"))==r$?p.s("all.material"):E},isPicking:function(){return this._picking},renderPickScene:function(p){var E=this.getGL();E&&(this.syncRenderState(),this._picking=E._picking=!0,this._dynamicRatio=p,this.renderScene(),this._picking=E._picking=!1,this._dynamicRatio=K$)},invalidateCachedGeometry:function(p){var E=this.getData3dUI(p);E&&(E.invalidateCachedGeometry(),this.invalidateData(p))},invalidateCachedWireframe:function(b){var p,Z;b instanceof u.Data?(p=this.getData3dUI(b))&&(delete p._shapeModelCacheForWf,(p=p.shapeModel||ZE(p))&&(bd(p),b.iv())):b&&(bd(b),(Z=this).dm().each(function(p){var E=Z.getData3dUI(p);E&&(E.shapeModel||ZE(E))===b&&p.iv()}),this.iv())},isInteractive:function(p){return p.s("interactive")},redraw:function(){this.iv()},redrawLoop:function(){var p,E=this;E._redrawState||(E._redrawState=!0,(p=function(){E._redrawState&&(E.redraw(),requestAnimationFrame(p))})())},stopRedrawLoop:function(){this._redrawState&&delete this._redrawState},validateImpl:function(){var b,Z,o,A,p=this;p._hibernating||(p._lightChanged&&(p._lightChanged=!1,b=[],Z=[],o=[],A=[],p.dm().each(function(p){var E;Aj(p)&&("point"===(E=p.s("light.type"))?b.push(p):"spot"===E?Z.push(p):"directional"===E?o.push(p):"rect"===E&&A.push(p))}),p._59O=b,p._spots=Z,p._dirs=o,p._87I=A),p._attributes&&!1===p._attributes.autoDraw||p._42(),p._1o.iv())},getRenderInfo:function(){var p=this.getGL();if(p)return p._renderInfo},getDebugTip:function(){var p,E,b,Z,o,A=this.getRenderInfo();if(A)return E=(p=this.getGL())._validBufCount||0,E="Draw Calls: "+A.calls+"<br/>Vertices: "+A.vertices+"<br/>Faces: "+A.faces+"<br/>Lines: "+A.lines+"<br/>"+(A.points?"Points: "+A.points+"<br/>":"")+"Buffers: "+E+"<br/>Programs: "+(p._validProgramCount||0)+"<br/>Cache Models: "+t$.keys(ia).length+"<br/>Shape3d Models: "+t$.keys(wa).length,(Z=this.getPresentingReality())&&(E+="<br/>VR fps: "+Z.getFps()),A.textureCache&&(Z=A.textureCache.count,E+="<br/>2D Dynamic Textures: "+A.textureCache.count,0<Z&&(E+="<br/>2D Dynamic pixels: "+(1e6<(Z=A.textureCache.pixels)?Math.round(Z/1e6)+"M":1e3<Z?Math.round(Z/1e3)+"K":Math.round(Z)))),E+="<hr>WebGL "+(this.isWebGL2()?"2.0":"1.0"),(A=p._debugRendererInfo)===K$&&((Z=this.getGLExtension("WEBGL_debug_renderer_info"))&&(A=p.getParameter(Z.UNMASKED_RENDERER_WEBGL))?((Z=A.match(S1))&&5<Z.length&&(b=Z[3],Z=Z[5],A=(o=b.match(/ (Direct3D|OpenGL)/))?b.substr(0,o.index)+"<br/>"+b.substr(o.index+1):b+(Z?"<br/>"+Z:"")),p._debugRendererInfo=A):A=p._debugRendererInfo=null),A&&(E+="<br/>"+A),E},getFrameState:function(){return this._frameState},isBoundingBoxInView:(ue=new u.Math.Box3,Re=new u.Math.Matrix4,function(p){if(!(p=p instanceof u.Data?this.getData3dUI(p):p)||!p.mat)return!0;var E=p.getBoundingBox(!0);return ue.copy(E).applyMatrix4(Re.fromArray(p.mat)),this.getFrustum().intersectsBox(ue)}),updateScene:function(){var E=this,b=(E.emitPreUpdate(),E._81O=r$,E.overlappingBox.clear(),E.initSkeletonDatas(),E._40Q),Z=(b.init(),E.getGL()),p=E.dm();if(p.isHierarchicalRendering())p.eachByHierarchical(function(p){(p=E.getData3dUI(p))&&p.update(E,Z,b)});else for(var o,A=p.getDatas().getArray(),l=A.length,V=0;V<l;V++)o=A[V],(o=E.getData3dUI(o))&&o.update(E,Z,b);this._updateBoxClipperMatrix(),b.onUpdated(),E.emitPostUpdate()},_pushFrameRenderOptions:function(p){this._frameRenderOptionStack.push(this._currentFrameRenderOptions),this._currentFrameRenderOptions=p},_popFrameRenderOptions:function(p){this._currentFrameRenderOptions=this._frameRenderOptionStack.pop()},_getFrameRenderOptions:function(p){var E=this._currentFrameRenderOptions;return E&&E[p]},getRenderLists:function(){return this._40Q},_setCurrentFrameRenderId:function(p,E){var b=this._renderId++;p._renderInfo.renderId=b,this._glPrograms.setCurrentFrameRenderId(b),E&&this._glUbos.setCurrentFrameRenderId(b)},renderScene:function(p){var Z=this,o=Z.getGL();if(o){var A,l,E,b=Z._picking,V=(b||Z.emitPreRender(),Z._setCurrentFrameRenderId(o,!1),Z.genProgramDefines(),Z._frameState),c=(Z._prg=V.defaultProgram=Z.acquireProgram({type:b?"pick":"legacy",defines:{}}),Z._pushFrameRenderOptions(p),V.setGLState(!1,!0),!1!==Z._getFrameRenderOptions("renderShadowMap")&&Z.shadowMap.render(),Z.flowMap.render(),Z._envmapRenderer.onBeforeRender(o),b||Z._runTextureTasks(),Z._44Q=-1,V.renderState),p=c.glState,S=Z._prg,I=(Z._setupPVMatrix(),Math.tan(Z.getFovy()/2)),D=(Z._lodConst=1/(4*I*I*Z.getAspect()),this._glUbos.setCurrentFrameRenderId(this._renderId),Z.isReflecting(o)||Kj(Z._projScreenMatrix=qf(),Z._projectMatrix,Z._viewMatrix),V.syncEnv(b?this.pickColorMap:K$),c.useProgram(S),Y(!1,!1,!0),o.clear(256),this._41Q),B=0,n=D.length,k=o._blooming?4:b?2:1;if(t(H$.cameraPriority.skybox),b?(E=p.color.clear.slice(0),Oj(o,[0,0,0,0]),t(H$.cameraPriority.main)):(Oj(o,[0,0,0,0]),p.blend.enabled=!1,p.depth.enabled=!1,p.depth.mask=!1,Z._camera&&!1===Z._camera.s("camera.renderSky")||Z.drawSky(o,S),t(H$.cameraPriority.main),!1!==Z._getFrameRenderOptions("renderReflector")&&Z.drawReflectors(o)&&(Z._setupPVMatrix(),V.syncEnv(),Y(!0),Z._setCurrentFrameRenderId(o,!0)),p.blend.enabled=!1,p.depth.enabled=!0,p.depth.mask=!0,(A.uTransparent=!1)!==Z._getFrameRenderOptions("renderGrid")&&Z._31O._42(o)),!o.textureBatch||m$[(ONE_FRAME_TIME-6)/2]){b||(Z.shadowMap.enable&&Z.shadowMap.createShadow(A),Z.rebindOITTexture(A),Z.flowMap.createFlow(A),Z.rebindClipperMaskTexture(A));for(var j=Z._sortedRenderLayers,W=0,m=j.length;W<m;W++){var e=j[W],$=Z.getRenderLayerInfo(e);!(Z._camera||!$.ignore||$.renderForBloom&&o._blooming)||Z._camera&&!Z._camera.isLayerVisible(e)||(t($.priority)&&!b&&(Z.shadowMap.enable&&Z.shadowMap.createShadow(A),Z.rebindOITTexture(A),Z.flowMap.createFlow(A,!0),Z.rebindClipperMaskTexture(A)),this.renderLayer(e))}t(H$.cameraPriority.infinity),b||(Z._renderBonesForDebug(o,p),Z.flowMap.disableFlow(A)),nj(Z,A,0,H$.graph3dViewHeadlightAmbientIntensity),A.uHeadlightColor=[1,1,1,0],A.uUseEnvMap=!1,A.uHeadlightDirection=[0,0,0],A.uHeadlightRange=0,p.depth.enabled=!1,A.uTransparent=!1,A.shadowReceive=!1,_j(Z,A,0),b?Z.isHighlightDrawing()||Z._30O._42(o):(Z._highlightHelper._42(o),this._renderAxisAndEditHelper(!1!==Z._getFrameRenderOptions("renderAxis"),!1!==Z._getFrameRenderOptions("renderEdit")),p.blend.enabled=!1,p.depth.mask=!0),p.depth.enabled=!0,b&&Oj(o,E),oL(o,r$),VL(o,r$),Z._44Q=-1,Z._popFrameRenderOptions(null),Z._glPrograms.disableAttributes(o),b||Z.emitPostRender()}}function Y(p,E,b){p&&(c.syncLoss(),V.setGLState(E,b)),V.setUniforms(E),l=c.attribs,A=c.directUniforms(),l.disable()}function t(p){if(!0!==Z._getFrameRenderOptions("ignoreExternalCamera")){for(var E=!1;B<n;B++){var b=D[B];if(k&b.renderMask){if(b.priority>=p)break;Z._43Q[Z._44Q=b.id]&&!m$[ox.length]||(b.render(o,Z,V),Y(!0),E=!0)}}return E}}},isHighlightDrawing:function(){return!!this._inHighlightPass},_renderAxisAndEditHelper:function(p,E){if(!p&&!E)return!1;var b=this.getGL(),Z=this._frameState,o=(A=Z.renderState).glState,A=A.directUniforms();return Z.renderState.attribs.disable(),o.depth.enabled=!1,A.uTransparent=!1,A.shadowReceive=!1,o.blend.enabled=!1,o.depth.mask=!0,(Z=!this._fogDisabled)&&(A.uFog=!1),p&&this._32O._42(b),E&&this._30O._42(b),Z&&(A.uFog=!0),oL(b,r$),VL(b,r$),!0},renderLayers:function(p,E){for(var b=0,Z=(p=E?_m(p):p).length;b<Z;b++)this.renderLayer(p[b])},renderSky:function(){var p=this._frameState,E=p.renderState,b=E.glState,Z=this.getGL(),o=this._prg;this._setupPVMatrix(),Kj(this._projScreenMatrix=qf(),this._projectMatrix,this._viewMatrix),p.syncEnv(),E.useProgram(o),p.setGLState(!1,!0),p.setUniforms(!1),p.renderState.attribs.disable(),Z.clear(256),Oj(Z,[0,0,0,0]),b.blend.enabled=!1,b.depth.enabled=!1,b.depth.mask=!1,this.drawSky(Z,o),b.depth.mask=!0,b.depth.enabled=!0,oL(Z,r$),VL(Z,r$)},addRenderLayerListener:function(p,E,b){this._renderLayerNotifier||(this._renderLayerNotifier=new Rm),this._renderLayerNotifier.add(p,E,b)},removeRenderLayerListener:function(p,E){this._renderLayerNotifier&&this._renderLayerNotifier.remove(p,E)},fireRenderLayerEvent:function(p,E){var b=this._renderLayerNotifier;b&&b.fire({layer:p,phase:E})},renderLayer:function(p){var E=this,b=E._picking,Z=E._40Q.get(p);if(Z){E.fireRenderLayerEvent(p,"prepare");var o,A,l,V,c=E.getGL(),S=E.getRenderLayerInfo(p),I=(D=E._frameState.renderState).glState,D=D.directUniforms(),B=(!b&&E.isSortable()&&Z.sort(E._sortFunc,E._projScreenMatrix,E.isOpaqueSortable()),Z.resetModel3dInstancedDraw(),Z.opaque),n=Z.transparent,k=Z.batchModelMap,j=Z.batchIndexMap,W=Z.polylineModelMap,m=Z.wireframeModelMap,c=E.getGL(),e=E._prg,$=(b||(I.blend.enabled=!1,I.depth.enabled=!0,I.depth.mask=!0),(D.uTransparent=!1)!==S.clearDepth&&c.clear(256),E._4OQ),Y=!1,t=this.drawFilter;if(t){for(o=0,A=(l=B).length;o<A;o++)!0!==t((V=l[o]).data)&&V.ui._42(c,e,N);if(b)for(o=0,A=(l=n).length;o<A;o++)l[o].ui._46Q(c);ed(E,k,j)}else{for(o=0,A=(l=B).length;o<A;o++)V=l[o],Xn=K$,V.ui._42(c,e,N),Xn!==K$&&V.model3d&&!($[V.data._id]=Xn)&&(Y=!0);if(b)for(o=0,A=(l=n).length;o<A;o++)l[o].ui._46Q(c);ed(E,k,j),Wd(E,W),Wd(E,m)}if(E.fireRenderLayerEvent(p,"opaque"),b||(I.blend.enabled=!0,I.depth.mask=!1),E._45Q=D.uTransparent=!0,t){for(o=0,A=(l=n).length;o<A;o++)!0!==t(l[o].data)&&l[o].ui._42(c,e,U);ed(E,k,j,0,!0)}else{if(Y&&(n=Z.clearTransparentQueue(E._4OQ)),b||!E._oitEnabled||E.isReflecting(c)||c._blooming){for(o=0,A=(l=n).length;o<A;o++)l[o].ui._42(c,e,U);ed(E,k,j,0,!0)}else E._depthPeelingRenderer.render(n,k,j);Wd(E,W,0,!0),Wd(E,m,0,!0)}E._45Q=null,E.fireRenderLayerEvent(p,"transparent"),E.fireRenderLayerEvent(p,"post")}},isRenderTransparent:function(){return!!this._45Q},_42:function(p,E){var b=this;if(!b._35O&&(!S$||m$(S$))){var Z=b.getWidth(),o=b.getHeight();if(Z&&o){var A=b.getGL();if(A)if(b._isSkippingFrame())b.iv();else{var l=b._canvas,V=(p?V=!0:p=b.getDevicePixelRatio(),b._picking||!V&&Z===l.clientWidth&&o===l.clientHeight||(mW(l,Z,o,p),V=p,Z&&1<Math.abs(A.drawingBufferWidth-Z*p)&&(V=Math.min(V,A.drawingBufferWidth/Z)),(V=o&&1<Math.abs(A.drawingBufferHeight-o*p)?Math.min(V,A.drawingBufferHeight/o):V)!==p&&(b.setDevicePixelRatio(p=V),mW(l,Z,o,p)),b._18Q=null,b._tryFireAspectEvent()),b._attributes&&!1===b._attributes.autoClear||A.clear(16384),A._renderInfo);if(V){V.calls=0,V.vertices=0,V.faces=0,V.lines=0,V.points=0,V.textureCache={time:0,count:0,pixels:0},V.frame=++b._frameId,V.cacheTimeCost=0,V.reflectDepth=0,b.__uptime=(Date.now()-b.__startTime)/1e3,Z=l.width,o=l.height,b._gatherRenderLayersByPriority(),l=(V=this._frameState).renderState,V&&l&&(l.syncLoss(),V.setGLState()),b.emitPreFrame(),b._glPrograms.checkParallelLinkStatus();do{var c=b.getRealities();if(c){var S,I=!1;for(S in c)if(b.isRealityEnabled(S)&&(I=c[S].render(A,Z,o,E)))break;if(I)break}b.updateScene();var D=b._4JQ}while((D||!b._postProcessing.render(A,Z,o,E,0<b._transmissionObjects.length&&b.isTransmissionEnabled()||b._oitEnabled||b._depthGrabber.isEnabled()))&&(b.setViewport(A,0,0,Z,o),D?b.renderPickScene(p):b.renderScene(E),0));b._33Q=!1,b.debugCountFrame(),b.emitPostFrame(),b._doBufferGC(A),b._glPrograms.scheduleProgramGC(b._shaderGCInterval||500)}}}}},drawImmediately:function(p,E,b){if(p){var Z=this.getGL();if(!Z)return!1;Ej(Z,p),this._42(E,b),bj(Z)}else this._42(E,b)},_4IQ:function(p){this._4JQ=p,this.iv()},syncRenderState:function(){var p;(p=this._frameState)&&(p=p.renderState)&&p.syncLoss()},drawReflectors:function(p){p._renderInfo.reflectDepth++;var E,b,Z=this._dataModel.getReflectors(),o=!1;for(E in Z)b=Z[E],!this.isVisible(b)||1<p._renderInfo.reflectDepth&&!1===b.s("3d.reflectable")||(b=this.getData3dUI(b))&&b.drawReflector&&b.drawReflector(p)&&(o=!0);return p._renderInfo.reflectDepth--,o},isReflecting:function(p){return p._renderInfo.reflectDepth},isOITProcessing:function(){return this._programDefines.OIT},isRenderSceneForBloom:function(){var p=this.getGL();return!!p&&!!p._blooming},getPostProcessing:function(){return this._postProcessing},enablePostProcessing:function(p,E){return this._postProcessing.enableModule(p,E)},getPostProcessingModule:function(p){return this._postProcessing.getModule(p)},getPostProcessingValue:function(p,E){return(p=this._postProcessing.getModule(p))?p[E]:K$},setPostProcessingValue:function(p,E,b){var Z=this.getPostProcessingValue(p,E),o=this._postProcessing.getModule(p);o&&Z!==b&&("enable"===E?this.enablePostProcessing(p,b):o[E]=b,this.firePropertyChange("postProcessing."+p+"."+E,Z,b))},setDofImageFromGraphView:function(p,E,b){return this._postProcessing.getModule("Dof").setImageFromGraphView(p,E,b)},setViewport:function(p,E,b,Z,o){this._viewport=[E,b,Z,o],g$.for(p).directState().viewport=this._viewport},getRenderState:function(){return g$.for(this._26I)},getFlowBlendModeMacro:function(){return Hn[this.getFlowBlendMode()]||Hn[H$.graph3dViewFlowBlendMode]},genProgramDefines:function(){var p=this,E=(E=p.getEnvmap())&&E.length,b=((E={NUM_DIR_LIGHTS:p._dirs.length,NUM_SPOT_LIGHTS:p._spots.length,NUM_POINT_LIGHTS:p._59O.length,MAX_FLOW_OBJECT:p._flowObjects.length,FOG:!p._fogDisabled,FOG_EXP2:"exp2"===p.getFogMode(),UV_CLIP:!!p._uvClipEnabled,USE_ENVMAP:!!E,ENVMAP_TYPE_CUBE_UV:"legacy"!==p.getEnvmapType(),DASH:!p._dashDisabled,ENVMAP_ROTATE:null!=p._envmapExtraQuaternion,BATCHCOLOR:!p._batchColorDisabled,BATCHINSTANCE:!p._batchInstancedDisabled,BATCHBLEND:!p._batchBlendDisabled,BATCHBRIGHTNESS:!p._batchBrightnessDisabled,LEGACY_BACKFACE_USING_NORMALS:p._backfaceUsingNormals})[p.getFlowBlendModeMacro()]=!0,t$.assign(E,p.getBoxClipperDefines()),p.shadowMap.enable&&p.shadowMap.genShaderDefine(E),p._glPrograms);return b&&b.genPhysicalProgramKeyOfScene(p._programDefines=E),E},deleteShaderXProgram:function(p){return this._glPrograms.deleteShaderXProgram(p)},getViewport:function(){return this._viewport},setBufferGCInterval:function(p){this._bufferGCInterval=p},setShaderGCInterval:function(p){this._shaderGCInterval=p},releaseGLBuffer:function(p){var E=this.getGL();if(!E)return!1;if(!p)return this._doBufferGC(E,!0),!0;if(!(p=p._bufId))return!1;var b=E._4NQ,Z=b[p];return!!Z&&(E.deleteBuffer(Z._buf),Z._buf=null,b[p]=null,E._validBufCount=Math.max(0,E._validBufCount-1),this.iv(),!0)},_doBufferGC:function(p,E){var b,Z,o=p._4NQ,A=0,l=0,V=p._renderInfo.frame,c=this._bufferGCInterval||10;for(b in o)A++,(Z=o[b])&&(E||V-Z._fid>c?(p.deleteBuffer(Z._buf),Z._buf=null,o[b]=null):l++);if(l<A/2&&128<A){var S={};for(b in o)o[b]&&(S[b]=o[b]);p._4NQ=S}p._validBufCount=l},_swapLineMap:function(){var p=this;Vl=p._polylineModelMap,p._polylineModelMap=p._polylineModelMapSwap,p._polylineModelMapSwap=Vl,Vl=p._wireframeModelMap,p._wireframeModelMap=p._wireframeModelMapSwap,p._wireframeModelMapSwap=Vl,Vl=p._polylineIndexMap,p._polylineIndexMap=p._polylineIndexMapSwap,p._polylineIndexMapSwap=Vl,Vl=p._wireframeIndexMap,p._wireframeIndexMap=p._wireframeIndexMapSwap,p._wireframeIndexMapSwap=Vl},_updateSkyboxLater:function(p){var E=this;E._updateSkyboxState||(E._updateSkyboxState=!0,Ef(function(){E._updateSkyboxState=!1,E._updateSkybox(p)}))},_updateSkybox:function(p){var E,b,Z,o,A,l,V,c,S;this._skybox&&p&&(p=p.property,S=!1,E=this._skybox,"eye"!==p&&"forceUpdate"!==p||(b=this._camera?this._camera.getEye():this._eye,E.p3(b[0],b[1],b[2]),S=!0),"near"!==p&&"far"!==p&&"aspect"!==p&&"forceUpdate"!==p||(b=(b=E.__cachedS3__)||(E.__cachedS3__=E.getFinalScale3d()),p=Z$(b[0],b[1],b[2])/2,Z=("sphere"===E.s("shape3d")?b$(b[0],b[1],b[2]):v$(b[0]*b[0]+b[1]*b[1]+b[2]*b[2]))/2,V=this._near,c=this._far,A=Math.tan(this.getFovy()/2)*V,l=this.getAspect()*A,l=v$(l*l+A*A+V*V),l=1.01*b$(l,v$(3)*V),o=1,p<l?o=l/p:c<=Z&&(o=c*c/(V+c)/Z),o!==1/0&&1!==o&&(E.__updatingSkybox__=!0,A=b.map(function(p){return o*p}),E.s3(A),E.setScale3d(1,1,1),S=!0,delete E.__updatingSkybox__)),"color"===this.dm().a("sceneSkyboxType")?(l=E.getStyleMap()["shape3d.color"],E.__cachedColor__!==l&&(S=!0,(E.__cachedColor__=l)&&((V=(p=E.s("shape3d.image"))&&u.Default.getImageMap()[p])&&"CANVAS"===V.tagName||(p=this._skyboxColorImage||(this._skyboxColorImage=u.Math.generateUUID()),(V=u.Default.getImageMap()[p])&&"CANVAS"===V.tagName||(V=n.createElement("canvas")),u.Default.setImage(p,V)),(E.getStyleMap()["shape3d.image"]=p)&&this.getTextureMap()&&this.deleteTexture(p),u.Default.setCanvas(V,2,1024,1),(c=V.getContext("2d")).clearRect(0,0,2,1024),c.beginPath(),c.rect(0,0,2,1024),$6(c,l,function(p){return p},!1,{x:0,y:0,width:2,height:1024}),c.fill()))):E.__cachedColor__&&delete E.__cachedColor__,S&&this.invalidateData(E))},initSkybox:function(){var p=this;p._initSkyboxState||(p._initSkyboxState=!0,Ef(function(){p._initSkyboxState=!1,p._initSkyboxImpl()}))},_initSkyboxImpl:function(){var p=this.dm();return this.setSkyboxStyle({type:p.a("sceneSkyboxType"),color:p.a("sceneSkyboxColor"),image:p.a("sceneSkyboxImage"),frontImage:p.a("sceneSkyboxFrontImage"),backImage:p.a("sceneSkyboxBackImage"),leftImage:p.a("sceneSkyboxLeftImage"),rightImage:p.a("sceneSkyboxRightImage"),topImage:p.a("sceneSkyboxTopImage"),bottomImage:p.a("sceneSkyboxBottomImage"),bodyColor:p.a("sceneSkyboxBodyColor"),envmap:p.a("sceneSkyboxEnvmap"),envmapProbe:p.a("sceneSkyboxEnvmapProbe"),roughness:p.a("sceneSkyboxRoughness"),light:p.a("sceneSkyboxLight"),lightMask:p.a("sceneSkyboxLightMask"),blurSize:p.a("sceneSkyboxBlurSize"),blurResolution:p.a("sceneSkyboxBlurResolution"),diameter:p.a("sceneSkyboxDiameter"),rotationX:p.a("sceneSkyboxRotationX"),rotationY:p.a("sceneSkyboxRotationY"),rotationZ:p.a("sceneSkyboxRotationZ")},!0)},setSkyboxStyle:function(b,Z){var p=b.type,E=b.color,o=this._skybox,p=p||(!Z&&o?o.s("shape3d")||"cube":"sphere"),A={},l=!1;if("sphere"===p?(A.shape3d=p,((c=b.image)||!Z&&b.hasOwnProperty("image"))&&(A["shape3d.image"]=c,l=!0),!Z&&b.hasOwnProperty("color")&&(A["shape3d.color"]=E,l=!0)):"cube"===p?(A.shape3d=K$,["front","back","left","right","top","bottom"].forEach(function(p){var E=b[p+"Image"];(E||!Z&&b.hasOwnProperty(p+"Image"))&&(A[p+".image"]=E,l=!0)})):"color"===p&&E&&(A.shape3d="sphere",A["shape3d.color"]=E,l=!0),l||!Z&&o){var V=this.getSkybox(),c=(V||((V=new u.Node).s("light",!1),V.s("texture.wrap","clampToEdge")),(Z||b.hasOwnProperty("bodyColor"))&&(A["body.color"]=b.bodyColor),(Z||b.hasOwnProperty("envmap"))&&(A.envmap=b.envmap),(Z||b.hasOwnProperty("envmapProbe"))&&(A["envmap.probe"]=b.envmapProbe),(Z||b.hasOwnProperty("roughness"))&&(A.roughness=b.roughness),(Z||b.hasOwnProperty("light"))&&(A["shape3d.light"]=A["all.light"]=b.light),(Z||b.hasOwnProperty("lightMask"))&&(A["light.mask"]=b.lightMask),(Z||b.hasOwnProperty("blurSize"))&&(A["skybox.blur.size"]=b.blurSize),(Z||b.hasOwnProperty("blurResolution"))&&(A["skybox.blur.resolution"]=b.blurResolution),A["3d.clipbox.mask"]=0,A["effect.flow.mask"]=0,b.diameter),S=(c&&V.__cachedDiameter__!==c&&(V.__cachedDiameter__=c,V.s3(c,c,c)),V.s(A),["X","Y","Z"].forEach(function(p){(Z||b.hasOwnProperty("rotation"+p))&&V["setRotation"+p](b["rotation"+p]||0)}),this.dm().getEnvmap());if(S&&X$(S))for(var I=0,D=S.length;I<D;I++)"skybox"===S[I].type&&this.invalidateEnvmap(I);this.setSkybox(V)}else this.setSkybox(K$)},getSkyBox:function(){return this.getSkybox()},setSkyBox:function(p){return this.setSkybox(p)},getSkybox:function(){return this._skybox},setSkybox:function(E){var p,b,Z,o=this._skybox;o===E?E&&this._updateSkyboxLater({property:"forceUpdate"}):(o&&((p=o.s("shape3d.image"))&&(b=u.Default.getImage(p))&&"CANVAS"===b.tagName&&(this.getTextureMap()&&this.deleteTexture(p),u.Default.setImage(p,K$)),this._skyboxStyleMap&&o.setStyleMap(this._skyboxStyleMap),this._skyboxStyleMap=null,this._skyboxAnchor3d&&o.setAnchor3d(this._skyboxAnchor3d),this._skyboxAnchor3d=null,this._skyboxP3&&o.p3(this._skyboxP3),this._skyboxP3=null,o.onPropertyChanged=u.Node.prototype.onPropertyChanged,this.handleDataModelChange({kind:Nl,data:o})),this._skybox=E,this.ump(this._updateSkybox,this),E&&(E.removeFromDataModel(),this._skyboxStyleMap=u.Default.clone(E.getStyleMap()),this._skyboxAnchor3d=E.getAnchor3d(),E.setAnchor3d(.5,.5,.5),this._skyboxP3=E.p3().slice(0),E.s({"shape3d.reverse.flip":!0,"shape3d.reverse.cull":!1,"all.reverse.flip":!0,"all.reverse.cull":!1,"front.reverse.flip":!0,"front.reverse.cull":!1,"back.reverse.flip":!0,"back.reverse.cull":!1,"left.reverse.flip":!0,"left.reverse.cull":!1,"right.reverse.flip":!0,"right.reverse.cull":!1,"top.reverse.flip":!0,"top.reverse.cull":!1,"bottom.reverse.flip":!0,"bottom.reverse.cull":!1}),Z=E.onPropertyChanged,E.onPropertyChanged=function(p){Z.call(E,p),!E.__updatingSkybox__&&0<=["width","height","tall","scale","scaleTall"].indexOf(p.property)&&(E.__cachedS3__=K$)},this.mp(this._updateSkybox,this),this._updateSkybox({property:"forceUpdate"})),this.fp("skybox",o,E))},drawSky:function(p,E){var b,Z,o,A,l,V,c,S,I,D,B,n,k=this,j=k._skybox;j&&(A=o=0,k._camera&&!1===k._camera.s("camera.skybox.blur")||(o=j.s("skybox.blur.size"),A=j.s("skybox.blur.resolution"),0===o&&0===A||(c=A||k.getDevicePixelRatio(),(b=p._blurRTT)||(b=p._blurRTT=new R.RenderTarget(k,null,null,{})),l=k.getWidth()*c,c=k.getHeight()*c,b.setSize(p,l,c),Z=p$(k._viewport),k.setViewport(p,0,0,l,c),b.bind(p))),l=g$.for(p).directUniforms(),c=k._headlightIntensity,V=W6(k._headlightColor),E=k._prg,1!==c&&(V=[V[0]*c,V[1]*c,V[2]*c]),l.uHeadlightColor=[V[0],V[1],V[2],1],(c=k.getData3dUI(j))&&((I=(S=k.isOrtho())||this._computedProjectMatrix)&&(D=k._projectMatrix,S&&(k._ortho=!1),l.uProjectMatrix=k._projectMatrix=gj(k,!0)),n=j.p3(),B=(this._camera||this).getEye(),n[0]===B[0]&&n[1]===B[1]&&n[2]===B[2]||(j._position.x=B[0],j._54O=B[1],j._position.y=B[2]),c.validate(),c._42(p,E,C),I&&(S&&(k._ortho=!0),l.uProjectMatrix=k._projectMatrix=D)),p.clear(256),l.uHeadlightColor=[V[0],V[1],V[2],k._headlightDisabled?1:0],0===o&&0===A||(b.unbind(p),0!==o&&(n=k.getPostProcessingModule("Blur"))&&n.drawImpl(p,b,o,!1,4<o?4:2<o?3:1<o?2:1),k.setViewport(p,Z[0],Z[1],Z[2],Z[3]),k.renderModel(null,{type:"blitScreen",image:b.texture,defines:{DITHERING:!1}},{clear:!1})))},getLogicalPoint:function(p){return Gf(p,this._canvas)},isRectOverlapping:function(p){return this.getData3dUI(p)._rectOverlapping},getHitFaceInfo:function(p){p.target&&(p=this.lp(p));var E=this.getDataInfoAt(p);return E&&(p=this.intersectObject(p,E.data))?{data:E.data,face:p.part}:r$},unproject:function(p,E){var b=this.getWidth(),Z=this.getHeight(),b=((p=p.target?this.lp(p):p).x-b/2)/b*2,p=-1*(p.y-Z/2)/Z*2,Z=(E=E||0,qf()),o=gj(this),A=Tj(this);return Kj(Z,o,A),$j(Z),[(o=ff([b,p,E,1],Z))[0]/o[3],o[1]/o[3],o[2]/o[3]]},getDataAt:function(p){return(p=this.getDataInfoAt(p))?p.data:r$},getDataInfoAt:function(p,E,b){return p.target&&(p=this.lp(p)),this._1o.get(g1(p.x,p.y,E),!0,b)},getDataInfoDuringInteract:function(p,E){var b=this.getDataInfoAt(p);if(!this.isBlockSelectable()||!b||!b.data)return b;if(!E&&this.isSelected(b.data))return b;for(var Z=this.sm().ld(),o=H$.blockThroughContinuous,A=b.data;(A=A.getParent())&&A instanceof u.Block&&(!Z||!Z.isDescendantOf(A));)if(this.isSelectable(A)&&A.isSyncSize()){var l=this.isSelected(A);if(l&&E)break;if(b={data:A,part:b.part},l&&!E)break}else if(!o)break;return b},getDatasInRect:function(p,E){return this._1o.get(p,!1,E)},setEditable:function(p){var E=this._editable;this._editable=p,this.fp(ax,E,p)},isEditable:function(p){return p?!!this._editable&&!!y(p)&&!!p.s("3d.editable")&&(!this._editableFunc||this._editableFunc(p)):this._editable},isSelectable:function(p){return p.s("3d.selectable")&&this.sm().isSelectable(p)},isMovable:function(p){return(!J1(p)||p.getStyle(Bx)===sl)&&!!p.s("3d.movable")&&(!this._movableFunc||this._movableFunc(p))},isSizeEditable:function(p){return!!y(p)&&(!this._sizeEditableFunc||this._sizeEditableFunc(p))},isRotationEditable:function(p){return!(!y(p)||!1===p.IRotatable)&&(!this._rotationEditableFunc||this._rotationEditableFunc(p))},handleDelete:function(p){this._editable&&this.removeSelection()},zoomIn:function(p){this.setZoom(_q,p)},zoomOut:function(p){this.setZoom(1/_q,p)},setZoom:(_e=new G$,ve=new G$,Qe=new G$,qe=new G$,function(p,E){if(1!==p){var b=this;b._14o&&b._14o.stop(!0);var Z,o=1/p,A=(_e.copy(b.getCenter()),ve.copy(b.getEye()),b._ortho);if(A){if((Z=b._orthoWidth)<b._moveStep&&1<p)return}else if(_e.distanceTo(ve)<b._moveStep&&o<1)return;var l=!1;if(!1===b._zoomToCenter&&b._lastZoomLP&&(Qe.copy(ve).sub(_e).normalize(),b._81O=null,qe.copy(b.getHitPosition(b._lastZoomLP,_e.toArray(),Qe.toArray())),l=!0,b._lastZoomHit=qe),E=v1(E))return E.action=function(p){b.fi({kind:b._zooming?"betweenZoom":"beginZoom"}),b._zooming=1,p=(o-1)*p+1,A&&b.setOrthoWidth(Z*p),l?(b.setEye(Qe.lerpVectors(qe,ve,p).toArray()),b.setCenter(Qe.lerpVectors(qe,_e,p).toArray())):A||b.setEye(Qe.lerpVectors(_e,ve,p).toArray())},E._37o=function(){delete b._14o,delete b._zooming,b.fi({kind:"endZoom"}),b.onZoomEnded()},b._14o=Af(E);A&&b.setOrthoWidth(Z*o),l?(b.setEye(Qe.lerpVectors(qe,ve,o).toArray()),b.setCenter(Qe.lerpVectors(qe,_e,o).toArray())):A||b.setEye(Qe.lerpVectors(_e,ve,o).toArray())}}),setOutsidePickSource:function(p){this.pickColorMap._outside=p},setModelMatrixProcess:function(p,E){this._modelMatrixProcess!==p&&(this._modelMatrixProcess=p,this.invalidateAll()),this._modelMatrixReverseProcess=E},hasModelMatrixProcess:function(){return!!this._modelMatrixProcess},processModelMatrix:function(p){if(!this._modelMatrixProcess)return p;try{return this._modelMatrixProcess(p)}catch(p){return K$}},reverseProcessModelMatrix:function(p){if(!this._modelMatrixProcess)return p;if(!this._modelMatrixReverseProcess)return K$;try{return this._modelMatrixReverseProcess(p)}catch(p){return K$}},createNodeFinalMatrix:function(p,E){if(!this._modelMatrixProcess)return E||Am(p,this.getMat(p));var b,Z=this.getData3dUI(p);return Z.s("shape3d.distortion.ignore")?E||Am(p,this.getMat(p)):Z.s("autorotate")||Z.s("shape3d.autorotate")?(Z=lm(r$,r$,r$,"xzy",p.p3(),r$,r$),Z=this._modelMatrixProcess(Z),(b=lm(r$,p.getFinalScale3d(),p.getFinalRotation3d(),p.getRotationMode(),r$,r$,this.getMat(p)))[12]=Z[12],b[13]=Z[13],b[14]=Z[14],b):E?this._modelMatrixProcess(E):(Z=Am(p,this.getMat(p)),this._modelMatrixProcess(Z))},setOrthoZoom:function(p,E){return this.setZoom(p,E)},getPositionInfo:function(p){var E=this._eye,b=this._center,Z=this.getAspect(),p=p?Qf(_f(b,E,!0),_f(p,E)):$f(E,b);return this._ortho?{length:p,height:(E=this._orthoWidth)/Z,width:E}:{length:p,height:b=w$(this._fovy/2)*p*2,width:b*Z}},getCenterInfo:function(){return this._81O||(this._81O=this.getPositionInfo()),p$(this._81O)},rotate:function(b,Z,p,o){var A=this;if(b||Z){o==r$&&(o=A._firstPersonMode),A._88O&&A._88O.stop(!0);var E=A._center,l=A._eye,V=A.getCenterInfo().length,c=o?E:l,S=o?l:E,I=_f(c,S),D=A.getExternalSceneRotation(),B=(D&&G$.arrayApplyQuaternion(I,I,D),i$(I[0],I[2])),n=i$(v$(I[0]*I[0]+I[2]*I[2]),I[1]),k=o?Hl:Ml;if(o&&(Z=-Z),p=v1(p))return p.action=function(p){A.fi({kind:A._rotating?"betweenRotate":"beginRotate"}),A._rotating=1;var E=B+b*p,p=n+Z*p,p=o?R$-kj(A,R$-p):kj(A,p);I[0]=V*k$(p)*k$(E),I[1]=V*M$(p),I[2]=V*k$(p)*M$(E),D&&G$.arrayApplyQuaternion(I,I,D.inverse()),c[0]=S[0]+I[0],c[1]=S[1]+I[1],c[2]=S[2]+I[2],A.fp(k,r$,c)},p._37o=function(){delete A._88O,delete A._rotating,A.fi({kind:"endRotate"}),A.onRotateEnded()},A._88O=Af(p);B+=b,n+=Z,n=o?R$-kj(A,R$-n):kj(A,n),I[0]=V*k$(n)*k$(B),I[1]=V*M$(n),I[2]=V*k$(n)*M$(B),D&&G$.arrayApplyQuaternion(I,I,D.inverse()),c[0]=S[0]+I[0],c[1]=S[1]+I[1],c[2]=S[2]+I[2],A.fp(k,r$,c)}},pan:function(p,E,b,Z){if(p||E){var o,A,l=this;Z==r$&&(Z=l._firstPersonMode),l._89O&&l._89O.stop(!0);var p=[(V=Tj(l))[0]*p,V[4]*p,V[8]*p],V=[V[1]*E,V[5]*E,V[9]*E],c=p[0]+V[0],S=p[1]+V[1],I=p[2]+V[2],D=l._center,B=l._eye;if(Z&&(E=JL(l.getBoundaries(),B[0],B[2],B[0]+c,B[2]+I,v$(c*c+I*I)),c=E[0],I=E[1]),b=v1(b))return o=p$(B),A=p$(D),b.action=function(p){l.fi({kind:l._panning?"betweenPan":"beginPan"}),l._panning=1,D[0]=A[0]+c*p,D[1]=A[1]+S*p,D[2]=A[2]+I*p,B[0]=o[0]+c*p,B[1]=o[1]+S*p,B[2]=o[2]+I*p,l.fp(Ml,r$,B),l.fp(Hl,r$,D)},b._37o=function(){delete l._89O,delete l._panning,l.fi({kind:"endPan"}),l.onPanEnded()},l._89O=Af(b);D[0]+=c,D[1]+=S,D[2]+=I,B[0]+=c,B[1]+=S,B[2]+=I,l.fp(Ml,r$,B),l.fp(Hl,r$,D)}},walk:function(E,p,b){if(E){var Z,o,A=this,l=(b==r$&&(b=A._firstPersonMode),A._90O&&A._90O.stop(!0),A._center),V=A._eye,c=_f(l,V,!0);if(b){if(b=JL(A.getBoundaries(),V[0],V[2],V[0]+c[0]*E,V[2]+c[2]*E,a(E)),!(E=$f(b)))return;c=[b[0]/E,0,b[1]/E]}if(p=v1(p))return Z=p$(V),o=p$(l),p.action=function(p){A.fi({kind:A._walking?"betweenWalk":"beginWalk"}),A._walking=1,p*=E,V[0]=Z[0]+c[0]*p,V[1]=Z[1]+c[1]*p,V[2]=Z[2]+c[2]*p,l[0]=o[0]+c[0]*p,l[1]=o[1]+c[1]*p,l[2]=o[2]+c[2]*p,A.fp(Ml,r$,V),A.fp(Hl,r$,l)},p._37o=function(){delete A._90O,delete A._walking,A.fi({kind:"endWalk"}),A.onWalkEnded()},A._90O=Af(p);V[0]+=c[0]*E,V[1]+=c[1]*E,V[2]+=c[2]*E,l[0]+=c[0]*E,l[1]+=c[1]*E,l[2]+=c[2]*E,A.fp(Ml,r$,V),A.fp(Hl,r$,l)}},handleScroll:function(p,E){sq(p);var b=this,Z=b._moveStep,o=b.getDataInfoAt(p);if((o=o&&o.data)&&b.isInteractive(o)){var A=b.intersectObject(p,o);if(A&&(A=A.part,(A=Q(o.s(A+".image")||o.s("shape3d."+A+".image")||o.s("all.image")||o.s("shape3d.image")))&&O(A.scrollable,o,b)))return}b.isFirstPersonMode()?b.isPannable()&&b.pan(0,0<E?Z:-Z):b.isZoomable()&&(b._lastZoomLP=b.lp(p),b.setZoom(E<0?1/vq:vq),b._lastZoomLP=b._lastZoomHit=null)},handlePinch:function(p,E){!this.isZoomable()||Math.abs(p-E)<H$.pinchZoomThreshold||this.setZoom(p<E?1/Qq:Qq)},setLightProbe:function(p,E){if("string"==typeof p&&(p=(p=FL(p))&&u.Default.clone(p)),E==K$&&(E=1),p&&E){if(9===p.length){for(var b=0;b<9;b++)p[b][0]*=E,p[b][1]*=E,p[b][2]*=E;this.lightProbe=p}else if(27<=p.length)for(var Z=this.lightProbe=[],b=0;b<9;b++)Z[b]=[p[3*b]*E,p[3*b+1]*E,p[3*b+2]*E]}else this.lightProbe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];return this.iv(),!1},getLightProbe:function(){return this.lightProbe},reset:function(p){this.setUp(H$.graph3dViewUp),this.moveCamera(H$.graph3dViewEye,H$.graph3dViewCenter,p)},moveSelection:function(p,E,b){this.dm().beginTransaction(),u6(this.sm().toSelection(this.isMovable,this),p,E,b),this.dm().endTransaction()},getMoveMode:function(p,E){return(E=E.s("3d.move.mode"))?E:jf(p)||fa[88]&&fa[89]&&fa[90]?"xyz":fa[88]&&fa[89]?"xy":fa[88]&&fa[90]?"xz":fa[89]&&fa[90]?"yz":fa[88]?"x":fa[89]?"y":fa[90]?"z":"xz"},handleTick:function(){this._31Q||JN(this)},handleKeyDown:function(p){!Wf(p)&&S6[p.keyCode]?this.handleTick():sW(p)?this.selectAll():wW(p)?this.handleDelete(p):l6(p)&&this.isResettable()&&this.reset()},checkDoubleClickOnNote:function(p,E,b){if(b===bx){if(E.s("note.toggleable"))return E.s(cx,!E.s(cx)),this.fi({kind:"toggleNote",event:p,data:E,part:b}),!0}else if(b===Zx&&E.s("note2.toggleable"))return E.s(Sx,!E.s(Sx)),this.fi({kind:"toggleNote2",event:p,data:E,part:b}),!0;return!1},checkDoubleClickOnRotation:function(p,E,b){return b===Rn?(E.setRotationX(0),!0):b===sn?(E.setRotationY(0),!0):b===wn&&(E.setRotationZ(0),!0)},onRotateEnded:function(){},onWalkEnded:function(){},setPickAsync:function(p){this._1o.setAsync(p)},getViewRatio:function(p){if(this.isOrtho())return this.getWidth()/this.getOrthoWidth();var E=this.getCenter(),b=this.getHeight(),Z=this.getEye(),E=[E[0]-Z[0],E[1]-Z[1],E[2]-Z[2]],p=[p[0]-Z[0],p[1]-Z[1],p[2]-Z[2]];return b*Math.sqrt(E[0]*E[0]+E[1]*E[1]+E[2]*E[2])*(1/Math.tan(this.getFovy()/2))/(p[0]*E[0]+p[1]*E[1]+p[2]*E[2])},inViewSpace:(ze=new RB,function(p){ze.set(p[0],p[1],p[2],1).applyMatrix4(this.getPVMatrix()).divideScalar(ze.w);var p=ze.x,E=ze.y,b=ze.z;return-1<p&&p<1&&-1<E&&E<1&&-1<b&&b<1}),getPVMatrix:function(p){var E;return!p&&(E=this._18Q)||(E=gj(this),this._18Q=Kj(E,E,Tj(this)),this._18Q._wh=this.getWidth()/2/this.getHeight()),E},getFrustum:(Ue=new T$,Ne=new j3,Oe=new Array(16),function(){for(var p=this.getPVMatrix(),E=!1,b=0;b<16;b++)p[b]!==Oe[b]&&(E=!0,Oe[b]=p[b]);return E&&Ne.setFromMatrix(Ue.fromArray(p)),Ne}),toViewPosition:function(p){var E=this.getWidth()/2,b=this.getHeight()/2,Z=this.getPVMatrix();return{x:E+E*(p=ff([p[0],p[1],p[2],1],Z))[0]/p[3],y:b-b*p[1]/p[3],z:p[2]/p[3]}},getHitPosition:function(p,E,b){var Z=this.getWidth(),o=this.getHeight(),A=(p=p.target?this.lp(p):p).x-Z/2,p=p.y-o/2,l=this.getCenterInfo(),V=Tj(this),Z=(E=E||[0,0,0],b=b||[0,1,0],A=A/Z*l.width,p=-1*p/o*l.height,[V[0]*A,V[4]*A,V[8]*A]),o=[V[1]*p,V[5]*p,V[9]*p],l=[Z[0]+o[0],Z[1]+o[1],Z[2]+o[2]],A=this.getCenter();return Wj(this,E,b,[l[0]+A[0],l[1]+A[1],l[2]+A[2]])||[0,0,0]},intersectObject:function(p,E){return this._raycaster.intersectObject(p,E)},intersectObjects:function(p,E,b){return this._raycaster.intersectObjects(p,E,b)},serializePhysicalShader:function(){return this._glPrograms.serializePhysicalShader()},deserializePhysicalShader:function(p){return this._glPrograms.deserializePhysicalShader(p)},getLineLength:function(p){return this.validate(),(p=this.getData3dUI(p))&&p.getCache&&(p=p.getCache())?p[p.length-1].length:0},getLineOffset:function(p,E,b){var Z=this.getData3dUI(p);if(Z&&Z.getCache&&(Z=Z.getCache())){var o,Z=lE(Z,E,b);if(p.s("shape3d")!==al)return Z;if(p.getScale3d&&1===(A=p.getScale3d())[0]&&1===A[1]&&1===A[2]&&(A=null),!(o=p.r3&&0===(o=p.r3())[0]&&0===o[1]&&0===o[2]?null:o)&&!A)return Z;var A,E=new G$(p.p3()),b=new G$(Z.point).sub(E),Z=new G$(Z.tangent).add(b);return A&&(A=new G$(A),b.multiply(A),Z.multiply(A)),o&&(A=(new uB).setFromEuler(new Zq(o,p.getRotationMode(),!0)),b.applyQuaternion(A),Z.applyQuaternion(A)),{point:b.clone().add(E),tangent:Z.sub(b).normalize()}}return r$},_genBatchInstancedArrayFunc:function(){var p=this._glCapabilities&&this._glCapabilities.instancedArray&&!this._batchInstancedDisabled,V=p?ld:Vd,Z=(this.batchInstancedModel=function(p,E,b,Z,o,A,l){V(this,p,E,b,Z,o,A,l)},p?Sd:Id),A=(this.batchInstancedShapeFace=function(p,E,b){Z(p,E,b)},p?Dd:Bd);this.batchInstancedFace=function(p,E,b,Z,o){A(this,p,E,b,Z,o)}},isLabelVisible:function(p){return!0},isNoteVisible:function(p){return!0},skipNonSelectableOnPick:function(p,E){return!E&&!this.isHighlightDrawing()&&!p.s("static")},moveCamera:function(p,E,b){var Z=this,o=[(o=Z.getEye())[0],o[1],o[2]],A=[(A=Z.getCenter())[0],A[1],A[2]];if(p=p||o,E=E||A,Z._flyAnim&&Z._flyAnim.stop(),!(b=v1(b)))return Z.setEye(p[0],p[1],p[2]),Z.setCenter(E[0],E[1],E[2]),delete Z._flyAnim,!0;var l=[p[0]-o[0],p[1]-o[1],p[2]-o[2]],V=[E[0]-A[0],E[1]-A[1],E[2]-A[2]];return b.action=function(p){Z.setCenter(A[0]+V[0]*p,A[1]+V[1]*p,A[2]+V[2]*p),Z.setEye(o[0]+l[0]*p,o[1]+l[1]*p,o[2]+l[2]*p)},b._37o=function(){delete Z._flyAnim},Z._flyAnim=Af(b)},flyTo:(Le=new G$,xe=new G$,Ce=new G$,he=new G$,Pe=new G$,ye=new T$,ae=new u.Math.Quaternion,Je=new Zq,de=new fB,function(p,E,b){var Z,o,A=this,l=(E=("boolean"==typeof E?{animation:E}:E)||{}).center,V=E.distance,c=E.direction,S=E.worldDirection,I=b||E.ratio||.8,D=E.xRatio||I,I=E.yRatio||I,B=((b!==K$||E.duration||E.frames)&&(E={animation:E}),[]),b=V===K$;if(l&&Ce.fromArray(l),!l||b)if((p=1===(p=p||A.dm().getDatas()).length?a1(p)?p.get(0):p[0]:p)instanceof u.Node)l||Ce.fromArray(p.p3()),b&&(aN(B,A,p),Z=B.length);else{if(!p.length)return;if(!(!b&&l||(B=[],p.forEach(function(p){aN(B,A,p)}),Z=B.length)))return;l||(de.setFromPoints(B),Ce.copy(de.min).add(de.max).multiplyScalar(.5))}A._flyAnim&&A._flyAnim.stop(),Le.fromArray(A.getEye()),xe.fromArray(A.getCenter()),A.setCenter(Ce.x,Ce.y,Ce.z),he.subVectors(Le,xe),(c||S)&&(!S&&p instanceof u.Node?ae.setFromEuler(Je.set(p.r3(),p.getRotationMode(),!0)):ae.set(0,0,0,1),l=he.length(),he.fromArray(S||c).applyQuaternion(ae).setLength(l));var n=new G$(A.getUp()),k=f.fequal(n.x,0,1e-5)&&f.fequal(n.z,0,1e-5),j=(k&&0===he.x&&0===he.z&&(p=he.y,he.y=.999*p,he.z=.001*Math.sign(p)),0);if(b){var W,m,e,$=D,Y=I;if(Pe.copy(he),A.isOrtho()){var t=-1/0;for(A._eye[0]=he.x+Ce.x,A._eye[1]=he.y+Ce.y,A._eye[2]=he.z+Ce.z,W=gj(A),Kj(W,W,Tj(A)),o=0;o<Z;o++)e=B[o],m=ff([e.x,e.y,e.z,1],W),t=Math.max(t,Math.max(Math.abs(m[0])/$,Math.abs(m[1])/Y));j=A.getOrthoWidth()*t}else{for(var K,r,y=A.getNear(),H=10;H--;){for(A._eye[0]=he.x+Ce.x,A._eye[1]=he.y+Ce.y,A._eye[2]=he.z+Ce.z,W=gj(A),Kj(W,W,Tj(A)),K=!0,r=-1/0,o=0;o<Z;o++){if(e=B[o],(m=ff([e.x,e.y,e.z,1],W))[3]<y&&H){he.multiplyScalar(2),K=!1;break}r=Math.max(r,Math.max(Math.abs(m[0])/$,Math.abs(m[1])/Y)-m[3])}if(K)break}he.setLength(r+he.length())}he.manhattanLength()<1e-6&&he.copy(Pe)}else A.isOrtho()?j=2*V*w$(A.getFovy()/2)*A.getAspect():he.setLength(V);var M,F,X,G,T,g,L,x,C,h,P,a,S=he.add(Ce);return(c=v1(E.animation))?(A.setEye(Le.x,Le.y,Le.z),A.setCenter(xe.x,xe.y,xe.z),l=S.clone().sub(Ce),(M=l.length())&&l.multiplyScalar(1/M),p=Le.clone().sub(xe),(F=p.length())&&p.multiplyScalar(1/F),b=(new T$).lookAtDirection(p,n),D=(new T$).lookAtDirection(l,n),X=(new uB).setFromRotationMatrix(b),G=(new uB).setFromRotationMatrix(D),T=(new G$).subVectors(Ce,xe),j&&(g=A.getOrthoWidth()),L=new G$,x=new G$,C=new G$,h=c.action,P=c._37o,a=xe.clone(),c.action=function(p,E){x.copy(a).addScaledVector(T,p);var b=X.clone().slerp(G,p);L.set(0,0,1).applyQuaternion(b).setLength(F+(M-F)*p).add(x),C.set(0,1,0).applyQuaternion(b),A.setCenter(x.x,x.y,x.z),A.setEye(L.x,L.y,L.z),A.setUp(C.x,C.y,C.z),j&&A.setOrthoWidth((j-g)*p+g),h&&h(p,E)},c._37o=function(){delete A._flyAnim;var p=A.getUp(),E=k?H$.graph3dViewUp:n.toArray();p[0]===E[0]&&p[1]===E[1]&&p[2]===E[2]||A.setUp(E),P&&P()},{lastEye:Le,lastCenter:xe,eye:S,center:Ce,orthoWidth:j,animation:A._flyAnim=Af(c)}):(A.setEye(S.x,S.y,S.z),A.setCenter(Ce.x,Ce.y,Ce.z),j&&A.setOrthoWidth(j),delete A._flyAnim,{lastEye:Le,lastCenter:xe,eye:S,center:Ce,orthoWidth:j})}),getBoundingBox:(ge=new T$,function(p){if(0===(p=(p=p||this.sm().getSelection())instanceof u.Node?[p]:p).length)return r$;var c=[],E=(p.forEach(function(p){if(y(p)){var E=c;if(p instanceof u.Node){var b=u.Default.getShape3dModel(p.s("shape3d")),Z=[-.5,-.5,-.5],o=[.5,.5,.5],A=(b&&b.boundingBox&&(Z=b.boundingBox.min,o=b.boundingBox.max),[Z[0],Z[1],Z[2],Z[0],Z[1],o[2],Z[0],o[1],Z[2],Z[0],o[1],o[2],o[0],Z[1],Z[2],o[0],Z[1],o[2],o[0],o[1],Z[2],o[0],o[1],o[2]]),l=(ge.fromArray(Am(p,this.getMat(p))),p.getAnchor3d());l.x=l.x-.5,l.y=l.y-.5,l.z=l.z-.5;for(var V=0;V<24;V+=3)E.push((new G$).set(A[V]-l.x,A[V+1]-l.y,A[V+2]-l.z).applyMatrix4(ge))}}},this),[1/0,1/0,1/0]),b=[-1/0,-1/0,-1/0];return c.forEach(function(p){E[0]=Math.min(p.x,E[0]),E[1]=Math.min(p.y,E[1]),E[2]=Math.min(p.z,E[2]),b[0]=Math.max(p.x,b[0]),b[1]=Math.max(p.y,b[1]),b[2]=Math.max(p.z,b[2])}),{min:E,max:b}}),isShaderCompileParallel:function(){return!!this._parallelShaderCompile},shouldCompileShaderInParallel:function(p){return this._parallelShaderCompile&&XE(p)},enableShaderCompileParallel:function(){if(!this.getGLExtension("KHR_parallel_shader_compile"))return!1;this._parallelShaderCompile=!0},disableShaderCompileParallel:function(){this._parallelShaderCompile=!1},setBatchInfo:function(p,E){var b=this._batchInfoMap[p];this._batchInfoMap[p]=E,this.fp("batchInfo",b,E)},getBatchInfo:function(p){return this._batchInfoMap[p]||sa[p]},getStaticInstancingKey:function(p,E){if(!E&&(Z=p._lastInstancingKey))return Z;var b,E=p.s("shape3d"),Z=P1(E)?b=(b=E.uuid)?b:E.uuid=f.generateUUID():E;return Z+=(p._flipSide?"_1_":"_0_")+p.s("static.group"),p._lastInstancingKey=Z},setOrthoWidth:function(p,E){var b,Z,o=this._orthoWidth;this._orthoWidth=p,!E&&this._syncEyeWithOrthoWidth&&(E=p/this.getAspect()/2/w$(this.getFovy()/2),b=(new G$).fromArray(this.getEye()),Z=(new G$).fromArray(this.getCenter()),b.sub(Z).setLength(E).add(Z),this.setEye(b.toArray())),this.fp("orthoWidth",o,p)},getCamera:function(p){var E=this,b=((p=p||E._mainCamera)||(p=E._mainCamera=new u.Camera).attachView(E),p.getAttachedView()),Z=(p.attachView(null),p.s({"camera.type":E.isOrtho()?"ortho":"perspective","camera.fovy":E.getFovy(),"camera.ortho.width":E.getOrthoWidth(),"camera.near":E.getNear(),"camera.far":E.getFar()}),p.s("camera.aspect.sync")&&p.s("camera.aspect",E.getAspect()),p.s("camera.focal.distance.sync")&&p.s("camera.focal.distance",$f(E.getEye(),E.getCenter())),E.getEye());return p.p3(Z.slice()),p.lookAt(E.getCenter(),E.getUp()),p.attachView(b),p},getActiveCamera:function(){return this._camera},setActiveCamera:function(p){this._camera=p,this.getProjectMatrix(!0)},syncFromCamera:function(p){var E,b=this,Z=new G$(b.getEye()),o=new G$(b.getCenter()),A=(E=(E=p.s("camera.focal.distance.sync")?p.s("camera.focal.distance"):E)||o.sub(Z).length(),b.setEye(p.p3()),p.getEuler()),l=new G$;return l.set(0,0,-1).applyEuler(A),Z.copy(l).setLength(E).add(o.copy(p.p3())),b.setCenter(Z.toArray()),Z.set(0,1,0).applyEuler(A),o.set(0,1,0),Math.abs(l.cross(Z).dot(o))<1e-5?b.setUp(o.toArray()):b.setUp(Z.toArray()),b.setOrtho("ortho"===p.s("camera.type")),p.s("camera.aspect.sync")&&b.setAspect(p.s("camera.aspect")),b.setFovy(p.s("camera.fovy")),b.setOrthoWidth(p.s("camera.ortho.width"),!0),b.setNear(p.s("camera.near")),b.setFar(p.s("camera.far")),!0},resetHeadlightProperties:function(){this._headlightColor=H$.graph3dViewHeadlightColor,this._headlightIntensity=H$.graph3dViewHeadlightIntensity,this._headlightRange=H$.graph3dViewHeadlightRange,this._headlightDirection=H$.graph3dViewHeadlightDirection,this._headlightGroup=H$.graph3dViewHeadlightGroup,this._headlightAmbientIntensity=H$.graph3dViewHeadlightAmbientIntensity,this._headlightDisabled=H$.graph3dViewHeadlightDisabled,this._headlightRatioForPhysicalMaterial=H$.graph3dViewHeadlightRatioForPhysicalMaterial},resetFogProperties:function(){this._fogDisabled=H$.graph3dViewFogDisabled,this._fogMode=H$.graph3dViewFogMode,this._fogDensity=H$.graph3dViewFogDensity,this._fogColor=H$.graph3dViewFogColor,this._fogNear=H$.graph3dViewFogNear,this._fogFar=H$.graph3dViewFogFar},_gatherRenderLayersByPriority:function(p){if(p||!(this._renderLayerSettingsVersion>=am)){var E,b=this,Z=(b._renderLayerSettingsVersion=am,b._sortedRenderLayers=t$.keys(b._renderLayerInfoMap));for(E in Jm)0<=Z.indexOf(E)||Z.push(E);Z.sort(function(p,E){return b.getRenderLayerInfo(p).priority-b.getRenderLayerInfo(E).priority})}},setRenderLayerInfo:function(p,E){Nm(0,p,this._renderLayerInfoMap);var b,Z=this.getRenderLayerInfo(p),p=p$(Z);for(b in E)"mask"!==b&&(Z[b]=E[b]);this._gatherRenderLayersByPriority(!0),this.fp("renderLayerInfo",p,Z)},getRenderLayerInfo:function(p){return this._renderLayerInfoMap[p]||Jm[p]},setRenderLayerInfoMap:function(p){var E,b=this._renderLayerInfoMap,Z=!(this._renderLayerInfoMap={});for(E in p)this.setRenderLayerInfo(E,p[E]),Z=!0;Z||this._gatherRenderLayersByPriority(!0),this.fp("renderLayerInfoMap",b,this._renderLayerInfoMap)},getRenderLayerInfoMap:function(){return this._renderLayerInfoMap},getRenderLayerKeys:function(){return this._sortedRenderLayers},getExternalSceneRotation:function(){return null},setCustomShadowProcess:function(p){this._customShadowProcess=p},syncFromDataModel:function(p){var E=this,b=E.dm(),Z=((p=p&&p.scene)&&p.shadow!=r$&&E.shadowMap.setShadow(p.shadow,p.shadowParams),b.a("sceneContext"));Z?(Z.eye&&E.setEye(Z.eye),Z.center&&E.setCenter(Z.center),C1(Z.far)&&E.setFar(Z.far),C1(Z.near)&&E.setNear(Z.near)):(C1(b.a("sceneNear"))&&E.setNear(b.a("sceneNear")),C1(b.a("sceneFar"))&&E.setFar(b.a("sceneFar")),p&&(p.eye&&E.setEye(p.eye),p.center&&E.setCenter(p.center))),C1(b.a("sceneDevicePixelRatio"))&&E.setDevicePixelRatio(b.a("sceneDevicePixelRatio")),C1(b.a("sceneFovy"))&&E.setFovy(b.a("sceneFovy")),h1(b.a("sceneOrtho"))&&E.setOrtho(b.a("sceneOrtho")),C1(b.a("sceneOrthoWidth"))&&E.setOrthoWidth(b.a("sceneOrthoWidth")),E.setShadowFromDataModel(b),h1(b.a("sceneDashEnable"))&&E.setDashDisabled(!b.a("sceneDashEnable")),h1(b.a("sceneUvClipEnabled"))&&E.setUvClipEnabled(b.a("sceneUvClipEnabled")),F$(b.a("sceneHighlightMode"))&&E.setHighlightMode(b.a("sceneHighlightMode")),C1(b.a("sceneHighlightWidth"))&&E.setHighlightWidth(b.a("sceneHighlightWidth")),b.a("sceneHighlightColor")&&E.setHighlightColor(b.a("sceneHighlightColor")),b.a("sceneHighlightType")&&E.setHighlightType(b.a("sceneHighlightType")),b.a("sceneHighlightGlow")&&E.setHighlightGlow(b.a("sceneHighlightGlow")),b.a("sceneHighlightStrength")&&E.setHighlightStrength(b.a("sceneHighlightStrength")),b.a("sceneHighlightGroups")&&E.setHighlightGroups(b.a("sceneHighlightGroups")),h1(b.a("sceneHeadlightEnable"))&&E.setHeadlightDisabled(!b.a("sceneHeadlightEnable")),b.a("sceneHeadlightDirection")!=r$&&E.setHeadlightDirection(b.a("sceneHeadlightDirection")),C1(b.a("sceneHeadlightRange"))&&E.setHeadlightRange(b.a("sceneHeadlightRange")),b.a("sceneHeadlightColor")&&E.setHeadlightColor(b.a("sceneHeadlightColor")),C1(b.a("sceneHeadlightIntensity"))&&E.setHeadlightIntensity(b.a("sceneHeadlightIntensity")),C1(b.a("sceneHeadlightAmbientIntensity"))&&E.setHeadlightAmbientIntensity(b.a("sceneHeadlightAmbientIntensity")),C1(b.a("sceneHeadlightRatioForPhysicalMaterial"))&&E.setHeadlightRatioForPhysicalMaterial(b.a("sceneHeadlightRatioForPhysicalMaterial")),C1(b.a("sceneHeadlightGroup"))&&E.setHeadlightGroup(b.a("sceneHeadlightGroup")),h1(b.a("sceneFogEnable"))&&E.setFogDisabled(!b.a("sceneFogEnable")),b.a("sceneFogMode")&&E.setFogMode(b.a("sceneFogMode")),C1(b.a("sceneFogDensity"))?E.setFogDensity(b.a("sceneFogDensity")):(Z=b.a("sceneFogDensityInverse"),C1(Z)&&E.setFogDensity(f.safeInvert(Z))),b.a("sceneFogColor")&&E.setFogColor(b.a("sceneFogColor")),C1(b.a("sceneFogNear"))&&E.setFogNear(b.a("sceneFogNear")),C1(b.a("sceneFogFar"))&&E.setFogFar(b.a("sceneFogFar")),h1(b.a("sceneBatchBrightnessDisabled"))&&E.setBatchBrightnessDisabled(b.a("sceneBatchBrightnessDisabled")),b.a("sceneFlowBlendMode")!==K$&&E.setFlowBlendMode(b.a("sceneFlowBlendMode")),b.a("sceneToneMapping")!==K$&&E.setToneMapping(b.a("sceneToneMapping")),C1(b.a("sceneToneMappingExposure"))&&E.setToneMappingExposure(b.a("sceneToneMappingExposure")),h1(b.a("sceneBatchBlendDisabled"))&&E.setBatchBlendDisabled(b.a("sceneBatchBlendDisabled")),h1(b.a("sceneBatchColorDisabled"))&&E.setBatchColorDisabled(b.a("sceneBatchColorDisabled")),h1(b.a("sceneBatchInstancedDisabled"))&&E.setBatchInstancedDisabled(b.a("sceneBatchInstancedDisabled")),b.a("sceneBatchInfoMap")&&E.setBatchInfoMap(b.a("sceneBatchInfoMap")),b.a("sceneRenderLayerInfoMap")&&E.setRenderLayerInfoMap(b.a("sceneRenderLayerInfoMap")),C1(b.a("sceneMoveStep"))&&E.setMoveStep(b.a("sceneMoveStep")),C1(b.a("sceneRotateStep"))&&E.setRotateStep(b.a("sceneRotateStep")),h1(b.a("sceneSortable"))&&E.setSortable(b.a("sceneSortable")),y1(b.a("sceneSortFunc"))&&E.setSortFunc(b.a("sceneSortFunc")),h1(b.a("sceneOIT"))&&(b.a("sceneOIT")?E.enableOIT():E.disableOIT()),C1(b.a("sceneOITPassCount"))&&E.setOITPassCount(b.a("sceneOITPassCount")),F$(b.a("sceneShaderSummary"))&&(E.enableShaderCompileParallel(),E.setShaderGCInterval(1/0),E.deserializePhysicalShader(b.a("sceneShaderSummary"))),E.initSkybox()}}),H$.registerTextureLoader=function(p){fe?fe.push(p):fe=[p]},H$.unregisterTextureLoader=function(p){if(fe)return 0<=(p=fe.indexOf(p))&&(fe.splice(p,1),0===fe.length&&(fe=null),!0)},function(p,E){return(5131!==E||p.isWebGL2()?E:null!==(p=p._glExtensions.get("OES_texture_half_float"))?p.HALF_FLOAT_OES:null)||5121}),Tn=function(p,E){E?(p._needDeleteGetAttrBackupFunc=!p.hasOwnProperty("getAttr"),p._textureAttrObject=E,p._getAttrBackupFunc=p.getAttr,p.getAttr=dN):(delete p._textureAttrObject,p._needDeleteGetAttrBackupFunc?delete p.getAttr:p.getAttr=p._getAttrBackupFunc,delete p._needDeleteGetAttrBackupFunc,delete p._getAttrBackupFunc)},gn=function(p,E,b){if(!p.isWebGL2())return E;var Z=E;return 6403===E&&(5126===b&&(Z=33326),5131===b&&(Z=33325),5121===b&&(Z=33321)),36244===E&&(5123===b&&(Z=33332),5125===b&&(Z=33334)),33319===E&&(5126===b&&(Z=33328),5131===b&&(Z=33327),5121===b&&(Z=33323)),33320===E&&(5123===b&&(Z=33338),5125===b&&(Z=33340)),6407===E&&(5126===b&&(Z=34837),5131===b&&(Z=34843),5121===b&&(Z=32849)),6408===E&&(5126===b&&(Z=34836),5131===b&&(Z=34842),5121===b&&(Z=32856)),36249===E&&(5123===b&&(Z=36214),5125===b&&(Z=36208)),33325!==Z&&33326!==Z&&34842!==Z&&34836!==Z&&36208!==Z||p._glExtensions.get("EXT_color_buffer_float"),Z},Ln=OB(),xn=(t$.assign(R.Graph3dView.prototype,{getTextureMap:function(){return this._2O},setTextureStyle:function(p,E,b){return!(!(p=Q(p))||!p.texture||(this.deleteTexture(p),p[E]=b,this.iv(),0))},setTexture:function(p,E,b,Z){var o;b=b||"",(o=this._2O[p])?!1!==Z&&o[b]&&(Z=this.getGL())&&o[b]!==E&&Z.deleteTexture(o[b]):o=this._2O[p]={},o[b]=E},deleteTexture:function(p){if(this._2O){p&&p.uuid&&(p=p.uuid);var E=this._2O[p];if(E){delete this._2O[p];var b,Z=this.getGL();for(b in E)Z.deleteTexture(E[b]);return!0}}},invalidateCachedTexture:(bX=[],ZX=["shape3d.image"],["top","bottom","from","to"].forEach(function(p){ZX.push("shape3d."+p+".image")}),["all","left","right","top","bottom","front","back"].forEach(function(p){bX.push(p+".image")}),oX=function(p){return!!p&&(P1(p)&&!X$(p)?!p.tagName&&(!p.texture||oX(p.image)):F$(p)&&Z1.test(p))},function(p,E){if(p instanceof sm){for(var b,Z,o,A,l=this.getData3dUI(p),V=(l&&(b=l.invalidateCachedTexture(this.getGL())),p.getMaterials()),c=0,S=V.length;c<S;c++)for(var I in Z=V[c])o=Z[I],b=UN(this,o)||b;if((l=p.getStyle("shape3d"))?F$(l)&&!l1.test(l)&&(A=ZX):A=bX,A)for(var D=p.getStyleMap(),c=0,S=A.length;c<S;c++)b=UN(this,o=D[A[c]])||b;!1===E&&!b||this.invalidateData(p)}}),invalidateShape3dCachedImage:function(p){this.invalidateCachedTexture(p)},getTextureFromLoader:function(p){if(fe)for(var E,b=0,Z=fe.length;b<Z;b++)if((E=fe[b]).checkType(p))return E.getTexture(this,p)},getGLTextureFromLoader:function(p){var E=this.getTextureFromLoader(p);return E&&(E=this.createTexture(E),this.setTexture(p,E),E)},_getPrefabBoneTextureId:function(p){var E=p.originalPrefab;return(p=E||p)._4LQ||(p._4LQ=Ln.next())},getPrefabBoneTexture:function(p){var E=this._26I;return E?(p=this._getPrefabBoneTextureId(p),E._4KQ[p]):null},setPrefabBoneTexture:function(p,E){p=this._getPrefabBoneTextureId(p),this._26I._4KQ[p]=E},textureToCanvas:function(p,E,b,Z,o){var A=pj(p)?p:this.getTextureFromLoader(p);if(A=A||this.getTexture(p)){var l,b=b||A.width,Z=Z||A.height;if(b&&Z)return l={type:"blitScreen",image:A,defines:p={}},(E=E===K$?"linear"===A.colorSpace:E)&&(p.USE_LINEAR=!0),o&&(p.FLIP_Y=!0),A=new an(this,b,Z),this.renderModel(A,l),E=A.toCanvas(),A.release(),E}},createTexture:function(p,E){var b,Z,o,A,l,V=this.getGL(),c=OV,S=Gn(this,p.type||p.textureType),I=p.format||c.RGBA,D=gn(this,I,S),B=(p.image?(o=Q(p.image),b=p.width||o.naturalWidth||o.width,Z=p.height||o.naturalHeight||o.height,B=!o||"VIDEO"!==o.tagName&&(!b||!Z)):(o=p.data,b=p.width,Z=p.height,(B=o===K$||!b||!Z)||(A=!0)),B&&(o=null,b=Z=0),p.minFilter||p.filter||c.LINEAR),n=p.magFilter||p.filter||c.LINEAR,k=p.wrapS||p.wrap,j=p.wrapT||p.wrap,W=f.isPOT(b)&&f.isPOT(Z),m=(k||j||(k=j=!W||p.clampToEdge||o&&o.clampToEdge?c.CLAMP_TO_EDGE:c.REPEAT),this.isWebGL2()),e=(m||k===c.CLAMP_TO_EDGE&&j===c.CLAMP_TO_EDGE&&(B===c.NEAREST||B===c.LINEAR)||W||!o||A||(e=p.scaleMode,$=f.nearestPOT(b),l=f.nearestPOT(Z),"smaller"===e?(b<$&&($/=2),Z<l&&(l/=2)):"larger"===e&&($<b&&($*=2),l<Z&&(l*=2)),b=$,Z=l,W=!0),o&&!A&&((e=this._glCapabilities.maxTextureSize)<b||e<Z)&&($=Math.min(b,e),l=Math.min(Z,e)),$&&l&&(o=H$.resizeImage(o,$,l),b=$,Z=l),!E),$=(E=E||V.createTexture(),V.activeTexture(33984),Pj(V,E),V.pixelStorei(37440,!0===p.flipY),V.pixelStorei(37441,!1),A?V.texImage2D(c.TEXTURE_2D,0,D,b,Z,0,I,S,o):o&&V.texImage2D(c.TEXTURE_2D,0,D,I,S,o),aj(V,10242,k),aj(V,10243,j),aj(V,10240,n),p.generateMipmaps&&(m||W));return($=$===K$?k!==c.CLAMP_TO_EDGE||j!==c.CLAMP_TO_EDGE:$)?(aj(V,10241,9728===B?9984:9987),m&&p.mipmapMaxLevel!==K$&&aj(V,33085,p.mipmapMaxLevel),V.generateMipmap(c.TEXTURE_2D)):aj(V,10241,B),Pj(V,r$),E&&(E.width=b,E.height=Z),p.version&&(E.version=p.version),p.gray&&e&&this._addTextureTask(E,b,Z,"gray",{generateMipmaps:$}),E},createData3DTexture:function(p,E){if(!this.isWebGL2())return E;var b=this.getGL(),Z=OV,o=Gn(this,p.type||p.textureType),A=p.format||Z.RGBA,l=gn(this,A,o),V=this._glCapabilities.max3DTextureSize,c=p.data,S=p.width,I=p.height,D=p.depth;if(V<S||V<I||V<D)return E;var V=p.minFilter||p.filter||Z.LINEAR,B=p.magFilter||p.filter||Z.LINEAR,n=p.wrapS||p.wrap||Z.CLAMP_TO_EDGE,k=p.wrapT||p.wrap||Z.CLAMP_TO_EDGE,j=p.wrapR||p.wrap||Z.CLAMP_TO_EDGE;return E=E||b.createTexture(),b.activeTexture(33984),yj(b,E),b.texImage3D(Z.TEXTURE_3D,0,l,S,I,D,0,A,o,c),Jj(b,32882,j),Jj(b,10242,n),Jj(b,10243,k),Jj(b,10240,B),Jj(b,10241,V),yj(b,r$),E.width=S,E.height=I,E.depth=D,E.is3DTexture=!0,p.version&&(E.version=p.version),E},resetSharedTextureIndex:function(){this._sharedTextureIndex=0},textureAccessesByMaterial:function(p,E){var b,Z=this._sharedTextureIndex,o=this.getGL();return 0===Z?b=o._sharedTexture:(b=o._sharedTexturePool[Z-1])||(o._sharedTexturePool[Z-1]=b=xj(this,o)),(Z=this.getTexture(p,E,K$,K$,b))===b&&this._sharedTextureIndex++,Z},getTexture:function(p,E,b,Z,o){if(!p)return r$;var A=this,l=A.getGL(),V=A._2O[p];if(!V&&P1(p)&&p.uuid&&(V=A._2O[p.uuid],S=p.version),!(c=V?V[(m=E&&!P1(p)?E.s("texture.mipmap.max"):m)||""]||V.default:c)&&null===(c=A.getGLTextureFromLoader(p)))return l._emptyTexture;if(c){if(S===K$||c.version===S)return c;l.deleteTexture(c),c=null}if(!(V=Q(p)))return l._emptyTexture;Z=Z?t$.assign({},Z):{},E&&(Z.mipmapMaxLevel=m=E.s("texture.mipmap.max"),S=E.s("texture.wrap"),Z.clampToEdge="clampToEdge"===S||"repeat"!==S&&K$,Z.flipY=E.s("texture.flipY")),V.uuid||(V.uuid=u.Math.generateUUID());var c,S=F$(p)?p:V.uuid,I=V.texture||!!V.data;if(V.tagName||I){if(V.dynamic&&!(n=l._dynamicTexturePool[V.uuid])&&(n=l._dynamicTexturePool[V.uuid]=l.createTexture()),I){if(c=!(I=V.image)&&V.data?V:A.getTextureFromLoader(I))return(B=t$.assign({},c,V)).image&&delete B.image,c=A.createTexture(B,n),V.dynamic||A.setTexture(S,c),c;if(null===c)return l._emptyTexture;if(!(B=Q(I)))return l._emptyTexture;if(B.tagName){if(!A.isImageCompleteForTexture(B,E))return l._emptyTexture;c=A.createTexture(V,n)}else{if(!V.dynamic){if(l._renderInfo.textureCache.time>H$.graph3dMaxVectorCacheTime)return A.redraw(),l._emptyTexture;if(!wq(B,E))return l._emptyTexture}c=A._getTextureFromSymbol(l,E,p,B,V,n,!V.dynamic)}m=""}else{if(!A.isImageCompleteForTexture(V,E))return l._emptyTexture;I=Z.image,Z.image=V,c=A.createTexture(Z,n),Z.image=I}V.dynamic||A.setTexture(S,c,m)}else{var D,B=E&&(E.s("texture.cache")||E.s("shape3d.image.cache")||V.textureCache),n=A.getPresentingReality();if(n&&E&&(E._textureUpdateFrame===l._renderInfo.frame?B=!0:E._textureUpdateFrame=l._renderInfo.frame),B&&(c=(D=A.getData3dUI(E)).getCachedTexture(b))&&D.interactiveInfo&&c.interactiveInfo&&(D.interactiveInfo[c.interactiveInfo.key]=c.interactiveInfo.info),!c){if(B){if(l._renderInfo.textureCache.time>H$.graph3dMaxVectorCacheTime)return A.redraw(),l._emptyTexture;if(!wq(V,E))return l._emptyTexture}E&&(1!==E.s("texture.scale")?W=E.s("texture.scale"):1!==E.s("shape3d.texture.scale")&&(W=E.s("shape3d.texture.scale")));var k,j,W,W=W||1,S=(I=E&&(E.s("fixSizeOnScreen")||E.s("shape3d.fixSizeOnScreen")))?9728:9729;I?"number"==typeof I&&(W*=I<0?1:I):E&&(E.s("vector.dynamic")||E.s("shape3d.vector.dynamic"))&&(I=(D=D||A.getData3dUI(E)).getVectorDynamicSize());"billboard"===(m=E&&E.s("shape3d"))?k=E.getTall()/E.getWidth():"plane"===m&&(k=E.getHeight()/E.getWidth());var m=E&&E.s("texture.width"),m=k&&C1(m)?tm(V,E,A,Math.min(4096,m)):tm(V,E),e=k?Km(V,E,A,Math.min(4096,m*k)):Km(V,E);I&&(j=A._devicePixelRatio||Tq,m=0<I[0]?I[0]:W*m,e=0<I[1]?I[1]:W*(k?Km(V,E,A,Math.min(4096,m*k)):Km(V,E)),W=j),Z.scale=W,Z.width=m,Z.height=e,E?(Z.minFilter=dL(E.s("texture.filter.min")||E.s("texture.filter"))||S,Z.magFilter=dL(E.s("texture.filter.mag")||E.s("texture.filter"))||S):Z.minFilter=Z.magFilter=S,o=B||n?null:o||l._sharedTexture,c=A._getTextureFromSymbol(l,E,p,V,Z,o,B||n),(B||n)&&(D=!D&&E?A.getData3dUI(E):D)&&D.setCachedTexture(c,b)}}return c},_getTextureFromSymbol:function(p,E,b,Z,o,A,l){Z.uuid||(Z.uuid=u.Math.generateUUID());var V,c,S,I,D=o.width||tm(Z,E),B=o.height||Km(Z,E),n=o.scale||1,k=n*D,j=n*B;return 1<=k&&1<=j&&(p=p._renderInfo.textureCache,V=0,l&&(V=Date.now()),c=this._glCapabilities.maxTextureSize,k=Math.min(k,c),j=Math.min(j,c),c=n6(k,j),1!==n&&c.scale(n,n),E&&(n=this.getData3dUI(E))&&n.interactiveInfo&&("object"==typeof(I=b)&&(I=I.uuid||(I.uuid=u.Math.generateUUID())),S=n.interactiveInfo[I]={},c.interactiveInfo=S.bodyInfo={compInfos:[],matrix:new QB,rect:{x:0,y:0,width:D,height:B}}),(b=E&&E.setCurrentDrawingImage)&&E.setCurrentDrawingImage(Z),o.texture&&o.dataBindings?E?(Tn(E,o.dataBindings),rm(c,Z,0,0,D,B,E,this),Tn(E)):((pX=pX||new sm).setAttrObject(o.dataBindings),rm(c,Z,0,0,D,B,pX,this),pX.setAttrObject(null)):rm(c,Z,0,0,D,B,E,this),b&&E.setCurrentDrawingImage(null),c.interactiveInfo&&(c.interactiveInfo=null),c.restore(),n=o.image,o.image=D6,c=this.createTexture(o,A),o.image=n,S&&(c.interactiveInfo={key:I,info:S}),p.count++,p.pixels+=k*j,l&&(p.time+=Date.now()-V)),c},regenerateMipmap:function(p,E){p.activeTexture(33984),Pj(p,E),p.generateMipmap(3553),Pj(p,r$)},_addTextureTask:function(p,E,b,Z,o){p={texture:p,width:E,height:b,info:o,taskName:Z},(E=this._textureTasks)?E.push(p):this._textureTasks=[p],this.iv()},_runTextureTasks:(EX="__gray__",function(){var p=this._textureTasks;if(p&&p.length){var E=this.getGL();if(E){for(var b,Z=0;Z<p.length;Z++){var o=(c=p[Z]).texture,A=c.width,l=c.height,V=c.taskName,c=c.info;"gray"===V&&(V=E,b=void 0,(b=this._textureSharedRtt)?b.setSize(V,A,l):b=this._textureSharedRtt=new an(this,A,l),u.Default.getShaderMap()[EX]||u.Default.setShader(EX,["#include <blitScreenVS>","// FS","uniform sampler2D image;","varying vec2 vUv;","void main() {","    gl_FragColor = texture2D(image, vUv);","    gl_FragColor.rgb = vec3(dot(gl_FragColor.rgb, vec3(0.299, 0.587, 0.114)));","}"].join("\n")),this.renderModel(b,{type:EX,image:o}),A=b.swapTexture(o),this.renderModel(b,{type:"blitScreen",image:A}),b.swapTexture(A),c.generateMipmaps&&this.regenerateMipmap(V,o))}this._textureTasks=null}}}),isImageCompleteForTexture:function(p,E){return wq(p,E)?("VIDEO"!==p.tagName||p._readyFlag||(p._readyFlag=!0),!0):!("VIDEO"!==p.tagName||!p._readyFlag)}}),function(p,E,b){if(!p)return 0;if(p.texture){if(p.width)return p.width;p=Q(p.image)}return tm(p,E,b)}),Cn=function(p,E,b){if(!p)return 0;if(p.texture){if(p.height)return p.height;p=Q(p.image)}return Km(p,E,b)},hn=((((Z=R.EnvmapRenderer=function(p){this.gv=p,this._envmaps={},this._envmapHash={},this._probeCaptureTime={},this._envmapPoolCachedByImage=[],this._pingPongRenderTarget=null,this._equirectMaterial=null,this._blurMaterial=null,this._lastCaptureFrame=0,this._cubemapMaterial=null,this._envmapIntensity={}}).prototype={}).constructor=Z).prototype.changeEnvmapType=function(p){if("legacy"===p){for(var E in this.setEnvmapByProbeId=this.setEnvmapLegacy,this.onBeforeRender=this.onBeforeRenderLegacy,this._envmaps)NN(this._envmaps,E,null);this._envmapHash={},this._probeCaptureTime={}}else this.setEnvmapByProbeId=this.setEnvmap,this.onBeforeRender=this.onBeforeRenderNew},Z.prototype.invalidateEnvmap=function(p){var E=this.gv;"legacy"!==E.getEnvmapType()&&E.getGL()&&(p?(delete this._envmapHash[p],delete this._probeCaptureTime[p]):(this._envmapHash={},this._probeCaptureTime={}),E.iv())},Z.prototype.dispose=function(){var p,E=this,b=[E._pingPongRenderTarget,E._hdrDynamicComposeRTT];for(p in E._envmaps)b.push(E._envmaps[p]);zj(E.gv,b),E._envmaps={},E._envmapPoolCachedByImage=[],E._envmapHash={},E._pingPongRenderTarget=null,E._equirectMaterial=E._cubemapMaterial=E._blurMaterial=null,E._hdrDynamicComposeRTT=null,E._envmapLegacy=null,E._lastLegacyImage=null},Z.prototype.onBeforeRenderLegacy=function(p){this.gv._picking||(this.assureTextureLegacy(p),this.assureEnvmapPoolForImage())},Z.prototype.assureTextureLegacy=function(p){var E,b,Z=this.gv.getEnvmap();Z!==this._lastLegacyImage&&(this._envmapLegacy&&(p.deleteTexture(this._envmapLegacy),this._envmapLegacy=null),Z?(E=H$.getImage(Z))&&E.tagName&&(E=H$.resizeImagePOT(E,!0),b=this._envmapLegacy=p.createTexture(),p.activeTexture(33984),p.bindTexture(34067,b),p.texParameteri(34067,10240,9729),p.texParameteri(34067,10241,9729),p.texImage2D(34069,0,6408,6408,5121,E),p.texImage2D(34070,0,6408,6408,5121,E),p.texImage2D(34071,0,6408,6408,5121,E),p.texImage2D(34072,0,6408,6408,5121,E),p.texImage2D(34073,0,6408,6408,5121,E),p.texImage2D(34074,0,6408,6408,5121,E),p.bindTexture(34067,p._emptyCubeTexture),this._lastLegacyImage=Z):this._lastLegacyImage=Z)},Z.prototype.setEnvmapLegacy=function(p,E,b){p.uEnvMap=this._envmapLegacy,p.envMapIntensity=b},Z.prototype.onBeforeRenderNew=function(p){this.gv._picking||(this.assureTextureNew(p),this.resetUniformCache(),this.assureEnvmapPoolForImage())},Z.prototype.isHDR=function(p){return"string"==typeof p&&(p.indexOf(".hdr")===p.length-4||p.indexOf(".HDR")===p.length-4)},Z.prototype.isDynamicImage=function(p){return p&&p.comps&&p.comps[0]&&"__ht_envmap_bg__"===p.comps[0].type},Z.prototype.isImageReady=function(p){var E;if(this.isHDR(p))E=H$.getHdrTexture(p);else if(E=H$.getImage(p),this.isDynamicImage(E)&&!this.isImageReady(E.comps[0].image))return!1;return E},Z.prototype.assureTextureNew=function(p){var E=this,b=E.gv,Z=b.getEnvmap(),o=E._envmapHash,A=E._envmaps,l=E._envmapIntensity,p=p._renderInfo.frame;if(this._lastCaptureFrame>=p||b._picking)for(V in Z)S=Z[V].intensity,l[V]=S==r$?1:S;else{for(var V in Z){var c=Z[V],S=c.intensity;switch(l[V]=S==r$?1:S,c.type){case"sphere":(e=c.image)!==o[V]&&(e?E.isImageReady(e)&&(o[V]=e,NN(A,V,E.fromEquirectangular(e))):(o[V]=e,NN(A,V,null)));break;case"cube":var I=c.texture;if(I!==K$)o[V]!==I&&(o[V]=I,NN(A,V,E.fromCubemap(I,c.encoding)));else{var D=c.images;if(D&&6===D.length){if((e=D.join(","))!==o[V]){for(var B=!0,n=!1,k=0;k<6;k++){if(!D[k]){n=!0;break}if(!H$.getImage(D[k])){B=!1;break}}n?(o[V]=e,NN(A,V,null)):B&&(o[V]=e,NN(A,V,E.fromCubemap(D)))}}else o[V]=K$,NN(A,V,null)}break;case"skybox":var j,W=b.getSkybox(),m=!1;if(W){if("sphere"===(I=W.s("shape3d")))e=W._id+"_"+W.s("shape3d.image");else for(var e=W._id,k=0;k<6;k++)e+="_"+W.s(ad[k]+".image");if(e!==o[V]){if("sphere"===I)(j=W.s("shape3d.image"))==r$?m=!0:B=E.isImageReady(j);else for(B=!0,k=0;k<6;k++){if((j=W.s(ad[k]+".image"))==r$){m=!0;break}if(!H$.getImage(j)){B=!1;break}}m?(o[V]=e,NN(A,V,null)):B&&(o[V]=e,NN(A,V,E.fromSkybox()))}}else A[V]&&(o[V]=K$,NN(A,V,null));break;case"probe":var $,Y,t=c.pos,K=c.size;(e=t[0]+"_"+t[1]+"_"+t[2]+"_"+K)!==o[V]&&($=this._probeCaptureTime[e],Y=Date.now(),$||(this._probeCaptureTime[e]=$=Y),Y-$>H$.envmapProbeMinWaitTime&&!e1&&!rd||Y-$>H$.envmapProbeMaxWaitTime?(delete this._probeCaptureTime[e],o[V]=e,NN(A,V,E.fromSceneProbe(t,K,c.filter))):b.iv())}}t$.keys(A).forEach(function(p){Z[p]===K$&&(delete o[p],NN(A,p,null))})}},Z.prototype.resetUniformCache=function(){this._frameUniformCache={}},Z.prototype.setEnvmap=function(p,E,b){var Z=p.uuid,o=this._frameUniformCache,A=(A=this._envmaps[E])&&A.texture;!o||o.hasOwnProperty(Z)&&o[Z]===A||(o[Z]=A,p.uEnvMap=A),b&&(b*=this._envmapIntensity[E]||0),p.envMapIntensity=b},Z.prototype.assureEnvmapPoolForImage=function(){for(var p=this._envmapPoolCachedByImage,E=0,b=p.length;E<b;E++)p[E][0]&&!p[E][1]&&this.isImageReady(p[E][0])&&(p[E][1]=this.fromEquirectangular(p[E][0]))},Z.prototype.assureEnvmapFromEquirectangular=function(p){for(var E,b=this._envmapPoolCachedByImage,Z=0,o=b.length;Z<o;Z++)if(b[Z][0]===p)return(E=b[Z][1])?E.texture:null;return b.push([p,null]),this.gv.iv(),null},Z.prototype.invalidateEnvmapUsedByMaterial=function(p){if(p)for(var E=this._envmapPoolCachedByImage,b=0,Z=E.length;b<Z;b++)E[b][0]===p&&(E[b][1]=null);else this._envmapPoolCachedByImage=[];this.gv.iv()},Z.prototype.isEnvmapUsedByMaterialReady=function(p){for(var E=this._envmapPoolCachedByImage,b=p==r$,Z=0,o=E.length;Z<o;Z++)if(b){if(!E[Z][1])return!1}else if(E[Z][0]===p)return!!E[Z][1];return b},Z.prototype.fromEquirectangular=function(p){var E,b,Z,o,A,l=this.isHDR(p)?(E=u.Default.getHdrTexture(p),"linear"):this.isDynamicImage(p)&&this.isHDR(p.comps[0].image)?(o=(b=p.comps[0]).image,b.image=null,Z=this.gv.getTexture(p),b.image=o,o=this.gv.getTexture(o),A=(A=this._hdrDynamicComposeRTT)||(this._hdrDynamicComposeRTT=this._allocateTargets()),l=p.width,this.gv.renderModel(A,l,p.height,{type:"envmapDynamicCompose",offset:b.offset?(b.offset%1+1)%1:0,texture1:o,texture2:Z}),A=A.texture,E=p,"linear"):(E=u.Default.getImage(p),"sRGB");return E?(this.rectSize=[1/E.width,1/E.height],p=A||this.gv.getTexture(p),this.fromTexture(p,null,l)):null},Z.prototype.fromCubemap=function(p,E){if(E=E||"sRGB",pj(p))return this.fromTexture(p,!0,E);for(var b=this.gv.getGL(),Z=b.createTexture(),o=(b.activeTexture(33984),b.bindTexture(34067,Z),b.texParameteri(34067,10240,9729),b.texParameteri(34067,10241,9729),[]),A=jX/3,l=0;l<6;l++)o[l]=H$.resizeImage(u.Default.getImage(p[l]),A);return b.texImage2D(34069,0,6408,6408,5121,o[0]),b.texImage2D(34070,0,6408,6408,5121,o[1]),b.texImage2D(34071,0,6408,6408,5121,o[2]),b.texImage2D(34072,0,6408,6408,5121,o[3]),b.texImage2D(34073,0,6408,6408,5121,o[4]),b.texImage2D(34074,0,6408,6408,5121,o[5]),b.bindTexture(34067,b._emptyCubeTexture),this.fromTexture(Z,!0,E)},Z.prototype.fromTexture=function(p,E,b){var Z=this._allocateTargets(),o=(this._pingPongRenderTarget||(this._pingPongRenderTarget=this._allocateTargets()),this.gv),A=o.getGL(),l=g$.for(A).directState(),V=l.depth.enabled,c=(l.scissor.enabled=!0,l.depth.enabled=!1,o.getViewport(A));return this._textureToCubeUV(p,Z,E,b),this._applyPMREM(Z),o.setViewport(A,c[0],c[1],c[2],c[3]),l.depth.enabled=V,l.scissor.enabled=!1,Z},Z.prototype.fromSkybox=function(){return this._fromCamera(function(p){p.s({"camera.onlySky":!0,"camera.skybox.blur":!1})})},Z.prototype.fromScene=function(E){return this._fromCamera(function(p){p.s({"camera.onlySky":!1}),E&&E(p)})},Z.prototype.fromNode=function(p){var E,b=this.gv.getData3dUI(p),Z=b._42,o=(b._42=n1,this.gv.getSkybox()),A=p.p3(),p=(o&&(E=o.p3(),o.p3(A)),this.fromScene(function(p){p.p3(A)}));return b._42=Z,o&&o.p3(E),p},Z.prototype.fromSceneProbe=function(E,b,Z){var p,o,A=this.gv,l=A.getSkybox(),V=(l&&(p=l.p3(),l.p3(E)),Z&&(o=A.isVisible,A.isVisible=function(p){var E=Z(p);return E!==K$?E:o.call(A,p)}),this.fromScene(function(p){p.p3(E),p.s("camera.near",b)}));return Z&&(A.isVisible=o),l&&l.p3(p),V},Z.prototype._fromCamera=function(p){var E=this.gv,b=E.getCamera(),p=(p&&p(b),new an(E,jX,jX,{cube:!0})),Z=E.getGL(),o=E.getViewport(Z),A=this.setEnvmapByProbeId,l=this.onBeforeRender,b=(this.setEnvmapByProbeId=function(p){p.envMap=Z._emptyTexture},this.onBeforeRender=n1,b.attachRenderTarget(p),b.render(E),b.detachRenderTarget(),this.setEnvmapByProbeId=A,this.onBeforeRender=l,E.setViewport(Z,o[0],o[1],o[2],o[3]),this.fromTexture(p.texture,!0,"sRGB"));return p.releaseTexture(),b},Z.prototype._allocateTargets=function(p){return new an(this.gv,3*VX,3*VX,{textureType:5131})},Z.prototype._textureToCubeUV=function(p,E,b,Z){var o,A,l=this,V=l.gv,c="sRGB"===Z?"USE_SRGB":"USE_LINEAR",c=(b?(null==l._cubemapMaterial&&(l._cubemapMaterial={}),null==(o=l._cubemapMaterial[c])&&((A={})[c]=!0,l._cubemapMaterial[c]=o={type:"envmapCubemap",internalDefines:!1,defines:A})):(null==l._equirectMaterial&&(l._equirectMaterial={}),null==(o=l._equirectMaterial[c])&&((A={})[c]=!0,l._equirectMaterial[c]=o={type:"envmapEquirect",internalDefines:!1,defines:A})),o.envMap=p,b||(o.texelSize=l.rectSize),BX[0]);V.renderModel(E,{model3d:!0,mesh:c,mat:o,encoding:"linear"===Z?1:0},{restoreViewport:!1,preRender:function(){l._setViewport(E,0,0,3*VX,2*VX)}})},Z.prototype._applyPMREM=function(p){for(var E,b,Z=1;Z<SX;Z++)E=Math.sqrt(kX[Z]*kX[Z]-kX[Z-1]*kX[Z-1]),b=DX[(Z-1)%DX.length],this._blur(p,Z-1,Z,E,b)},Z.prototype._setViewport=function(p,E,b,Z,o){var A=this.gv;A.setViewport(A.getGL(),E,b,Z,o),A.getRenderState().directState().scissor.box=[E,b,Z,o]},Z.prototype._blur=function(p,E,b,Z,o){var A=this._pingPongRenderTarget;this._halfBlur(p,A,E,b,Z,"latitudinal",o),this._halfBlur(A,p,b,b,Z,"longitudinal",o)},Z.prototype._halfBlur=function(p,E,b,Z,o,A,l){var V=this,c=V.gv,S=V._blurMaterial;if("latitudinal"===A||"longitudinal"===A){S||(V._blurMaterial=S={type:"envmapBlur",internalDefines:!1,defines:{n:IX}});for(var I,D=nX[b]-1,B=o/(D=isFinite(o)?Math.PI/(2*D):2*Math.PI/(2*IX-1)),n=isFinite(o)?1+Math.floor(3*B):IX,k=[],j=0,W=0;W<IX;++W)e=W/B,I=Math.exp(-e*e/2),k.push(I),0==W?j+=I:W<n&&(j+=2*I);for(W=0;W<k.length;W++)k[W]=k[W]/j;S.envMap=p.texture,S.samples=n,S.weights=k,S.latitudinal="latitudinal"===A,l&&(S.poleAxis=l),S.dTheta=D,S.mipInt=lX-b;var m=nX[Z],e=3*Math.max(0,VX-2*m),$=(0===Z?0:2*VX)+2*m*(lX-AX<Z?Z-lX+AX:0),o=BX[Z];c.renderModel(E,{model3d:!0,mesh:o,mat:S},{restoreViewport:!1,preRender:function(p){V._setViewport(E,e,$,3*m,2*m)}})}},AX=4,lX=8,VX=Math.pow(2,lX),SX=lX-AX+1+(cX=[.125,.215,.35,.446,.526,.582]).length,IX=20,b=1/(Z=(1+Math.sqrt(5))/2),DX=[new G$(1,1,1),new G$(-1,1,1),new G$(1,1,-1),new G$(-1,1,-1),new G$(0,Z,b),new G$(0,Z,-b),new G$(b,0,Z),new G$(-b,0,Z),new G$(Z,b,0),new G$(-Z,b,0)],Z=function(){for(var p=[],E=[],b=[],Z=lX,o=0;o<SX;o++){var A=Math.pow(2,Z),l=(E.push(A),1/A);lX-AX<o?l=cX[o-lX+AX-1]:0==o&&(l=0),b.push(l);for(var V=-(l=1/(A-1))/2,c=1+l/2,S=[],I=[],D=[],B=0;B<6;B++){var n=B%3*2/3-1,k=2<B?0:-1;S.push(n,k,0,n+2/3,k,0,n+2/3,1+k,0,n,k,0,n+2/3,1+k,0,n,1+k,0),I.push(V,V,c,V,c,c,V,V,c,c,V,c),D.push(B,B,B,B,B,B)}p.push({position:new Of(S),uv:new Of(I),faceIndex:new Of(D)}),AX<Z&&Z--}return{_lodPlanes:p,_sizeLods:E,_sigmas:b}}(),BX=Z._lodPlanes,nX=Z._sizeLods,kX=Z._sigmas,jX=H$.EnvmapTextureSize,H$.setCompType("__ht_envmap_bg__",function(p,E,b,Z,o){var A,l,V,c=b.image;(c=c&&H$.getImage(c))&&(A=E.x,l=E.y,V=E.width,E=E.height,0!=(b=((b.offset||0)%1+1)%1*V|0)&&(p.save(),p.beginPath(),p.rect(A,l,V,E),p.clip(),p.translate(b,0),H$.drawImage(p,c,A-V,l,V,E,Z,o)),H$.drawImage(p,c,A,l,V,E,Z,o),0!=b&&p.restore())}),["left","front","right","back","top","bottom"]),Pn=R._RenderList=function(L){var x=[],C=[],h={},P={},y={},a={},J={},d={},U={},N={};return{opaque:x,transparent:C,init:function(){for(var p in x.length=0,C.length=0,U={},N)N[p].length=0},push:function(p,E){if(E){var b,Z,o,A,l=p,V=l.gv,c=l.data,S=l.shapeModel;if(S)if(c.s("static")&&(W=!0),S.model3d)j=b=Z=!0;else{(n=c.s("shape3d.top.material"))&&(ML(n)?Z=!0:b=!0),(n=c.s("shape3d.bottom.material"))&&(ML(n)?Z=!0:b=!0),(n=c.s("shape3d.from.material"))&&(ML(n)?Z=!0:b=!0),(n=c.s("shape3d.to.material"))&&(ML(n)?Z=!0:b=!0),(n=c.s("shape3d.material"))&&(ML(n)?Z=!0:b=!0);var I,D,B=c.s("shape3d.transparent")||c.s("points.transparent");for(X$(S)||(I=O(S.transparent,c,V),S=[S]),o=0,A=S.length;o<A;o++)D=S[o],(D=(D=(D=O(D.transparent,c,V))===K$?I:D)===K$?B:D)?Z=!0:b=!0}for(o=0,A=hn.length;o<A;o++){var n,k=l[hn[o]];k&&((n=V.getFaceMaterial(c,hn[o]))?ML(n)?Z=!0:b=!0:k.transparent?Z=!0:b=!0)}var E=!1,j=(V.isLabelVisible(c)&&(l.labelInfo&&(E=!0,c.s(px+".transparent")?Z=!0:b=!0),l.label2Info&&(E=!0,c.s(Ex+".transparent")?Z=!0:b=!0)),V.isNoteVisible(c)&&(l.noteInfo&&(E=!0,c.s(bx+".transparent")?Z=!0:b=!0),l.note2Info&&(E=!0,c.s(Zx+".transparent")?Z=!0:b=!0)),{opaque:b=!(Z=l._38o?b=E=!0:Z)||b,transparent:Z,model3d:j,staticModel3d:W});E&&c instanceof gP&&(j.blockRenderable=!0),l._renderParams=j}var W=p.data,E=W._id;if((j=U[E])!==K$)return j;j=p._renderParams;if(!j||!1===j.visible||W instanceof gP&&!j.blockRenderable)return U[E]=!1;if(U[E]=!0,p={ui:p,model3d:j.model3d,data:W,z:0,id:E},L._glCapabilities&&L._glCapabilities.instancedArray&&j.staticModel3d&&p.ui.mat&&L.isVisible(W)&&W.s(fx)){var m,e=L.shadowMap.enable,$=L.getStaticInstancingKey(W,!0),Y=N[$],t=0!==($=(Y=Y||(N[$]={ms:[],ds:[],cs:[],highlightColors:[],lod:[],lodSum:new Uint32Array(32),length:0,msVersion:0,shadowVersion:0,csVersion:0,highlightVersion:0,lodVersion:0,shadow:[],cache:{version:-1,length:-1,id:-1,buffer:null},cacheShadow:{version:-1,length:-1,id:-1,buffer:null},cachePick:{version:-1,length:-1,buffer:null},cacheHighlight:{version:-1,length:-1,buffer:null}})).length),K=!1,r=p.ui._finalMat;H$.extractBatchTranslation?((m=Y.msTranslation)||(Y.msTranslation=m=qf()),t||(m[12]=r[12],m[13]=r[13],m[14]=r[14])):Y.msTranslation&&delete Y.msTranslation;for(var H=16*$,M=0,F=Y.ms;M<16;M++){var X=r[M];m&&12<=M&&M<=14&&(X-=m[M]),F[H+M]!=X&&(K=!0,F[H+M]=X)}K&&(Y.msVersion=Y.msVersion+1),Y.ds[$]=E,e&&(e=W.s("shadow.cast"),!K&&Y.shadow[$]===e||(Y.shadow[$]=e,Y.shadowVersion=Y.shadowVersion+1));for(var G=jL(null,L.pickColorMap,L.isSelectable(W),p.ui,fl,!0),K=!1,T=4*$,M=0,g=Y.cs;M<4;M++)g[T+M]!==G[M]&&(K=!0,g[T+M]=G[M]);if(K&&(Y.csVersion=Y.csVersion+1),Y.length++,t)return G&&(od(G,P[E],h),od(G,a[E],y),od(G,d[E],J)),!0}return(W.isAnimationPlaying()||W._lastModel3dAnimatable)&&(p.ui.shapeModel&&L.updateSkeleton(W,p.ui.shapeModel),W.isAnimationPaused()||L.iv()),j.opaque&&x.push(p),j.transparent&&C.push(p),!0},getModel3dInstancedBatchMap:function(){return N},resetModel3dInstancedDraw:function(){for(var p in N)N[p].rendered=null},batchModelMap:h,batchIndexMap:P,polylineModelMap:y,polylineIndexMap:a,wireframeModelMap:J,wireframeIndexMap:d,beginFillHighlightMaskColor:function(p){var E,b=L.dm();for(E in N){var Z=N[E],o=Z.ds;if(o&&Z.length){for(var A=Z.highlightColors,l=!1,V=!1,c=0,S=Z.length;c<S;c++)for(var I,D=p(I=b.getDataById(o[c]),!0)?[0,0,0,0]:(V=!0,L.getHighlightPickColor(I)),B=4*c,n=0;n<4;n++)A[B+n]!==D[n]&&(l=!0,A[B+n]=D[n]);l&&(Z.highlightVersion=Z.highlightVersion+1),Z._csBackup=[Z.cs,Z.csVersion,Z.cachePick],Z.cs=Z.highlightColors,Z.csVersion=Z.highlightVersion,Z.cachePick=Z.cacheHighlight,Z._highlightInvalid=!V}}},endFillHighlightMaskColor:function(){for(var p in N){var E=(p=N[p])._csBackup;E&&(p.cachePick=E[2],p.csVersion=E[1],p.cs=E[0],p._csBackup=K$,p._highlightInvalid=K$)}},ivBatch:function(p){p?(fL(h,P,p,L),fL(y,a,p,L),fL(J,d,p,L)):(h=this.batchModelMap={},P=this.batchIndexMap={},y=this.polylineModelMap={},a=this.polylineIndexMap={},J=this.wireframeModelMap={},d=this.wireframeIndexMap={}),this.markBatchInvalid()},ivModelBatch:function(p){p?fL(h,P,p,L):(h=this.batchModelMap={},P=this.batchIndexMap={}),this.markBatchInvalid()},ivPolylineBatch:function(p){p?fL(y,a,p,L):(y=this.polylineModelMap={},a=this.polylineIndexMap={}),this.markBatchInvalid()},ivWireframeBatch:function(p){p?fL(J,d,p,L):(J=this.wireframeModelMap={},d=this.wireframeIndexMap={}),this.markBatchInvalid()},markBatchInvalid:function(){this._batchInvalid=!0},isBatchInvalid:function(){return this._batchInvalid},onUpdated:function(){this._batchInvalid=null},clearTransparentQueue:function(p){for(var E=-1,b=C,Z=0,o=b.length;Z<o;Z++){var A=b[Z];A.model3d&&!1===p[A.data._id]||++E<Z&&(b[E]=A)}return C.length=E+1,C},sort:function(p,E,b){var Z=1<C.length;if(b=b&&1<x.length,Z||b){for(var o,A,l,V,c=E[2],S=E[6],I=E[10],D=E[14],B=E[3],n=E[7],k=E[11],j=E[15],W=0;W<2;W++){if(0===W){if(!b)continue;V=x}else{if(!Z)continue;V=C}for(var m=0,e=V.length;m<e;m++)(l=(A=V[m].data)._position)?(o=l.x,A=A._54O,l=l.y,V[m].z=(c*o+S*A+I*l+D)/(B*o+n*A+k*l+j)):V[m].z=0}b&&x.sort(function(p,E){var b=p.model3d;return b!==E.model3d?b?1:-1:p.z!==E.z?p.z-E.z:p.id-E.id}),Z&&C.sort(p||ON)}}}},yn=R._RenderLists=function(Z){var o={};function b(p,E){var b=o[p=p||"main"];return!b&&E?o[p]=new Pn(Z):b}return{init:function(){for(var p in o)o[p].init()},onUpdated:function(){for(var p in o)o[p].onUpdated()},get:b,push:function(p,E){return b(p.data.getRenderLayer(),!0).push(p,E)},each:function(p){for(var E in o)p(o[E])},lists:o}},an=R.RenderTarget=function(p,E,b,Z){var o,A=this,l=(null!=E&&E.canvas?(o=E,E=b,b=Z,Z=arguments[4]):o=p.getGL(),A._sizeVersion=0,(Z=Z||{}).cube,Z.multiple);if(l&&1<l&&p.isWebGL2()&&!Z.cube?(A.textures=[],A.multiple=l):l=0,Z.cube||l?Z.samples=0:Z.samples=Math.min(p._glCapabilities.maxSamples,Z.samples&&1<Z.samples&&p.isWebGL2()?Z.samples:0),A.options=Z,A.uuid=Z.uuid||u.Math.generateUUID(),A.gv=p,A.init(p,o,Z),l){var V,c,S=Z.format,I=Z.textureType;X$(S)||(V=S,S=[]),X$(I)||(c=I,I=[]);for(var D=0;D<l;D++)S[D]=S[D]||V||6408,I[D]=Gn(p,I[D]||c);A.format=S,A.textureType=I}else A.format=[Z.format||6408],A.textureType=[Gn(p,Z.textureType)];A.generateMipmaps=!!Z.generateMipmaps,A.depthInternalFormat=Z.depthFormat||33189,Z.samples&&!p._glCapabilities._maxSamplesChecked?A.setSize(o,E||1,b||1):A.setSize(o,E,b)},pl=(t$.assign(R.RenderTarget.prototype,{isRenderTarget:!0,bind:function(p,E){var b,Z,o,A=this.options;if(A.autoSize&&(b=(o=this.gv).getDevicePixelRatio(),Z=o.getWidth()*b,o=o.getHeight()*b,this.setSize(p,Z,o)),A.cube?Ej(p,this.frame[E]):Ej(p,this.options.samples?this._MSAAFbo:this.frame),this.multiple){for(var l=[],V=0;V<this.multiple;V++)l.push(36064+V);p.drawBuffers(l)}p._renderTargetStack.push(this)},unbind:function(p){p._renderTargetStack.pop(),bj(p),this.options.samples&&(p.bindFramebuffer(36008,this._MSAAFbo),p.bindFramebuffer(36009,this.frame),p.blitFramebuffer(0,0,this.width,this.height,0,0,this.width,this.height,16384,9728),p.bindFramebuffer(36008,null),p.bindFramebuffer(36009,null))},isBinding:function(p){if(!(p=p.frameStack)||!p.length)return!1;var E=p[p.length-1];if(this.options.cube){for(var b=0;b<6;b++)if(this.frame[b]===E)return!0;return!1}return E===(this.options.samples?this._MSAAFbo:this.frame)},grabDepth:function(p){var E=this,b=this.gv.getGL();if(!b)return null;var Z,o,A,l=E.options,V=l.samples;if(p&&!V)return E.depth;var c=E.depthInternalFormat,S=E.width,I=E.height;return p?(o=(Z=(Z=b._grabDepthRboFrame)?Z:b._grabDepthRboFrame={frame:b.createFramebuffer()}).depthRbo)||(o=Z.depthRbo=b.createRenderbuffer()):(A=(Z=(Z=b._grabDepthTextureFrame)?Z:b._grabDepthTextureFrame={frame:b.createFramebuffer()}).depthTexture)||(A=Z.depthTexture=E.gv.createTexture({empty:!0,wrapS:l.wrapS||33071,wrapT:l.wrapT||33071,filter:9728})),Z.width===S&&Z.height===I&&Z.format===c||(Ej(b,Z.frame),p?(b.bindRenderbuffer(36161,o),b.renderbufferStorage(36161,c,S,I),b.framebufferRenderbuffer(36160,36096,36161,o),b.bindRenderbuffer(36161,null)):(b.activeTexture(33984),Pj(b,A),b.texImage2D(3553,0,c,S,I,0,6402,36012===c?5126:33190===c?5125:5123,null),b.framebufferTexture2D(36160,36096,3553,A,0),Pj(b,null),A._internalFormat=c),bj(b),Z.width=S,Z.height=I,Z.format=c),Ej(b,null),b.bindFramebuffer(36008,V?this._MSAAFbo:this.frame),b.bindFramebuffer(36009,Z.frame),b.blitFramebuffer(0,0,E.width,E.height,0,0,E.width,E.height,256,9728),b.bindFramebuffer(36008,null),b.bindFramebuffer(36009,null),bj(b),p?o:A},isCube:function(){return this.options.cube},init:function(p,E,b){for(var Z=this,o=b.samples,A=b.cube,l=Z.multiple,V=l||1,c=0;c<V;c++){var S=E.createTexture(),I=A?34067:3553,D=(E.activeTexture(33984),E.bindTexture(I,S),E.texParameteri(I,10242,b.wrapS||33071),E.texParameteri(I,10243,b.wrapT||33071),o?9728:9729);E.texParameteri(I,10241,b.minFilter||D),E.texParameteri(I,10240,b.magFilter||D),E.bindTexture(I,null),0==c&&(Z.texture=S),l&&(Z.textures[c]=S)}if(A)for(Z.depth=[],Z.frame=[],c=0;c<6;c++)Z.depth[c]=E.createRenderbuffer(),Z.frame[c]=E.createFramebuffer();else Z.depth=E.createRenderbuffer(),Z.frame=E.createFramebuffer();Z.assureTexture()},assureTexture:function(){var p=this.uuid,E=(this.gv.setTexture(p,this.texture,"default"),u.Default.setImage(p,null),this.multiple);if(E)for(var b=0;b<E;b++){var Z=p+b;this.gv.setTexture(Z,this.textures[b],"default"),u.Default.setImage(Z,null)}},releaseTexture:function(){return this.release()},release:function(){var p=this,E=p.gv.getGL(),b=p.uuid,Z=(p.gv.deleteTexture(b),p.multiple);if(Z)for(var o=0;o<Z;o++)p.gv.deleteTexture(b+o);if(p.options.cube)for(o=0;o<6;o++)E.deleteRenderbuffer(p.depth[o]),E.deleteFramebuffer(p.frame[o]);else E.deleteRenderbuffer(p.depth),E.deleteFramebuffer(p.frame),p._MSAAFbo&&(E.deleteRenderbuffer(p._MSAARbO),E.deleteFramebuffer(p._MSAAFbo))},getUUID:function(){return this.uuid},getTexture:function(p){return this.multiple?this.textures[p]:this.texture},getSize:function(){return[this.width,this.height]},setSize:function(p,E,b,Z){var o=this;if(E=Math.round(E),b=Math.round(b),E&&b&&(o.width!==E||o.height!==b||Z)){o.width=E,o.height=b,o._sizeVersion++;var A=36161,l=o.options.samples,V=o.options.cube,c=V?34067:3553;if(l)if(!(Z=o.gv._glCapabilities)._maxSamplesChecked){for(p.bindRenderbuffer(A,o.depth),p.getError();1<l&&(p.renderbufferStorageMultisample(A,l,o.depthInternalFormat,E,b),p.getError());)l=Math.floor(l>>1);l<=1&&(l=0,p.texParameteri(c,10241,o.options.minFilter||9729),p.texParameteri(c,10240,o.options.magFilter||9729),p.renderbufferStorage(A,o.depthInternalFormat,E,b)),Z._maxSamplesChecked=!0,Z.maxSamples=o.options.samples=l,p.bindRenderbuffer(A,r$)}l&&(o._MSAAFbo||(o._MSAAFbo=p.createFramebuffer(),o._MSAARbO=p.createRenderbuffer()),p.bindRenderbuffer(A,o._MSAARbO),Z=gn(o.gv,o.format[0],o.textureType[0])||32856,p.renderbufferStorageMultisample(36161,l,Z,E,b),Ej(p,o._MSAAFbo),p.framebufferRenderbuffer(36160,36064,A,o._MSAARbO),p.framebufferRenderbuffer(36160,36096,A,o.depth),bj(p),p.bindRenderbuffer(A,null));for(var S=o.multiple||1,I=0;I<S;I++){var D,B=o.getTexture(I);if(p.activeTexture(33984+I),p.bindTexture(c,B),V)for(var n=0;n<6;n++)o.setupFrameBufferTextureAndDepth(p,o.frame[n],B,o.depth[n],34069+n,I);else o.setupFrameBufferTextureAndDepth(p,o.frame,B,o.depth,3553,I);o.generateMipmaps&&(o.gv.isWebGL2()||f.isPOT(E)&&f.isPOT(b))&&(p.generateMipmap(c),D=o.options.minFilter||(l?9728:9729),p.texParameteri(c,10241,9728===D?9984:9987)),p.bindTexture(c,null)}}},updateTextureData:function(p,E){E=E||0;var b,Z=this.gv.getGL();Z&&(b=this.options.cube?34067:3553,this._updateTextureDataImpl(Z,b,!0,p,E))},_updateTextureDataImpl:function(p,E,b,Z,o){var A,l=this.format[o],V=this.textureType[o];b&&(A=this.getTexture(o),p.activeTexture(33984+o),p.bindTexture(E,A)),p.texImage2D(E,0,gn(this.gv,l,V),this.width,this.height,0,l,V,Z||null),b&&p.bindTexture(E,null)},setupFrameBufferTextureAndDepth:function(p,E,b,Z,o,A){var l;(l=this.options.data)&&(this.options.data=null),this._updateTextureDataImpl(p,o,!1,l,A),Ej(p,E),p.framebufferTexture2D(36160,36064+A,o,b,0),0===A&&this.setupRenderBufferStorage(p,Z),bj(p)},swapTexture:function(p){var E=this.texture;return this.texture=p,this.setSize(this.gv.getGL(),this.width,this.height,!0),E},blitTo:function(p,E){var b=this,Z=b.gv.getGL();if(!Z)return!1;if(E=E||{},b.options.cube)return!1;if(b.multiple)return!1;if(!b.width||!b.height)return!1;var o=p&&p.isRenderTarget,A=!1;if(o||(P1(p)&&!0===p.texture?(p=b.gv.getTexture(p))&&(A=!0):A=pj(p)),!o&&!A)return!1;if(o&&p.texture===b.texture)return!1;if(o){if(p.options.cube)return!1;if(p.multiple)return!1}var l=b.width,V=b.height,c=(E.width!==K$?E:!1!==E.autoSize?b:p).width,S=(E.height!==K$?E:!1!==E.autoSize?b:p).height;if(!c||!S)return!1;o&&p.setSize(Z,c,S);var I=!!Z.blitFramebuffer&&!1!==E.flipY,D=!!b.options.samples&&!!Z.blitFramebuffer,E=E.filter||9728,B=D&&l===c&&V===S&&9728===E&&!I&&(o?(n=gn(b.gv,b.format[0],b.textureType[0]),B=gn(p.gv,p.format[0],p.textureType[0]),!n||!B||n===B):!(n=gn(b.gv,b.format[0],b.textureType[0]))||32856===n);if(D&&!B&&(E=9728,Z.bindFramebuffer(36008,b._MSAAFbo),Z.bindFramebuffer(36009,b.frame),Z.blitFramebuffer(0,0,l,V,0,0,l,V,16384,9728),Z.bindFramebuffer(36008,null),Z.bindFramebuffer(36009,null),D=!1),A){Z.bindTexture(3553,p);var n=K$;if(Z.getTexLevelParameteriv||Z.getTexLevelParameter){var k=Z.getTexLevelParameter||Z.getTexLevelParameteriv;try{var j=k.call(Z,3553,0,Z.TEXTURE_WIDTH),W=k.call(Z,3553,0,Z.TEXTURE_HEIGHT),n=!(j===c&&W===S&&0<j&&0<W)}catch(p){}}(n=n===K$?p.width!==c||p.height!==S:n)&&Z.texImage2D(3553,0,6408,c,S,0,6408,5121,null),Z.bindTexture(3553,null)}if(Z.blitFramebuffer){var m,k=D?b._MSAAFbo:b.frame;o?m=p.frame:(m=(m=Z._blitToTextureFrame)||(Z._blitToTextureFrame=Z.createFramebuffer()),Z.bindFramebuffer(36160,m),Z.framebufferTexture2D(36160,36064,3553,p,0),Z.bindFramebuffer(36160,null)),Z.bindFramebuffer(36008,k),Z.bindFramebuffer(36009,m),Z.blitFramebuffer(0,0,l,V,0,I?S:0,c,I?0:S,16384,E),Z.bindFramebuffer(36008,null),Z.bindFramebuffer(36009,null),A&&(Z.bindFramebuffer(36160,m),Z.framebufferTexture2D(36160,36064,3553,null,0),Z.bindFramebuffer(36160,null))}else{if(b.options.samples)return!1;if(I)return!1;j=Math.min(l,c),W=Math.min(V,S),D=o?p.texture:p,A&&(Z.bindTexture(3553,D),Z.texImage2D(3553,0,6408,c,S,0,6408,5121,null),Z.texParameteri(3553,10241,9728),Z.texParameteri(3553,10240,9728),Z.texParameteri(3553,10242,33071),Z.texParameteri(3553,10243,33071),Z.bindTexture(3553,null)),Z.bindFramebuffer(36160,b.frame),Z.activeTexture(33984),Z.bindTexture(3553,D),Z.copyTexSubImage2D(3553,0,0,0,0,0,j,W),Z.bindTexture(3553,null),Z.bindFramebuffer(36160,null)}return!0},setupRenderBufferStorage:function(p,E){p.bindRenderbuffer(36161,E);var b=this.options.samples;b?p.renderbufferStorageMultisample(36161,b,this.depthInternalFormat,this.width,this.height):(p.renderbufferStorage(36161,this.depthInternalFormat,this.width,this.height),p.framebufferRenderbuffer(36160,36096,36161,E)),p.bindRenderbuffer(36161,null)},_createBufferForReadPixels:function(p,E,b){return E=E||this.width,b=b||this.height,new(5121===this.textureType[p||0]?Uint8Array:Float32Array)(4*E*b)},readPixels:function(p,E,b,Z,o,A){var l=this.gv.getGL();Ej(l,this.frame),o=o||this._createBufferForReadPixels(A,b,Z);try{this.gv.isWebGL2()&&l.readBuffer(36064+(A||0)),l.readPixels(p,E,b,Z,6408,o instanceof Float32Array?5126:5121,o)}finally{bj(l)}return o},readPixelsAsync:function(p,E,b,Z,o,A,l){if(!this.gv.isWebGL2())throw new Error("readPixelsAsync only work on WebGL2");var V,c,S,I,D,B=this.gv.getGL();Ej(B,this.frame),o=o||this._createBufferForReadPixels(l,b,Z);try{var n=hj(B),k=(B.bindBuffer(35051,n),B.bufferData(35051,o.byteLength,35041),this.gv.isWebGL2()&&B.readBuffer(36064+(l||0)),B.readPixels(p,E,b,Z,6408,o instanceof Float32Array?5126:5121,0),B.bindBuffer(35051,null),B.fenceSync(37143,0));B.flush()}finally{bj(B)}V=B,c=k,S=0,I=10,D=function(p){B.deleteSync(k),p&&(B.bindBuffer(35051,n),B.getBufferSubData(35051,0,o),B.bindBuffer(35051,null)),B.deleteBuffer(n),A(p?o:null)},function p(){var E=V.clientWaitSync(c,S,0);37149==E?D(!1):37147==E?Al(p,I):D(!0)}()},_pixelsToCanvas:function(p,E,b,Z,o){Z=Z||this.width,o=o||this.height,(b=b||n.createElement("canvas")).width!==Z&&(b.width=Z),b.height!==o&&(b.height=o);var A,l=(A=E?((WX=WX||n.createElement("canvas")).width!==Z&&(WX.width=Z),WX.height!==o&&(WX.height=o),WX.getContext("2d")):b.getContext("2d")).createImageData(Z,o);if(p instanceof Float32Array){for(var V=p.byteLength/p.BYTES_PER_ELEMENT,c=new Uint8Array(V);0<=--V;){var S=p[V];S<0?S=0:1<S&&(S=1),c[V]=255*S}p=c}return l.data.set(p),A.putImageData(l,0,0),E&&((A=b.getContext("2d")).clearRect(0,0,Z,o),fq(A,{width:Z,height:o,comps:[{scaleY:-1,type:"image",name:WX,rect:[0,0,Z,o]}]},K$,0,0,Z,o)),b},toCanvas:function(p,E){var b=this.readPixels(0,0,this.width,this.height);return this._pixelsToCanvas(b,p,E)},toCanvasAsync:function(E,b){var p,Z=this,o=this._canvasForReadPixels||(this._canvasForReadPixels=n.createElement("canvas")),A=(this._bufferVersion===this._sizeVersion&&(p=this._bufferForReadPixels)||(p=this._bufferForReadPixels=Z._createBufferForReadPixels(),this._bufferForReadPixels=this._sizeVersion),Z.width),l=Z.height;Z.readPixelsAsync(0,0,A,l,p,function(p){b(p?Z._pixelsToCanvas(p,E,o,A,l):null)})}}),R.Interactor=function(p){this.gv=this.g3d=p}),Jn=(p("Interactor",t$,{ms_listener:1,getView:function(){return this.gv.getView()},setUp:function(){this.addListeners()},tearDown:function(){this.removeListeners()},fi:function(p){this.gv.fi(p)},startDragging:function(p){gf(this,p)}}),R.DefaultInteractor=function(p){R1(Jn,this,[p]),this.initDamping()}),dn=(p("DefaultInteractor",pl,{ms_interactorDamping:!0,getState:function(){return this._62O},setState:function(p){this._62O=p},handle_contextmenu:function(p){sq(p)},handle_mousewheel:function(p){this.zoom(p,p.wheelDelta/40)},handle_DOMMouseScroll:function(p){2===p.axis&&this.zoom(p,-p.detail)},zoom:function(p,E){var b=this.gv;this._enableDamping&&!b.isFirstPersonMode()?(this._scaleLogicalPoint=b.lp(p),this._scaleDelta+=Math.sign(E)*(vq-1),this._startDamping()):b.handleScroll(p,E)},handle_keydown:function(p){this.gv.handleKeyDown(p)},handle_mousedown:function(p){this.handle_touchstart(p)},handle_touchstart:function(p){sq(p);var E=this,b=E.gv,Z=If(p),o=(A=b.getDataInfoDuringInteract(p))?A.data:r$,A=A?A.part:r$,l=b.sm(),V=uW(p),c=nf(p);b.setFocus(p)&&(E._62O=r$,E._57I=r$,E.pendingClickThrough=r$,E.__lastClientPoint__=mf(p),o?Wf(p)?l.co(o)?l.rs(o):l.as(o):l.co(o)?o instanceof gP&&o.isClickThroughEnabled()&&If(p)&&(E.pendingClickThrough=mf(p)):l.ss(o):Z&&(Wf(p)?b.isRectSelectable()&&(E._62O=$x):E._57I=mf(p)),E._31Q&&(bf(E._31Q),delete E._31Q,delete E._32Q),E._62O||(b.isFirstPersonMode()&&(jf(p)||Df(p)||2<c?E._62O="pan":b.isMouseRoamable()||NW(p)?(E._62O="roaming",b.isRoamingWalkable()&&(E.foward=V&&If(p),E._32Q=M1(),E._31Q=Ef(E.tick,E))):Z||(E._62O="roaming")),E._62O||(Z&&V&&bH[A]?(E._62O=A,E.p3=o.p3()):Z&&V&&y(o)&&b.isSelected(o)?b.isMovable(o)?(E._62O="move",E.p3=o.p3(),E.movedata=o):b._39Q(o)&&(E._62O="none"):NW(p)&&(2<c?E._62O="pan":2===c&&(E.dist=z6(p),E._62O="pinch")))),E.point=b.lp(p),gf(E,p),kf(p)?b.handleDoubleClick(p,o,A):b.handleClick(p,o,A))},tick:function(){var p=this.gv,E=p._moveStep;this.point&&p.isWalkable()&&(this._32Q&&(E*=(M1()-this._32Q)/50),p.walk(this.foward?E:-E),this._32Q=M1(),this._31Q=Ef(this.tick,this))},handle_mouseup:function(p){this.handle_touchend(p)},handle_touchend:function(p){var E=this._57I;E&&($f(E,mf(p))<=1&&this.gv.sm().cs(),this._57I=r$),(E=this.pendingClickThrough)&&($f(E,mf(p))<=1&&(E=this.gv.getDataInfoDuringInteract(p))&&E.data instanceof gP&&E.data.isClickThroughEnabled()&&(E=this.gv.getDataInfoDuringInteract(p,!0))&&(p.clickThrough=!0,this.gv.sm().ss(E.data)),this.pendingClickThrough=null)},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(E){var b,Z,p=this,o=p.gv,A=p._62O,l=p.point,V=o.dm(),c=o.lp(E),S=c.x-l.x,I=c.y-l.y,D=o.getWidth(),B=o.getHeight();if(D&&B){var n=mf(E),n=tY(o,n,p.__lastClientPoint__),n=$f({x:0,y:0},n),k=-j$*S/D,j=-j$*I/B;if("roaming"===A)p.rotate(E,k/2,j/2);else if(A===Rn||A===sn||A===wn)o._86O||V.beginTransaction(),o.fi({kind:o._86O?"betweenEditRotation":"beginEditRotation",event:E}),o._86O=1,o.sm().each(function(p){var E;y(p)&&o.isRotationEditable(p)&&(E=a(k)>a(j)?k:j,A===Rn?p.setRotationX(p.getRotationX()+E):A===sn?p.setRotationY(p.getRotationY()+E):A===wn&&p.setRotationZ(p.getRotationZ()+E))});else if("move"===A||bH[A]){if(A===fn||A===pH||A===EH)o._87O||V.beginTransaction(),o.fi({kind:o._87O?"betweenEditScale":"beginEditScale",event:E}),o._87O=1;else{if(!o._moving){if(n<H$.touchMoveThreshold)return;V.beginTransaction()}o.fi({kind:o._moving?"betweenMove":"beginMove",event:E}),o._moving=1}var W,m,n=p.p3,V=o.getPositionInfo(n),e=Tj(o),$=A===Qn?"x":A===qn?"y":A===un?"z":A===fn?"sx":A===pH?"sy":A===EH?"sz":o.getMoveMode(E,p.movedata),S=S/D*V.width,I=-1*I/B*V.height,D=[e[0]*S,e[4]*S,e[8]*S],B=[e[1]*I,e[5]*I,e[9]*I],V=D[0]+B[0],e=D[1]+B[1],D=D[2]+B[2],B=[n[0]+V,n[1]+e,n[2]+D],Y=_f(o.getEye(),B,!0);if("xyz"===$?(W=B,o.moveSelection(V,e,D)):"xz"===$?(W=Wj(o,n,[0,1,0],B))&&o.moveSelection(W[0]-n[0],0,W[2]-n[2]):"xy"===$?(W=Wj(o,n,[0,0,1],B))&&o.moveSelection(W[0]-n[0],W[1]-n[1],0):"yz"===$?(W=Wj(o,n,[1,0,0],B))&&o.moveSelection(0,W[1]-n[1],W[2]-n[2]):"x"===$||"sx"===$?(Y[0]=0,(W=Wj(o,n,Y,B))&&(m=W[0]-n[0],"x"===$?o.moveSelection(m,0,0):o.sm().each(function(p){y(p)&&o.isSizeEditable(p)&&(b=p.getScaleX()+m/100,Z=b/p.getScaleX(),p.setScaleX(b),jf(E)&&(p.setScaleY(p.getScaleY()*Z),p.setScaleTall(p.getScaleTall()*Z)))}))):"y"===$||"sy"===$?(Y[1]=0,(W=Wj(o,n,Y,B))&&(m=W[1]-n[1],"y"===$?o.moveSelection(0,m,0):o.sm().each(function(p){y(p)&&o.isSizeEditable(p)&&(b=p.getScaleTall()+m/100,Z=b/p.getScaleTall(),p.setScaleTall(b),jf(E)&&(p.setScaleY(p.getScaleY()*Z),p.setScaleX(p.getScaleX()*Z)))}))):"z"!==$&&"sz"!==$||(Y[2]=0,(W=Wj(o,n,Y,B))&&(m=W[2]-n[2],"z"===$?o.moveSelection(0,0,m):o.sm().each(function(p){y(p)&&o.isSizeEditable(p)&&(b=p.getScaleY()+m/100,Z=b/p.getScaleY(),p.setScaleY(b),jf(E)&&(p.setScaleX(p.getScaleX()*Z),p.setScaleTall(p.getScaleTall()*Z)))}))),!W)return;p.p3=W}else A===$x?((V=p.div)||(V=p.div=nW(),eW(p.getView(),V),V.op=l,V.style.background=o.getRectSelectBackground()),o.fi({kind:o._rectSelecting?"betweenRectSelect":"beginRectSelect",event:E}),o._rectSelecting=1,V.rect=Yf(V.op,c),dW(V,V.rect)):"pinch"===A&&2===nf(E)?(o.fi({kind:o._pinching?"betweenPinch":"beginPinch",event:E}),o._pinching=1,m=z6(E),o._lastZoomLP||(o._lastZoomLP=(D=(e=E).touches[0],e=e.touches[1],Y=D.clientX,D=D.clientY,{x:(Y+e.clientX)/2,y:(D+e.clientY)/2})),p._enableDamping&&o.isZoomable()&&Math.abs(m-p.dist)>H$.pinchZoomThreshold?(p._scaleLogicalPoint=null,p._scaleDelta+=Math.sign(m-p.dist)*(Qq-1),p._startDamping()):o.handlePinch(m,p.dist),p.dist=m):"pan"===A||jf(E)||Df(E)?p.pan(E,S,I):"none"===A||o.isFirstPersonMode()||p.rotate(E,k,j);p.point=c}},pan:function(p,E,b){var Z,o,A=this.gv;A.isPannable()&&(o=A.getWidth(),Z=A.getHeight(),o&&Z&&(o=E/o*(E=A.getCenterInfo()).width,b=-1*b/Z*E.height,A.fi({kind:A._panning?"betweenPan":"beginPan",event:p}),A._panning=1,this._enableDamping?(this._panDelta.dx+=-o,this._panDelta.dy+=-b,this._startDamping()):A.pan(-o,-b)))},rotate:function(p,E,b){var Z=this.gv;Z.isRotatable()&&(Z.fi({kind:Z._rotating?"betweenRotate":"beginRotate",event:p}),Z._rotating=1,this._enableDamping?(this._rotateDelta.rx+=E,this._rotateDelta.ry+=b,this._startDamping()):Z.rotate(E,b))},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handleWindowTouchEnd:function(p){var E,b,Z,o,A,l=this,V=l.gv,c=V.dm(),S=l.div;S&&((E=V.getDatasInRect(S.rect)).isEmpty()||(b=V.sm(),Z=b.toSelection(),o=jf(p),A=p.altKey,E.each(function(p){b.co(p)?o&&!A||Z.remove(p):(!A||o&&A)&&Z.add(p)}),b.ss(Z)),Lf(S)),V._moving&&(delete V._moving,V.fi({kind:"endMove",event:p}),V.onMoveEnded(),c.endTransaction()),V._panning&&(delete V._panning,V.fi({kind:"endPan",event:p}),V.onPanEnded()),V._rotating&&(delete V._rotating,V.fi({kind:"endRotate",event:p}),V.onRotateEnded()),V._86O&&(delete V._86O,V.fi({kind:"endEditRotation",event:p}),c.endTransaction()),V._87O&&(delete V._87O,V.fi({kind:"endEditScale",event:p}),c.endTransaction()),V._pinching&&(delete V._pinching,V.fi({kind:"endPinch",event:p}),V.onPinchEnded()),V._rectSelecting&&(delete V._rectSelecting,V.fi({kind:"endRectSelect",event:p}),V.onRectSelectEnded()),V._walking&&(delete V._walking,V.fi({kind:"endWalk",event:p}),V.onWalkEnded()),V._lastZoomLP=V._lastZoomHit=null,l.dist=l.point=l._62O=l.p3=l.movedata=l.div=l._57I=l.pendingClickThrough=l._32Q=l._31Q=l.foward=r$,l.__lastClientPoint__=r$}}),R.MapInteractor=function(p){R1(dn,this,[p]),this._keepHorizon=!0,this._threshold=2,this._touchScaleThreshold=.05,this._touchRotateThreshold=.03,this._touchScaleCheckAccuracy=.01,this._panButton="right",this._minPhi=0,this._maxPhi=5*Math.PI/12,this.initDamping()}),Un=(p("MapInteractor",pl,{ms_interactorDamping:!0,setUp:function(){dn.superClass.setUp.call(this);var p=this.gv;this.__oldMinPhi__=p.getRotateMinPhi(),this.__oldMaxPhi__=p.getRotateMaxPhi(),p.setRotateMinPhi(this._minPhi),p.setRotateMaxPhi(this._maxPhi)},tearDown:function(){dn.superClass.tearDown.call(this);var p=this.gv;p.setRotateMinPhi(this.__oldMinPhi__),p.setRotateMaxPhi(this.__oldMaxPhi__),delete this.__oldMinPhi__,delete this.__oldMaxPhi__,this._stopDamping()},handle_contextmenu:function(p){sq(p)},handle_mousewheel:function(p){this.zoom(p,p.wheelDelta/40)},handle_DOMMouseScroll:function(p){2===p.axis&&this.zoom(p,-p.detail)},zoom:function(p,E){var b=this.gv;this._enableDamping&&b.isZoomable()&&!b.isFirstPersonMode()?(this._scaleLogicalPoint=b.lp(p),this._scaleDelta+=Math.sign(E)*(vq-1),this._startDamping()):b.handleScroll(p,E)},handle_keydown:function(p){this.gv.handleKeyDown(p)},handle_mousedown:function(p){this.handle_touchstart(p)},handle_touchstart:function(p){sq(p);var E,b,Z,o=this.gv;o.setFocus(p)&&(E=(b=o.getDataInfoDuringInteract(p))?b.data:r$,b=b?b.part:r$,this.__lastClientPoint__=mf(p),Z=this.editing={point:o.lp(p),data:E,part:b},NW(p)?Z.touch=!0:(Z.touch=!1,Z.clickLeft=If(p),Df(p)?Z.pan=!0:Z.pan="left"===this.panButton===Z.clickLeft),E&&o._39Q(E)&&(Z.preventDefault=!0),gf(this,p),kf(p)?o.handleDoubleClick(p,E,b):o.handleClick(p,E,b))},handle_mouseup:function(p){this.handle_touchend(p)},handle_touchend:function(p){},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(p){var E=this,o=E.gv,b=E.editing;if(b){var Z=o.lp(p),A=b.point,l=Z.x-A.x,A=Z.y-A.y;if(!b.moved){if(Math.abs(l)<E.threshold&&Math.abs(A)<E.threshold&&!(p.touches&&1<p.touches.length))return;b.moved=!0}if(!b.preventDefault){b.point=Z;var V,c,S,I,D,B,n=b.part;if(bH[n]){var Z=b.data,k=o.dm(),j=o.getWidth(),W=o.getHeight(),m=-j$*l/j,e=-j$*A/W;if(n===Rn||n===sn||n===wn){o._86O||k.beginTransaction(),o.fi({kind:o._86O?"betweenEditRotation":"beginEditRotation",event:p}),o._86O=1;var $=a(m)>a(e)?m:e;o.sm().each(function(p){y(p)&&o.isRotationEditable(p)&&(n===Rn?p.setRotationX(p.getRotationX()+$):n===sn?p.setRotationY(p.getRotationY()+$):n===wn&&p.setRotationZ(p.getRotationZ()+$))})}else{var Y,t,K,r,Z=Z.p3(),l=l/j*(M=o.getPositionInfo(Z)).width,A=-1*A/W*M.height,H=[(M=Tj(o))[0]*l,M[4]*l,M[8]*l],M=[M[1]*A,M[5]*A,M[9]*A],H=[Z[0]+(H[0]+M[0]),Z[1]+(H[1]+M[1]),Z[2]+(H[2]+M[2])],M=_f(o.getEye(),H,!0);if(n===fn||n===pH||n===EH)o._87O||k.beginTransaction(),o.fi({kind:o._87O?"betweenEditScale":"beginEditScale",event:p}),o._87O=1,(Y=Wj(o,Z,M,H))&&(G=0,n===fn?t="X":n===pH?(t="Tall",G=1):n===EH&&(t="Y",G=2),(K=["X","Y","Tall"]).splice(K.indexOf(t),1),r=jf(p),X=(Y[G]-Z[G])/100,o.sm().each(function(E){var p,b,Z;y(E)&&o.isSizeEditable(E)&&(p=E["getScale"+t](),E["setScale"+t](b=p+X),r&&(Z=b/p,K.forEach(function(p){E["setScale"+p](E["getScale"+p]()*Z)})))}));else if(n===Qn||n===qn||n===un){if(!o._moving){var F=mf(p),F=tY(o,F,E.__lastClientPoint__);if($f({x:0,y:0},F)<H$.touchMoveThreshold)return;k.beginTransaction()}o.fi({kind:o._moving?"betweenMove":"beginMove",event:p}),o._moving=1;var X,G=0;n===Qn?G=0:n===qn?G=1:n===un&&(G=2),M[G]=0,(Y=Wj(o,Z,M,H))&&(X=Y[G]-Z[G],(F=[0,0,0])[G]=X,o.moveSelection.apply(o,F))}}}else b.touch?2!==(k=p.touches.length)?E.pan(p,l,A):k<=1||(H=(M=p.touches)[0].clientX,Y=M[0].clientY,F={x:(Z=M[1].clientX)-H,y:(G=M[1].clientY)-Y},k=b.lastCenter,M=Math.atan2(F.y,F.x),V=0,(S=b.theta)==r$?S=b.theta=M:(V=M-S,b.thetaStarted||Math.abs(V)>E.touchRotateThreshold?(b.thetaStarted=!0,b.theta=M):V=0),S=R$*(Y+G)/2/o.getHeight(),M=0,(c=b.phi)==r$?c=b.phi=S:(M=S-c,b.phiStarted||Math.abs(M)>E.touchRotateThreshold?(b.phiStarted=!0,b.phi=S):M=0),c=Math.sqrt(F.x*F.x+F.y*F.y),(S=b.vlen)?(F=H-k.x,D=Y-k.y,B=Z-k.x,k=G-k.y,F=Math.sqrt(F*F+D*D),D=Math.sqrt(B*B+k*k),(k=E._sign2(F-(B=S/2)))*(F=E._sign2(D-B))<0||0===k&&0===F?(I=1,b.vlen=c):(I=I||c/S,b.scaleStarted||Math.abs(I-1)>E.touchScaleThreshold?(b.vlen=c,b.scaleStarted=!0):I=1)):(S=b.vlen=c,I=1),1!==I&&(E._enableDamping?(E._scaleLogicalPoint=null,E._scaleDelta+=I-1,E._startDamping()):o.setZoom(I)),(M||V)&&E.rotate(p,V,-M),b.lastCenter={x:(Z+H)/2,y:(G+Y)/2}):b.pan?E.pan(p,l,A):(j=o.getWidth(),W=o.getHeight(),j&&W&&E.rotate(p,m=-j$*l/j,e=-j$*A/W))}}},_sign2:function(p){return Math.abs(p)<this._touchScaleCheckAccuracy?0:0<p?1:-1},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handleWindowTouchEnd:function(p){var E,b,Z=this.editing;this.editing=null,Z&&(E=this.gv,Z.moved||!Z.clickLeft&&!Z.touch?(E._panning=null,E._rotating=null,E.fi({kind:Z.pan?"endPan":"endRotate",event:p})):(b=(b=(Z=E.getDataInfoDuringInteract(p))&&Z.data)instanceof gP&&b.isClickThroughEnabled()&&(Z=E.getDataInfoDuringInteract(p,!0))?Z.data:b)?E.sm().setSelection([b]):E.sm().clearSelection(),Z=E.dm(),E._moving&&(delete E._moving,E.fi({kind:"endMove",event:p}),E.onMoveEnded(),Z.endTransaction()),E._86O&&(delete E._86O,E.fi({kind:"endEditRotation",event:p}),Z.endTransaction()),E._87O&&(delete E._87O,E.fi({kind:"endEditScale",event:p}),Z.endTransaction()))},pan:function(p,E,b){var Z,o=this,A=o.gv;A.isPannable()&&(A.fi({kind:A._panning?"betweenPan":"beginPan",event:p}),A._panning=1,o._enableDamping?(o._panDelta.dx+=E,o._panDelta.dy+=b,o._startDamping()):(A=o.keepHorizon,((Z=o.editing.touch)&&p.touches&&1<p.touches.length||!Z&&jf(p))&&(o._finalKeepHorizon=!A),o._handlePan(E,b),delete o._finalKeepHorizon))},_handlePan:function(p,E){var b=this.gv,Z=b.getWidth(),o=b.getHeight();if(Z&&o){var A=b.getCenterInfo(),p=-p/Z*A.width,Z=+E/o*A.height;if(!(E=(E=this._finalKeepHorizon)===K$?this.keepHorizon:E))return b.pan(p,Z);(p||Z)&&(A=[(o=Tj(b))[0]*p,o[4]*p,o[8]*p],E=[o[1],0,o[9]],(p=Math.sqrt(E[0]*E[0]+E[2]*E[2]))&&(E=[E[0]/p*Z,0,E[2]/p*Z]),o=A[0]+E[0],p=A[1]+E[1],Z=A[2]+E[2],A=b._center,E=b._eye,A[0]+=o,A[1]+=p,A[2]+=Z,E[0]+=o,E[1]+=p,E[2]+=Z,b.fp(Ml,r$,E),b.fp(Hl,r$,A))}},rotate:function(p,E,b){var Z=this.gv;Z.isRotatable()&&(Z.fi({kind:Z._rotating?"betweenRotate":"beginRotate",event:p}),Z._rotating=1,this._enableDamping?(this._rotateDelta.rx+=E,this._rotateDelta.ry+=b,this._startDamping()):this._handleRotate(E,b))},_handleRotate:function(p,E){var b=this.gv,Z=b._center,o=b._eye,o=_f(o,Z),Z=i$(v$(o[0]*o[0]+o[2]*o[2]),o[1]),o=kj(b,Z+E);b.rotate(p,E=o-Z)}}),t$.defineProperties(dn.prototype,{panButton:{get:function(){return this._panButton},set:function(p){this._panButton=p}},minPhi:{get:function(){return this._minPhi},set:function(p){this.gv.setRotateMinPhi(this._minPhi=p)}},maxPhi:{get:function(){return this._maxPhi},set:function(p){this.gv.setRotateMaxPhi(this._maxPhi=p)}},keepHorizon:{get:function(){return this._keepHorizon},set:function(p){this._keepHorizon=p}},threshold:{get:function(){return this._threshold},set:function(p){this._threshold=p}},touchScaleThreshold:{get:function(){return this._touchScaleThreshold},set:function(p){this._touchScaleThreshold=p}},touchRotateThreshold:{get:function(){return this._touchRotateThreshold},set:function(p){this._touchRotateThreshold=p}}}),R.GlobeInteractor=function(n,p){function Z(p){return n._81O=null,p=n.getHitPosition(p,n.getCenter(),D.copy(n.getEye()).sub(e.copy(n.getCenter())).toArray()),B.origin.copy(n.getEye()),B.direction.copy(p).sub(B.origin).normalize(),B.intersectEllipsoid($)}function k(p,E){var b;m&&(b=Date.now(),m.deltaTime=m.lastTime?b-m.lastTime:1e3,m.lastTime=b,m.lastAxis=p,m.lastAngle=E),E&&(o.setFromAxisAngle(p,E),n.setEye(D.copy(n.getEye()).applyQuaternion(o).toArray()),n.setCenter(D.copy(n.getCenter()).applyQuaternion(o).toArray()),n.setUp(D.copy(n.getUp()).applyQuaternion(o).toArray()))}function j(p){return Math.abs(p)<.01?0:0<p?1:-1}R1(Un,this,[n]);var A,W=p.radius||6378137,V=this,m=null,o=(mX||((mX=nW()).style.border="",mX.style.backgroundImage="url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAEyUlEQVRYR62XW0xcVRSG/58cmIG2HmstE9N4SX2xtVqBCISoFS/RmDSpKQSvTWNixUStQSqVyBQYJUGttrQVtYkPatuQPmhivMUHqbUBZ2itl1qjTzZpImNUZhDLsUeWWXgOOd2cgcGyk3mYs/de69trr70uxP8YIlJKMi0i9wIgyf0iEiM5PFdxzGeDiBQAuB7AjQBuALCN5NcGQDmANgBfeL8UyYnZ5M8KICJ3AXgAwAlfOMl/VHAQwPtveYAKuQLA2yQ/ngliRgAR2QogA2AvSdcUZAIE50VEYR4BsIDkC7kgQgFE5GIAuwDsJnkk1+aZAPw9IqLX1gjgcZK/m7KmAXjK4wBaSf4ZplxEIgCuA3Cz3gSAfgDHSf6dY/0FAJ4D0G5ChAEcAPBwmHIRqXNd90nLsiocx/k+k8n8oK/Atu2rIpHIStd1v7QsawfJd0Ouywawh6T609Q4B8C788NhZnddt29sbGxBd3f39q6urtNhJ43H48uam5u3lJSUjFiWdV8IxE0Aqki+6M9NAXjefjnJXsOZogBGBgYGttbU1Hw427PS+cHBwbVVVVUJAItJOoa8xwD8RPIT/T4J4L3zfQAeNL1dRMZra2ur+/v7/8pHub+mvr7+wr6+vs8KCgoWGABFAN4EsEHjhA9QBeA2ks8HF6vZk8nkQL4nNwGTyeTa8vLycsuy7jcg1Mk/IpnyAZoBaOQ6FHg+ddlsdqNt201zObm5NpvN7ly0aNHrJN8LyL4FwGqSr/gAOrnej3C60HXdw/F4PJ7L4fKFSiQSl7W0tLQVFRWtCQDoNRwguZ6aWABcorE9sEDf+QjJ1fkqmmmdiHwHoCToXyKiceR0rkhY5TjOq9FoVLPdeY/x8fG+SCSySe/cFKYWCFOyPJ1Or4zFYh3nrR3A8PBwe2lp6TcAfg4DmBYwAFyRTqdXxWKx9nkE+DYUIEyBiFQ6jvNaNBq9Zz4AZruCGIBlJI8ZXpolee18AORwwgoAp/xnqMmjPuilZ8+ePZRIJNo7OztD436+YB0dHZe2trY+W1hYWGsccD/JOh/gKQBHSWpanRwicnc2m91k2/bmfJWFrRsdHd29cOHCXSTfD8i+FcA1JHcEQ/HtJDVnTw3XdfcPDQ0dra6unto8F5hUKrWurKxslWVZG4L7RGQbgA9IDgWT0VsANprJaGJi4kxDQ8OagwcPjsxFeWNj49Le3l6N91qMTA2vmNnr6fovGXkmvxPAlST3hGz4LZVKbausrMzLEnryioqKNpJLzCpJRJ4AcJLkp6rHLEieBjBA8rB5Wtd1942NjS3p6el5qa2t7VSYNdThmpqaWoqLi38xze4dUku4CpLb/f1hJZnWBY+SzJpKRGSdV5LVOI5zIpPJnNQ1tm2viEQiV7uue8SyrJeDDhew8GIAO0me4w9hABdp8ahNBkktyacNr+Qu84pSndfX81VY6e6dXJV3AoiT/CMoMFcyUogeAG+Q/DyX8+VZlqvZHwKw2VQ+zQdCTL4FwBkPZFrJPUtjoildG5PC4J2bOvJpze7QWhHAj4HWbBImpDXTQsPvH5cDeMf39lxWnBXAU6TNqcZu7fn0lyB53GhOdf6ZQHN6bF6a0xxOuJTkrwbA5LdcJ831/V8SOUYQxYGhRwAAAABJRU5ErkJggg==)"),new uB),D=new G$,e=new G$,c=new G$,B=new iB,l="number"==typeof W?{x:W,y:W,z:W}:W,$={center:new G$(0,0,0),radius:l};V._showCrossIcon=function(p){eW(V.getView(),mX),dW(mX,{x:p.clientX-16,y:p.clientY-16,width:32,height:32})},V._hideCrossIcon=function(){Lf(mX)},V._scrollImpl=function(p,E){(m={point:n.lp(p),screen:mf(p),hit:Z(p),type:"right"}).hitNormalize=m.hit?m.hit.clone().normalize():new G$,p={clientX:m.screen.x,clientY:m.screen.y+10*E},V._handleMoveImpl(p),V._endMoveImpl(p)},V._startMoveImpl=function(p){A&&(A.stop(!0),A=null),(m={point:n.lp(p),screen:mf(p),hit:Z(p)}).hitNormalize=m.hit?m.hit.clone().normalize():new G$,NW(p)?1===p.touches.length?m.hit&&(m.type="left"):2===p.touches.length&&(m.type="touch2"):(If(p)?m.hit&&(m.type="left"):Bf(p)?m.type="right":Df(p)&&m.hit&&(m.type="middle"),!m.hit||"right"!==m.type&&"middle"!==m.type||V._showCrossIcon(p)),m.type&&gf(V,p)},V._handleMoveImpl=function(p){if(m)switch(m.type){case"left":return V._handleLeft(p);case"right":return V._handleRight(p);case"middle":return V._handleMiddle(p);case"touch2":return V._handleTouch2(p)}},V._endMoveImpl=function(p){var b,Z,o;m&&(this._hideCrossIcon(),"left"!==m.type&&"middle"!==m.type||(b=m.lastAngle/(m.deltaTime||30)*1e3,Z=m.lastAxis,o=m.lastTime,A=Af({action:function(){var p=Date.now(),E=(p-o)/1e3;o=p,b*=Math.pow(Math.abs(V.decelerationRate),3*E),Math.abs(b)<.01?(b=0,A&&A.stop()):k(Z,b*E)},duration:5e3})),m=null)},V._handleLeft=function(p){if(!m.finished){var E=mf(p),b=function(p,E){n._81O=null,B.origin.copy(n.getEye());for(var b,Z,o=n.getCenter(),A=D.copy(n.getEye()).sub(e.copy(n.getCenter())).toArray(),l=1,V=16,c=0,S=1,I={x:0,y:0};V--;){if(I.x=E.x+(p.x-E.x)*l,I.y=E.y+(p.y-E.y)*l,b=n.getHitPosition(I,o,A),B.direction.copy(b).sub(B.origin).normalize(),(Z=B.intersectEllipsoid($))&&1===l)return{hit:Z};Z?c=l:S=l,l=(c+S)/2}return{hit:Z,out:l<1}}(E,m.lastScreen||m.screen);if(m.lastScreen=E,!b.hit)return m.finished=!0,void V._endMoveImpl(p);(E=b.hit).normalize();var Z=m.hitNormalize,o=Math.acos(E.dot(Z));k(E=E.cross(Z).normalize(),o),b.out&&(m.finished=!0,V._endMoveImpl(p))}},V._handleRight=function(p){var E,b=(m.lastScreen||m.screen).y;(p=(m.lastScreen=mf(p)).y-b)&&(b=Math.min(.5,p*V.scaleSpeed),D.copy(n.getEye()),p=(p=m.hit)||D.clone().divide(l).normalize().multiply(l),e.copy(D).lerp(p,b),n.setEye(e.toArray()),D.copy(n.getUp()),e.normalize(),p=D.clone().cross(e).normalize(),c.copy(n.getCenter()),c.sub(p.multiplyScalar(c.dot(p))),n.setCenter(c.toArray()),m.hit&&(b=Z(m.screen),p=m.hitNormalize,b&&(b.normalize(),E=Math.acos(b.dot(p)),b=b.cross(p).normalize(),E&&k(b,E))))},V._handleTouch2=function(p){var E,b,Z,o,A,l,V,c,S,I,D,B;2===p.touches.length&&(E=(p=p.touches)[0].clientX,b=p[0].clientY,B={x:(Z=p[1].clientX)-E,y:(p=p[1].clientY)-b},I=m.lastCenter,l=Math.atan2(B.y,B.x),o=0,(A=m.theta)==r$?A=m.theta=l:(o=l-A,m.thetaStarted||.03<Math.abs(o)?(m.thetaStarted=!0,m.theta=l):o=0),A=Math.sqrt(B.x*B.x+B.y*B.y),(l=m.vlen)?(D=E-I.x,c=b-I.y,S=Z-I.x,I=p-I.y,D=Math.sqrt(D*D+c*c),c=Math.sqrt(S*S+I*I),(I=j(D-(S=l/2)))*(D=j(c-S))<0||0===I&&0===D?(V=1,m.vlen=A):(V=V||A/l,m.scaleStarted||.05<Math.abs(V-1)?(m.vlen=A,m.scaleStarted=!0):V=1)):(l=m.vlen=A,V=1),B=e.copy(n.getEye()).clone(),1!==V&&n.setEye(B.setLength((B.length()-W)/V+W).toArray()),o&&k(B.normalize(),o),m.lastCenter={x:(Z+E)/2,y:(p+b)/2})},V._handleMiddle=function(p){var p=mf(p),E=m.screen,b=((m.screen=p).y-E.y)/180*Math.PI*V.rollSpeed,Z=(e.copy(n.getCenter()).sub(D.copy(n.getEye())).normalize(),D.copy(n.getUp()).cross(e).normalize(),e.copy(n.getEye()).sub(m.hit).applyAxisAngle(D,b).add(m.hit),e.clone()),o=(e.copy(n.getCenter()).sub(m.hit).applyAxisAngle(D,b).add(m.hit),e.clone()),A=e.copy(n.getUp()).applyAxisAngle(D,b).clone(),l=!1,b=(0<b&&(c.copy(A),e.copy(o).sub(Z).normalize(),D.copy(Z).multiplyScalar(-1).normalize(),0<D.dot(c)-e.dot(c)&&(l=!0)),l||0<=c.copy(m.hit).sub(Z).dot(m.hitNormalize)&&(l=!0),l||(n.setEye(Z.toArray()),n.setCenter(o.toArray()),n.setUp(A.toArray())),-(p.x-E.x)/180*Math.PI*V.rotateSpeed);k(m.hitNormalize,b)}}),Nn=(p("GlobeInteractor",pl,{handle_contextmenu:function(p){sq(p)},handle_mousewheel:function(p){this._scrollImpl(p,p.wheelDelta/40)},handle_DOMMouseScroll:function(p){2===p.axis&&this._scrollImpl(p,-p.detail)},handle_keydown:function(p){this.gv.handleKeyDown(p)},handle_mousedown:function(p){this.handle_touchstart(p)},handle_touchstart:function(p){sq(p);var E,b,Z=this.gv;Z.setFocus(p)&&((E=(b=Z.getDataInfoAt(p))?b.data:r$)&&Z.isInteractive(E)||this._startMoveImpl(p),b=b?b.part:r$,kf(p)?Z.handleDoubleClick(p,E,b):Z.handleClick(p,E,b))},handle_mouseup:function(p){this.handle_touchend(p)},handle_touchend:function(p){},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(p){this._handleMoveImpl(p)},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handleWindowTouchEnd:function(p){this._endMoveImpl(p)}}),t$.defineProperties(Un.prototype,{rotateSpeed:{get:function(){return this._rotateSpeed||.3},set:function(p){this._rotateSpeed=p}},rollSpeed:{get:function(){return this._rollSpeed||.1},set:function(p){this._rollSpeed=p}},scaleSpeed:{get:function(){return this._scaleSpeed||.002},set:function(p){this._scaleSpeed=p}},decelerationRate:{get:function(){return this._decelerationRate||.04},set:function(p){this._decelerationRate=p}}}),function(p){return[((p|=2147483648)>>16&255)/255,(p>>8&255)/255,(255&p)/255,(p>>24&255)/255]}),On=function(p){this.gv=p,this.gv.pickColorMap={_pickIdUsed:5e3,_outside:K$},this._cacheQuery=[],this._cacheLength=0,this._cacheIdx=0,this._buffer=K$},zn=(yf(On,t$,{_iv:!0,iv:function(){this._iv=!0},isAsync:function(){return!!this._async},setAsync:function(p){this._async=p&&this.gv.isWebGL2()},get:function(p,E,b){this.validate();var Z=this,o=Z.gv;if(!o.getGL())return r$;var A,l=Z._resolution,V=Z.renderTarget,c=V.getSize()[1],S=Math.round(p.x*l),I=Math.ceil(p.width*l),D=Math.ceil(p.height*l),B=c-Math.round(p.y*l)-D;if(!b)for(var n=Z._cacheQuery,k=Z._cacheIdx;k>=Z._cacheIdx-Z._cacheLength+1;k--){var j=n[3&k];if(j[0]===S&&j[1]===B&&j[2]===I&&j[3]===D&&j[4]===E)return j[5]}if(Z.isAsync()&&(A=Z._buffer)){var W=new Uint8Array(I*D*4),m=Z.renderTarget.getSize()[0];if(I===m)p=A.subarray(p=4*(B*m+S),p+I*D*4),W.set(p);else for(k=0;k<D;k++){var e=k*I*4,$=A.subarray($=4*((B+k)*m+S),$+4*I);W.set($,e)}}else W=V.readPixels(S,B,I,D);var Y,t,K,r=o.pickColorMap;if(E){for(var H=Math.round((I-1)/2),M=Math.round((D-1)/2),F=Math.floor(Math.max(I,D)/2),k=0;k<=F;k++){var X=H-k,G=H+k,T=M-k,g=M+k;if(0<=T)for(K=X;K<=G;K++)if(Y=_N(T,K,S,B,I,D,c,l,W,r,b))return vN(Z,S,B,I,D,E,b,Y);if(0<=X)for(t=1+T;t<g;t++)if(Y=_N(t,X,S,B,I,D,c,l,W,r,b))return vN(Z,S,B,I,D,E,b,Y);if(g<D)for(K=X;K<=G;K++)if(Y=_N(g,K,S,B,I,D,c,l,W,r,b))return vN(Z,S,B,I,D,E,b,Y);if(G<I)for(t=1+T;t<g;t++)if(Y=_N(t,G,S,B,I,D,c,l,W,r,b))return vN(Z,S,B,I,D,E,b,Y)}return vN(Z,S,B,I,D,E,b,null)}for(var L,x,C=new q,h={},P={},k=0,y=W.length;k<y;k+=4)!(L=(W[k]<<16)+(W[k+1]<<8)+W[k+2]+(W[k+3]<<24))||h[L]||!(Y=zN(r,L))||b&&!1===b(Y,K=Math.round((S+(k>>2)%I)/l),t=Math.round((c-1-(B+Math.floor((k>>2)/I)))/l))||P[(x=Y.data)._id]||(C.add(x),P[x._id]=x,h[L]=!0);return vN(Z,S,B,I,D,E,b,C)},getResolution:function(){return this._resolution},dispose:function(){zj(this.gv,this.renderTarget),this.renderTarget=null},validate:function(){var p,E,b,Z,o,A,l=this,V=l.gv,c=V.getGL();c&&((p=l.renderTarget)||(l.renderTarget=p=new an(V,1,1)),l._iv&&!V._isSkippingFrame("pick")&&(l._iv=!1,l._cacheLength=0,E=l._resolution=V._pickerResolution*V.getDevicePixelRatio(),b=Math.round(E*V.getWidth()),Z=Math.round(E*V.getHeight()),(o=p.getSize())[0]===b&&o[1]===Z||(p.setSize(c,b,Z),l._buffer&&(l._buffer=null)),A=!1,V._40Q.each(function(p){!A&&p.isBatchInvalid()&&(A=!0)}),A&&V.updateScene(),p.bind(c),c.colorMask(!0,!0,!0,!0),c.clear(16384),V.overlappingBox.clear(),V.setViewport(c,0,0,b,Z),V.renderPickScene(E),p.unbind(c),l._async&&p.readPixelsAsync(0,0,b,Z,l._buffer,function(p){p&&(l._buffer=p)})))}}),function(p){this.gv=p}),_n=(yf(zn,t$,{gap:0,size:0,_42:function(p){var E,b=this,Z=b.gv,o=Z._gridGap,A=Z._gridSize;if(Z._gridVisible){if(b.gap!==o||b.size!==A){for(var l=[],V=Z._gridSize/2,c=o*V,S=0;S<2*V+1;S++){var I=6*S,D=6*(2*V+1)+I;l[I]=-c,l[1+I]=0,l[2+I]=S*o-c,l[3+I]=c,l[4+I]=0,l[5+I]=S*o-c,l[D]=S*o-c,l[1+D]=0,l[2+D]=-c,l[3+D]=S*o-c,l[4+D]=0,l[5+D]=c}b.vs=new Of(l),b.gap=o,b.size=A}nL(Z),Qj(p),sj(p),(A=!Z._fogDisabled)&&((E=g$.for(p).directUniforms()).uFog=!1),pL(p,1,Z._gridColor,Z._buffer.vs,b.vs),bL(p,0,b.vs.length/3,1),A&&(E.uFog=!0),wj(p),qj(p)}else b.vs=b.gap=b.size=r$}}),function(p){this.gv=p}),vn=(yf(_n,t$,{_42:function(p){var E,b,Z,o,A=this.gv,l=A._buffer.vs,V=A._axisXColor,c=A._axisYColor,S=A._axisZColor,I=A._originAxisVisible,D=A._centerAxisVisible;(I||D)&&(b=Sl?4:6,nL(A),Qj(p),sj(p),I&&(Z=A.getCenterInfo(),o=Z$(Z.width,Z.height)/5,pL(p,1.5,V,l,new Of([0,0,0,o,0,0,I=.8*o,E=.05*o,0,I,0,E,I,-E,0,I,0,-E,I,E,0,0,0,0,0,o,0,E,I,0,0,I,E,-E,I,0,0,I,-E,E,I,0,0,0,0,0,0,o,E,0,I,0,E,I,-E,0,I,0,-E,I,E,0,I])),bL(p,0,2,1),bL(p,1,6,b),pL(p,r$,c),bL(p,7,2,1),bL(p,8,6,b),pL(p,r$,S),bL(p,14,2,1),bL(p,15,6,b)),D&&(I=(E=A._center)[0],b=E[1],D=E[2],Z=A.getPositionInfo(E),o=Z$(Z.width,Z.height)/20,pL(p,1.5,V,l,new Of([I,b,D,I+o,b,D,I,b,D,I,b+o,D,I,b,D,I,b,D+o])),bL(p,0,2,1),pL(p,r$,c),bL(p,2,2,1),pL(p,r$,S),bL(p,4,2,1)),wj(p),qj(p))}}),function(p){this.gv=p}),Qn="edit_tx",qn="edit_ty",un="edit_tz",Rn="edit_rx",sn="edit_ry",wn="edit_rz",fn="edit_sx",pH="edit_sy",EH="edit_sz",bH={},ZH=(bH[Qn]=101,bH[qn]=102,bH[un]=103,bH[Rn]=104,bH[sn]=105,bH[wn]=106,bH[fn]=107,bH[pH]=108,bH[EH]=109,yf(vn,t$,{_42:function(p){var E,b,Z,o,A,l,V,c,S,I,D,B,n,k,j=this,W=j.gv,m=W.sm().ld();!m||!W.isEditable(m)||W.isEditHelperDisabled()||!y(m)||W.isFirstPersonMode()&&(W.isMouseRoamable()||kl)||(nL(W),E=W.isMovable(m),b=W.isRotationEditable(m),Z=W.isSizeEditable(m),o=W._axisXColor,A=W._axisYColor,l=W._axisZColor,V=W._editSizeColor,B=m.p3(),W=(c=W.isOrtho()?(c=W.getCenterInfo(),Z$(c.width,c.height)/8):$f(W.getEye(),B)/10)/(W.isPicking()?5:10),S=.4*(c*=.7),I=B[0],D=B[1],B=B[2],k=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],E&&j._17O(p,m,Qn,o,k,[I,D-W,B,I+c,D-W,B,I+c,D,B,I+c,D,B,I,D,B,I,D-W,B,I,D-W,B+W,I+c,D-W,B+W,I+c,D-W,B,I+c,D-W,B,I,D-W,B,I,D-W,B+W]),n=I+c,Z&&j._17O(p,m,fn,V,k,[n,D-W,B,n+S,D-W,B,n+S,D,B,n+S,D,B,n,D,B,n,D-W,B,n,D-W,B+W,n+S,D-W,B+W,n+S,D-W,B,n+S,D-W,B,n,D-W,B,n,D-W,B+W]),n+=S,b&&j._17O(p,m,Rn,o,k,[n,D-W,B,n+S,D-W,B,n+S,D,B,n+S,D,B,n,D,B,n,D-W,B,n,D-W,B+W,n+S,D-W,B+W,n+S,D-W,B,n+S,D-W,B,n,D-W,B,n,D-W,B+W]),k=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0],E&&j._17O(p,m,qn,A,k,[I,D,B,I,D+c,B,I-W,D+c,B,I-W,D+c,B,I-W,D,B,I,D,B,I,D,B,I,D,B-W,I,D+c,B-W,I,D+c,B-W,I,D+c,B,I,D,B]),n=D+c,Z&&j._17O(p,m,pH,V,k,[I,n,B,I,n+S,B,I-W,n+S,B,I-W,n+S,B,I-W,n,B,I,n,B,I,n,B,I,n,B-W,I,n+S,B-W,I,n+S,B-W,I,n+S,B,I,n,B]),n+=S,b&&j._17O(p,m,sn,A,k,[I,n,B,I,n+S,B,I-W,n+S,B,I-W,n+S,B,I-W,n,B,I,n,B,I,n,B,I,n,B-W,I,n+S,B-W,I,n+S,B-W,I,n+S,B,I,n,B]),k=[1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0],E&&j._17O(p,m,un,l,k,[I,D,B,I,D,B+c,I,D-W,B+c,I,D-W,B+c,I,D-W,B,I,D,B,I,D-W,B,I-W,D-W,B,I-W,D-W,B+c,I-W,D-W,B+c,I,D-W,B+c,I,D-W,B]),n=B+c,Z&&j._17O(p,m,EH,V,k,[I,D,n,I,D,n+S,I,D-W,n+S,I,D-W,n+S,I,D-W,n,I,D,n,I,D-W,n,I-W,D-W,n,I-W,D-W,n+S,I-W,D-W,n+S,I,D-W,n+S,I,D-W,n]),n+=S,b&&j._17O(p,m,wn,l,k,[I,D,n,I,D,n+S,I,D-W,n+S,I,D-W,n+S,I,D-W,n,I,D,n,I,D-W,n,I-W,D-W,n,I-W,D-W,n+S,I-W,D-W,n+S,I,D-W,n+S,I,D-W,n]))},_17O:function(p,E,b,Z,o,A){var l=this.gv,V=l._buffer,c=(S=g$.for(p)).directUniforms(),S=S.directAttribs();l._picking&&(l.pickColorMap[l=bH[b]]={data:E,part:b},c.uFixPickReverseColor=Nn(l)),uj(p,r$,!0,r$,!0,r$,!1),c.uDiffuse=Z,S.aPosition=oL(p,V.vs,new Of(A)),S.aNormal=oL(p,V.ns,new Of(o)),sj(p),bL(p,0,12),wj(p),Rj(p)}}),u.Raycaster=function(p){this.gv=p,this.maxTriangleTest=1/0,this.backfaceCulling=!0,this.triangleTestEpsilon=1e-9}),oH=(Jf("Raycaster",t$,{getTriangleTestEpsilon:function(){return this.triangleTestEpsilon},setTriangleTestEpsilon:function(p){return this.triangleTestEpsilon=p,this},getBackfaceCulling:function(){return this.backfaceCulling},setBackfaceCulling:function(p){return this.backfaceCulling=p,this},intersect:function(p){var E=this.gv.getDataAt(p);return E?this.intersectObject(p,E):null},intersectObjects:function(E,p,b){var Z,o,A,l,V=this,c=1/0,S=E.origin||(new G$).fromArray(V.gv.getEye()),I=V.maxTriangleTest,D=[],B=(p.forEach(function(p){b&&!1===b(p)||!1!==p.s("intersect")&&D.push(p)}),S.distanceToSquared2([0,0,0]));return D.sort(function(p,E){return(p.p3?S.distanceToSquared2(p.p3()):B)-(E.p3?S.distanceToSquared2(E.p3()):B)}),V.countTriangles=0,D.forEach(function(p){V.countTriangles>I||(Z=V.intersectObject(E,p))&&(o=S.distanceToSquared(Z.world))<c&&(A=p,l=Z,c=o)}),V.countTriangles=0,{data:A,intersect:l}},intersectObjectAndRecordTriangle:function(p,E){return this._4GQ=!0,p=this.intersectObject(p,E),this._4GQ=!1,p},intersectLastTriangle:function(p,E){if((p=this.getRay(p)).applyMatrix4(E.inverseMatrix),!(p=p.intersectPlane(E.plane)))return null;var b=bq.uvIntersection(p,E.p1,E.p2,E.p3,E.uv1.clone(),E.uv2.clone(),E.uv3.clone());return{world:p.clone().applyMatrix4(E.matrixWorld),local:p.clone(),uv:b}},getRay:function(p){if(p instanceof iB)return p;var E,b=this.gv,p=b.unproject(p),Z=new G$,o=b.getEye(),A=new G$;return b.isOrtho()?(E=new G$(o),A.copy(b.getCenter()).sub(E).normalize(),b=Z.copy(p).sub(E).dot(A),Z.copy(A).setLength(-b).add(E.copy(p))):(Z.copy(o),A.copy(p).sub(Z).normalize()),new u.Math.Ray(Z,A,!0)},intersectObject:function(p,E){return this._intersectObjectImpl(this.getRay(p),E)},_intersectObjectImpl:(eX=new T$,$X=new T$,YX=new T$,tX=new T$,KX=new iB,rX=new G$,HX=new G$,MX=new G$,FX=new G$,XX=new G$,GX=new G$,TX=new G$,gX=new G$,LX=new v,xX=new v,CX=new v,hX=new G$,PX={vs:Cd,is:hd,uv:Pd},(yX=ad.slice(0)).push("csg"),function(p,E){var b,Z,o,A,l,V,c,S,I,D,B,n,k,j=this.gv.getData3dUI(E),W=((h=p.inDisplaySpace?j._finalMat||j._matWithExtraction||E.mat||j.mat:j._matWithExtraction||E.mat||j.mat)?eX.fromArray(h):eX.identity(),"body");if(!(h=(h=(h=!(h=j.shapeModel)&&(E instanceof u.Polyline||E instanceof u.Edge)&&j.lineShapeModel?j.lineShapeModel:h)||ZE(j))||(u.CSGNode&&E instanceof u.CSGNode||u.CSGShape&&E instanceof u.CSGShape?(o=!0,[j.left,j.front,j.right,j.back,j.top,j.bottom,j.csg]):E instanceof u.Node&&!(E instanceof u.Shape)?(b=!0,PX):(Z=!0,[j.left,j.front,j.right,j.back,j.top,j.bottom]))))return console.log("Can not find shape model."),null;X$(h)||(h=[h]);var m,e,$,Y,t,K,r,H,M,F=1/0,X=["","top_","bottom_","from_","to_"],G=!1,T=this.backfaceCulling,g=this.triangleTestEpsilon,L=[];for(GL(h,j,L),A=0,l=L.length;A<l;A++)if(($=L[A])&&(H=$.matrix,Y=$.model,$=$.mesh))for($X.copy(eX),H&&$X.multiply(H),tX.getInverse($X),KX.copy(p).applyMatrix4(tX),V=0,c=X.length;V<c;V++)if(D=$[(t=X[V])+"vs"]){if(B=$[t+"is"],n=$[t+"uv"]||$[t+"tuv"],K=$[t+"boundingBox"]){if(!(M=KX.intersectBox(K)))continue;if(KX.origin.distanceTo(M)>F)continue;r=!1}else $[t+"boundingBox"]=K=new u.Math.Box3,r=!0;for(S=0,I=B?B.length:D.length/3;S<I;S+=3)this.countTriangles++,B?(HX.fromArray(D,3*B[S]),MX.fromArray(D,3*B[S+1]),FX.fromArray(D,3*B[S+2])):(HX.fromArray(D,3*S),MX.fromArray(D,3*(S+1)),FX.fromArray(D,3*(S+2))),r&&(K.expandByPoint(HX),K.expandByPoint(MX),K.expandByPoint(FX)),(k=KX.intersectTriangle(HX,MX,FX,T,g,rX))&&(m=KX.origin.distanceTo(k))<F&&(F=m,XX.copy(k),GX.copy(HX),TX.copy(MX),gX.copy(FX),""!==t?W=t.slice(0,-1):b?W=ad[Math.floor(S/6)]:Z?W=ad[A]:o&&(W=yX[A]),e=Y,n&&(G=!0,B?(LX.fromArray(n,2*B[S]),xX.fromArray(n,2*B[S+1]),CX.fromArray(n,2*B[S+2])):(LX.fromArray(n,2*S),xX.fromArray(n,2*(S+1)),CX.fromArray(n,2*(S+2)))),YX.copy($X))}if(!isFinite(F))return null;eX.copy(YX),tX.getInverse(eX);var x,C,E=XX.clone().applyMatrix4(eX),h=this._4GQ,j=(G&&(h&&(C={inverseMatrix:tX.clone(),matrixWorld:eX.clone(),p1:GX.clone(),p2:TX.clone(),p3:gX.clone(),uv1:LX.clone(),uv2:xX.clone(),uv3:CX.clone(),plane:(new u.Math.Plane).setFromCoplanarPoints(GX,TX,gX)}),x=bq.uvIntersection(XX,GX,TX,gX,LX,xX,CX)),QN()),h=QN(GX.applyMatrix4(eX),TX.applyMatrix4(eX),gX.applyMatrix4(eX)),P=0<KX.direction.dot(j),E=(P&&(j.multiplyScalar(-1),h.multiplyScalar(-1)),{world:E,local:XX.clone(),worldNormal:h,normal:j,uv:x,part:W,backface:P,model:e,worldMatrix:eX.clone()});return C&&(E.triangleInfo=C),E})}),R.Data3dUI=function(Z,o){this.gv=Z,this.s=function(p,E,b){return(E=E==r$?b:E)==r$?o.getStyle(p):O(E,o,Z)},this.data=o}),AH=(yf(oH,t$,{I3d:!0,ms_icons:1,_iv:!0,_cacheBoundingBox:K$,iv:function(){this._iv=!0},update:function(p,E,b){var Z=this,o=Z.data;if(p||(E=(p=Z.gv).getGL(),b=p._40Q),!Z.needValidate(E)||!p.isVisible(o))return b.push(this,!1),void(p.isVisible(o)&&this.updateLod());var A,l,V,c=o._id,S=o._47Q?null:Z.s("batch"),I=o.getRenderLayer(),I=(b=b.get(I,!0)).batchIndexMap,D=b.batchModelMap,B=p.getBrightness(o),n=B!=r$&&1!==B,D=pd(I,D,o,S,p),S=S?p.getBatchInfo(S)||D1:r$,k=Z.validate(D,S);if(D&&(!S.ms||!S.ms.length)&&(A=(S=I[c]).size=D.vs.length/3-S.begin,V=D.rs))for(B=n?B:1,l=0;l<A;l++)V.push(B);(I=p.getWireframeGeometry(o))?Zd(p,o,I):y(o)&&(c=p.getWireframe(o))&&Zd(p,o,c),Z.labelInfo=Z.label2Info=Z.noteInfo=Z.note2Info=Z._38o=r$,Z._24O(px,"getLabel"),Z._24O(Ex,"getLabel2"),Z._26O(bx,"getNote"),Z._26O(Zx,"getNote2"),Z._15O(),Z.interactiveInfo=p.isInteractive(o)?{}:r$,!b.push(this,!0)&&o instanceof gP&&Z._46Q(E),this.updateLod(),!1!==k&&(Z._iv=!1)},updateLod:function(){var p=this.shapeModel;if(p&&p.lod&&(this._getLodId(p.lod),(p=this.data).s("static"))){var E=this.gv,b=p.getRenderLayer(),b=E._40Q.get(b,!0),E=E.getStaticInstancingKey(p),Z=b.getModel3dInstancedBatchMap();if(Z=Z&&Z[E]?Z[E]:Z){if(Z.lod[Z.length-1]!=this._lodId&&(Z.lod[Z.length-1]=this._lodId,Z.lodVersion=Z.lodVersion+1),1===Z.length)for(var o=0;o<32;o++)Z.lodSum[o]=0;Z.lodSum[this._lodId]=Z.lodSum[this._lodId]+1}}},clearWireframeGeometryCache:function(){this.gv.invalidateCachedWireframe(this.data)},invalidateWireframe:function(){var p=this.data,E=p.getRenderLayer();(E=this.gv._40Q.get(E))&&E.ivWireframeBatch(p)},_46Q:function(p,E){var b,Z,o,A,l=this.data,V=this.gv;V.isVisible(l)&&(A=l._id,Z=(b=V._40Q.get(l._renderLayer,!0)).batchIndexMap[A],o=b.polylineIndexMap[A],A=b.wireframeIndexMap[A],(Z||o||A)&&(E=E==r$?jL(p,V.pickColorMap,V.isSelectable(l),this,fl,!0):E)&&(od(E,Z,b.batchModelMap),od(E,o,b.polylineModelMap),od(E,A,b.wireframeModelMap)))},_42:function(p,E,b){var Z=this,o=Z.data,A=Z.gv;if(A.isVisible(o)){var l,V,c,S,I,D,B,n,k,j,W=A._picking;if(W)l=A.pickColorMap;else{if(A.isTransparentMask(o)||A.isReflecting(p)&&!1===o.s("3d.reflectable"))return;l=K$}if(oH.getTitle===K$)for(var m in oH.getTitle=0,H$)if(m.length===Ex.length+1&&m[Ex.length]===Gx[4].toUpperCase()&&m[Ex.length-1]===Gx[Ex.length+1].toUpperCase()){oH.getTitle=ZW;break}if(!oH.getTitle||m$[Ex.length+2]){if(oH.getBlend===K$)for(var m in oH.getBlend=0,H$)if(m.length===Dx.length+1&&m[0]===Ll[0].toUpperCase()&&m[Ex.length+2]===Ll[0].toUpperCase()){oH.getBlend=Y1;break}if(!oH.getBlend||m$[ax[0]]){if(oH.getHead===K$)for(var m in oH.getHead=0,yW){var e="box-sizing";6===m.length&&m[0]===Gx[4]&&m[3]===e[0]&&m[4]===e[1]&&m[5]===e[2]&&(oH.getHead=G1)}if(!oH.getHead||m$[Ex.length]){if(oH.getTitle2===K$)for(var m in oH.getTitle2=0,yW)6===m.length&&m[0]===Ia[1].toUpperCase()&&m[1]==="uv"[0]&&(oH.getTitle2=X1);oH.getTitle2&&!m$[Px.length]||A[wl[0]+Tx[0]]&&A[wl[0]+Tx[0]].enable&&!m$[al[0]]||A[zx[0]+Kl+"Div"]&&!RY[Ll.length]||(!W&&A.isTransmissionEnabled()&&Z.s("shape3d.transmission")&&!A.isOITProcessing()&&(V=p._renderTargetStack[p._renderTargetStack.length-1])&&!V.isCube()&&fj(A,V),V=o._id,n=(c=A._40Q.get(o._renderLayer,!0)).batchIndexMap,k=c.batchModelMap,S=A.isSelectable(o),B=!(D=!1),n=n[V],W&&(j=jL(p,l,S,Z,fl,n))&&!A._45Q&&(od(j,n,k),od(j,c.polylineIndexMap[V],c.polylineModelMap),od(j,c.wireframeIndexMap[V],c.wireframeModelMap)),W&&A.skipNonSelectableOnPick(o,S)||(n||(D||(D=!0,B=ij(p,A,o)),B&&(W||!A._45Q||A._oitEnabled||A.isReflecting(p)||p._blooming||!Z.s("transparent.separate")?Z.drawBody(p,E,b):(k=g$.for(p).directState().cullFace,o._forceSingleFace=2,k.frontFace=o._flipSide?2305:2304,Z.drawBody(p,E,b),o._forceSingleFace=1,k.frontFace=o._flipSide?2304:2305,Z.drawBody(p,E,b),o._forceSingleFace=K$,k.frontFace=2305))),A.isLabelVisible(o)&&((I=Z.labelInfo)&&(W&&jL(p,l,S,Z,px),D||(D=!0,ij(p,A,o)),Z._28O(I,px,b)),(I=Z.label2Info)&&(W&&jL(p,l,S,Z,Ex),D||(D=!0,ij(p,A,o)),Z._28O(I,Ex,b))),A.isNoteVisible(o)&&((I=Z.noteInfo)&&(W&&jL(p,l,S,Z,bx),D||(D=!0,ij(p,A,o)),Z._29O(I,bx,b)),(I=Z.note2Info)&&(W&&jL(p,l,S,Z,Zx),D||(D=!0,ij(p,A,o)),Z._29O(I,Zx,b))),(I=Z._38o)&&(D||(D=!0,ij(p,A,o)),Z._99O(p,I,l,S,b)),D&&((j=g$.for(p).directUniforms()).uBrightness=1,j.uClipDirection=0,g$.for(p).directState().cullFace.frontFace=2305,p._blooming&&(j.blackout=!1))))}}}}},_formatClipUniforms:function(p,E,b){switch(p){case"uv.right":p=7;break;case"uv.left":p=8;break;case"left":p=2;break;case"top":p=3;break;case"bottom":p=4;break;case"front":p=5;break;case"back":p=6;break;default:p=1}var Z,A,l,V,o,c,S;return p%2==0&&(E=1-E),7===p||8===p?(o=this.shapeModel)&&(o.internalUvScale?E*=o.internalUvScale:o.model3d&&((c=o._internalUvRange)||(A=1/0,l=-1/0,H$.traverse(o,function(p){if(!V&&(p=p.mesh)&&p.uv){V=!0;for(var E,b=0,Z=p.uv,o=Z.length;b<o;b+=2)(E=Z[b])<A&&(A=E),l<E&&(l=E)}},null,"comps"),c=o._internalUvRange=[A,l]),E=E*(c[1]-c[0])+c[0])):b instanceof u.Shape?(o=b.s3(),c=this._vsTranslation?[0,0,0]:b.p3(),S=b.getAnchor3d(),E=p<3?(E-S.x)*o[0]+c[0]:p<5?(E-S.y)*o[1]+c[1]:(E-S.z)*o[2]+c[2]):(E<=0?E-=-1e-5:1<=E&&(E+=1e-5),E-=.5,Z=b._clipPercentageTranform),[p,E,Z||oj]},prepare:function(){var p=this,E=p.data;if(!(E instanceof gP)){var b,Z,o,A=p.gv,l=A.getGL(),V=E._id,c=p.s("batch"),S=A._batchIndexMap,I=A._batchModelMap,D=A.getBrightness(E),B=D!=r$&&1!==D;if(p.needValidate(l)){l=pd(S,I,E,c,A),I=c?A.getBatchInfo(c)||D1:r$;if(p.validate(l,I),l&&(!I.ms||!I.ms.length)&&(b=(c=S[V]).size=l.vs.length/3-c.begin,o=l.rs))for(D=B?D:1,Z=0;Z<b;Z++)o.push(D);y(E)&&((I=A.getWireframeGeometry(E))?Zd(A,E,I):(S=A.getWireframe(E))&&Zd(A,E,S)),p.labelInfo=p.label2Info=p.noteInfo=p.note2Info=p._38o=r$,p._24O(px,"getLabel"),p._24O(Ex,"getLabel2"),p._26O(bx,"getNote"),p._26O(Zx,"getNote2"),p._15O(),p.interactiveInfo=A.isInteractive(E)?{}:r$,p._iv=!1}}},dispatchBoundingBoxChanged:function(){this._cacheBoundingBox=K$},getBoundingBox:function(p){if(this._cacheBoundingBox)return this._cacheBoundingBox;aX||(aX={vs:Cd,is:hd,uv:Pd},JX=new G$,dX=new G$,UX=new G$,NX=new G$,OX=new G$);var E,b,Z,o,A,l,V,c,S=this,I=S.data,D=S.shapeModel;if((D=(D=!D&&(I instanceof u.Polyline||I instanceof u.Edge)&&S.lineShapeModel?S.lineShapeModel:D)||ZE(S))||(u.CSGNode&&I instanceof u.CSGNode||u.CSGShape&&I instanceof u.CSGShape?(isCSG=!0,D=[S.left,S.front,S.right,S.back,S.top,S.bottom,S.csg]):I instanceof u.Node&&!(I instanceof u.Shape)?D=aX:(S.left||S.front||S.right||S.back||S.top||S.bottom)&&(D=[S.left,S.front,S.right,S.back,S.top,S.bottom])),!D)return K$;X$(D)||(D=[D]);var B,n,k,j,W,m,e=["","top_","bottom_"],$=new u.Math.Box3,Y=!1,t=(S._needRecoverPosition?(NX.set.apply(NX,I.p3()),m=I.s3(),OX.set(1/(m[0]||1),1/(m[1]||1),1/(m[2]||1))):(NX.set(0,0,0),OX.set(1,1,1)),[]);for(GL(D,S,t),E=0,b=t.length;E<b;E++)if((B=t[E])&&(n=B.mesh))for(k=B.matrix,Z=0,o=e.length;Z<o;Z++)if(V=n[(W=e[Z])+"vs"],c=n[W+"is"],V){if(!(j=n[W+="boundingBox"]))for(n[W]=j=new u.Math.Box3,A=0,l=c?c.length:V.length/3;A<l;A+=3)c?(JX.fromArray(V,3*c[A]),dX.fromArray(V,3*c[A+1]),UX.fromArray(V,3*c[A+2])):(JX.fromArray(V,3*A),dX.fromArray(V,3*(A+1)),UX.fromArray(V,3*(A+2))),k&&(JX.applyMatrix4(k),dX.applyMatrix4(k),UX.applyMatrix4(k)),JX.sub(NX).multiply(OX),dX.sub(NX).multiply(OX),UX.sub(NX).multiply(OX),JX.isNaN()||j.expandByPoint(JX),dX.isNaN()||j.expandByPoint(dX),UX.isNaN()||j.expandByPoint(UX);$.expandByBox(j),Y=!0}return Y?(this._cacheBoundingBox=$,t$.freeze($),t$.freeze($.min),t$.freeze($.max),p||wL(S.gv,I),$):K$},needValidate:function(p){return this._iv},validate:function(p,E){},_16O:function(p,E,b,Z,o,A,l,V,c){return uf},drawBody:function(p,E,b){},dispose:function(){this.disposeGLContent();var p,E=this._pickId;E&&(p=this.gv.pickColorMap)[E]&&delete p[E]},getBodyColor:function(p){var E=this.data;return this.gv.getBodyColor(E)||(p?E.getStyle(p):r$)},disposeGLContent:function(){this._cachedTextures&&this.gv.invalidateCachedTexture(this.data)},getCachedTexture:function(p){var E=this._cachedTextures;return E?E[p||"main"]:null},setCachedTexture:function(p,E){var b=this._cachedTextures,Z=(b=b||(this._cachedTextures={}))[E=E||"main"];return Z&&(this.gv.getGL().deleteTexture(Z),Z.interactiveInfo&&(Z.interactiveInfo=r$)),b[E]=p},invalidateCachedTexture:function(p){var E=this._cachedTextures;if(!E)return!1;var b,Z=!1;for(b in E){var o=E[b];o&&(Z=!0,p.deleteTexture(o))}return this._cachedTextures={},Z},invalidateCachedGeometry:function(){},_24O:function(p,E){var b,Z,o=this.data,A=this.gv,l=this.s,V=A[E](o);V!=r$&&(b=l(p+".scale"),Z=l(p+".max"),E=(A=this[p+"Info"]={label:V,textureScale:l(p+".texture.scale"),color:A[E+"Color"](o),font:l(p+".font"),align:l(p+".align"),borderWidth:l(p+".border.width"),borderColor:l(p+".border.color"),verticalGap:l(p+".vertical.gap"),letterGap:l(p+".letter.gap"),background:A[E+"Background"](o)}).rect=$W(A,V),0<Z&&Z<E.width&&(A.labelWidth=E.width,E.width=Z),E.x=E.y=0,E.width*=b,E.height*=b,A.mat=this._16O(l(p+".autorotate"),l(p+".position"),E,l(p+".face"),l(p+".t3"),l(p+".r3"),l(p+".rotationMode")),o=E.width/2,V=E.height/2,A.vs=new Of([-o,V,0,-o,-V,0,o,-V,0,o,V,0]),E.width/=b,E.height/=b)},_26O:function(p,E){var b,Z=this.data,o=this.gv,A=this.s,l=o[E](Z);l!=r$&&(b=A(p+".scale"),l=(o=this[p+"Info"]={note:l,textureScale:A(p+".texture.scale"),expanded:A(p+".expanded"),font:A(p+".font"),color:A(p+".color"),align:A(p+".align"),borderWidth:A(p+".border.width"),borderColor:A(p+".border.color"),background:o[E+"Background"](Z)}).expanded?(E=A(p+".max"),(Z=$W(o,l)).width+=6,Z.height+=2,0<E&&E<Z.width&&(o.labelWidth=Z.width,Z.width=E),{x:-Z.width/2,y:-8-Z.height,width:Z.width,height:Z.height+8}):{x:-6,y:-18,width:12,height:18},o.mat=this._16O(A(p+".autorotate"),A(p+".position"),r$,A(p+".face"),A(p+".t3"),A(p+".r3"),A(p+".rotationMode")),o.rect=l,1!==b&&((l=p$(l)).x*=b,l.height*=b,l.y=-l.height,l.width*=b),E=l.x,Z=l.y,A=l.width,p=l.height,o.vs=new Of([E,-Z,0,E,-Z-p,0,E+A,-Z-p,0,E+A,-Z,0]))},eachShapeModel:function(p,E){var b,Z,o,A,l=this,V=l.data,c=(E=(E=(E=!(E=E||l.shapeModel)&&(V instanceof u.Polyline||V instanceof u.Edge)&&l.lineShapeModel?l.lineShapeModel:E)||ZE(l))||(V instanceof u.Node&&!(V instanceof u.Shape||u.CSGNode&&V instanceof u.CSGNode)?H$.createBoxModel():[l.left,l.front,l.right,l.back,l.top,l.bottom,l.csg]),X$(E)||(E=[E]),[]);for(GL(E,l,c),b=0,Z=c.length;b<Z;b++)(A=c[b])&&(o=A.mesh)&&(A=A.matrix,oE(o),o.vs&&p(o.vs,o.is,o.ns,o.uv,A),o.position&&p(o.position,o.is,o.ns,o.uv,A),o.top_vs&&p(o.top_vs,o.top_is,o.top_ns,o.top_uv,A),o.bottom_vs&&p(o.bottom_vs,o.bottom_is,o.bottom_ns,o.bottom_uv,A),o.from_vs&&p(o.from_vs,o.from_is,o.from_ns,o.from_uv,A),o.to_vs&&p(o.to_vs,o.to_is,o.to_ns,o.to_uv,A));return!0},_28O:function(p,E,b){var Z,o,A;b(this.s(E+".transparent"))&&(b=p.rect,Z=p.textureScale,A=b.width*Z,o=b.height*Z,1<=A&&1<=o&&(A=n6(A,o),1!==Z&&(A.translate(b.x,b.y),A.scale(Z,Z),A.translate(-b.x,-b.y)),KY(A,p),A.restore(),KL(this,E,p.mat,p.vs,!0)))},_29O:function(p,E,b){var Z,o,A,l,V;b(this.s(E+".transparent"))&&(b=p.rect,Z=p.textureScale,o=b.x,A=b.y,V=b.width*Z,l=b.height*Z,1<=V&&1<=l&&(b.x=b.y=0,V=n6(V,l),1!==Z&&V.scale(Z,Z),rY(V,p),V.restore(),b.x=o,b.y=A,KL(this,E,p.mat,p.vs,!1)))},_99O:function(p,E,b,Z,o){if(E){var A,l=this.gv,V=this.data,c=l._buffer,S=p._sharedTexture,I=E.icons,D=g$.for(p).directAttribs();for(A in I){var B=I[A],n=E.rects[A];if(n&&o(O(B.transparent,V,l))){l._picking&&jL(p,b,Z,this,A);var k=O(B.shape3d,V,l),j=k?[k]:O(B.names,V,l),W=j?j.length:0,m=O(B.textureScale,V,l)||1,e=O(B.light,V,l);e==r$&&(e=!!k),uj(p,O(B.blend,V,l),e,O(B.opacity,V,l),O(B.reverseFlip,V,l),O(B.reverseColor,V,l),O(B.reverseCull,V,l));for(var $=0;$<W;$++){var Y,t,K,r=j[$],H=n[$];tL(this,H.mat),k?pE(l,V,ZE(this,k),this):(r=Q(r))&&(Y=H.width*m,t=H.height*m,1<=Y&&1<=t&&(K=n6(Y,t),fq(K,r,O(B.stretch,V,l),0,0,Y,t,V,l),K.restore(),xj(l,p,D6,S),sj(p,S,O(B.discardSelectable,V,l),c.uv,gd),D.aPosition=oL(p,c.vs,H.vs),D.aNormal=lL(p,c.ns,Ld,r$),cL(p,c.is,xd),ZL(p,0,xd.length),wj(p,S))),DL(l)}Rj(p)}}}},_getLodId:function(p){for(var E,b=this.gv,Z=(o=this.data).getFinalScale3d(),o=o.p3(),A=this._getRangeSq(p),p=b.getEye(),l=A.length,b=Math.max(Z[0],Z[2])*Z[1],Z=p[0]-o[0],V=p[1]-o[1],c=(Z*Z+V*V+(p=p[2]-o[2])*p)/b,S=this._lodId,I=0;I<l;I++)if(S===I){if(c<A[I][2]){E=I;break}}else if(c<A[I][0]){E=I;break}this._lodId=E=E===K$?l-1:E},_getRangeSq:function(p){var E=this.gv;if(p._version===E._renderId&&p._rangeSq)return p._rangeSq;for(var b,Z=p.range,o=(Z.length,p.switchBias||.01),A=(p._version=E._renderId,Z.length),l=E._lodConst,V=[],c=0;c<A;c++)b=l/Z[c],V.push([b/(1+o),b,b/(1-o)]);return p._rangeSq=V}}),R.Node3dUI=function(p,E){R1(AH,this,[p,E])}),lH=(yf(AH,oH,{_16O:function(p,E,b,Z,o,A,l,V,c){var S,I,D=this.data,B=D.getFinalScale3d(),n=((D.hasOwnProperty("_anchor")||D.hasOwnProperty("_anchorElevation"))&&(S=[-((S=D.getAnchor3d()).x-.5)*B[0],-(S.y-.5)*B[1],-(S.z-.5)*B[2]]),D.s("part.boundingBox")&&(n=this.getBoundingBox(!0))&&(I=n.max.clone().sub(n.min),n=n.max.clone().add(n.min).divideScalar(2),(S=S||[0,0,0])[0]+=n.x*B[0],S[1]+=n.y*B[1],S[2]+=n.z*B[2],B[0]*=I.x,B[1]*=I.y,B[2]*=I.z),$L(E,B,b,Z,V,c));return S&&(n[0]+=S[0],n[1]+=S[1],n[2]+=S[2]),YL(qf(),n,D.p3(),Z,o,A,l,p,D.getFinalRotation3d(),D.getRotationMode())},clear:function(){var p=this;p.faceMat=p.mat=p.shapeModel=p.left=p.right=p.front=p.back=p.top=p.bottom=p.csg=r$},needValidate:function(p){return this._iv?(this._validateFrameId=p._renderInfo.frame,!0):!(!this.data._47Q||(p=p._renderInfo.frame,this._validateFrameId===p))&&(this._validateFrameId=p,!0)},invalidateUnstableWireframe:function(){this.data._47Q&&this.invalidateWireframe()},validate:function(p,E){var b=this,Z=b.gv,o=b.data,A=b.shapeName=b.s(wx),l=ZE(b,A),V=(b._updateAutoRotation(),b._updateFixSize2d(),b._updateOverlapping(),b.dispatchBoundingBoxChanged(),b.invalidateUnstableWireframe(),Am(o,Z.getMat(o),!l||b.s("shape3d.scaleable"))),c=(o.appendAnchorMatrix3d(V),Z.createNodeFinalMatrix(o,V)),S=l!==b.shapeModel,c=(b.clear(),b.mat=o.mat=V,b._finalMat=c);o._flipSide=T$.determinantOfArray(V)<0,!l&&A||(A=null,(b.shapeModel=l)&&l.model3d&&(o.s("3d.clip.direction")&&o.s("3d.clip.percentage")&&(A=$j(Rf(V))),S&&((S=o._pendingAnimation)?o.playAnimation(S.animationName,S.speed,S.start,S.loop):(S=l.playAutomatically)&&!o.isAnimationPlaying()&&("enabled"===S||!0===S?o.playAnimation():"first-frame"===S&&o.playAnimation(K$,0)))),o._clipPercentageTranform=A,p?l?E.instanced?Z.batchInstancedModel(o,l,b,b.getBodyColor(),[V],p):Vd(Z,o,l,b,b.getBodyColor(),[V],p):(S=BL(c),E.instanced?Z.batchInstancedFace(o,p,E,c,S):Bd(Z,o,p,E,c,S)):l||(b._cubeUvs=null,b.vf(Yl,0),b.vf(tl,16),b.vf(el,8),b.vf($l,24),b.vf(Kl,32),b.vf(rl,40)))},_updateAutoRotation:(In=new Zq,Dn=new T$,Bn=new G$,nn=new G$,kn=new G$,function(){var p=this.data,E=this.s("autorotate")||this.s("shape3d.autorotate");if(E){var b=this.gv,Z=this.s("shape3d.autorotate.up");do{if("string"==typeof E){if("spinaxis"!==E){Bn.copy(Z||b._up),nn.copy(b._eye).sub(kn.copy(b._center));for(var o=0,A=E.length;o<A;o++)nn[E[o]]=0;var l=nn.normalize().dot(kn.copy(Bn).normalize());1-Math.abs(l)<1e-5&&(E.indexOf("x")<0?nn.x+=1e-4:E.indexOf("y")<0?nn.y+=1e-4:E.indexOf("z")<0&&(nn.z+=1e-4));break}Bn.copy(p.p3())}else{if(!X$(E)){Bn.copy(Z||b._up),nn.copy(b._eye).sub(kn.copy(b._center));break}Bn.copy(E)}}while(Z?nn.copy(Z):(l=b._viewMatrix,nn.set(l[1],l[5],l[9])),nn.crossVectors(nn,Bn),nn.crossVectors(nn,Bn),0);Dn.lookAtDirection(nn,Bn),In.set(0,0,0,p.getRotationMode(),!0).setFromRotationMatrix(Dn);var V=p._dynamicRotation;V&&Math.abs(V[0]-In.x)<1e-5&&Math.abs(V[1]-In.y)<1e-5&&Math.abs(V[2]-In.z)<1e-5||(p._dynamicRotation=[In.x,In.y,In.z])}else p._dynamicRotation&&delete p._dynamicRotation}),_updateFixSize2d:function(){var p,E,b,Z,o,A,l=this.data,V=this.s("fixSizeOnScreen")||this.s("shape3d.fixSizeOnScreen");V?(p=(b=this.gv).createNodeFinalMatrix(l),A=wf([0,0,0],p),A=b.toViewPosition(A),isNaN(A.x)||isNaN(A.y)||(E=wf([1,0,0],p),E=b.toViewPosition(E),p=wf([0,1,0],p),b=b.toViewPosition(p),p=E.x-A.x,E=b.y-A.y,p&&E&&(b=l._dynamicScale3d||[1,1,1],A=Q(l.s("shape3d.image")),0<V[0]&&(Z=V[0]),0<V[1]&&(o=V[1]),Z&&o||(V=0<V?V:1,Z=Z||(xn(A,l)||l.getWidth())*V,o=o||(Cn(A,l)||l.getTall())*V),A=Math.abs(p/Z),V=Math.abs(E/o),Math.abs(A-1)<.001&&Math.abs(V-1)<.001||(l._dynamicScale3d=[b[0]/A,b[1]/V,b[2]])))):l._dynamicScale3d&&delete l._dynamicScale3d},_updateOverlapping:function(){var p=this.s("hide.overlapping.group");if(p){for(var E,b=this.gv,Z=this.data,o=b.createNodeFinalMatrix(Z),A=1/0,l=1/0,V=-1/0,c=-1/0,S=(Z=Z.getAnchor3d()).x,I=Z.y,D=Z.z,B=0;B<8;B++){if(E=wf([(B>>2)-S,(B>>1&1)-I,(1&B)-D],o),E=b.toViewPosition(E),isNaN(E.x)||isNaN(E.y))return;A=Math.min(A,E.x),V=Math.max(V,E.x),l=Math.min(l,E.y),c=Math.max(c,E.y)}this._rectOverlapping=b.overlappingBox.isOverlapping(p,{x:A,y:l,w:V-A,h:c-l})}else this._rectOverlapping&&(this._rectOverlapping=K$)},getVectorDynamicSize:function(){var Z,o,A,l,V,c,p,E,b,S,I=this.s("shape3d"),D=this.data;if("billboard"===I||"plane"===I||(E=D._currentCubeElementId)!=r$)return Z=this.gv,o=Z.createNodeFinalMatrix(D),p=D.getAnchor3d(),A=.5-p.x,l=.5-p.y,V=.5-p.z,c=Math.min(this.s("vector.dynamic.maxsize"),Z._glCapabilities.maxTextureSize)/Z.getDevicePixelRatio(),p=function(p,E){p[0]+=A,p[1]+=l,p[2]+=V,E[0]+=A,E[1]+=l,E[2]+=V;var p=Z.toViewPosition(wf(p,o)),E=Z.toViewPosition(wf(E,o)),b=p.x-E.x,p=p.y-E.y;return Math.min(c,Math.sqrt(b*b+p*p))},"billboard"===I?(b=p([-.5,0,0],[.5,0,0]),S=p([0,-.5,0],[0,.5,0])):"plane"===I?(b=p([-.5,0,0],[.5,0,0]),S=p([0,0,-.5],[0,0,.5])):D._currentCubeElementId!=r$&&(I=3*hd[E+1],D=3*hd[E],E=3*hd[E+2],b=p([Cd[I],Cd[1+I],Cd[2+I]],[Cd[E],Cd[1+E],Cd[2+E]]),S=p([Cd[I],Cd[1+I],Cd[2+I]],[Cd[D],Cd[1+D],Cd[2+D]])),[b,S]},vf:function(p,E){if(this.gv.getFaceVisible(this.data,p)){(p=rL(this,p)).mat&&(this.faceMat=!0);var b=p.uv;if(b)for(var Z=(Z=this._cubeUvs)||(this._cubeUvs=new Of([0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0,0,0,0,1,1,1,1,0])),o=0;o<8;o++)Z[E+o]=b[o];return p}},_billboardInView:(An=[-.5,-.5,0,-.5,.5,0,.5,-.5,0,.5,.5,0],ln=[-.5,0,-.5,-.5,0,.5,.5,0,-.5,.5,0,.5],Vn=new fB,cn=new G$,Sn=new T$,function(p){if(!this._finalMat)return!0;var E=this.gv.getFrustum(),b="billboard"===p?An:ln;Vn.makeEmpty(),Sn.fromArray(this._finalMat);for(var Z=0,o=b.length;Z<o;Z+=3)Vn.expandByPoint(cn.fromArray(b,Z).applyMatrix4(Sn));return E.intersectsBox(Vn)}),drawBody:function(p,E,b){var Z=this;if(Z._rectOverlapping)return!0;var o=Z.shapeModel;if(o||!Z.shapeName){if(("billboard"===(c=Z.s("shape3d"))||"plane"===c)&&!Z._billboardInView(c))return!0;var A,l,V,c=Z.gv,S=Z.data,I=c._cube,D=g$.for(p).directAttribs();if(!Z.s("effect.flow")&&(p._picking||!Z.s("shape3d.reflector")||(A=Z._reflectorModel)&&A.renderAsNode))if(A||o&&o.model3d)Z.s(fx)&&((l=S.s("polygonOffset"))&&dj(p,l),Xn=!1,A?Z.gv._prefabRenderer.render(p,A,S):Z.gv._prefabRenderer.renderNode(p,o,S,Z._finalMat),l&&Uj(p));else{if(nL(c,Z._finalMat),o)pE(c,S,o,Z,Z.getBodyColor(),b);else for(D.aPosition=oL(p,I.vs,r$),D.aNormal=oL(p,I.ns,r$),VL(p,I.is),V=0;V<6;V++)Z._18O(p,ad[V],6*V,b,!1);if(Z._finalMat&&DL(c),Z.faceMat)for(V=0;V<6;V++)Z._18O(p,ad[V],6*V,b,!0)}}},_18O:function(p,E,b,Z,o){var A,l,V,c,S,I,D,B,n,k=this[E];k&&(A=this.data,!(c=(l=this.gv)._picking?null:k.material)&&!Z(k.transparent)||o&&!k.mat||!o&&k.mat||(A._currentCubeElementId=b,(Z=A.s("polygonOffset"))&&dj(p,Z),c?(c={mesh:{vs:Cd,is:hd,ns:yd,uv:k.uv?this._cubeUvs:Pd,_complete_:!0},drawRange:[b,6],mat:c},A._currentFaceLightMask=k.light?A.s("light.mask"):0,l._prefabRenderer.render(p,c,A,o?k.mat:null),A._currentFaceLightMask=null,c=l._cube,(V=g$.for(p).directAttribs()).aPosition=oL(p,c.vs,r$),V.aNormal=oL(p,c.ns,r$),VL(p,c.is)):(o&&nL(l,k.mat),V=g$.for(p).directUniforms(),c=l.getTexture(k.texture,A,E),E=k.uv,S=k.uvScale,I=k.uvOffset,D=k.uvRotation,B=k.uvAnchor,n=k.discardSelectable,c?E?sj(p,c,n,l._buffer.uv,this._cubeUvs,I,S,D,B):sj(p,c,n,l._cube.uv,r$,I,S,D,B):sj(p),uj(p,k.blend,k.light,k.opacity,k.reverseFlip,k.reverseColor,A._forceSingleFace||k.reverseCull),V.uDiffuse=k.color||L$["color.empty"],ZL(p,b,6),Rj(p),wj(p,c),o&&DL(l)),Z&&Uj(p),A._currentCubeElementId=null))},disposeGLContent:function(){AH.superClass.disposeGLContent.apply(this,arguments),this.data.s("shape3d.reflector")&&(zj(this.gv,this._reflectorRenderTarget),this._reflectorRenderTarget=null,this._reflectNormal=null)},drawReflector:(zX=new G$,_X=new G$,vX=new G$,QX=new G$,qX=new G$,uX=new G$,RX=new T$,sX=new T$,wX=new T$,iX=new n3,fX=new wB,pn=new RB,En=new RB,bn=qf(),Zn=qf(),on=["","top_","bottom_","from_","to_"],function(p){var E=this,b=(E._reflectorInfo=null,E.data);if(b._reflecting||!E.mat)return!1;var Z=E.gv;if(Z._picking)return!1;if(Z._camera&&!Z._camera.isLayerVisible(b.getRenderLayer()))return!1;var o=Z._camera||Z,A=b instanceof CP,l=b.s("shape3d.reflector.ratio"),V=E._reflectorRenderTarget,c=Z._canvas.width*l,l=Z._canvas.height*l,S=(S=Z.getViewport(p))&&p$(S);if(V?V.setSize(p,c,l):V=E._reflectorRenderTarget=new R.RenderTarget(Z,p,c,l),wX.copy(E.mat),X$(c=E.s("shape3d.reflector.position"))?zX.copy(c).applyMatrix4(wX):A?((e=b.p3())[1]+=(1-b.getAnchorElevation())*b.getTall(),zX.copy(e).applyMatrix4(wX)):zX.copy(b.p3()),!E._reflectNormal){if(!(l=E.shapeModel))if(A)l=[E.left,E.right,E.top,E.bottom,E.front,E.back];else if(c=E.s(wx)){if(!(l=ZE(E,c)))return!1}else l={vs:Cd,is:hd,ns:yd};var I,D,B,n,k,j=[];if(GL(l,E,j),0===(I=j.length))return!1;if(X$(c=E.s("shape3d.reflector.normal")))vX.copy(c).normalize();else if(A)vX.set(0,1,0);else{for(var W,m=0;m<I;m++)if((D=j[m])&&(B=D.mesh)){for(oE(B),n=0,k=on.length;n<k&&!(W=B[on[n]+"ns"]);n++);if(W){vX.set(W[0],W[1],W[2]);break}}if(!W)return!1}E._reflectNormal=vX.toArray(),(e=f.requestVector3()).copy(zX),e.applyMatrix4(sX.copy(wX).invert()),E._reflectorPosition=e.toArray(),l=Math.max(E.s("shape3d.reflector.normal.threshold"),.01*Math.PI),E._reflectorModel={model3d:!0,mesh:{vs:function(p,E,b,Z){for(var o,A,l,V,c,S,I,D,B,n,k,j,W=f.requestVector3(),m=f.requestVector3(),e=f.requestVector3(),$=f.requestVector3(),Y=f.requestVector3(),t=f.requestVector3(),K=[],r=0,H=p.length;r<H;r++)if((c=p[r])&&(S=c.mesh))for(oE(S),l=0,V=on.length;l<V;l++)if(I=S[on[l]+"vs"])for(A=(D=S[on[l]+"is"])?D.length:I.length/3,j=c.matrix,o=0;o<A;o+=3)k=D?(B=D[o],n=D[o+1],D[o+2]):(n=(B=o)+1,o+2),n*=3,k*=3,m.fromArray(I,B*=3),e.fromArray(I,n),$.fromArray(I,k),j&&(m.applyMatrix4(j),e.applyMatrix4(j),$.applyMatrix4(j)),Y.subVectors(e,m),t.subVectors($,m),W.crossVectors(Y,t).angleTo(b)<=Z&&W.crossVectors(b,Y.subVectors(m,E)).cross(b).angleTo(Y)<=Z&&W.crossVectors(b,t.subVectors(e,E)).cross(b).angleTo(t)<=Z&&W.crossVectors(b,Y.subVectors($,E)).cross(b).angleTo(Y)<=Z&&K.push(m.x,m.y,m.z,e.x,e.y,e.z,$.x,$.y,$.z);return f.releaseVector3(W),f.releaseVector3(m),f.releaseVector3(e),f.releaseVector3($),f.releaseVector3(Y),f.releaseVector3(t),K}(j,e,vX,l)},mat:{type:"reflector",internalDefines:!1,defines:{}}},f.releaseVector3(e)}if(iX.getNormalMatrix(wX),vX.copy(E._reflectNormal).applyNormalMatrix(iX),_X.copy(o.getEye()),QX.subVectors(zX,_X),0<QX.dot(vX))return!1;QX.reflect(vX).negate(),QX.add(zX),qX.copy(o.getCenter()).negate().add(zX),qX.reflect(vX).negate(),qX.add(zX),uX.copy(o.getUp()),uX.reflect(vX);var c=Z.getActiveCamera(),l=0<($=Z)._tempCameraQueue.length?$._tempCameraQueue.pop():(($=new u.Camera).s("camera.aspect.sync",!0),$),e=(Z.getCamera(l),Z.setActiveCamera(l),l.p3(QX.toArray()),l.lookAt(qX.toArray(),uX.toArray()),Z._18Q=r$,Z._dynamicRatio),o=(Z._dynamicRatio=1,Z.getWidth),$=Z.getHeight,Y=(Z.getWidth=function(){return V.width},Z.getHeight=function(){return V.height},V.bind(p),Z.setViewport(p,0,0,V.width,V.height),b.s("shape3d.reflector.background"));Y?(F=Nj(p,!0),Oj(p,Y)):Oj(p,[0,0,0,1]),g$.for(p).glState.depth.mask=!0,p.clear(16640);var $,t=(t=b.s("shape3d.reflector.clip"))===K$?.003:t,K=gj(Z),r=Tj(Z),t=(fX.setFromNormalAndCoplanarPoint(vX,zX.add(vX.clone().multiplyScalar(t))),fX.applyMatrix4(sX.fromArray(r)),pn.set(fX.normal.x,fX.normal.y,fX.normal.z,fX.constant),sX.fromArray(K).getInverse(sX),En.set(Math.sign(pn.x),Math.sign(pn.y),1,1).applyMatrix4(sX),pn.multiplyScalar(2/pn.dot(En)),b._reflecting=!0,b.s("shape3d.reflector.shadow")),r={renderAxis:!1,renderEdit:!1,renderGrid:!1};if("disabled"===t?(r.renderShadowMap=!1,r.renderShadow=!1):"scene"===t?r.renderShadowMap=!1:r.useReflectorSelfShadowMap=!0,l.setProjectMatrix(K),Z.renderSky(),K[2]=pn.x-K[3],K[6]=pn.y-K[7],K[10]=pn.z-K[11],K[14]=pn.w-K[15],l.setProjectMatrix(K),l.s("camera.renderSky",!1),r.ignoreExternalCamera=!0,Z.renderScene(r),RX.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),RX.multiply(sX.fromArray(Z._projectMatrix)),RX.multiply(sX.fromArray(Z._viewMatrix)),Y&&Oj(p,F),V.unbind(p),Z._tempCameraQueue.push(l),Z._18Q=r$,Z.setActiveCamera(c),Z.getWidth=o,Z.getHeight=$,Z._dynamicRatio=e,(t=b.s("shape3d.reflector.blur"))&&(K=Z.getPostProcessingModule("Blur"))&&K.drawImpl(p,V,t,3<=t,b.s("shape3d.reflector.blur.iterations")),(r=Z.getPostProcessingModule("Glitch"))&&r.enable&&r.onlyReflector&&(V=r._42(p,V)),S&&Z.setViewport(p,S[0],S[1],S[2],S[3]),!1===b.s("shape3d.reflector.visible"))return qN(Z,b),!0;var H,M,F=(Y=E._reflectorModel).mat,c=(F.tDiffuse=V.texture,F.color=W6(b.s("shape3d.reflector.color")||L$["shape3d.reflector.color"]),t$.assign(F.defines,Z.getBoxClipperDefines()),F.cacheKey=Z._boxClippers.length+" "+Z._boxClipperTypes+Z._boxClipperMasks,l=A&&E._matWithExtraction?E._matWithExtraction:E.mat,b.s("shape3d.reflector.immediate")),o=(F.modelMatrix=l,F.modelTextureMatrix=Kj(c?bn:qf(),RX.getElements(),l),F.modelViewMatrix=Kj(c?Zn:qf(),Tj(Z),l),F.projectionMatrix=gj(Z),this.s("shape3d.transparent"));return F.transparent=!c&&o,c?(o&&(M=(H=g$.for(p).glState).depth.mask,H.depth.mask=!1),Z._prefabRenderer.render(p,Y,b),o&&(H.depth.mask=M),delete Y.renderAsNode):Y.renderAsNode=!0,qN(Z,b),!0})}),function(p,E){R1(lH,this,[p,E])}),VH=(yf(lH,AH,{drawBody:function(p){}}),R.Edge3dUI=function(p,E){R1(VH,this,[p,E])}),cH=(yf(VH,oH,{_25Q:1,validate:function(p,E){var b=this,Z=b.s;if(Z(wx)===al&&Z("batch")==r$&&b.shapeModel&&b.info&&b._geometryVersion===b.data._geometryVersion)UL(b.gv,b.data);else{var o=b.gv,A=b.data,l=Z("edge.width"),V=A._40I,c=A._41I;if(b._geometryVersion=A._geometryVersion,b.shapeModel=b.info=b.lineShapeModel=r$,V&&c){var S=A.isLooped(),I=Z(Bx);if(X=H$.getEdgeType(I)){if(!(X=X(A,XY(b,o,A,S,I),o,b._19Q)).points||X.points.isEmpty())return;for(var D=b.info={},B=X.segments,n=(F=X.points).size(),k=V.getElevation(),j=c.getElevation(),W=0;W<n;W++){var m=F.get(W);m.e==r$&&(m.e=k+(j-k)*W/(n-1))}var e=lj(F.get(0)),$=lj(F.get(n-1)),Y=(n-(H=n%2))/2;D.c1=lj(F.get(Y-1)),D.c2=lj(F.get(Y)),0!==H&&(D.p3=D.c2),D.s1=e,D.s2=lj(F.get(1)),D.t1=lj(F.get(n-2)),D.t2=$}else{var t,K,r,H,M,F=new q,D=b.info={},X=Z("edge.offset"),G=Z("edge.center"),T=Z("edge.source.t3"),g=Z("edge.target.t3"),L=eL(o,A,"source"),x=eL(o,A,"target");if(!L||!x)return o.invalidateData(A),delete b.info,!1;T&&(L[0]+=T[0],L[1]+=T[1],L[2]+=T[2]),g&&(x[0]+=g[0],x[1]+=g[1],x[2]+=g[2]),I===sl?(B=Z("edge.segments"),(n=(T=D.points=Z(Dx)||qm).size())?(e=lj(T.get(0)),$=lj(T.get(n-1)),!G&&X&&(g=X,t=_f(e,L,!0),X=Z$(g,$f(L,e)),L=[L[0]+t[0]*X,L[1]+t[1]*X,L[2]+t[2]*X],t=_f(x,$,!0),X=Z$(g,$f($,x)),x=[x[0]-t[0]*X,x[1]-t[1]*X,x[2]-t[2]*X]),1===n?D.p3=e:(Y=(n-(H=n%2))/2,K=lj(T.get(Y-1)),r=lj(T.get(Y)),0!==H&&(D.p3=r),D.s1=L,D.s2=e,D.t1=$,D.t2=x)):(!G&&X&&(t=_f(x,L,!0),M=$f(L,x),X=HY(X,M),L=[L[0]+t[0]*X,L[1]+t[1]*X,L[2]+t[2]*X],x=[x[0]-t[0]*X,x[1]-t[1]*X,x[2]-t[2]*X]),K=L,r=x),F.add({x:L[0],y:L[2],e:L[1]}),F.addAll(T),F.add({x:x[0],y:x[2],e:x[1]})):(g=XY(b,o,A,S,I),b._19Q||(g=-g),S?(Y=L[0],H=L[1],e=L[2],K=[Y-g,H+($=V.getTall()/2+g),e],r=[Y+g,H+$,e],F.add({x:Y-g,y:e,e:H}),F.add({x:Y-g,y:e,e:H+$}),F.add({x:Y+g,y:e,e:H+$}),F.add({x:Y+g,y:e,e:H})):(t=_f(x,L,!0),M=$f(L,x),T={x:L[0],y:L[2]},I={x:x[0],y:x[2]},$=(S=ej(r$,T,I,g)).x-T.x,Y=S.y-T.y,X=HY(X,M),t[0]*=X,t[1]*=X,t[2]*=X,K=[L[0]+t[0]+$,L[1]+t[1],L[2]+t[2]+Y],r=[x[0]-t[0]+$,x[1]-t[1],x[2]-t[2]+Y],G?(F.add({x:L[0],y:L[2],e:L[1]}),F.add({x:K[0],y:K[2],e:K[1]}),F.add({x:r[0],y:r[2],e:r[1]}),F.add({x:x[0],y:x[2],e:x[1]})):(F.add({x:K[0],y:K[2],e:K[1]}),F.add({x:r[0],y:r[2],e:r[1]})))),D.c1=K,D.c2=r,A._lastSourcePoint3d=F.get(0),A._lastTargetPoint3d=F.get(F.length-1)}D._lastPointsSegments={points:F,segments:B},b._matWithExtraction=b._vsTranslation=null,Z(wx)===al?((H$.extractPolylineTranslation||H$.extractVerticesTranslation)&&(e=V.p3(),L=c.p3(),G=[(e[0]+L[0])/2,(e[1]+L[1])/2,(e[2]+L[2])/2]),D.list=b.createTubeModel(F,B,l/2,p,G)):D.list=b.createLineModel(F,B,l,"edge","edge.dash"),UL(o,b.data)}}},invalidateCachedGeometry:function(){this.info=r$}}),R.Shape3dUI=function(p,E){R1(cH,this,[p,E]),this._needRecoverPosition=!0}),SH=(yf(cH,AH,{drawBody:function(p,E,b){var Z=this,o=Z._finalMat;if(o)if(Z.s("shape3d.reflector")&&!p._picking)(A=Z._reflectorModel)&&A.renderAsNode&&Z.gv._prefabRenderer.render(p,A,Z.data);else{var A=Z.gv,l=Z.shapeModel;if(nL(A,o),l)pE(A,Z.data,l,Z,Z.getBodyColor(),b);else for(var V=0;V<6;V++)HL(Z,p,E,ad[V],b);DL(A)}},validate:function(p,E){var b,Z,o,A,l,V=this,c=V.s,S=V.data,I=S._thickness/2,D=S.isClosePath(),B=S.getPoints(),n=S.getSegments(),k=c(ix),j=p&&p.uv;if(V.invalidateUnstableWireframe(),V.clear(),V.dispatchBoundingBoxChanged(),V._updateAutoRotation(),H$.extractShapeTranslation||H$.extractVerticesTranslation?(Z=new f.Vector3(S.p3()),(B=p$(B)).forEach(function(p){p.x-=Z.x,p.y-=Z.z}),V._vsTranslation=(new f.Matrix4).setPosition(Z),o=S.getShapeElevation,S.getShapeElevation=function(){return-(this.getTall()||0)*(this._anchorElevation-.5)}):V._vsTranslation=null,m=S.s("shape3d.corner.radius")){if(I<0||D)if(n)5!==n[n.length-1]&&(n=n.toArray()).push(5);else{for(var n=[1],W=0;W<B.length-1;W++)n.push(2);n.push(5)}var m,B=(m=cE(B,n,m,k,!0)).points;n=m.segments}if(I<0){V.s("shape3d.reflector")&&(V._reflectNormal=null);try{var e,$,Y,t=c("shape3d.image.projection");t&&t[4]&&($=(e=S.p3())[0],Y=e[2],t=[$+t[0],t[1]+Y,$+t[2],t[3]+Y]),b=V.shapeModel=vY(B,n,c(ba),c(Za),k,c(oa),S.getTall(),S.getShapeElevation(),D,t)}catch(p){b=V.shapeModel={}}c(fx)||(delete b.vs,delete b.ns,delete b.uv),"shape"===V.s("3d.clipbox.shape")&&(m="__shapeTopToCanvas__",u.Default.getShaderMap()[m]||u.Default.setShader(m,["attribute vec3 aPosition;","uniform vec4 shapeProjectMatrix;","void main() {","    gl_Position = vec4((aPosition.x - shapeProjectMatrix.x) / shapeProjectMatrix.z, (aPosition.z - shapeProjectMatrix.y) / shapeProjectMatrix.w, 0.0, 1.0);","}","// FS","void main() {","    gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);","}"].join("\n")),e=S.getAnchor(),$=V.s("3d.clipbox.mask.size")||[1024,1024],Y=new an(V.gv,$[0],$[1]),V._vsTranslation?A=l=0:(A=S.getX(),l=S.getY()),A-=(e.x-.5)*S.getWidth(),l-=(e.y-.5)*S.getHeight(),V.gv.renderModel(Y,{model3d:!0,mesh:{vs:b.top_vs},mat:{type:m,shapeProjectMatrix:[A,l,S.getWidth()/2,S.getHeight()/2]}}),V._clipboxMask={texture:!0,image:Y.toCanvas()},Y.releaseTexture())}else if(c(wx)===al)g=K6(B,n,k,D),(b=V.shapeModel={vs:[],uv:[]}).sum=c(oa)||SW(g)||1,b.len=0,c(ba)&&!D&&(b.top_vs=[],b.top_uv=[]),c(Za)&&!D&&(b.bottom_vs=[],b.bottom_uv=[]),V._12O(g,I);else{var K,r,H,M,F,X,G,T,g=K6(B,n,k,D),L=V.vf(el,j,!1,E);if(I&&(M=V.vf($l,j,!1,E),F=D?r$:V.vf(Yl,j,!1,E),X=D?r$:V.vf(tl,j,!1,E),G=V.vf(Kl,j,!1,E),T=V.vf(rl,j,!1,E)),I){for(var x=0,C=g.length;x<C;x++)g[x]=V._tryRemoveBezierPoints(g[x],I);V._12O(g,I)}else L&&g.forEach(function(p){if(0<(H=p.length))for(K=p[0],W=1;W<H;W++)r=p[W],V.addV(L.vs,K,r),K=r});V._20Q(g),p||(L&&(L.ns=Lj(L.vs),AE(L,"vs"),AE(L,Wx)),I&&(M&&(M.ns=Lj(M.vs),AE(M,"vs"),AE(M,Wx)),F&&(F.ns=Lj(F.vs),AE(F,"vs"),AE(F,Wx)),X&&(X.ns=Lj(X.vs),AE(X,"vs"),AE(X,Wx)),G&&(G.ns=Lj(G.vs),AE(G,"vs"),AE(G,Wx)),T&&(T.ns=Lj(T.vs),AE(T,"vs"),AE(T,Wx)))),delete this._shapeModelCacheForWf}t=V.mat=S.getPointsMatrix3d().getElements(),S._flipSide=T$.determinantOfArray(t)<0,V._vsTranslation?t=V._matWithExtraction=(new f.Matrix4).fromArray(t).multiply(V._vsTranslation).toArray():V._matWithExtraction=null,p&&(nd(V,t,p,b,E),V.clear()),o!=r$&&(S.getShapeElevation=o),UL(V.gv,S,V.mat)},_20Q:function(p){var E,b,Z,o,A,l,V,c,S,I,D,B,n,k=this,j=k.front,W=k.back,m=k.top,e=k.bottom,j=j?j.tuv:r$,W=W?W.tuv:r$,m=m?m.tuv:r$,e=e?e.tuv:r$,$=0,Y={front:0,back:0,top:0,bottom:0};(j||W||m||e)&&(n=k.s(oa),E=n||SW(p)||1,D=k.s("all.uv.union"),p.forEach(function(p){if(0<(b=p.length)){for(I in Y)(!1===(B=k.s(I+".uv.union"))||B==r$&&!1===D)&&(Y[I]=0,n||(E=SW([p])));for(l=p[0],Z=1;Z<b;Z++){for(I in V=p[Z],c=$f(l,V),Y)$=Y[I],o=$/E,Y[I]=$+=c,A=$/E,"back"===I&&(S=o,o=1-A,A=1-S),k._14O(k[I],o,A);l=V}}}))},_14O:function(p,E,b){var Z,o,A,l,V,c,S,I;p&&(I=p.uv,(p=p.tuv)&&(I=I?(Z=I[0]+(I[6]-I[0])*E,o=I[1]+(I[7]-I[1])*E,A=I[2]+(I[4]-I[2])*E,l=I[3]+(I[5]-I[3])*E,V=I[2]+(I[4]-I[2])*b,c=I[3]+(I[5]-I[3])*b,S=I[0]+(I[6]-I[0])*b,I[1]+(I[7]-I[1])*b):(A=Z=E,c=l=1,S=V=b,o=0),p.push(A,l,V,c,S,I,S,I,Z,o,A,l)))},_13O:function(p){var E=p.uv;(p=p.tuv)&&(E?p.push(E[2],E[3],E[4],E[5],E[6],E[7],E[6],E[7],E[0],E[1],E[2],E[3]):p.push(0,1,1,1,1,0,1,0,0,0,0,1))},_tryRemoveBezierPoints:function(E,p){var b=E.length;if(b<4)return E;for(var Z,o,A,l,V=!1,c=function(p){return E[p]},S=function(p){return E[b-1-p]},I=0;I<=1;I++)for(Z=(A=I?S:c)(0),o=A(1),B=2;B<b-1;B++)(l=A(B)).remove||(l.b&&ej(Z,o,l,p).adjust?V=l.remove=!0:(Z=o,o=l));if(!V)return E;for(var D=[],B=0;B<b;B++)E[B].remove||D.push(E[B]);return D},_12O:function(p,E){var b,Z,o,A,l,V=this.s("shape3d.point.epsilon"),c=this;p.forEach(function(p){if(0<(l=p.length)){for(A=1;A<l;A++)Z=p[A-1],o=p[A],Math.abs(Z.x-o.x)<V&&Math.abs(Z.y-o.y)<V&&(p.splice(A,1),l--,A--);for(b={p:p[0],n:!0},A=1;A<l;A++)Z=p[A],o=A<l-1?p[A+1]:r$,c.addPoint(b,Z,o,E,p)}})},addPoint:function(p,E,b,Z,o){var A,l,V,c,S,I,D=this,B=p.p,n=p.f,k=p.b,j=D.s("shape3d.side")||Pf,W=D.s("shape3d.start.angle"),m=D.s("shape3d.sweep.angle"),e=D.shapeModel,$=D.data.isClosePath();if(p.n&&(p.n=!1,n=$&&2<o.length?ej(o[o.length-2],B,E,Z):ej(r$,B,E,Z),k=mj(B,n),e?e.top_vs&&D._10O(k,n,j,W,m,e.top_vs,e.top_uv):(A=D.left)&&(D.addV(A.vs,k,n),D._13O(A))),$=b?ej(B,E,b,Z):$&&2<o.length?ej(B,E,o[1],Z):ej(B,E,r$,Z),o=mj(E,$),e){var Y,t,K=e.vs,r=e.uv,Z=e.sum;for(r&&(Y=e.len/Z,e.len+=$f(B,E),t=e.len/Z),V=D._9O(k,n,j,W,m),c=D._9O(o,$,j,W,m),S=0;S<j;S++)_1(K,V[I=S+1]),_1(K,c[S]),_1(K,V[S]),_1(K,c[S]),_1(K,V[I]),_1(K,c[I]),r&&r.push(Y,I/=j,t,l=S/j,Y,l,t,l,Y,I,t,I);!b&&e.bottom_vs&&D._10O(o,$,j,W,m,e.bottom_vs,e.bottom_uv,!0)}else!b&&(A=D.right)&&(D.addV(A.vs,$,o),D._13O(A)),(A=D.front)&&D.addV(A.vs,n,$),(A=D.back)&&D.addV(A.vs,o,k),(A=D.top)&&D.addH(A.vs,n,$,o,k,!0),(A=D.bottom)&&D.addH(A.vs,k,o,$,n);p.p=E,p.f=$,p.b=o},_10O:function(p,E,b,Z,o,A,l,V){for(var c,S,I=this.data,D=this._9O(p,E,b,Z,o),B=(p.x+E.x)/2,n=(p.y+E.y)/2,k=I.getShapeElevation(),j=0,j=0;j<b;j++)V?(_1(A,D[j]),_1(A,D[j+1])):(_1(A,D[j+1]),_1(A,D[j])),_1(A,[B,k,n]),l&&(S=V?(c=j$*(j+1)/b+Z,j$*j/b+Z):(c=j$*j/b+Z,j$*(j+1)/b+Z),l.push(.5-.5*M$(S),.5-.5*k$(S),.5-.5*M$(c),.5-.5*k$(c),.5,.5))},_9O:function(p,E,b,Z,o){var A,l,V=this.data,c=[],S=(p.x+E.x)/2,I=(p.y+E.y)/2,D=V.getTall()/2,B=V.getShapeElevation(),n=0;for(o==r$&&(o=j$);n<=b;n++)l=M$(A=o*n/b+Z),c.push([S+(p.x-S)*l,B+D*k$(A),I+(p.y-I)*l]);return c},addV:function(p,E,b){var Z=E.x,E=E.y,o=b.x,b=b.y,A=(l=this.data).getShapeElevation(),l=l.getTall()/2;p.push(Z,A-l,E,o,A-l,b,o,A+l,b,o,A+l,b,Z,A+l,E,Z,A-l,E)},addH:function(p,E,b,Z,o,A){var l=(V=this.data).getTall()/2,V=V.getShapeElevation()+(A?l:-l);p.push(E.x,V,E.y,b.x,V,b.y,Z.x,V,Z.y,Z.x,V,Z.y,o.x,V,o.y,E.x,V,E.y)},vf:function(p,E,b,Z){var o,A=this.gv.getFaceVisible(this.data,p);return(b||A)&&((o=rL(this,p,Z)).vs=[],o.tuv=A?[]:r$,o.visible=A),o}}),R.Points3dUI=function(p,E){R1(SH,this,[p,E])}),IH={},DH=(yf(SH,AH,{validate:function(){var p=this,E=p.gv,b=p.data,Z=p.s,o=W6(Z("points.color")),A=Z("points.size"),y=Z("points.uv.offset"),l=Z("points.image"),V=(!l||/\.(png|jpg|gif|jpeg|bmp|svg)$/i.test(l)||Z1.test(l)||(IH[l]||(IH[l]=p._createCachedImage(l)),l=IH[l]),b._modelDirty),c=Z("points.model");if(c){if(p._lastShapeModel!==c||!p.shapeModel){var S=ZE(p,c);if(!S)return;var D=[],B={},n=f.requestVector3();p.eachShapeModel(function(p,E,b,Z,o){for(var A=0,l=p.length;A<l;A+=3){var V=p[A],c=p[A+1],S=p[A+2],I=(o&&(n.set(V,c,S).applyMatrix4(o),V=n.x,c=n.y,S=n.z),V+"_"+c+"_"+S);B[I]||(B[I]=!0,D.push(V,c,S))}},S),f.releaseVector3(n),p._setShapeModelPoints(new Of(D)),p._lastShapeModel=c,V=!0}k=p.shapeModel.vs.length/3}else{var I=b.getPoints(),k=I.length;if(V||b._pointsDirty||!p.shapeModel){for(var j=[],W=0;W<k;W++){var m=I[W];m&&j.push(m.x,m.e,m.y)}p._setShapeModelPoints(new Of(j)),b._pointsDirty=!1,V=!(p._lastShapeModel=null)}}if(p.mat=Am(b),p._finalMat=E.createNodeFinalMatrix(b,p.mat),S=Z("points.transparent"),p.info={mat:p._finalMat,size:A,diffuse:o,opacity:Z("points.opacity"),texture:l,transparent:S,alphaTest:S?0:Z("alphaTest"),uvScale:Z("points.uv.scale"),uvOffset:y,discardSelectable:Z("points.discard.selectable"),highlightPickColor:E.getHighlightPickColor(b)},V||b._colorsDirty){var e=!1,$=b.getColors();if(ArrayBuffer.isView($))p.shapeModel.cs=$;else{if($&&0<$.length)for(var Y=[],W=0;W<k;W++)for(var t=$[W],a=t?(e=!0,W6(t)):o,J=4*W,K=0;K<4;K++)Y[J+K]=a[K];p.shapeModel.cs=e?new Of(Y):null}b._colorsDirty=!1}if(V||b._sizesDirty){var r=!1,H=b.getSizes();if(H&&0<H.length)for(var M,F=[],W=0;W<k;W++)0<=(M=H[W])?(F.push(M),r=!0):F.push(A);p.shapeModel.ss=r?new Of(F):null,b._sizesDirty=!1}if(V||b._offsetsDirty){var X=!1,G=b.getUvoffsets();if(G&&0<G.length)for(var T,g,L=[],W=0;W<k;W++)T=G[g=2*W],g=G[1+g],T!=K$&&g!=K$?(L.push(T,g),X=!0):L.push(0,0);p.shapeModel.os=X?new Of(L):null,b._offsetsDirty=!1}if(V||p._lastPointNumber!==k){this.dispose();for(var x=E.pickColorMap,C=p._startPickId=x._pickIdUsed,j=(x._pickIdUsed=C+k,[]),W=0;W<k;W++){var h=C+W,P=Nn(h);j.push(P[0],P[1],P[2],P[3]),x[h]||(x[h]={data:b,part:W})}p.shapeModel.ps=new Of(j),p._lastPointNumber=k}b._modelDirty=!1,this.dispatchBoundingBoxChanged()},_setShapeModelPoints:function(p){var E=this.shapeModel,b=this.shapeModel={vs:p};return E&&(p=p.length,p=Math.round(p/3),E.cs&&E.cs.length==4*p&&(b.cs=E.cs),E.ss&&E.ss.length==p&&(b.ss=E.ss),E.os&&E.os.length==2*p&&(b.os=E.os),E.ps&&E.ps.length==4*p&&(b.ps=E.ps)),b},_createCachedImage:function(p){var E=kW(),b=E.getContext("2d"),b=(mW(E,128,128,1),rm(b,{width:128,height:128,comps:[{type:p,background:"white",borderWidth:0,rect:[0,0,128,128]}]},0,0,128,128),u.Math.generateUUID());return ua[b]=E,b},drawBody:function(p,E){var b,Z,o,A,l,V=this.gv,c=this.data,S=V._picking;S&&!V.isSelectable(c)||(b=this.shapeModel,l=this.info,b&&b.vs&&b.vs.length&&((Z=c.s("polygonOffset"))&&dj(p,Z),o={type:"points",renderMode:"points",renderPickMap:!0,transparent:l.transparent,modelMatrix:l.mat,modelViewMatrix:Kj([],V._viewMatrix,l.mat),projectionMatrix:V._projectMatrix,viewMatrix:V._viewMatrix,scale:V.getHeight()/2/Math.tan(V.getFovy()/2),size:l.size,diffuse:l.diffuse,opacity:l.opacity,map:V.getTexture(l.texture,c),alphaTest:l.alphaTest,resolution:V.getDevicePixelRatio(),discardSelectable:l.discardSelectable,uvScale:l.uvScale,blackout:p._blooming&&!c.s("bloom"),picking:S,useColor:!S&&b.cs!=r$,useSizeArray:b.ss!=r$,uUvOffset:l.uvOffset,useUvArray:!S&&b.os!=r$,defines:V.getBoxClipperDefines()},A=null,S&&(V.isHighlightDrawing()?(o.pickColor=l.highlightPickColor,o.defines.HIGHLIGHT=!0):A=b.ps),V._prefabRenderer.render(p,{model3d:!0,mesh:{position:b.vs,pickColor:A,color:S?null:b.cs,aUvOffset:!S&&b.os?b.os:null,sizeArray:b.ss},mat:o},c),this._material=o,Z&&Uj(p),(l=g$.for(p)).useProgram(E),l.directAttribs().disable(),V.shadowMap.enable&&V.shadowMap.createShadow(),V.rebindOITTexture(),V.flowMap.createFlow(null,!0),V.rebindClipperMaskTexture()))},dispose:function(){SH.superClass.dispose.call(this);var p=this._startPickId,E=this._lastPointNumber;if(p&&E){for(var b=this.gv.pickColorMap,Z=0;Z<E;Z++){var o=p+Z;b[o]&&delete b[o]}delete this._startPickId,delete this._lastPointNumber}}}),R.Polyline3dUI=function(p,E){R1(DH,this,[p,E]),this._needRecoverPosition=!0}),BH=(yf(DH,oH,{_25Q:1,needValidate:function(p){return AH.prototype.needValidate.call(this,p)},_updateAutoRotation:function(){return AH.prototype._updateAutoRotation.call(this)},invalidateUnstableWireframe:function(){this.data._47Q&&this.invalidateWireframe()},validate:function(p,E){var b,Z,o,A,l,V=this,c=V.data,S=V.s,I=c.getPoints(),D=I.size(),B=(V.dispatchBoundingBoxChanged(),V._updateAutoRotation(),V.invalidateUnstableWireframe(),c.p3()),n=V.mat=qf(),k=(Yj(n,B),FP(n,c.getFinalRotation3d(),c.getRotationMode()),c.getScale3d()),j=c._dynamicScale3d;j&&(k[0]*=j[0],k[1]*=j[1],k[2]*=j[2]),tj(n,k),Yj(n,vf(B)),c._flipSide=T$.determinantOfArray(n)<0,S(wx)===al&&S("batch")==r$&&V.shapeModel&&V._geometryVersion===c._geometryVersion?V._vsTranslation&&(V._matWithExtraction=(new f.Matrix4).fromArray(n).multiply(V._vsTranslation).toArray()):(V._geometryVersion=c._geometryVersion,V.shapeModel=V.info=V.lineShapeModel=r$,V._matWithExtraction=V._vsTranslation=null,1<D&&(j=V.info={},k=c.getSegments(),B=c.getThickness(),b=lj(I.get(0)),Z=lj(I.get(D-1)),j.c1=lj(I.get((A=(D-(o=D%2))/2)-1)),j.c2=lj(I.get(A)),0!=o&&(j.p3=j.c2),j.s1=b,j.s2=lj(I.get(1)),j.t1=lj(I.get(D-2)),j.t2=Z,S(wx)===al?((H$.extractPolylineTranslation||H$.extractVerticesTranslation)&&(l=c.p3()),j.list=V.createTubeModel(I,k,B/2,p,l,n)):j.list=V.createLineModel(I,k,B,"shape.border","shape.dash"))),UL(V.gv,c,V.mat)},invalidateCachedGeometry:function(){this.shapeModel=this.info=this.lineShapeModel=r$}}),jn={s:C},function(p){var E={vs:[],ns:[],uv:[]};return Vd(null,null,p,jn,!1,[],E),E}),nH=H$.meshTypeMap={box:function(){return H$.createBoxModel()},sphere:function(p){return BH(H$.createSphereModel(p.side,p.sideFrom,p.sideTo,p.from,p.to,p.resolution,p.smooth))},cylinder:function(p){return BH(H$.createCylinderModel(p.side,p.sideFrom,p.sideTo,p.from,p.to,p.top,p.bottom,p.smooth))},cone:function(p){return BH(H$.createConeModel(p.side,p.sideFrom,p.sideTo,p.from,p.to,p.bottom,p.resolution,p.smooth))},torus:function(p){return BH(H$.createTorusModel(p.side,p.sideFrom,p.sideTo,p.from,p.to,p.radius,p.resolution,p.smooth))}};for(mn in E(H$,{invalidateMeshAttribute:function(p){p&&p._bufId&&(p._bufId=null)},invalidateMeshAttributeRange:function(p,E,b){p._bufId&&(p.dirty||(p.dirty=[]),p.dirty.push({start:E,count:b}))},setMeshStyle:function(p,E,b){return p[E]!==b&&(b===K$?delete p[E]:p[E]=b,delete p._geometry_,!0)},invalidateMesh:function(p,E){if(p){if(E)for(var b in p)H$.invalidateMeshAttribute(p[b]);delete p._4HQ,delete p._complete_}},invalidateSubMeshes:function(p){p&&delete(p.subMeshes||p)._drawRangeGroupByMat}}),E(Kn,{invalidateMeshAttribute:function(p,E){E&&this.releaseGLBuffer(p),H$.invalidateMeshAttribute(p),this.iv()},invalidateMeshAttributeRange:function(p,E,b){H$.invalidateMeshAttributeRange(p,E,b),this.iv()},setMeshStyle:function(p,E,b){H$.setMeshStyle(p,E,b)&&this.iv()},getMeshStyle:function(p,E){return p[E]},invalidateMesh:function(p,E,b){if(b)for(var Z in p)this.releaseGLBuffer(p[Z]);H$.invalidateMesh(p,E),this.iv()},invalidateSubMeshes:function(p){H$.invalidateSubMeshes(p),this.iv()}}),ud)nH[mn]=function(E){return function(p){return BH(ud[E](p.top,p.bottom))}}(mn);nH.bone=(Wn=new Array(5),function(p){for(var E=p.ratio||.1,b=p.resolution||8,Z=null,o=0;o<5;o++){if(Wn[o])return Wn[o].ratio==E&&Wn[o].resolution==b&&(Wn[o].active=Date.now()),Wn[o].mesh;Z=o}if(!Z)for(var A=1/0,o=0;o<5;o++)Wn[o].active<A&&(A=Wn[o].active,Z=o);var l=[],V=[];for(E*=.5,l.push(0,0,0,0,0,.5),o=0;o<b;o++){var c=o/b*Math.PI*2;l.push(Math.cos(c)*E,Math.sin(c)*E,E),0<o&&(V.push(0,o+2,o+1),V.push(o+1,o+2,1))}return V.push(0,2,b+1),V.push(b+1,2,1),Wn[o]={active:Date.now(),resolution:b,ratio:E,mesh:{vs:l,is:V}},Wn[o].mesh});var kH,jH,WH,mH,eH,$H={},YH=function(p){if(p)return"string"==typeof p&&(p=$H[p]||($H[p]={type:p})),tH(p)},tH=function(p,E,b){var Z,o,A=p._geometry_;if(A)return A;if(b=b||p,(A=p.type)&&"raw"!==A){var l=H$.meshTypeMap[A],V=(o=p)&&E?(t$.assign(V={},o),t$.assign(V,E),delete V.type,V):o||E;if(!l)return!!(Z=H$.getMesh(A))&&tH(Z,V,b);if(!(Z=l(V)))return!1;b._geometry_=Z}else Z=p;return Z.func?Z.func(Z):Z},KH=(kH={},{request:function(p){var E;return(E=kH[p])?E.length?E.pop():new Float32Array(p):(kH[p]=[],new Float32Array(p))},release:function(p){var E,b=p.length;(E=kH[b])?E.push(p):kH[b]=[p]}}),rH=OB(),HH=(t$.assign(R.Graph3dView.prototype,{initSkeletonDatas:function(){var p,E=this._updatedSkeletonDatas;for(p in E)KH.release(E[p]);this._updatedSkeletonDatas={},this._isSkeletonUpdated={},this._boneViewMatrices.length=0,this._boneViewMatrices._bufId=null},_renderBonesForDebug:function(p,E){0<this._boneViewMatrices.length&&(E.depth.enabled=!1,E.depth.mask=!1,this._prefabRenderer.render(p,{mesh:{type:"bone"},instances:{aMatrixInstanced:new Float32Array(this._boneViewMatrices)},mat:{type:"fixColor",color:"red",cullFace:!0}}))},queryBonePose:function(p){var E;return p._recordBonePose||(p._recordBonePose={},E=!0),this.updateSkeleton(p,K$,E,!0),p._recordBonePose},updateSkeleton:function(p,E,b,Z){var S=this;if((E||(E=iV(p.s("shape3d")))&&E.model3d)&&(E.lod?l=E.lod.group[0]:E.model&&(l=E.model),!l||(E=iV(l))&&E.model3d)){var o,A,l=p._lastModel3dAnimatable;if(l?(o=l.iteration,A=l.time):(V=p._animationId,o=(V=mh.getAnimation(V)).iteration||0,A=V.time,l=V.animatable),l){var I=p.getModel3dStateIfNotSet();if(!I)return;var V=p._lastAnimIteration||0,c=(o!==V&&(p._lastAnimIteration=o,p.fp("animationIteration",V,o)),p._lastAnimHashKey=p._id+"|"+l.clip.uuid+"|"+A);if(this._isSkeletonUpdated[c]&&!b)return;this._isSkeletonUpdated[c]=!0}else if(!Z)return;var D,B,n,k,j,W=p.s("3d.bone.visible"),m=(W&&(B=f.requestVector3(),n=f.requestVector3(),k=f.requestMatrix4()),f.requestMatrix4()),e=[],$={},Y=p._recordBonePose;if((W||Y)&&(j=f.requestMatrix4().fromArray(p.mat)),H$.traverse(E,function(p,E){p.skeleton&&e.push(p);var b,Z,o,A,l,V=p.name,c=(V&&I&&(l=I[V])&&((A=l.position)!==K$&&(b=A),(A=l.scale)!==K$&&(o=A),(A=l.quaternion)!==K$?Z=A:(A=l.euler)!==K$&&(Z=f.eulerArrayToQuaternionArray(A,uB.sharedQuaternionArray))),(A=p.matrixWorld)||(A=p.matrixWorld=new T$),p.transformData);l&&c?XL(A,c,b||p.position,Z||p.quaternion,o||p.scale):A.composeFromArray(b||p.position,Z||p.quaternion,o||p.scale),E&&(A.premultiply(E.matrixWorld),W&&E.isBone&&(l=S._boneViewMatrices,E.matrixWorld.getPosition(B),B.applyMatrix4(j),A.getPosition(n),n.applyMatrix4(j),D=2*B.distanceTo(n),k.lookAt(n,B).setPosition(n.set(0,0,0)).scale(n.set(D,D,D)).setPosition(B),l.push.apply(l,k.getElements()))),$[V]=A,Y&&(Y[V]||(Y[V]=new T$)).multiplyMatrices(j,A),p.skeleton&&(p.skeleton._tempMatrixInverse=m.copy(A).invert().toArray())},null,"comps"),W&&(f.releaseVector3(B),f.releaseVector3(n),f.releaseMatrix4(k),f.releaseMatrix4(j)),f.releaseMatrix4(m),l)for(var t,K,r,H,M=S._updatedSkeletonDatas,F=0,X=e.length;F<X;F++){var G,T,g,L,x=(L=(g=e[F]).skeleton.bones).length;for((t=M[(r=(r=g._skeletonId)?r:g._skeletonId=rH.next())+"|"+c])||(G=Math.sqrt(4*x),(T=f.nearestPOT(G))<G&&(T<<=1),T=Math.max(T,4),t=M[r+"|"+c]=KH.request(T*T*4)),K=g.skeleton.boneMatrixInverses,H=0;H<x;H++)T$.multiplyMatrixArray(t,$[L[H]],K,16*H,0,16*H);t.bindMatrixInverse=g.skeleton._tempMatrixInverse,delete g.skeleton._tempMatrixInverse}}}}),{cullFace:!1,flipSide:!1,transparent:!1,uvRotation:0,uvScale:[1,1],uvOffset:[0,0],uvAnchor:[0,0]}),Bl=function(p,E){if(p=MH(this,p),E===K$||!p)return p;var b=p[E];return b===K$&&(E in HH?b=p$(HH[E]):(p=FH[p.type])&&(b=p$(p[E]))),b},b=function(p,E,b){var Z,o,A=MH(this,p);if(A){if(F$(E))Z=A[E],o=A[E]=b;else if(P1(E)){for(var l in Z={},E)Z[l]=A[l],A[l]=E[l];o=E}this.fp("material",r$,{material:A,materialName:p,property:E,oldValue:Z,newValue:o})}},MH=function(p,E){if(P1(E))return E;var b,Z,o=F$(E),A=o&&/.*\.material/.test(E);return(b=(b=A?p.s(E):b)||(o&&(Z=p.s("matDef"))?Z[E]:b))||(p=p.s("shape3d"),(p=F$(p)?H$.getShape3dModel(p):p)&&p.model3d&&(o||(b=p.mat),(Z=p.matDef)&&(!b&&o?b=Z[E]:F$(b)&&b in Z&&(b=Z[b])))),b||!o||A?b&&F$(b)&&(b=H$.getMaterial(b)):b=H$.getMaterial(E),b},FH=(E(sm,{getMaterials:(jH={},["all","left","right","top","bottom","front","back"].forEach(function(p){jH[p+".material"]=1}),WH={"shape3d.material":1},["top","bottom","from","to"].forEach(function(p){WH["shape3d."+p+".material"]=1}),mH=[],function(){var p,E=[],b={},Z={},o=this.getStyle("matDef");if(o)for(p in o)o[p]&&(Z[p]=1,uN(o[p],E,b));var A,l=this.getStyle("shape3d");if(l?F$(l)&&!(l=H$.getShape3dModelFromMemory(l))&&(A=WH):A=jH,P1(l))!l.model3d&&l.json&&"obj"===l.json.modelType?uN(this.getStyle("shape3d.material"),E,b):function Z(p,o,A,l){H$.traverse(p,function(p){mH.push(l),l=p$(l);var E,b=p.matDef;if(b)for(E in b)!l[E]&&b[E]&&(l[E]=1,uN(b[E],o,A));!(E=p.mat)||!P1(E)&&l[E]||uN(E,o,A),p.model&&(p=H$.getShape3dModelFromMemory(p.model))&&Z(p,o,A,l)},function(){l=mH.pop()},"comps")}(l,E,b,Z);else if(A)for(var V in A)p=this.getStyle(V),uN(p,E,b);var c=H$.getMaterialMap();for(p in b)(p=c[p])&&E.push(p);return E})}),E(YP,{getMaterial:Bl,setMaterial:b}),E(XP,{getMaterial:Bl,setMaterial:b}),{}),XH=(E(FH,{pbr:{diffuse:[1,1,1],emissive:[0,0,0],roughness:1,metalness:0,opacity:1,transparent:!1,cullFace:!1,map:null,alphaMap:null,alphaChannel:"A",alphaTest:0,roughnessMap:null,roughnessChannel:"R",metalnessMap:null,metalnessChannel:"G",emissiveMap:null,aoMap:null,aoMapIntensity:1,aoChannel:"B",aoUvChannel:1,normalMap:null,normalScale:[1,1],lightMap:null,lightMapIntensity:1,envMap:null,envMapIntensity:1,displacementMap:null,displacementScale:1,displacementBias:0,rimColor:[0,0,0],rimPower:0,fresnelIntensity:1,enableTransmission:!1,transmission:1,thickness:0,ior:1.5,specularIntensity:1,specularColor:[1,1,1]},phong:{diffuse:[1,1,1],emissive:[0,0,0],specular:[17/255,17/255,17/255],shininess:30,opacity:1,transparent:!1,cullFace:!1,map:null,alphaMap:null,alphaChannel:"A",alphaTest:0,specularMap:null,emissiveMap:null,aoMap:null,aoMapIntensity:1,aoChannel:"B",aoUvChannel:1,normalMap:null,normalScale:[1,1],lightMap:null,lightMapIntensity:1,envMap:null,envMapCombine:"add",envMapIntensity:1,refractionRatio:.98,displacementMap:null,displacementScale:1,displacementBias:0,fresnelIntensity:1},litePhong:{diffuse:[1,1,1],emissive:[0,0,0],map:null,opacity:1,alphaTest:.4,transparent:!1,useLighting:!0,roughness:0,completeHandler:function(){this.uTexture=!!this.map}}},!0),{}),GH={aoMap:["aoMapIntensity"],normalMap:["normalScale"],lightMap:["lightMapIntensity"],displacementMap:["displacementScale","displacementBias"],enableTransmission:["transmission","thickness","ior","specularIntensity","specularColor"]};for(eH in FH){var TH,gH,LH=[],xH=[],CH=FH[eH],hH={},PH=[];for(gH in CH)"envMap"!==gH&&"envMapIntensity"!==gH&&gH.indexOf("Channel")!==gH.length-7&&"enableTransmission"!==gH&&"envMapCombine"!==gH&&("map"===gH||gH.indexOf("Map")===gH.length-3?(TH=GH[gH])&&TH.length?(LH.push(gH,TH.length),TH.forEach(function(p){hH[p]=!0,LH.push(p,CH[p])})):LH.push(gH,0):(TH=GH[gH])&&TH.length?(hH[gH]=!0,xH.push(gH,TH.length),TH.forEach(function(p){hH[p]=!0,xH.push(p,CH[p])})):PH.push(gH));LH.push(-1),(LH=LH.concat(xH)).push(-2),PH.forEach(function(p){hH[p]||LH.push(p,CH[p])}),XH[eH]=LH}u.Default.getMaterialDefaultStyle=function(){return FH};var yH,aH,JH,dH,UH,NH,OH,zH,_H,vH,QH,qH,uH,RH,sH,wH,iH,fH,ph,Eh,bh,Zh,oh,Ah,lh,Vh,ch,Sh,Ih,Dh,Bh,nh,kh=u.graph3d.PostProcessing=function(B){var n,A,k=this,j={},W=!1,m=!1,S={model3d:!0,mesh:{is:[0,2,1,1,2,3],pos:new Of([0,0,1,0,0,1,1,1])},mat:null},e={type:"blitScreen"},$={type:"fxaa"},Y=(A=H$.Graph3dViewStateBindings,t$.keys(kh).forEach(function(Z){var p=j[Z]=new kh[Z](B),o=zB(Z);(p.resetProperties=function(){var p,E=this.serializeProperties;for(p in A[o]={getter:function(p){return p.getPostProcessingValue(Z,"enable")},setter:function(p,E){p.setPostProcessingValue(Z,"enable",E)}},E)this[p]=E[p],function(b){A[o+_B(b)]={getter:function(p){return p.getPostProcessingValue(Z,b)},setter:function(p,E){p.setPostProcessingValue(Z,b,E)}}}(p)}.bind(p))()}),k.getModule=function(p){return p?j[p]:k},k.getModuleList=function(){return t$.keys(j)},k.resetModules=function(){for(var p in j)j[p].resetProperties()},k._serializable=!0,k.handleDataModelChange=function(p,E){p&&(k._serializable&&p.setPostProcessingData(k.serialize()),p.removeSerializeListener(k.onDataModelSerialize,k)),E&&(E.addSerializeListener(k.onDataModelSerialize,k),k.deserialize(E))},k.onDataModelSerialize=function(p){"serialize"===p.type?k._serializable&&(B.dm()._postProcessingData=k.serialize()):"deserialize"===p.type&&k.deserialize(B.dm())},k.isDeserializeDisabled=function(p){return!k._serializable||p.a("sceneBloom")!==K$},k.isSerializable=function(){return k._serializable},k.setSerializable=function(p){(k._serializable=p)||B.dm().setPostProcessingData(K$)},k.serialize=function(){var p,E,b,Z,o={};for(E in j)if(Z=(b=j[E]).serializeProperties){for(var A in p={},b.enable&&(p.enable=!0),Z){var l=b[A];l!=Z[A]&&(p[A]=l)}t$.keys(p).length&&(o[E.toLowerCase()]=p)}return o},k.deserialize=function(p){var E,b,Z={},o={};for(E in j){var A,l,V=(A=j[E]).deserializeProperties||A.serializeProperties,c={},S="scene"+E;for(l in(I=p.a(S))!==K$&&(c.enable=I),V)(I=p.a(S+l[0].toUpperCase()+l.slice(1)))!==K$&&I!==V[l]&&(c[l]=I);s1(c)||(o[E[0].toLowerCase()+E.slice(1)]=c)}if(o=s1(o)?p.getPostProcessingData():o)for(b in o)if(b&&(E=b[0].toUpperCase()+b.slice(1),A=j[E])){Z[E]=!0;var I,D=!!(V=o[b]).enable;for(l in k.enableModule(E,D),p.a(E="scene"+E,D),A.resetProperties(),V)"enable"!==l&&(I=V[l],A[l]=I,p.a(E+l[0].toUpperCase()+l.slice(1),I))}for(E in j)Z[E]||((A=j[E]).enable=!1,A.resetProperties())},k.getRenderTarget=function(){return n},null),t=(k.getLastFrameFinalRenderTarget=function(){return Y},k.blitScreen=function(p,E,b,Z,o){var A,l,V=B.getGL();if(null==p)Z=E,o=b;else{var c=p instanceof an;if(c){if(E&&(E.type||E.model3d)&&(Z=E,o=b,b=E=null),0==E||0==b)return;E&&b&&p.setSize(V,E,b),p.bind(V),o&&o.viewport?B.setViewport(V,o.viewport[0],o.viewport[1],o.viewport[2],o.viewport[3]):B.setViewport(V,0,0,p.width,p.height)}else Z=p,o=E}o&&!1===o.clear||V.clear(16640),o&&(o.preRender&&o.preRender(V),A=o.data,l=o.matrix),Z&&Z.model3d?B._prefabRenderer.render(V,Z,A,l):(S.mat=Z||e,B._prefabRenderer.render(V,S,A,l)),o&&o.postRender&&o.postRender(V),c&&p.unbind(V)},k.enableModule=function(p,E){for(var b,Z=p.split(","),o=0,A=Z.length;o<A;o++)b=Z[o].trim(),j[b]&&(j[b].enable=E);for(b in W=!1,j)if(j[b].enable){W=!0;break}},k.isEnabled=function(){return W},k.dispose=function(){for(var p in m=!1,zj(B,n),n=null,j)j[p].dispose&&j[p].dispose()},!(k.resetBlendState=function(p){g$.for(p).glState.blend.apply({enabled:!0,equation:32774,func:[770,771,1,771]})}));k.isRenderingScene=function(){return t},k.render=function(p,E,b,Z,o){if((W||o)&&(m||function(){var p;if(!m)return p=B.getGL(),p&&(n=new R.RenderTarget(B,p,null,null,{samples:L$.renderTextureSamples||1,minFilter:9729,magFilter:9729,depthFormat:B.isWebGL2()?36012:null}),m=!0)}())){n.setSize(p,E,b),t=!0,n.bind(p);(o=Nj(p,!0))&&0===o[0]&&0===o[1]&&0===o[2]&&0===o[3]?o=null:Oj(p,[0,0,0,0]),p.clear(16640),B.setViewport(p,0,0,E,b);var A=!1!==(Z=Z||{}).renderAxis,l=!1!==Z.renderEdit;Z.renderAxis=Z.renderEdit=!1,B.renderScene(Z),t=!1,n.unbind(p);for(var V,c=0,S=B._glCapabilities.maxAttributes;c<S;c++)p.disableVertexAttribArray(c);var I=n;for(V in j)I=j[V]._42(p,I)||I;Y=I,Z.renderTarget&&Z.renderTarget.bind(p),B.setViewport(p,0,0,E,b),o&&Oj(p,o);var o=k.getModule("Fxaa"),D=B._attributes&&!1===B._attributes.autoClear?{clear:!1}:null;return k.resetBlendState(p),o&&o.enable?($.resolution=[1/E,1/b],$.image=I.texture,k.blitScreen($,D)):(e.image=I.texture,k.blitScreen(e,D)),(o=k.getModule("Bloom")).blendAtFinal&&o.composeFinalBloom(p),p.useProgram(B._prg),B._renderAxisAndEditHelper(A,l)||(E=B.getGLState())&&(E.depth.enabled=!1,E.blend.enabled=!1),Z.renderTarget&&Z.renderTarget.unbind(p),!0}}},jh=(u.graph3d.PostProcessing.HueSaturation=function(Z){var o,A=!1,l=!1,V={type:"hueSaturation"},c=[],S=[],I=[];this.serializeProperties={hue:[0,0,0,0,0,0,0],saturation:[0,0,0,0,0,0,0],lightness:[0,0,0,0,0,0,0]},t$.defineProperties(this,{enable:{get:function(){return A},set:function(p){!!A!=!!p&&(A=p,Z.iv())}},hue:{get:function(){return c.map(function(p){return z$(180*p)})},set:function(p){if(c!==p&&7===p.length){for(var E=0;E<7;E++)c[E]=p[E]/180;Z.iv()}}},saturation:{get:function(){return S.map(function(p){return z$(100*p)})},set:function(p){if(S!==p&&7===p.length){for(var E=0;E<7;E++)S[E]=p[E]/100;Z.iv()}}},lightness:{get:function(){return I.map(function(p){return z$(100*p)})},set:function(p){if(I!==p&&7===p.length){for(var E=0;E<7;E++)I[E]=p[E]/100;Z.iv()}}}}),this.dispose=function(){l=!1,zj(Z,o),o=null},this._42=function(p,E){var b;if(A&&(l||(b=Z.getGL())&&(o=new R.RenderTarget(Z,b),l=!0)))return V.image=E.texture,V.hue=c,V.saturation=S,V.lightness=I,Z._postProcessing.blitScreen(o,E.width,E.height,V),o}},u.graph3d.PostProcessing.Bloom=function(S){var I,D,B,E,n,k,j,W,m,e=this,$=!1,Y=!1,t=(this.serializeProperties={strength:1.5,smoothWidth:.01,threshold:.55,radius:.4,overrideAlpha:!0,blendAtFinal:!1,selective:!1},t$.defineProperties(e,{enable:{get:function(){return $},set:function(p){!!$!=!!p&&($=p,S.iv())}},strength:{get:function(){return I},set:function(p){I!==p&&(I=p,S.iv())}},smoothWidth:{get:function(){return j},set:function(p){j!==p&&(j=p,S.iv())}},threshold:{get:function(){return D},set:function(p){D!==p&&(D=p,S.iv())}},radius:{get:function(){return B},set:function(p){B!==p&&(B=p,S.iv())}},overrideAlpha:{get:function(){return E},set:function(p){!!E!=!!p&&(E=p,Y&&F(),S.iv())}},blendAtFinal:{get:function(){return k},set:function(p){!!k!=!!p&&(k=!!p,S.iv())}},selective:{get:function(){return n},set:function(p){!!n!=!!p&&(n=!!p,S.iv())}}}),[256,256]),K=[],r=[],H=5,b=[3,5,7,9,11],M=[];function F(){for(var p=0;p<H;p++)M[p]={type:"bloomBlur",defines:{KERNEL_RADIUS:b[p],SIGMA:b[p],OVERRIDE_ALPHA:!!E},internalDefines:!1}}e.dispose=function(){Y=!1,zj(S,W,m,K,r),W=m=K=r=null},e.composeFinalBloom=function(p,E){var b,Z,o;$&&Y&&(b=S._postProcessing,Z=g$.for(p).directState(),o=Z.depth.enabled,b.blitScreen(E,{type:"blitScreen",image:K[0].texture},{clear:!1,preRender:function(p){o&&(Z.depth.enabled=!1),g$.for(p).glState.blend.apply({enabled:!0,equation:32774,func:[770,1]})},postRender:function(p){b.resetBlendState(p),o&&(Z.depth.enabled=!0)}}))},e._42=function(p,E){if($&&(Y||function(){var p=S.getWidth(),E=S.getHeight();if(p&&E){var b=S.getGL();if(b){t=[p,E];var Z,o=Math.round(t[0]/2),A=Math.round(t[1]/2);for(m=new R.RenderTarget(S,b,o,A),K=[],r=[],Z=0;Z<H;Z++)K.push(new R.RenderTarget(S,b,o,A)),r.push(new R.RenderTarget(S,b,o,A)),o=Math.round(o/2),A=Math.round(A/2);return F(),Y=!0}}}())){var b,Z=S._postProcessing;n&&((W=W||new R.RenderTarget(S,p)).setSize(p,E.width,E.height),W.bind(p),(b=Nj(p,!0))&&0===b[0]&&0===b[1]&&0===b[2]&&1===b[3]?b=null:Oj(p,[0,0,0,1]),p.clear(16640),S.setViewport(p,0,0,E.width,E.height),p._blooming=!0,S.syncRenderState(),S.renderScene({renderAxis:!1,renderGrid:!1,renderEdit:!1}),p._blooming=!1,b&&Oj(p,b),W.unbind(p)),Z.blitScreen(m,{type:"bloomHighPass",smoothWidth:j,luminosityThreshold:D,tDiffuse:(n?W:E).texture});for(var o,A=m,l=Math.round(t[0]/2),V=Math.round(t[1]/2),c=0;c<H;c++)(o=M[c]).texSize=[l,V],o.colorTexture=A.texture,o.direction=[1,0],Z.blitScreen(K[c],o),o.colorTexture=K[c].texture,o.direction=[0,1],Z.blitScreen(r[c],o),l=Math.round(l/2),V=Math.round(V/2),A=r[c];return Z.blitScreen(K[0],{type:"bloomComposite",blurTexture1:r[0].texture,blurTexture2:r[1].texture,blurTexture3:r[2].texture,blurTexture4:r[3].texture,blurTexture5:r[4].texture,bloomStrength:I,bloomRadius:B,bloomTintColor:[1,1,1]}),k||e.composeFinalBloom(p,E),E}}},u.graph3d.PostProcessing.Dof=function(S){var A,I,E,b,Z,D,B,l,n,V,c,k,j,W=!1,m=!1,e=0,$=!1,Y=f.generateUUID();this.serializeProperties={useDepth:!1,aperture:.025,maxblur:1,overrideAlpha:!0,image:null,focus:1e3,range:100,density:10,densityInverse:.1},t$.defineProperties(this,{enable:{get:function(){return W},set:function(p){!!W!=!!p&&((W=p)||($=!1),S.iv())}},image:{get:function(){return E},set:function(p){E!==p&&(E=p,$=!1,I&&(S.deleteTexture(Y),I=null),S.iv())}},maxblur:{get:function(){return b},set:function(p){b!==p&&(b=p,S.iv())}},overrideAlpha:{get:function(){return l},set:function(p){!!l!=!!p&&(l=p,S.iv())}},aperture:{get:function(){return Z},set:function(p){Z!==p&&(Z=p,S.iv())}},useDepth:{get:function(){return!!V},set:function(p){!!V!=!!p&&((V=p)?S.enableDepthGrabber("sceneDof"):S.disableDepthGrabber("sceneDof"),I&&(p&&S.deleteTexture(Y),I=null),S.iv())}},focus:{get:function(){return c},set:function(p){c!==p&&(c=p,S.iv())}},range:{get:function(){return k},set:function(p){k!==p&&(k=p,S.iv())}},density:{get:function(){return j},set:function(p){j!==p&&(j=p,S.iv())}},densityInverse:{get:function(){return f.safeInvert(j)},set:function(p){p=f.safeInvert(p),j!==p&&(j=p,S.iv())}}}),this.dispose=function(){m=!1,I&&(S.deleteTexture(Y),I=null),zj(S,A),A=null},this.setImageFromGraphView=function(p,E,b){this.image=null,function p(E,b,Z,o){n=null;var A=E.getCanvas(),l=A.width,V=A.height,c=(((Z=Z||1024)<l||Z<V)&&(c=Z/Math.max(l,V),l=Math.round(l*c),V=Math.round(V*c),D=D||kW(),A=H$.resizeImage(A,l,V,D)),S.getGL());B=B||c.createTexture(),I=xj(S,c,A,B),e=b||.01,$=!0,S.iv(),o--&&(n=n||H$.callLater(function(){p(E,b,Z,o)}))}(p,E,b,2)},this._42=function(p,E){if(W&&(m||(b=S.getGL())&&(A=new R.RenderTarget(S,b),m=!0))){var b=E.width,Z=E.height;if(b&&Z){if(V)I=S.grabDepth();else if(!I){var o=Q(this.image);if(!o||!o.comps&&!o.tagName)return E;u.Default.setImage(Y,o),I=S.getTexture(Y)}return o={OVERRIDE_ALPHA:!!l},E={type:"bokeh",tColor:E.texture,tDepth:I,aspect:b/Z,maxblur:this.maxblur,defines:o},V?(o.USE_DEPTH=!0,S.isOrtho()&&(o.USE_ORTHO_CAMERA=!0),S.isFloatDepthTexture(I)&&(o.USE_FLOAT_TEXTURE=!0),t$.assign(E,{near:S.getNear(),far:S.getFar(),focus:c,range:k,density:j})):t$.assign(E,{aperture:this.aperture,useG2d:$,threshold:e}),S._postProcessing.blitScreen(A,b,Z,E),A}}}},u.graph3d.PostProcessing.Lut=function(k){function j(p,E){return Y&&Y[p]?(p=Y[p].texture,!E||(p=k.getTexture(p))&&p.width?p:null):null}function W(p){return Y&&Y[p]&&(p=Y[p].intensity)!==K$?p:1}function E(){var p=!(!b.enable||!Z);o!==p&&((o=p)?k.addRenderLayerListener(A,b,k._depthGrabber.renderLayerPriority-10):k.removeRenderLayerListener(A,b))}var m,b=this,e=!1,$=!1,Y=K$,Z=!1,o=(this.serializeProperties={passes:K$,mainOnly:!1},this.deserializeProperties=t$.assign({},this.serializeProperties,{texture:null,intensity:1}),!1),A=function(p){"main"===p.layer&&"post"===p.phase&&!k._picking&&k.getPostProcessing().isRenderingScene()&&(p=k.getPostProcessing().getRenderTarget())&&p.isBinding(k.getGL())&&b.drawImpl(k.getGL(),k.getPostProcessing().getRenderTarget(),!0)};t$.defineProperties(b,{enable:{get:function(){return e},set:function(p){!!e!=!!p&&(e=p,E(),k.iv())}},texture:{get:function(){return j(0)},set:function(p){(Y=Y||[])[0]=Y[0]||{},Y[0].texture=p,k.iv()}},intensity:{get:function(){return W(0)},set:function(p){(Y=Y||[])[0]=Y[0]||{},Y[0].intensity=p,k.iv()}},passes:{get:function(){return Y},set:function(p){Y=p,k.iv()}},mainOnly:{get:function(){return Z},set:function(p){Z=p,E(),k.iv()}}}),b.dispose=function(){$=!1,zj(k,m),m=null},b._42=function(p,E){return Z?E:b.drawImpl(p,E)},b.drawImpl=function(p,E,b){if(e&&Y&&Y.length){for(var Z=!1,o=0;o<Y.length;o++)if(0!==W(o)&&j(o,!0)){Z=!0;break}if(Z&&($||(c=k.getGL())&&(m=new R.RenderTarget(k,c),$=!0))){b&&(l=(A=k.getGLState()).depth.enabled,V=A.depth.mask,A.depth.enabled=!1,A.depth.mask=!1,E.unbind(p));for(var A,l,V,c,S=E,I=m,D=k._postProcessing,o=0;o<Y.length;o++){var B,n=W(o);0!==n&&(B=j(o,!0))&&(D.blitScreen(I,S.width,S.height,{type:"lut",tDiffuse:S.texture,intensity:n,lutSize:B.width,lut:B}),n=S,S=I,I=n)}return b&&(S!==E&&(c=E.getSize(),D.blitScreen(E,c[0],c[1],{type:"blitScreen",image:S.texture}),S=E),S.bind(p),A.depth.enabled=l,A.depth.mask=V),S}}}},u.graph3d.PostProcessing.Custom=function(V){function E(p,E){return(p.priority||0)-(E.priority||0)}var c,S,I=!1,D=!1;this.serializeProperties={materials:[]},t$.defineProperties(this,{enable:{get:function(){return I},set:function(p){!!I!=!!p&&(I=p,V.iv())}},materials:{get:function(){return S},set:function(p){(S=p)&&S.sort(E),V.iv()}}}),this.dispose=function(){D=!1,zj(V,c),c=null},this._42=function(p,E){if(I&&S&&S.length&&(D||(b=V.getGL())&&(c=new R.RenderTarget(V,b),D=!0))){for(var b,Z,o=E,A=c,l=0;l<S.length;l++)(Z=S[l]).image=o.texture,V._postProcessing.blitScreen(A,o.width,o.height,Z),delete Z.image,Z=o,o=A,A=Z;return o}}},u.graph3d.PostProcessing.Ssao=function(g){function b(){var p=!!(d.enable&&d.mainOpaqueOnly&&g.isWebGL2());o!==p&&((o=p)?g.addRenderLayerListener(E,d,g._depthGrabber.renderLayerPriority-100):g.removeRenderLayerListener(E,d))}function E(p){"main"===p.layer&&"opaque"===p.phase&&!g._picking&&g.getPostProcessing().isRenderingScene()&&(p=g.getPostProcessing().getRenderTarget())&&p.isBinding(g.getGL())&&(p=g.getPostProcessing().getRenderTarget().grabDepth(),d.drawImpl(g.getGL(),p,g.getPostProcessing().getRenderTarget(),!0))}var L,x,C,p,h,P,y,a,J,d=this,U=!1,N=!1,Z=this.serializeProperties={aoRadius:5,distanceFalloff:1,screenSpaceRadius:!1,quality:"high",aoSamples:16,denoiseSamples:8,denoiseRadius:12,denoiseIterations:2,intensity:5,mainOpaqueOnly:!0,renderMode:"combined",colorMultiply:!0},o=!(this.resetProperties=function(){for(var p in Z)this[p]=Z[p]});for(p in t$.defineProperties(d,{enable:{get:function(){return U},set:function(p){!!U!=!!p&&((U=p)?g.enableDepthGrabber("sceneSsao"):g.disableDepthGrabber("sceneSsao"),b(),g.iv())}}}),Z)!function(E){t$.defineProperty(d,E,{get:function(){return d["_"+E]},set:function(p){d["_"+E]!==p&&(d["_"+E]=p,"mainOpaqueOnly"===E&&b(),g.iv())}})}(p);this.resetProperties(),d.dispose=function(){N=!1,zj(g,L,x,C),L=x=C=null};var O=new v,z={performance:[8,4,12],low:[16,4,12],medium:[16,8,12],high:[64,8,6],ultra:[64,16,6]};d._42=function(p,E){return d.mainOpaqueOnly?E:d.drawImpl(p,null,E)},d.drawImpl=function(p,E,b,Z){if(U&&g.isWebGL2()&&(E=E||g.grabDepth(),g.isFloatDepthTexture(E)&&(N||(V=g.getWidth(),c=g.getHeight(),V&&c&&((V=g.getGL())&&(L=new R.RenderTarget(g,V),x=new R.RenderTarget(g,V),c=Uint8Array.from(atob(jh),function(p){return p.charCodeAt(0)}),C=g.createTexture({data:c,width:128,height:128,filter:9728,wrap:10497}),N=!0)))))){Z&&((o=g.getGLState()).depth.enabled=!1,o.depth.mask=!1);var o,A=(V=b.getSize())[0],l=V[1],V=g.getNear(),c=g.getFar(),S=g.getPostProcessing();Y=d.quality;var I=(Y=z[Y]||[d.aoSamples,d.denoiseSamples,d.denoiseRadius])[0],D=Y[1],B=Y[2],n=I;if(P!==n){P=n,h=[];for(var k=0,j=Math.sqrt(n);k<n;k++){var W=2.399963*k,m=(e=Math.sqrt(k+.5)/j)*Math.cos(W),e=e*Math.sin(W),W=Math.sqrt(1-(m*m+e*e));h.push([m,e,W])}}var $={type:"ssao",sceneDepth:E,sceneNormal:null,projMat:g._projectMatrix,viewMat:g._viewMatrix,projViewMat:g._projScreenMatrix,projectionMatrixInv:$j(Rf(g._projectMatrix)),viewMatrixInv:$j(Rf(g._viewMatrix)),cameraPos:g.getEye(),resolution:[A,l],time:performance.now()/1e3,samples:h,blueNoise:C,distanceFalloff:d.distanceFalloff,near:V,far:c,ortho:!!g.isOrtho(),screenSpaceRadius:d.screenSpaceRadius,frame:0,internalDefines:!1},Y=t$.assign({},$,{radius:d.aoRadius,defines:{EFFECT_SHADER:!0,SAMPLES:I,FSAMPLES:I+".0",LOGDEPTH:!1,HALFRES:!1}}),t=(S.blitScreen(L,A,l,Y),D),V=11;if(a!==t||J!==V){a=t,J=V;for(var K=2*Math.PI*V/t,r=V=1/t,H=(y=[],V),M=0,F=0;F<t;F++)y.push(O.set(Math.cos(M),Math.sin(M)).multiplyScalar(Math.pow(H,.75)).toArray()),H+=r,M+=K}for(var X=0;X<d.denoiseIterations;X++){var G=L,G=(L=x,x=G,t$.assign({},$,{tDiffuse:x.texture,radius:B,worldRadius:d.aoRadius,index:X,poissonDisk:y,defines:{POISSION_BLUR:!0,NUM_SAMPLES:D,LOGDEPTH:!1}}));S.blitScreen(L,A,l,G)}var T,c="ao"===(c=d.renderMode)?1:"split"===c?3:"splitAo"===c?4:0,I=Z?(b.unbind(p),S.blitScreen(x,A,l,{type:"blitScreen",image:b.texture}),T=x.texture,b):(T=b.texture,x),Y=t$.assign({},$,{sceneDiffuse:T,downsampledDepth:E,intensity:d.intensity,radius:d.aoRadius,gammaCorrection:!1,tDiffuse:L.texture,color:[0,0,0],colorMultiply:d.colorMultiply,fog:!1,renderMode:c,defines:{EFFECT_COMPOSITER:!0,LOGDEPTH:!1,HALFRES:!1}});return S.blitScreen(I,A,l,Y),Z&&(o.depth.enabled=!0,o.depth.mask=!0,b.bind(p)),I}var V,c}},"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"),Wh=(u.graph3d.PostProcessing.Blur=function(k){var j,W,m,e,$,o,A=this,l=!1,Y=!1,t={type:"blurDownSample"},K={type:"blurH"},r={type:"blurV"},E=(this.serializeProperties={value:0,downSample:!1,iterations:1,layer:"main"},t$.defineProperties(A,{enable:{get:function(){return l},set:function(p){!!l!=!!p&&((l=p)?k.addRenderLayerListener(E,this):k.removeRenderLayerListener(E,this),k.iv())}},downSample:{get:function(){return e},set:function(p){e!==p&&(e=p,k.iv())}},value:{get:function(){return m},set:function(p){m!==p&&(m=p,k.iv())}},iterations:{get:function(){return $},set:function(p){$!==p&&($=p,k.iv())}},layer:{get:function(){return o},set:function(p){o!==p&&(o=p,k.iv())}}}),function(p){if(l&&p.layer===o&&"post"===p.phase){var E=k.getGL();if(!k._picking&&!k.isReflecting(E)){(p=k._postProcessing.getRenderTarget()).unbind(E);for(var b=0,Z=k._glCapabilities.maxAttributes;b<Z;b++)E.disableVertexAttribArray(b);A.drawImpl(E,p),p.bind(E),E.useProgram(k._prg)}}});A._42=function(){},A.dispose=function(){Y=!1,zj(k,j,W),j=W=null},A.drawImpl=function(p,E,b,Z,o){if(Y||(S=k.getGL())&&(j=new R.RenderTarget(k,S),Y=!0)){var A,l=E?(A=E.width,E.height):(A=k._viewport[2],k._viewport[3]);if(A&&l){for(var V,c=k._postProcessing,S=("boolean"!=typeof Z&&(Z=e),b==r$&&(b=m),o==r$&&(o=$),o=Math.max(1,Math.round(o)),g$.for(p).glState.depth),I=S.enabled,D=(S.enabled=!1,Z?(b/=2,V=[A,l],A/=2,l/=2,W=W||new R.RenderTarget(k,p),t.image=E.texture,t.texelSize=[1/V[0],1/V[1]],c.blitScreen(W,A,l,t),E.setSize(p,A,l)):W&&W.setSize(0,0),j.setSize(p,A,l),[]),B=0;B<o;B++)D.push(b),b=Math.max(1,Math.floor(b/2));for(B=0;B<o;B++){var n=D[o-B-1];K.image=(Z&&0===B?W:E).texture,K.value=n/A,c.blitScreen(j,null,null,K),Z&&B===o-1&&E.setSize(p,V[0],V[1]),r.image=j.texture,r.value=n/l,c.blitScreen(E,null,null,r)}return S.enabled=I,E}}}},u.graph3d.PostProcessing.Glitch=function(V){var c,b,S,I,D,B,n,Z,k,j=!1,W=!1,m=f.randomFloat,e=f.randomInt,o=0,$={type:"glitch"};function Y(){if(k&&Z){S=Date.now(),b=1e3*m(Z[I=0],Z[1]),D=[];for(var p=1,E=k.length;p<E;p+=2)D.push((1<p?D[D.length-1]:0)+b*k[p]/o)}}function t(){V.redraw()}this.serializeProperties={onlyReflector:!1,period:[2,3],intensity:[3,.3,1,.1,0,.4]},t$.defineProperties(this,{enable:{get:function(){return j},set:function(p){!!j!=!!p&&((j=p)&&Y(),V.iv())}},onlyReflector:{get:function(){return n},set:function(p){!!n!=!!p&&(n=p,V.iv())}},period:{get:function(){return Z},set:function(p){Z=p,Y(),V.iv()}},intensity:{get:function(){return k},set:function(p){o=0;for(var E=1,b=(k=p=p||[1,1]).length;E<b;E+=2)o+=p[E];Y(),V.iv()}}}),this.dispose=function(){W=!1,zj(V,c),c=null},this._42=function(p,E){if(j&&(W||function(){var p=V.getGL();if(p){c=new R.RenderTarget(V,p);for(var E=n6(64,64),b=E.getImageData(0,0,64,64),Z=b.data,o=0;o<4096;o++)Z[3*o+0]=e(256),Z[3*o+1]=e(256),Z[3*o+2]=e(256),Z[3*o+3]=e(256);return E.putImageData(b,0,0),B=xj(V,p,D6),W=!0}}())&&!!V.isReflecting(p)==!!n){var b,Z,o,A=E.width,l=E.height;if(A&&l)return b=V._postProcessing,Z=(p=g$.for(p).glState.depth).enabled,p.enabled=!1,Date.now()-S>D[I]&&++I>=D.length&&Y(),o=k[2*I],$.seed=Math.random(),$.byp=o?0:1,$.tDisp=B,o&&($.angle=m(-Math.PI,Math.PI),$.distortion_x=m(0,1),$.distortion_y=m(0,1),$.amount=Math.random()/30*o,$.seed_x=m(-1,1)*o,$.seed_y=m(-1,1)*o),$.image=E.texture,b.blitScreen(c,A,l,$),p.enabled=Z,requestAnimationFrame(t),c}}},u.graph3d.PostProcessing.Fxaa=function(E){var b=!1;this.serializeProperties={},t$.defineProperties(this,{enable:{get:function(){return b},set:function(p){!!b!=!!p&&(b=p,E.iv())}}}),this._42=function(){}},u.Animation=u.animation={}),Z=(t$.assign(Wh,{makeTrack:function(p,E,b,Z){return new Gh(p,E,b,Z?Z.easings:K$,Z)},makeClip:function(p,E,b,Z){var o,E=p===K$?[]:p instanceof Gh?[p]:Array.isArray(p)?p:[Wh.makeTrack(p,E,b,Z)];return Z&&(o=Z.name),new Fh((o=o||"string"!=typeof p?o:p)||"clip",E)},play:function(p,E,b){return E=new Xh(E,p),b&&E.setAnimationPresets(b),E.play()},playMono:function(p,E,b,Z,o){return Wh.play(p,Wh.makeClip(E,b,Z,o),o)},stop:function(p){return!!(p=p instanceof Xh?p:mh.getAnimation(p))&&p.stop()}}),{playAnimation:(aH=["duration","type","name","default","additive","exclusive","phaseMatching"],function(p,E,b,Z,o){var A,l=this,V=(l._pendingAnimation&&delete l._pendingAnimation,!1);do{if(p){if(P1(p)){A=p,V=!0;break}}else if(!p&&!(p=l.getDefaultAnimationName()))break}while((A=l.getAnimation(p))&&(V=!0,0));if(!V&&y(l))return c=l.s(wx),F$(c)&&l1.test(c)&&(l._pendingAnimation={animationName:p,speed:E,start:b,loop:Z}),!1;var c=function(p,E){if(c=(yH=yH||new Map).get(p))return c;var b,Z,o=p.type||"entity",A="model3d"===o,l=p.easing!==K$?[p.easing]:p.easings,V=p.duration||1,c=new Fh(p.name),S=p.tracks;if(!S)for(var I in S=[],p)0<=aH.indexOf(I)||(b=Hm.findFinalRule(I,E))&&(Z=p[I],P1(Z)&&(Z.to||X$(Z.values))?((Z=t$.assign({name:I},Z)).to&&(Z.values=[b.getter(E),Z.to],delete Z.to),Z.easing?(Z.easings=[Z.easing],delete Z.easing):l!==K$&&(Z.easings=l),S.push(Z)):S.push({name:I,values:[b.getter(E),p[I]]}));if(!S.length)return!1;for(var D=0,B=S.length;D<B;D++){var n,k=S[D],j=k.name;if(0<j.indexOf("@"))n=j;else if(A){for(var W,m,e=j.length-1;0<=e;e--)if("."===j[e]){W=j.substr(e+1),m=j.substr(0,e);break}n="state@"+m+"."+W}else n="state@"+j;var $=k.times||[0,V],Y=k.type?{type:k.type}:K$,$=new Gh(n,$,k.values,k.easings,Y);c.addTrack($)}V&&(c.duration=V);var t=p.exclusive;return p.additive?c.setAdditive(!0):t===K$&&(t=!0),t&&(c.exclusive=t),p.phaseMatching!==K$&&(c.phaseMatching=p.phaseMatching),c.animationType=o,yH.set(p,c),c}(A,l);if(!c)return!1;var S=l,I="entity"===(I=c).animationType?S:"model3d"===I.animationType?S.getModel3dState():"image"===I.animationType?(I=I.uuid,S._imageStateUUID===I&&(D=S._imageStateSource)||(D=S._imageStateSource={animation:!0},S._imageStateUUID=I),"function"==typeof S.setImageState&&S.setImageState(D),D):void 0;if(!I)return!1;var D,B,n=new Xh(c,I,{onLoop:A.onLoop,onUpdate:A.onUpdate,onFinished:A.onFinished,onPause:A.onPause,onResume:A.onResume,onStart:A.onStart,onStop:A.onStop}),S=(n.stopWhenFinished=A.stopWhenFinished||!1,n.setAnimationPresets({speed:A.speed,shiftTime:A.start,loop:A.loop||Ch.Repeat}),n.play(E,b,Z,K$,o),l._lastAnimIteration=0,l.fp("animationStart",null,!0),n.id);return A.additive||(l._animationId=S,"model3d"===A.type&&(n.on("start",function(){l._lastModel3dAnimatable=n}),n.on("finished",function(){l.fp("animationFinished",null,!0)}),n.on("stop",function(){l._lastModel3dAnimatable===n&&(l._lastModel3dAnimatable=null)})),D=(D=l._animationNameIdMap)||(l._animationNameIdMap={}),(B="string"==typeof p?p:(B=p.name)||(p.name=f.generateUUID()))&&(D[B]=S)),S}),_getAnimationIdByName:function(p){if(!p)return this._animationId;var E=this._animationNameIdMap;return E?E["string"==typeof p?p:p.name]:K$},changeCurrentAnimationSpeed:function(p,E){return mh.changeAnimationInfo(this._getAnimationIdByName(E),"speed",p)},forwardAnimation:function(p,E){return this.invalidateView(),mh.changeAnimationInfo(this._getAnimationIdByName(E),"forwardTime",p)},backwardAnimation:function(p,E){return this.forwardAnimation(-p,E)},stopAnimation:function(p){return(p=this._getAnimationIdByName(p))&&mh.stop(p),p===this._animationId&&(this._animationId=K$),this._lastAnimIteration=0,delete this._pendingAnimation,this.fp("animationStop",null,!0),p},pauseAnimation:function(p){return!!mh.pause(this._getAnimationIdByName(p))&&(this.fp("animationPause",null,!0),!0)},resumeAnimation:function(p){return!!mh.resume(this._getAnimationIdByName(p))&&(this.fp("animationResume",null,!0),!0)},isAnimationPlaying:function(p){return mh.isPlaying(this._getAnimationIdByName(p))},isAnimationPaused:function(p){return mh.isPaused(this._getAnimationIdByName(p))},getAnimationNames:function(){return H$.getAnimationNameListFromAnimations(this.getAnimations())},getAnimation:function(p){return H$.getAnimationFromAnimations(this.getAnimations(),p)},getDefaultAnimationName:function(){return H$.getDefaultAnimationNameFromAnimations(this.getAnimations())},registerAnimation:function(p){this._animations=this._animations||[],this._animations.push(p)},getAnimations:function(){var p=this._animations;if(!y(this))return p;var E=H$.getShapeModelAnimations(this.s("shape3d")),b=H$.getImageAnimations(this._image),Z=p?p.length:0,o=E?E.length:0,A=b?b.length:0;return o||A?Z?(Z=p,o&&(Z=Z.concat(E)),A?Z.concat(b):Z):o?A?E.concat(b):E:b:p},getCurrentAnimationState:function(p){return mh.getAnimationInfo(this._animationId,p)}}),mh=(E(YP,Z),E(TY.GraphView,Z),E(R.Graph3dView,Z),E(sm,{isAnimationPlaying:P}),E(H$,{getShapeModelAnimations:function(p){var E,b;if(!p||!(E=wV(p))||!E.model3d)return null;if(b=E.animations){if(!b._typeProcessed){b._typeProcessed=!0;for(var Z=0,o=b.length;Z<o;Z++){var A=b[Z];"type"in A||(A.type="model3d")}}return b}return E.lod?H$.getShapeModelAnimations(E.lod.group[0]):E.model&&F$(E.model)?H$.getShapeModelAnimations(E.model):null},getImageAnimations:function(p){if(!p||!(p=Q(p)))return null;var E=p.animations;if(!E)return null;if(!E._typeProcessed){E._typeProcessed=!0;for(var b=0,Z=E.length;b<Z;b++){var o=E[b];"type"in o||(o.type="image")}}return E},getShapeModelAnimation:function(p,E){return H$.getAnimationFromAnimations(H$.getShapeModelAnimations(p),E)},getShapeModelAnimationNameList:function(p){return H$.getAnimationNameListFromAnimations(H$.getShapeModelAnimations(p))},getShapeModelDefaultAnimationName:function(p){return H$.getDefaultAnimationNameFromAnimations(H$.getShapeModelAnimations(p))},getAnimationFromAnimations:function(p,E){if(p)for(var b=0,Z=p.length;b<Z;b++)if(p[b].name===E)return p[b];return null},getAnimationNameListFromAnimations:function(p){if(!p)return null;for(var E=p.length,b=new Array(E),Z=0;Z<E;Z++)b[Z]=p[Z].name;return b},getDefaultAnimationNameFromAnimations:function(p){if(!p)return null;for(var E,b=0,Z=p.length;b<Z;b++){if(p[b].default)return p[b].name;!E&&0<=p[b].duration&&(E=p[b].name)}return E}}),Wh.Runtime=(dH=OB(),UH=!1,OH={},zH=[],vH=[],QH=_H=NH=0,qH=null,uH=function(){zH.length=0,vH.length=0},RH=function(p,E){var b,Z;for(b in++NH%1e3==0&&uH(),p)if(!(Z=p[b]).paused){var o=Z.speed,A=Z.time+E*o;if(Z.time=A,I=Z.interval){var l=Z._accumulatedDelta+=E;if(l<I)continue;I<(l=Z._accumulatedDelta=l-I)&&(Z._accumulatedDelta=l%I)}if((l=Z.delayUntil)!==K$){if(0<o&&A<l||o<0&&l<A)continue;A=Z.time=A-Math.sign(o)*Z.delay,Z.delayUntil=K$}var V,c,A,S,I=K$,D=Z.duration,B=Z.loop,n=!1,k=Z.loopDelay,j=(0===D?A=0:B===Ch.Once?o<0&&A<=Z.end||0<=o&&A>=Z.end?(A=Z.end,Z.iteration=1,n=!0):A=f.modToPositive(A,D):(j=D+k,c=k?(V=Z._iterationShift,Z._delayLayoutInv):(V=0,!1),(S=Math.abs(Math.floor((A+V)/j)-Z._startIteration))!==Z.iteration&&(Z.iteration=S,Z.iteration>=Z.loopMax?(S=Z.iteration=Z.loopMax,A=(o<0?Z._startIteration-S+1:Z._startIteration+S)*j-(c?-1:1)*k,n=!0):I="loop",B===Ch.PingPong&&(Z.direction=Z.baseDirection*(Z.iteration%2?-1:1))),B===Ch.PingPong?j<(A=f.modToPositive(A,2*j))?(A=2*D+k-A,c&&(A+=k)):c&&(A-=k):(A=f.modToPositive(A,j),c&&(A-=k))),n&&!Z.finishedFired&&(Z.finishedFired=!0,I="finished",(S=Z.animatable).stopWhenFinished&&(zH[_H++]=S)),f.roundFloat(A,5));(j<0||D<j)&&(j=B===Ch.PingPong?f.clamp(j,0,D):0<=o?D:0),Z.displayTime=j,j+=Z.shiftTime,sH(Z,j,E),I&&Z.animatable.enqueueEvent(I)}if(Eh(),lh(),_H){for(var W=0;W<_H;W++)zH[W].stop();_H=0}},sH=function(p,E,b){p.animatable.evaluate(E,b,p.weight)},ph=!(fH={}),bh=[],Zh=[],oh=function(p){var E,b=1===p?bh:Zh;return 0===b.length?(E=[Wh.makeTrack("weight",[0,1],[0,1])],2===p&&(p=Wh.makeTrack("speed",[0,1],[0,1]),E.push(p)),p=new Fh("fade",E),new Xh(p)):b.pop()},Ah=function(p){(1===p.clip.tracks.length?bh:Zh).push(p)},lh=function(){if(QH){for(var p=0;p<QH;p++){var E=vH[2*p],b=vH[2*p+1];E&&E.fireEvent(b)}QH=0}},{add:function(p,E,b,Z,o,A){E===K$&&(E=p.speed),Z===K$&&(Z=p.loop);var l,V,c,S,I,D,B=K$,n=(o===K$&&(o=b===K$?p.delay:0),b===K$&&(b=p.time),o&&(B=b+Math.sign(E)*o),dH.next()),k=p.interval,j=((!k||k<1/60+1e-5)&&(k=K$),p.clip),W=(j||p).duration,m=p.loopDelay||0,e=!1,$=0;return 0===b&&E<0?(e=!0,m&&($=W)):0<=E&&($=m),wN(Z={id:n,time:b,start:b,loop:Z,loopMax:p.loopMax||1/0,shiftTime:p.shiftTime||0,duration:W,animationName:(j||p).name,animatable:p,iteration:0,_iterationShift:$,_startIteration:Math.floor((b+$+1e-6*Math.sign(E))/(W+m)),paused:!1,displayTime:b,weight:p.weight,delay:o,delayUntil:B,loopDelay:m,_delayLayoutInv:e,interval:k,_accumulatedDelta:0},E),OH[n]=Z,UH||(UH=!0,H$.registerHeartbeat(RN,K$,sN)),j?($=0,p.isExclusive()&&((l=(l=(JH=JH||new Map).get(p.target))&&OH[l])&&(l.quitFunc&&l.quitFunc(),function(p,E){if(A){p=Math.abs(p.speed);if(!(p<.2)){var E=Math.abs(E.speed);if(!(E<.2))return E=E/p,!(Math.abs(E)<.01||100<Math.abs(E))}}}(l,Z)?$=A:wH(l.id)),JH.set(p.target,n)),iH(p,1),0<$&&(W=$,c=Z,b=(V=l).animatable.clip,o=c.animatable.clip,c.weight=0,b.phaseMatching&&o.phaseMatching?(D=[0,B=(V.duration-(V.displayTime||0))/Math.abs(V.speed),B+W],S=oh(2),I=oh(2),m=b.duration,e=o.duration,k=V.speed,E=c.speed,S.setTarget(V).replaceTrackTimeValueSequence([{times:D,values:[1,1,0]},{times:D,values:[k,k,m/e*E]}]),I.setTarget(c).replaceTrackTimeValueSequence([{times:D,values:[0,0,1]},{times:D,values:[1,e/m*k,E]}])):(S=oh(1),I=oh(1),D=[0,W],S.setTarget(V).replaceTrackTimeValueSequence([{times:D,values:[1,0]}]),I.setTarget(c).replaceTrackTimeValueSequence([{times:D,values:[0,1]}])),S.play(),I.play(),j=c.quitFunc=function(){delete c.quitFunc,S.stop(),I.stop(),S.clearEvents(),I.clearEvents(),Ah(S),Ah(I),wH(V.id)},I.once("finished",j))):p instanceof Kh&&p.increaseBindingCount(),n},remove:function(p){var E=OH[p];return!!E&&((E=E.animatable).clip?iH(E,-1):E instanceof Kh&&E.decreaseBindingCount(),delete OH[p],!0)},stop:wH=function(p){if(!(p=OH[p]))return!1;p.animatable.stop()},pause:function(p){return!!p&&(!(!(p=OH[p])||p.paused)&&(p.paused=!0))},resume:function(p){return!(!(p=OH[p])||!p.paused||(p.paused=!1))},isPlaying:function(p){return!!OH[p]},isRunning:function(p){return!!OH[p]&&!OH[p].paused},isPaused:function(p){return!!OH[p]&&OH[p].paused},changeAnimationInfo:function(p,E,b){return!(!(p=OH[p])||("speed"===E?(wN(p,b),0):"time"===E?(p.time=b+p.delay,0):"forwardTime"!==E||(p.time+=b,0)))},forceUpdateAnimation:function(p,E){return!!(p=OH[p])&&(RH({id:p},E||0),!0)},evaluateAnimationAndResolve:function(p,E,b){sH(p,E,b),Eh()},createBinding:function(p){var E=p.clip;if(E&&p.getRootTarget()){for(var b=p.target,Z=(qH=qH||new Map).get(b),o=(Z||qH.set(b,Z={}),E.tracks),A=0,l=o.length;A<l;A++){var V=o[A],c=V.getName();Z[c]||(Z[c]=new $h(b,c,V.getBindingInterpolation()))}return!0}},addPendingBinding:function(p){var E=p.id;fH[E]||(fH[E]=p,ph=!0)},getBinding:function(p){return qH.get(p)},getAnimation:function(p){return OH[p]},getAnimationMap:function(){return OH},getAnimationInfo:function(p,E){if(p===K$)return null;var b=OH[p];if(!b)return null;switch(E){case"time":return b.displayTime||0;case"name":return b.animationName;case"loop":return b.loop;case"speed":return b.speed;case"duration":return b.duration;case"direction":return b.direction;case"iteration":return b.iteration;default:return{time:b.displayTime||0,name:b.animationName,loop:b.loop,speed:b.speed,direction:b.direction,iteration:b.iteration,duration:b.duration}}},stopAll:function(){t$.keys(OH).forEach(function(p){OH[p].animatable.stop()})},addPendingEvent:function(p,E){vH[2*QH]=p,vH[2*QH+1]=E,QH++},addBindingCountRef:iH=function(p,E){for(var b=qH.get(p.target),Z=p.clip.tracks,o=0,A=Z.length;o<A;o++)b[Z[o].getName()].addRef(E);return!0},resolvePendingBindings:Eh=function(){if(ph){for(var p in fH)fH[p].resolve();ph=!(fH={})}}})),eh=OB(),$h=Wh.Binding=function(b,p,E){var Z;this.target=b,this.name=p,this.id=eh.next(),this._assignValueGetterSetter(),this.ref=0,this.receiveValue=this.addValue,this.interpolation=E,"euler"!==this.interpolation&&"quaternion"!==this.interpolation||(p=this.getValue(),Z=this.setValue,"quaternion"===this.interpolation?p&&p.isQuaternion&&(this.setValue=function(p){Z(new uB(p[0],p[1],p[2],p[3]))}):p&&p.isEuler?this.setValue=function(p){var E=b&&b.getRotationMode?Zq.ReverseOrder(b.getRotationMode()):K$;Z(f.quaternionArrayToEuler(p,E))}:this.setValue=function(p){var E=b&&b.getRotationMode?Zq.ReverseOrder(b.getRotationMode()):K$;Z(f.quaternionArrayToEulerArray(p,K$,E))}),this.initBlend()},Yh=[0,0,0,1],th=($h.prototype={constructor:$h,getValue:P,setValue:P,initBlend:function(){this.totalWeight=0,this.additiveWeight=0},initValue:function(p,E){if(E=E===K$||E,p){if("quaternion"===this.interpolation||"euler"===this.interpolation)return E&&(this.isArray=!0,this.assignMixFunc()),[0,0,0,1];if("color"===this.interpolation||"gradient"===this.interpolation)return E&&(this.isArray=!1,this.assignMixFunc()),[""];if(X$(p)){E&&(this.isArray=!0,this.assignMixFunc());for(var b=new p.constructor(p.length),Z=0;Z<p.length;Z++)b[Z]=0;return b}if(ArrayBuffer.isView(p))return E&&(this.isArray=!0,this.assignMixFunc()),new p.constructor(p.length)}return E&&(this.isArray=!1,this.assignMixFunc()),C1(p)?[0]:F$(p)?[""]:h1(p)?[!1]:[0]},addValueToBuffer:function(p,E,b){this.mixFunc(p,E,b)},assignMixFunc:function(){var p=this.interpolation,E=this.isArray;this.mixFunc="linear"===p?E?this.defaultMixArrayFunc:this.defaultMixFunc:"quaternion"===p||"euler"===p?this.quaternionMixArray:"color"!==p&&"gradient"!==p&&E?this.discreteMixArray:this.discreteMix},mixFunc:P,discreteMix:function(p,E,b){p[0]=E},discreteMixArray:function(p,E,b){var Z=E.length;p.length!==Z&&(p.length=Z);for(var o=0;o<Z;o++)p[o]=E[o]},defaultMixFunc:function(p,E,b){p[0]+=E*b},defaultMixArrayFunc:function(p,E,b){for(var Z=0,o=p.length;Z<o;Z++)p[Z]+=E[Z]*b},quaternionMixArray:function(p,E,b){uB.multiplyQuaternionsFlat(Yh,0,p,0,E,0),uB.slerpFlat(p,0,p,0,Yh,0,b)},addValue:function(p,E,b){E?(this.additiveWeight+=p,this.additiveBuffer||(this.additiveBuffer=this.initValue(b)),this.addValueToBuffer(this.additiveBuffer,b,p)):(this.totalWeight+=p,this.blendBuffer||(this.blendBuffer=this.initValue(b)),this.addValueToBuffer(this.blendBuffer,b,p)),mh.addPendingBinding(this)},_addInitialValueToFinalBuffer:function(p){var E;(E=this.initialValue)===K$&&((E=this.getValue())&&E.toArray&&(E=E.toArray()),"euler"===this.interpolation&&(E=f.eulerArrayToQuaternionArray(E)),this.initialValue=E),this.addValueToBuffer(p,E,1)},resolve:function(){var p,E=this.blendBuffer,b=this.additiveBuffer,Z=(p=this.finalBuffer)?this.pongBuffer:(p=this.finalBuffer=this.initValue(E||b,!1),this.pongBuffer=p$(p));E?this.addValueToBuffer(p,this.isArray?E:E[0],1/this.totalWeight):this._addInitialValueToFinalBuffer(p),b&&this.addValueToBuffer(p,this.isArray?b:b[0],1),this.applyFinalValueToTarget(p,Z,E,b)},setValueAndApplyImmediately:function(p,E,b){var Z;if(1===p&&!E)return(Z=this.isArray)===K$&&(this.finalBufferImmOri=this.initValue(b),Z=this.isArray),Z?(Z=(Z=this.finalBufferImmOri)||(this.finalBufferImmOri=this.initValue(b)),this.discreteMixArray(Z,b),void this.setValue(Z)):void this.setValue(b);var o=(Z=this.finalBufferImm)?this.pongBufferImm:(Z=this.finalBufferImm=this.initValue(b),this.pongBufferImm=p$(Z));E&&this._addInitialValueToFinalBuffer(Z),this.addValueToBuffer(Z,b,p),this.applyFinalValueToTarget(Z,o,null,null,!0)},applyFinalValueToTarget:function(p,E,b,Z,o){if(this.setValue(this.isArray?p:p[0]),p=o?(this.pongBufferImm=p,this.finalBufferImm=E):(this.pongBuffer=p,this.finalBuffer=E),this.initBlend(),"quaternion"===this.interpolation||"euler"===this.interpolation)return(A=p)&&(A[0]=A[1]=A[2]=0,A[3]=1),(A=b)&&(A[0]=A[1]=A[2]=0,A[3]=1),void((A=Z)&&(A[0]=A[1]=A[2]=0,A[3]=1));for(var A,l=0,V=p.length;l<V;l++)A=C1(p[l])?0:!!F$(p[l])&&"",p[l]=A,b&&(b[l]=A),Z&&(Z[l]=A)},addRef:function(p){return(p=this.ref=this.ref+p)<=1?(this.receiveValue=this.setValueAndApplyImmediately,p||delete this.initialValue):this.receiveValue=this.addValue,this},_assignValueGetterSetter:function(){var p,E,o,A=this.target,b=this.name;A&&b&&(p=X$(A),E=p?A[0]:A,(o=Hm.findFinalRule(b,E))&&(p?(this.getValue=function(){return o.getter.call(E,E)},this.setValue=function(p){for(var E=0,b=A.length;E<b;E++){var Z=A[E];o.setter.call(Z,Z,p)}}):(this.getValue=o.getter.bind(E,E),this.setValue=o.setter.bind(E,E))))}},$h._setTempBindingRule=function(p){var E;return(Vh=Vh||new Map).get(p)||(E=f.generateUUID(),Vh.set(p,E),y1(p)||p.setter||p.func?Hm.setBindingRule(E,p):console.error("setTempBindingRule need parameter is function or binding rule"),E)},Wh.Timer=u.Timer=function(p){this._init(p=p||{}),(this.autoPlay=!!p.autoPlay)&&this.play()}),Kh=(th.prototype={constructor:th,_init:function(p){var E=this.fps=p.fps||60,b=(this.interval=1/E,this.frames=p.frames);this.duration=b&&0<b?b/E:p.duration===K$?1:p.duration,delete this.frames,this.loop=p.loop||Ch.Default,this.loopMax=p.loopMax||1/0,this.delay=p.delay||0,this.loopDelay=p.loopDelay||0,this.stopWhenFinished=!0,this.speed=p.speed===K$?1:p.speed,this.name=p.name||"Timer",p.onLoop&&(this.onLoop=p.onLoop),p.onUpdate&&(this.onUpdate=p.onUpdate),p.onFinished&&(this.onFinished=p.onFinished),p.onPause&&(this.onPause=p.onPause),p.onResume&&(this.onResume=p.onResume),p.onStart&&(this.onStart=p.onStart),p.onStop&&(this.onStop=p.onStop),p.easing&&p.easing!==K$&&(this.easing=p.easing),this._events=K$,this.fireEvent=this.fireEventSingle},enqueueEvent:function(p){mh.addPendingEvent(this,p)},isPlaying:function(){var p=this.id;return p!==K$&&mh.isPlaying(p)},play:function(p,E,b,Z){return this.id!==K$&&this.stop(),this.id=mh.add(this,p,E,b,Z),this.fireEvent("start"),this},start:function(){return this.play.apply(this,arguments)},stop:function(){return this.id!==K$&&(mh.remove(this.id)&&this.fireEvent("stop"),delete this.id),this},shift:function(p){return this.duration+=p,this},scale:function(p){return this.duration*=p,this},scaleTo:function(p){return this.duration=p,this},setSpeed:function(p){return this.id!==K$&&mh.changeAnimationInfo(this.id,"speed",p),this},getTime:function(){return this.getCurrentState("time")},setTime:function(p){return this.id!==K$&&mh.changeAnimationInfo(this.id,"time",p),this},seek:function(p){return this.id!==K$&&0!==this.getSpeed()?mh.changeAnimationInfo(this.id,"time",p):this.play(0,p,Ch.Once,this.delay),this},getSpeed:function(){var p=this.getCurrentState("speed");return null!==p?p:this.speed||1},forwardTime:function(p){return this.id!==K$&&mh.changeAnimationInfo(this.id,"forwardTime",p),this},backwardTime:function(p){return this.forwardTime(-p)},getCurrentState:function(p){return mh.getAnimationInfo(this.id,p)},evaluate:function(){this.enqueueEvent("update")},flush:function(){return mh.forceUpdateAnimation(this.id),this},pause:function(){return mh.pause(this.id)&&this.fireEvent("pause"),this},resume:function(){return mh.resume(this.id)&&this.fireEvent("resume"),this},isRunning:function(){return mh.isRunning(this.id)},isPaused:function(){return mh.isPaused(this.id)},on:function(p,E){this._events||(this.fireEvent=this.fireEventListners,this._events={});var b=this._events[p];return b||(this._events[p]=b=[]),b.push(E),this},once:function(p,E){return E.once=!0,this.on(p,E)},off:function(p,E){var b=this._events;if(!b)return this;var Z=b[p];if(!Z)return this;for(var o=Z.length-1;0<=o;o--)Z[o]===E&&Z.splice(o,1);return this},clearEvents:function(){return this._events=K$,this.fireEvent=this.fireEventSingle,this},getEvents:function(){return this._events},_fireEventUsingKey:function(p,E){if(!this._events)return!1;var b,Z=this._events[E];if(!Z)return!1;for(var o=0;o<Z.length;o++){var A=Z[o],l=A.once;try{A(this,p)}catch(p){console.error("Animation event listener error "+E+": "+p.message||p),l=!0}l&&(b=b||[]).push(E,A)}if(b)for(o=0;o<b.length;o+=2)this.off(b[o],b[o+1]);return!0},fireEventSingle:(ch={start:"onStart",stop:"onStop",pause:"onPause",resume:"onResume",loop:"onLoop",update:"onUpdate",finished:"onFinished"},function(p){var E=this[ch[p]];if(E)try{E(this,p)}catch(E){console.error("Animation event key "+p+" error: "+E.message||E),delete this[ch[p]]}}),fireEventListners:function(p){this.fireEventSingle(p);var E=this._fireEventUsingKey(p,p),p=this._fireEventUsingKey(p,"*");return E||p},onStart:x,onStop:x,onLoop:x,onUpdate:x,onFinished:x,onPause:x,onResume:x},t$.defineProperties(th.prototype,{time:{get:function(){return this.isPlaying()?this.getCurrentState("time"):this._timeByTimeline||0},set:function(p){this.setTime(p)}},progress:{get:function(){var p=this.duration;if(0===p)return 0;var E=this.time;return p<=E?1:f.modToPositive(E/p,1)},set:function(p){this.setTime(p*this.duration)}},value:{get:function(){return this.easing!==K$?Dq(this.easing)(this.progress):this.progress},set:function(p){var E,b=this.easing;b===K$?this.progress=f1(p,0,1):(E=f.findRoot(b,0,1,p),1e-6<Math.abs(b(E)-p)&&console.warning("findRoot mismatch",b,E,p),this.progress=E)}},frame:{get:function(){var p=this.time;return(0<=this.getSpeed()?Math.floor:Math.ceil)(p*this.fps)},set:function(p){var p=p/this.fps,E=(0<=this.getSpeed()?Math.floor:Math.ceil)(p/this.duration);this.setTime(p+E*this.loopDelay)}},iteration:{get:function(){return this.getCurrentState("iteration")}}}),Wh.Timeline=u.Timeline=function(p){var E=this;th.call(E,p),E.on("stop",function(){E.deepDive(function(p){delete p._timeByTimeline})})}),rh=(Kh.prototype=t$.create(th.prototype),Kh.prototype.constructor=Kh,OB()),Hh=(t$.assign(Kh.prototype,{_init:function(p){th.prototype._init.call(this,p),this.name=p.name||"Timeline",this._childrenEntries=[],this._callbacks=[],this._callbackLength=0,p&&p.easing!==K$&&(this.easing=p.easing),p.frames===K$&&p.duration===K$&&(this.duration=0,this._autoCalculateDuration=!0)},add:function(p,E,b,Z,o){Z===K$&&o===K$&&(Z=E,o=b,E=0,b=p.duration);var A,l=rh.next();return E=E||0,b=b||p.duration-E,"string"==typeof Z?(Z=(A=this._parsePattern(Z,Math.abs(b))).pos,o=A.duration):(Z=Z||0,o===K$?o=Math.abs(b):o<0&&(console.error("Timeline.add: timeline duration cannot be negative."),o=Math.abs(o))),this._childrenEntries.push({id:l,animatable:p,localPos:E,localDuration:b,pos:Z,duration:o}),this._doSort(),this._autoCalculateDuration&&(this.duration=Math.max(this.duration,Z+o),this._autoCalculateDuration=!0),this},_parsePattern:(Sh=/[+-]?\d*(\.\d+)?%/,Ih=/[+-]?\d*(\.\d+)?s?/,function(p,E){var b,Z,o,A,l,V;return 0<=p.indexOf(":")?(Z=(b=p.split(":"))[0],o=b[1]):0<=p.indexOf("~")?(Z=(b=p.split("~"))[0],A=b[1]):0<=p.indexOf("*")?(Z=(b=p.split("*"))[0],l=b[1]):(Z=p,V=E),Z=po(this,Z),A!==K$?((A=po(this,A))<Z&&(console.error("Timeline._parsePattern: end time cannot be less than start time."),A=Z),V=A-Z):l!==K$?((l=parseFloat(l))<=0&&(console.error("Timeline._parsePattern: speed must be greater than 0."),l=Math.abs(l)||1),V=E/l):o!==K$&&(V=po(this,o))<=0&&(console.error("Timeline._parsePattern: duration must be greater than 0."),V=Math.abs(V)||1),{pos:Z,duration:V}}),remove:function(p){for(var E=0;E<this._childrenEntries.length;E++)if(this._childrenEntries[E].animatable===p)return this._childrenEntries.splice(E,1),this._doSort(),!0;return!1},clear:function(){this._childrenEntries.length=0,this._doSort()},getChildren:function(){return this._childrenEntries},_doSort:function(){for(var b=this._childrenEntries,p=b.length,E=this._sortByStartInv=new Array(p),Z=this._sortByEnd=new Array(p),o=0;o<p;o++)Z[E[o]=o]=o;E.sort(function(p,E){return b[E].pos-b[p].pos}),Z.sort(function(p,E){return b[p].pos+b[p].duration-(b[E].pos+b[E].duration)})},shift:function(p){for(var E=0;E<this._childrenEntries.length;E++)this._childrenEntries[E].pos+=p;for(E=0;E<this._callbackLength;E++)this._callbacks[E].time+=p;return this.duration+=p,this},scale:function(p){for(var E=0;E<this._childrenEntries.length;E++){var b=this._childrenEntries[E];b.pos*=p,b.duration*=p}for(E=0;E<this._callbackLength;E++)this._callbacks[E].time*=p;return this.duration*=p,this},scaleTo:function(p){return 0===this.duration?(this.duration=p,this):(p/=this.duration,this.scale(p))},callAt:function(p,E,b){if("function"!=typeof E)return console.warn("Timeline.callAt: callback is not a function."),-1;var Z=rh.next();return this._callbacks[this._callbackLength++]={id:Z,time:p,callback:E,once:!!b,_called:0},Z},callAtOnce:function(p,E){return this.callAt(p,E,!0)},removeCallAt:function(p){for(var E=0;E<this._callbackLength;E++)if(this._callbacks[E].id===p)return this._callbacks[E]=this._callbacks[this._callbackLength-1],this._callbackLength--,!0;return!1},removeCallBetween:function(p,E){for(var b=0;b<this._callbackLength;b++)this._callbacks[b].time>=p&&this._callbacks[b].time<=E&&(this._callbacks[b]=this._callbacks[this._callbackLength-1],this._callbackLength--,b--);return this},removeCallAtTime:function(p){return this.removeCallBetween(p,p)},clearCalls:function(){return this._callbacks.length=0,this._callbackLength=0,this},deepDive:function(p,E,b){for(var Z=this._childrenEntries,o=0;o<Z.length;o++){var A=Z[o].animatable;p&&p(A),A instanceof Kh?(E&&E(A),A.deepDive(p,E,b)):A.clip&&b&&b(A)}},play:function(){return this._lastIteration=-1,this.deepDive(function(p){p._lastIteration=-1,p.fireEvent("start")}),th.prototype.play.apply(this,arguments)},stop:function(){return this.deepDive(function(p){p.fireEvent("stop")}),th.prototype.stop.apply(this,arguments)},seek:function(p){this._lastIteration=-1,this.deepDive(function(p){p._lastIteration=-1});var E=this._lastDisplayTime||0;return this._pendingSeekDurationInfo={direction:E<p?1:-1,iteration:-1},th.prototype.seek.apply(this,arguments)},scrub:function(p,E){var b=this.duration,Z=p=u.Math.clamp(p,0,b);return 0<b&&this.easing!==K$&&(Z=Dq(this.easing)(p/b)*b,!isNaN(Z)&&isFinite(Z)||(Z=p)),this._pretendSeekTime(p,Z),this.seek(E),this.flush()},_pretendSeekTime:function(p,E){this._lastDisplayTime=p,this._lastTime=E;for(var b,Z,o,A,l=this._childrenEntries,V=0;V<l.length;V++){var c=l[V].animatable;c instanceof Kh&&(b=l[V].pos,Z=l[V].duration,o=l[V].localPos,A=l[V].localDuration,c._pretendSeekTime(c=Z?o+A*(p-b)/Z:p<b?o-.001:o+.001,c))}},addBindingCountRef:function(p){for(var E=this._childrenEntries,b=0;b<E.length;b++){var Z=E[b].animatable;Z instanceof Kh?Z.addBindingCountRef(p):Z.clip&&mh.addBindingCountRef(Z,p)}},increaseBindingCount:function(){this.addBindingCountRef(1)},decreaseBindingCount:function(){this.addBindingCountRef(-1)},evaluate:function(p,E){var b,Z;(Z=this._pendingSeekDurationInfo)?delete this._pendingSeekDurationInfo:Z=mh.getAnimation(this.id),b=Z.direction,Z=Z.iteration,this.evaluateImpl(p,E,!1,b,Z),this.enqueueEvent("update")},evaluateImpl:function(p,E,b,Z,o){for(var A,l=this.duration,V=(0<l?this.easing!==K$?(A=Dq(this.easing)(p/l)*l,!isNaN(A)&&isFinite(A)||(A=p)):A=p:A=0,this._lastTime||0),c=(this._lastIteration!==o?(this._lastIteration=o,V=0<Z?-1:l+1):(1===Z&&A<V||-1===Z&&V<A)&&(Z=-Z),0<Z?this._sortByEnd:this._sortByStartInv),S=this._childrenEntries,I=0,D=c?c.length:0;I<D;I++){var B=S[c[I]],n=B.animatable,k=B.localPos,j=B.localDuration,W=m=B.pos,m=m+(B=B.duration),e=0<j?Z:-Z;W<=A&&A<=m?iN(n,k+(A-W)/B*j,E,b,e,o):1===Z&&V<m&&m<=A?iN(n,k+j,E,!0,e,o):-1===Z&&W<V&&A<=W&&iN(n,k,E,!0,e,o)}if(!this.disableCalls)for(var $=0,Y=this._callbackLength;$<Y;$++){var t,K=this._callbacks[$];K._invalid||(t=!1,(t=1===Z&&V<K.time&&A>=K.time||-1===Z&&V>K.time&&A<=K.time||t)&&(K.once?K._called||(K.callback(this,A,K._called=1),K._invalid=!0):K.callback(this,A,++K._called)))}this._lastTime=A,this._lastDisplayTime=p,th.prototype.evaluate.call(this,A,E),mh.resolvePendingBindings()},debugOn:function(){this._debug||(this._debug=!0,(Mh=Mh||new Hh).add(this))},debugOff:function(){this._debug&&(this._debug=!1,Mh&&Mh.remove(this))}}),t$.defineProperties(Kh.prototype,{duration:{get:function(){return this._duration},set:function(p){this._duration=p,delete this._autoCalculateDuration}}}),function(){var Z,o=[];function p(p,E,b){for(var Z=[],o=0;o<p.length;o++){if(E instanceof RegExp){if(!E.test(p[o].displayName))continue}else if(p[o].displayName!==E)continue;var A=p[o];b&&b(A,o),Z.push(A)}return Z}var S=H$.parse("__ht__encode26Z4fiPRgJfQctO8snAgZwl1Fmm1YeOemwI+2W/jbMc5Gvc5TSs/2S7/rI4/rI452WDG6dC5Kc45YSIwkavyrS3oTS4y2eQeq+l1DwIeTIa5KSQeFzmhX+I+YeO5GVaRYnFhbwGhblmeTlkHq6mRYnlgqwmHFpT+imZ12eO+Dna124=jZUAHD5=omAxeqwuHiv=o=ns1X/ke=4=jFpThZ+sgN6f1YeOe=/Foiju1FV=RYnQjbmt+bweeTI=gi6F+Dnl1Zzke=4=gipugN6k6=eOeqwtHint+Dwtg2eQeqnmjNd=omQ4RKSQ/GS4RKV7/6aURDQ=+Dm412eOeqnt+XuMvF6T+YeQeFnzjZAqHFUagFd=o=eT1GmmjZ6Fe=4=jZUsgF6svFpMhb6reTlg/Y4kRKdQ/pkQeF7z8XUa+pj=o=nkgNS=RYnMhb/4gipuGFpA12eOemwlgXv=RYns1X/keTlg5rSQ5GeQ/Kd4RKz+RYntgMwsjXH=o=n0bZzkbaUF+XuT+imtg=zm+F6f+Y4c1ipkj24c+Fmm+s4cHiUlgqdQeD+l1DwIRYWI1XmqhDdleDAMjbwzRFVInNwlgX6QhXumRqWmHF/mgqwz1ZvqRYWI+Yu/jbwIRF/QjXa4yDWthXukRqccRsWNhXwkhY4c5Y4c52MloNk=027xeqwuHiv=o=nrhip412eQeFntHFwmHm+l1DwIeTI7RTvQeFntHFwmHM/tgiUseTI=eZ53jr+TjseQeF7z8XUa+pj=o=nkgNW=gNwkgZk=RYnMhb/4gipuGFpA12eOe=eQeFpfjZztHmM=oTSQeqWthXukHseOXrV4RK5NRTvQ5GSQ/Tef/6aURDQ=+Dm412eOeqwm8Dd=RYnk1bzkeTI=vawWvmd=RYnTgZ7tH=eOe=53jGzzoiv=RYnFgZukeTI=5Gn48YWrjXurRb/mHFmFe=4=gipugN6k6=eOeFnt+Dwtg2eQeFwlHNWQjbmojXameTI=e=4=jXuThiUsXYeO5Y4=HZ/zgi6jeTI4RTcr5r5rRYnrjZpQ16M=oTSfoK5r5r5QeqnmjNd=omQ7523aRKHuRTjZ/TjNRK5ZRKVZbbkQ8snk8bWmeTI=HZzzHiv=RYn=gNnM1bnbhXwkhYeO523aRYn=gNnM1bnKgZ7tH=eOe=/Toi5NjZ5=RYnQjbmt+bwXeTI=+iU4jFUk+iUAe=4=1imrHi7z8vuzgXv=o=e=RYnzgF/IgNn1eTI4RYn4gZmf+D5=omQkoGSQ5rHf/24koGSQ/Tef/6aURDQ=+Dm412eOeqwm8Dd=RYnk1bzkeTI=wvuVe=4=jZUQgNe=o=eToiV3jGzme=4=1FUf+YeOeTVsHDccHZpfHsar1bnl1=eQeF7z8XUa+pj=o=n=gNwkgZk=RYnMhb/4gipuGFpA12eOe=eQeFpfjZztHmc=oTSQeq/TjX7mXYeO5Y335r5r5s4=HZ/zgi61eTI4RTcr5r5rRYns1X/keTlg/KjNRTjZ/TjNRKHaRKeaRKVZbbkQ8snk8bWmeTI=HFUagFw21X/ke=4=jFpThZ+sgN6f1YeOe=/Moivs1Fj=RYnTgNnf1bn2jXwl+b5=omQkRKdQ/Y4kb24=gipugN6k2YeOeF/mgqwmH=eQeF7z8XUa+pj=o=nkgNS=RYnrhipMgNH=oqws+XvQeq/IjXwt+k/tgiUseTI=erj4dv/idseQeq/IjXwt+knQ+be=oT5Qeq/IjXwt+kUF1q/m+pc=oTVQeq/IjXwt+kUF1q/m+pM=oTVQeFwlHNWQjbmojXameTI=dZ7lHVnt1DM=RYnzgF/IgNnjeTI4RYnzgF/IgNn1eTI4RYns1X/keTlxeF1agF5=o=n0bZzkbaUF+XuT+imtg=zMjbwzRYWZhX6Ny2Wxbius1bwaHF3cXsSa5=4c5THQeKVN/=4c5TecbGAHgqk=RYnZjX7a12eOXrvsRKeNRKVN/=4s5maU027xeqwuHiv=o=nk1bzke=4=+i63+YeOeM/QhbScdX74hiV=RYnTgZ7tH=eOe=5r5T5s/Xd=RYnFgZukeTI=5Gn48YWrjXurRb/mHFmFe=4=gipugN6k2YeOeF/mgqwmH=eQeF7z8XUa+pj=o=nkgNS=RYnMhb/4gipuGFpA12eOeM/QhbWojXame=4=jXuThiUsXYeO5Y4=HZ/zgi6jeTI4RTM7/TjNRYnrjZpQ16M=oTSfoGVZ/THQeqnmjNd=omQa/=37/TjZ/s4r524ao247/maURDQ=+Dm412eOeqnt+XuMvF6T+YeQeFnzjZAqHFUagFd=o=eT1F1F1F1Fe=4=jZUsgF6svFpMhb6reTlg5TSQ5TSQ5TSQ5TW+RYnQjbmt+bwXeTI=jFUk+iUAe=4=1imrHi7z8vuzgXv=o=e=RYnzgF/IgNnjeTI4RYnzgF/IgNn1eTI4RYns1X/keTlg5GSkRTSs5TMsRKjrRKeu/Y3u/Gd7/s4k5paURDQ=+Dm412eOeqnt+XuMvF6T+YeQeFnzjZAqHFUagFd=o=eT1TWF5ij4e=4=jZUsgF6svFpMhb6reTlg5Gef/2475=3aRKVsRTvQ5Gef/6kQeF7z8XUa+pj=o=n=gNwkgZk=RYnMhb/4gipuGFpA12eOe=eQeFpfjZztHmc=oTSQeFpfjZztHmM=oTSQeqnmjNd=omQ75Tdf5KesoGeQ/rSf/24a/=3Z5KMQ5T6+RYntgM/QhX/CeTI=baUI+pU01q6fjNwlgZ3I1b1mgqdQeiwz+iVQeD1l1bHQeDWthXukRYWNhXwkhY4chi6l1Zzky2Wx1ipkj2uzyY+khXamgimf12us+XufhXuqns4ceXwz+iVfj2cq+imA1X7lgFvfHq6fgFmf1sHlyGAUeqkQ8snk8bWmeTI=HFUagFw21X/ke=4=jFUs1i6s6ZmM+ic=oTSf5KS7RYn=gNnM1bnKgZ7tH=eOe=/m5iv41GS=RYnTgNnf1bn2jXwl+b5=omQ75=3aRKVsRTvQ5Gef/2475=3ab24=gipugN6k6=eOeFnt+Dwtg2eQeFwlHNWQjbmojXameTI=e=4=jXuThiUsXYeO5Y4=jXuThiUsX2eO5Y4=HF6T+YeOXrVs/Y345Teu5=4N5Y3aRKH4RKeabbkQ8snk8bWmeTI=HZzzHiv=RYn=jX/C1Nnt+XuMeTI=er6m/rnm/YeQeq1lHZm=giv=oqQ=1q6fjseOemU0hDw0bZ1agF/khXUfyiwz+iVQeD1l1bHleDAHgqnm+D6sg=Sz1ipkj2uzyY+khXamgimf12us+XufhXuqnsMxbiuUeqkQeF7z8XUa+pj=o=n=gNwkgZk=RYnMhb/4gipuGFpA12eOeqWQjbMAhX/tg=eQeqWthXukHseOXrVko2345Teu5=4N/=37/TjZ/s47/KMf5KesoGeQoKMf5GjZ/THQ5GvuRTSs5TMsRKcsRTjZ/TjNb24=HZ6qgX6f+D5=omQ7RKeQ5=4abbkQ8snk8bWmeTI=HZzzHiv=RYn=jX/C1Nnt+XuMeTI=HF+=yKes/s4u5s4u5sM=RYnZhb/ljF7meTlxeF1agF5=o=n0bZzkbaUF+XuT+imtg=zMjbwzRYWZhX6Ny2Wxbius1bwaHF3ce2pMjbwzRFVInNwlgX6QhXumRqnagFulgFHqyGAHgqk=RYnZjX7a12eO1FpQHZ6URYnQjbmt+bwXeTI=jFUk+iUAe=4=1imrHi7z8vuzgXv=o=n4jb6r12aljZUfe=4=HiUlgqwreTlg5GduRTSs5TMsRKHZRTVZ/TjNRKVko2345Teu5=43o237/TjZ/s47/Gef5GMsoKdQoKMf5GjZ/THQ5GvsRTVu5TckRKHZRTVZ/TjNRKVa/s3u/GvZ/s4N/=37/TjZ/s47/GHfoGva/THQoKMf5GjZ/THQ5GvkRTM4oGVkRKcuRTVZ/TjNRKVa/Y3u5KM7/Y4N/=37/TjZ/s47/Gef5GMsoKdQ/rjf5GjZ/THQ5GduRTSs5TMsRKHZRTVZ/TjNbbkQ8snk8bWmeTI=HFUagFw21X/ke=4=jFUs1i6s6ZmM+ic=oTSf5KS7RYn=gNnM1bnKgZ7tH=eOe=/m5iv41GS=RYnTgNnf1bn2jXwl+b5=omQ75=3aRKVsRTvQ5Gef/2475=3ab24=gipugN6k6=eOeFnt+Dwtg2eQeFwlHNWQjbmojXameTI=e=4=jXuThiUsXYeO5Y4=jXuThiUsX2eO5Y4=HF6T+YeOXre7/Y345Teu5=4N5Y3aRKVs5Y4s/6aURDQ=+Dm412eOeqwm8Dd=RYnk1bzkeTlxeF1agF5=o=n0bZzkbaUF+XuT+imtg=zMjbwzRYWZhX6Ny2Wxbius1bwaHF3cna/41X6Mo=SqeYQcGXpkhYusgN6f1YcI1ipkj2uzyY+khXamgimf12urHi6m1YHleD7BeKVf5YMcy=S75YMcRsS75YSCeY+3nrAHgqk=RYnZjX7a12eOem/41X6Mo=S7RTW3eqkQeF/tgiUseTI=ervs/XjN1=eQeF1tgqd=o=e75qW3eD/zgq5AHZ6shXj=RYnQjbmt+bwXeTI=jFUk+iUAe=4=1imrHi7z8vuzgXv=o=e=RYnzgF/IgNnjeTI4RYnrjZpQ16c=oTSfoGVZ/THQeq/TjX7mX2eO5Y3u5GjZ/s4=HF6T+YeOXrVuoY37oKMaoY4N/=3aRKjaRKVZbbkQ8snk8bWmeTI=HFUagFw21X/ke=4=jFpThZ+sgN6f1YeOe=/moX6T1Xj=RYnTgNnf1bn2jXwl+b5=omQkRKdQ/Y4kb24=gipugN6k6=eOeFnt+Dwtg2eQeFwlHNWQjbmojXameTI=HZ/s+Xn=1beAjFpse=4=jXuThiUsXYeO5Y4=jXuThiUsX2eO5Y4=HF6T+YeOXreZ/s34/TdaoY4No23aRKV7/Y3Z/Gj75s43b24=gZuVHFpqeTI=baUI+pU01q6fjNwlgZ3I1b1mgqdQeiwz+iVQeD1l1bHQeDWthXukRYWNhXwkhY4chi6l1Zzky2Wx+FpseDccL2WI+Yu/jbwIRF/QjXa4yDWthXukRqccRsWNhXwkhY4c5Y4c52MxbDnHgFwz+iVfj2cq+imA1X7lgFvfHNWm1XdqRYS3eYIc8YSPeDcloNk=027xeqwuHiv=o=nsgN6f1pnmjNd=RYn=jX/C1Nnt+XuMeTI=eZ1F5Zer5YeQeF/tHFumHmnz1imaHseOXrVf/247RTvQ523aRKVf/6kQeF7z8XUa+pj=o=n=gNwkgZk=RYnMhb/4gipuGFpA12eOe=eQeFpfjZztHmc=oTSQeFpfjZztHmM=oTSQeqnmjNd=oqQ=1q6fjseOemU0hDw0bZ1agF/khXUfyiwz+iVQeD1l1bHleDAHgq1zH=W3eKkcyiwz+iVfj2cq+imA1X7lgFvfHNWm1Xdqy2WB0YS4yGAHHm7f+FpseDdcL2W/jbwIRq/7HqdIGXpkhYuzjq5I8YMcRsS3yGAHHm7fHF6k+bnfepQc5TjZeYQc+YSPeKV4oY4coKSQeKvf/=4c/=W+oa7f02eQeq1zgD6meTlg5rHkRTHs5KHsRKc4RTvQ/=4ZbbaURDQ=+Dm412eOeqnt+XuMvF6T+YeQeFnzjZAqHFUagFd=o=eT1FjrjT54e=4=jZUsgF6svFpMhb6reTlg523aRKVf/247RTvQ523ab24=gipugN6k6=eOeqwtHYeQeFwlHNWQjbmojXameTI=e=4=jXuThiUsXYeO5Y4=jXuThiUsX2eO5Y4=HF6T+YeO8snF+XuTeTI=baUI+pU01q6fjNwlgZ3I1ipkj24c+Fmm+sMc8a7fHF6k+bnfepQcyiwz+iVfj2cq+imA1X7lgFvfHi6sjZ6f+ipq12HleD7BeKSleYIc/Kd4eYQc5rSQeKVrRYSZRYSZepkxbiuUe=4=+FpQ+Xv=omQ7/GMQ5G5Q/=4ZbbaURDQ=+Dm412eOeq/IjbWme=4=jFUs1i6s6ZmM+ic=oTVf/24=jFUs1i6sdZUQgNe=o=eT1FjrjT54e=4=gipugN6k6=eOeqwtHint+Dwtg2eQeFwlHNWQjbmojXameTI=e=4=jXuThiUsX2eO5Y4=HF6T+YeO8snF+XuTeTI=baUI+pU01q6fjNwlgZ3I1ipkj24c+Fmm+sMc8a7fHF6k+bnfepQcyiwz+iVfj2cq+imA1X7lgFvfHi6sjZ6f+ipq12HleD7BeKSleYIc/Kd4eYQc5r5QeKe4RYS4RYSroYW+oa7f02eQeq1zgD6meTlg5GjsRKe4RKSQ5rz+024=HiUlgqwreTlg5GjsRKe4RKVZ5=4aopaUbbkE"),E=S.comps,b=(p(E,"scrubber-bar",function(p){p.onDown=p.onDrag}),p(E,"Time")[0]),I=b.rect[0],D=b.rect[2],B=(b.onDown=function(p,E,b,Z,o,A){E.a("timeline.dragging",!0),E.a("timeline.percentage",u.Math.clamp(Z.x/o,0,1))},b.onUp=b.onEndDrag=function(p,E,b,Z,o,A){E.a("timeline.dragging",!1)},p(E,"ClipBody")[0]),n=E.indexOf(B),k=(E.splice(n,1),p(E,"ClipName")[0]);function A(p){Z&&Z.getDataAt(p)&&p.stopPropagation()}E.splice(E.indexOf(k),1);var j={};function V(){for(var p=this.dm().getDatas().toArray(),E=0,b=p.length;E<b;E++){var Z=p[E],o=function(p){var E="__timelineDebugger$"+p;if(H$.getImageMap()[E])return j[p];for(var b=u.Default.clone(S),o=(Z=(Z=(Z=B).rect)&&Z.value?Z.value:Z)[3]+4,Z=o*(p-1),A=[n,0],l=0;l<p;l++){var V=H$.clone(B),c=H$.clone(k),V=(A.push(V,c),V.rect={func:function(b){return function(p,E){return p=p.a("timeline.clips")[b]||[.5,.5],[I+p[0]*D,27+o*b,D*(p[1]-p[0]),o-4]}}(l)},V.background={func:function(Z){return function(p,E){var b=p.a("timeline.clips")[Z]||[.5,.5];return(p=p.a("timeline.percentage")||0)>=b[0]&&p<=b[1]?"#ff9500":"#d8e2ff"}}(l)},c.text={func:function(b){return function(p,E){return p.a("timeline.clipNames")[b]||""}}(l)},c.rect);c.rect={func:function(b,Z){return function(p,E){return p=p.a("timeline.clips")[b]||[.5,.5],[I+p[0]*D,30+o*b,Z[2],Z[3]]}}(l,V)}}return b.comps.splice.apply(b.comps,A),H$.setImage(E,b),j[p]={name:E,height:b.height+Z}}(Z._timeline.getChildren().length);Z.setImage(o.name),Z.setSize(-1,o.height)}this.redraw()}return{add:function(l){if(o.push(l),!Z){var p=u.Default.findView();if(!p)return;(Z=new u.graph.GraphView).addToDOM(p.getView()),Z.getView().addEventListener("mousedown",A),Z.addPreFrameListener(V),Z.redraw(),Z.setZoomable(!1),Z.setPannable(!1)}(p=new u.Node)._timeline=l,Z.dm().add(p),p.setPosition(0,0),p.setAnchor(0,0),p.setSize(-1,-1),p.s({"2d.movable":!1,interactive:!0,"select.width":0});var E={};t$.defineProperties(E,{"timeline.dragging":{get:function(){return!!this._dragging},set:function(p){var E;p?(l.isPaused()&&(l._waitingPause=!0,l.resume()),l._lastSpeed=l.getSpeed(),l.setSpeed(0)):this._dragging&&((E=l._lastSpeed)===K$&&(E=1),delete l._lastSpeed,l.setSpeed(E),l._waitingPause&&(l.pause(),delete l._waitingPause)),this._dragging=p}},"timeline.percentage":{get:function(){return l.progress},set:function(p){this._dragging&&(l.progress=p)}},"timeline.running":{get:function(){return l.isRunning()&&!l.isPaused()},set:function(p){p?l.isPaused()?l.resume():l.play():l.pause()}},"timeline.speed":{get:function(){return l._lastSpeed!==K$?l._lastSpeed:l.getSpeed()},set:function(p){l.setSpeed(p)}},"timeline.clipNames":{get:function(){for(var p=[],E=l.getChildren(),b=0;b<E.length;b++)p.push(E[b].name||"");return p}},"timeline.clips":{get:function(){for(var p=[],E=l.duration||1,b=l.getChildren(),Z=0;Z<b.length;Z++){var o=(A=b[Z]).pos/E,A=(A.pos+A.duration)/E;p.push([o,A])}return p}}}),p.setAttrObject(E)},remove:function(E){var b,p=o.indexOf(E);-1!==p&&o.splice(p,1),Z&&(b=[],Z.dm().each(function(p){p._timeline===E&&b.push(p)}),b.forEach(function(p){Z.dm().remove(p)})),E.length||(Z.getView().removeEventListener("mousedown",A),Z.getView().parentElement.removeChild(Z.getView()),Z=null)}}}),Mh=null,Fh=u.Animation.Clip=function(p,E,b,Z){this.name=p,this.tracks=E||[],this.duration=b==K$?-1:b,this.phaseMatching=!1,this.setExclusive(!1),this.uuid=u.Math.generateUUID(),this.duration<0&&this.resetDuration(),Z?this.setAdditive(!0):this.isAdditive=!1},Xh=(Fh.prototype={constructor:Fh,resetDuration:function(){var p=this.tracks;if(!p.length)return this;for(var E=0,b=0,Z=p.length;b<Z;b++)var o=p[b],E=Math.max(E,o.getMaxTime());return this.duration=E,this},addTrack:function(p){return this.tracks.push(p),this.duration=Math.max(this.duration,p.getMaxTime()),this},shift:function(p){for(var E=0,b=this.tracks,Z=b.length;E<Z;E++)b[E].shift(p);return this.duration+=p,this},scale:function(p){for(var E=0,b=this.tracks,Z=b.length;E<Z;E++)b[E].scale(p);return this.duration*=p,this},scaleTo:function(p){return 0===this.duration?(this.duration=p,this):(p/=this.duration,this.scale(p))},setAdditive:function(p){this.isAdditive=p;for(var E=0,b=this.tracks,Z=b.length;E<Z;E++)b[E].setAdditive(p);return this},setDuration:function(p){return this.duration=p,this},isExclusive:function(){return!!this.exclusive},setExclusive:function(p){return this.exclusive=p,this},setPhaseMatching:function(p){return this.phaseMatching=p,this},trim:function(p,E){E===K$&&(p===K$?(p=0,E=this.duration):(E=p,p=0));for(var b=0,Z=this.tracks,o=Z.length;b<o;b++)Z[b].trim(p,E);return this.duration=E-p,this},clone:function(){for(var p=[],E=0,b=this.tracks.length;E<b;E++)p.push(this.tracks[E].clone());var Z=new Fh(this.name,p,this.duration,this.isAdditive);return Z.exclusive=this.exclusive,Z.phaseMatching=this.phaseMatching,Z},evaluate:function(p,E,b){if(E){for(var Z=this.tracks,o=this.isAdditive,A=0,l=Z.length;A<l;A++){var V=Z[A],c=V.evaluate(p);(V=b[V.getName()])&&V.receiveValue(E,o,c)}return this}},evaluateImmediately:function(p,E,b){if(E){for(var Z=this.tracks,o=this.isAdditive,A=0,l=Z.length;A<l;A++){var V=Z[A],c=V.evaluate(p);(V=b[V.getName()])&&V.setValueAndApplyImmediately(E,o,c)}return this}},evaluateEasing:function(p,E,b){p=Dq(this.easing)(p/this.duration)*this.duration,this._evaluateInternal(p,E,b)},evaluateEasingImmediately:function(p,E,b){p=Dq(this.easing)(p/this.duration)*this.duration,this._evaluateImmediatelyInternal(p,E,b)}},t$.defineProperties(Fh.prototype,{easing:{get:function(){return this._easing},set:function(p){(this._easing=p)?(this._evaluateInternal||(this._evaluateInternal=this.evaluate),this._evaluateImmediatelyInternal||(this._evaluateImmediatelyInternal=this.evaluateImmediately),this.evaluate=this.evaluateEasing,this.evaluateImmediately=this.evaluateEasingImmediately):(this._evaluateInternal&&(this.evaluate=this._evaluateInternal),this._evaluateImmediatelyInternal&&(this.evaluateImmediately=this._evaluateImmediatelyInternal))}}}),Wh.TargetedAnimation=u.TargetedAnimation=function(p,E,b){th.call(this,b?t$.assign({clip:p,target:E},b):{clip:p,target:E})}),Gh=(Xh.prototype=t$.create(th.prototype),Xh.prototype.constructor=Xh,t$.assign(Xh.prototype,{_init:function(p){th.prototype._init.call(this,p),this.clip=p.clip,this.target=p.target,this.shiftTime=0,this.weight=1,this.enabled=!0,p&&p.easing!==K$&&(this.easing=p.easing)},setTarget:function(p){return this.target=p,this},setClip:function(p){return this.clip=p,this},setAnimationPresets:function(p){return p.speed!==K$&&(this.speed=p.speed),p.shiftTime!==K$&&(this.shiftTime=p.shiftTime),p.loop!==K$&&(this.loop=p.loop),this},shift:function(p){return this.clip&&this.clip.shift(p),this},scale:function(p){return this.clip&&this.clip.scale(p),this},scaleTo:function(p){return this.clip&&this.clip.scaleTo(p),this},getRootTarget:function(){if(!this.target)return null;var p=this.target;return X$(p)?p[0]:p},getTarget:function(){return this.target},getClip:function(){return this.clip},_createBindings:function(){return mh.createBinding(this),this},play:function(p,E,b,Z,o){if(this.target&&this.clip)return this.id!==K$&&this.stop(),this.id=mh.add(this,p,E,b,Z,o),this.fireEvent("start"),this},isExclusive:function(){return this.clip.isExclusive()},evaluate:function(p,E,b){this.clip.evaluate(p,b===K$?1:b,mh.getBinding(this.target)),this.enqueueEvent("update")},evaluateImmediately:function(p,E,b){this.clip.evaluateImmediately(p,b===K$?1:b,mh.getBinding(this.target)),this.enqueueEvent("update")},replaceTrackTimeValueSequence:function(p){for(var E=this.clip.tracks,b=-1/0,Z=0,o=E.length;Z<o;Z++){var A=E[Z],l=p[Z],V=l.times,c=V.length;A.times=V,A.values=l.values,A.length=c,b=Math.max(b,V[c-1])}this.clip.duration=b}}),t$.defineProperties(Xh.prototype,{target:{get:function(){return this._target},set:function(p){this._target=p,this._createBindings()}},clip:{get:function(){return this._clip},set:function(p){this._clip=p,this._createBindings()}},duration:{get:function(){return this.clip?Math.max(this.clip.duration,0):0},set:function(p){this.clip&&(this.clip.duration=p)}},easing:{get:function(){return this.clip?this.clip.easing:null},set:function(p){this.clip&&(this.clip.easing=p)}}}),u.Animation.Track=function(p,E,b,Z,o){if("string"==typeof p?this.name=p:(this._isRawBinding=!0,this.name=$h._setTempBindingRule(p)),this.stride=0,this.times=E||[],X$(Z))this.easings=Z;else if("string"==typeof Z)for(var A=this.easings=new Array(E.length-1),l=0,V=A.length;l<V;l++)A[l]=Z;else this.easings=[];if(this.extraInfo=o||{},o&&o.type&&this.setInterpolation(o.type),this.values=[],b)if((X$(b)||ArrayBuffer.isView(b))&&b.length!==E.length)this.stride||(this.stride=b.length/E.length),this.values=b,this._interpolateTypeByValues="linear";else for(this.stride||(this.stride=this._getStrideFromValue(b[0])),l=0,V=b.length;l<V;l++)this._setValueImpl(l,b[l]);this.isAdditive=!1,this.sortKeyFrames(),this.updateTimeRange()}),Th="_outputHead",gh="_outputTail",Lh=(Gh.prototype={constructor:Gh,isRawBinding:function(){return this._isRawBinding},_getStrideFromValue:function(p){var E=1,b="linear";return p instanceof uB?(E=4,b="quaternion"):p instanceof RB?E=4:p instanceof G$?E=3:p instanceof v?E=2:p instanceof Zq?(E=4,b="euler"):X$(p)?E=p.length:"string"!=typeof p&&"boolean"!=typeof p||(b="discrete",E=1),this._interpolateTypeByValues=b,E},_setValueImpl:function(p,E){var b=this.values,Z=this.stride;if(1<Z&&X$(E))for(var o=0;o<Z;o++)b[p*Z+o]=E[o];else E&&E.toArray?E.toArray(b,p*Z):(1<Z&&console.error("Unknown value type: "+E),b[p]=E)},add:function(p,E,b){for(var Z=!1,o=this.stride,A=(0<o||(o=this.stride=this._getStrideFromValue(E)),this.times),l=this.values,V=0,c=A.length;V<c;V++)if(A[V]>p){A.splice(V,0,p);for(var S=0;S<o;S++)l.push(0);for(S=l.length;V*o<S;S--)l[S]=l[S-o];this._setValueImpl(V,E),this.easings.splice(V,0,b),Z=!0;break}if(!Z){for(A.push(p),S=0;S<o;S++)l.push(0);this._setValueImpl(A.length-1,E),this.easings.push(b)}return this.onValuesChange(),this.updateTimeRange()},updateTimeRange:function(){var p=this.times;return this.start=p[0],this.end=p[p.length-1],this.length=p.length,this},sortKeyFrames:function(){for(var p=[],E=0;E<this.times.length;E++)p.push(E);for(var b=this.times,Z=this.values,o=this.easings,A=this.stride,l=(p.sort(function(p,E){return b[p]-b[E]}),[]),V=[],c=[],E=0;E<p.length;E++){l[E]=b[p[E]];for(var S=0;S<A;S++)V[E*A+S]=Z[p[E]*A+S];c[E]=o[p[E]]}return this.times=l,this.values=V,this.easings=c,this.onValuesChange(),this.updateTimeRange()},removeKeyAtTime:function(p){return-1===(p=this.times.indexOf(p))?this:(this.times.splice(p,1),this.values.splice(p*this.stride,this.stride),this.easings.splice(p,1),this.onValuesChange(),this.updateTimeRange())},clearKeys:function(){return this.times=[],this.values=[],this.easings=[],this.length=0,this},getMaxTime:function(){var p=this.times;return 0===p.length?0:p[p.length-1]},_getBoundaryValue:function(p){var E=p?Th:gh;if(Z=this[E])return Z;var b,Z=this.values,o=this.stride;return 1==this.length||(p=p?b=0:(b=this.length-2,1),Z=this._interpolate(this._result,0,Z,b*o,Z,(b+1)*o,p,o)),this[E]=p$(1<o?Z:Z[0])},evaluate:function(p){if(0===(l=this.length))return null;if(1===l)return this._getBoundaryValue(!0);var E,b=this.times;if(p<=b[0])return this._getBoundaryValue(!0);if(p>=b[l-1])return this._getBoundaryValue(!1);if(2===l)E=0;else for(var Z,o=0,A=l-1;o<A;)if(b[Z=Math.floor((o+A)/2)]<p){if(p<=b[Z+1]){E=Z;break}o=Z+1}else{if(b[Z-1]<=p){E=Z-1;break}A=Z-1}var l=E+1,V=Dq(this.easings[E])((p-this.times[E])/(this.times[l]-this.times[E])),c=this.stride,S=this.values,S=this._interpolate(this._result,0,S,E*c,S,l*c,V,c);return 1<c?S:S[0]},shift:function(p){for(var E=this.times,b=0;b<E.length;b++)E[b]+=p;return this.updateTimeRange()},scale:function(p){for(var E=this.times,b=0;b<E.length;b++)E[b]*=p;return this.updateTimeRange()},scaleTo:function(p){var E=this.end;if(E||(this.updateTimeRange(),E=this.end))return this.scale(p/E)},trim:function(p,E){var b=(V=this.times).length;E<p&&(l=p,p=E,E=l);for(var Z=0;Z<V.length;Z++)V[Z]-=p;if(E-=p=0,p<=V[0]&&E>=V[b-1])return this;for(var o=0,A=b-1;o!==b&&V[o+1]<p;)o++;for(;-1!==A&&V[A-1]>E;)A--;if(A++,0===o&&A===b)return this;var l=this.stride,V=V.slice(o,A);return this.times=V,this.values=this.values.slice(o*l,A*l),this.easings=this.easings.slice(o,A-1),this.onValuesChange(),this.updateTimeRange()},clone:function(){return new Gh(this.name,p$(this.times),p$(this.values),p$(this.easings),p$(this.extraInfo))},evaluateTo:function(p,E,b){var Z=this.evaluate(p),o=this.stride;b=b||0;for(var A=0;A<o;A++)E[b+A]=Z[A]},getName:function(){return this.name},_interpolate:P,getInterpolation:function(){var p;return this._interpolateType||(this._guessedEulerFromName&&this._guessedEulerFromValue?"euler":(p=this._interpolateTypeByValues)?p:"unknown")},getBindingInterpolation:function(){return this._bindingInterpolation||this.getInterpolation()},setInterpolation:function(p){return this._interpolateType=p,this.onValuesChange(),this},setAdditive:function(p){if(this.isAdditive!==p){this.isAdditive=p;var E=this.values;if(E&&0!==E.length&&"number"==typeof E[0]){var b,Z=this.stride;if(p){for(var o=[],A=0;A<Z;A++)o[A]=E[A];this._additiveAddon=o,b=-1}else{if(!(o=this._additiveAddon))return void console.error("additive back to false, but no addon found.");b=1}return this._addtiveAddonToValue(E,Z,o,b),this.onValuesChange(),this}}},_addtiveAddonToValue:function(p,E,b,Z){var o=this.getInterpolation();if("quaternion"===o){Z<0&&(b=(new uB).fromArray(b).normalize().inverse().toArray());for(var A=p.length-E;0<=A;A-=E)uB.multiplyQuaternionsFlat(p,A,b,0,p,A)}else if("euler"===o)for(A=p.length-E;0<=A;A-=E){var l,V,V=D=l=void 0,c=b,S=Z,I=A;if(X$(V=p)){X$(V[I])?(l=V[I],I=0):l=V;for(var D=0;D<c.length;D++){var B=c[D];"string"!=typeof B&&(l[D+I]+=B*S)}}else c.isEuler&&((V=V[I]).x+=c.x*S,V.y+=c.y*S,V.z+=c.z*S)}else if("discrete"!==o)for(A=p.length-E;0<=A;A-=E)for(var n=0;n<E;n++)p[A+n]+=b[n]*Z},onValuesChange:function(){var p=this.getInterpolation(),E=xh.getTrackParamsByType(p);if(E)return E.valuesChangeHandler&&E.valuesChangeHandler.call(this),E.stride&&(this.stride=E.stride),this._interpolate=E.interpolation,void((E=E.bindingInterpolationType)!==K$&&(this._bindingInterpolation=E));this._interpolate=xh.getInterpolationByType(p),delete this[Th],delete this[gh]}},/\b(r3|euler|rotation3d|rotation)\b/i),xh=(t$.defineProperties(Gh.prototype,{stride:{get:function(){return this._stride},set:function(p){this._stride!==p&&(this._stride=p,this.values?this._result=this.values.constructor(this.stride):this._result=new Array(this.stride),this.values&&this.values[0]instanceof Zq?this._guessedEulerFromValue=!0:this._guessedEulerFromValue=3<=p)}},name:{get:function(){return this._name},set:function(p){this._name!==p&&("string"==typeof(this._name=p)&&Lh.test(p)?this._guessedEulerFromName=!0:this._guessedEulerFromName=!1)}}}),Yq("trackType",{loadingParam:{sync:!0}}),Wh.Util=(W=[0,0,0,0],$=new Zq,Y=new Zq,t=new uB,K=new uB,r=new uB,H=[0,0,0,0],M=new G$,{discreteInterpolation:mO,linearInterpolation:eO,quaternionInterpolation:YO,getInterpolationByType:function(p){return"discrete"===p?mO:"quaternion"===p?YO:eO},getTrackParamsByType:function(p){if("discrete"!==p&&"linear"!==p&&"quaternion"!==p)return"euler"===p?{interpolation:$O,valuesChangeHandler:KO}:"gradient"===p||"color"===p?{interpolation:tO,stride:1}:H$.getTrackType(p)},flatten:function(p){var E=p[0];if("number"==typeof E)return new Float32Array(p);var b=p.length,Z=-1;if(E instanceof uB?Z=4:E instanceof G$?Z=3:E instanceof v&&(Z=2),0<Z){for(var o=new Float32Array(b*Z),A=0;A<b;A++)p[A].toArray(o,A*Z);return o}return p}})),Ch=Wh.LoopMode={Once:"once",Repeat:"repeat",PingPong:"pingpong"},p=(Wh.LoopMode.Default=Wh.LoopMode.Once,function(p,E){if(p=p&&p.states)return p[E]}),pl=function(p,E,b){return!(!p||!(p=p.states)||(p[E]=b,0))},hh=function(p,E){if(!E)return Eo(Q(p));Q(p,function(p){E(Eo(p))})},Ph=function(p,E){return P1(E)?E:E!=r$&&(p=hh(p))&&p[E]},yh=function(p){return p?t$.assign({},zh,p):zh},ah=function(p,E,b,Z){return(E&&E[p]!==K$?E:b.hasOwnProperty(p)?b:Z)[p]},Jh=function(p,E){var b=P1(p),Z=P1(E);if(b&&p.toArray&&(p=p.toArray()),Z&&E.toArray&&(E=E.toArray()),X$(p)&&X$(E)){if(p.length!==E.length)return!1;for(var o=0;o<p.length;o++)if(p[o]!==E[o])return!1;return!0}if(b&&Z){if(t$.keys(p).length!==t$.keys(E).length)return!1;for(var A in p)if(p[A]!==E[A])return!1;return!0}return p===E},dh=function(p,E){if(X$(p)||!P1(p))return null;var b=t$.keys(p),Z=b.length;if(!Z)return null;var o=E.comps;if(!o||!o.length)return null;for(var A=yh(E.animatable),l={},V=0;V<Z;V++)l[b[V]]={};for(var c=0;c<o.length;c++)for(var S,I=(S=o[c]).id,V=0;V<Z;V++){var D=b[V],B=function(p,E,b){var Z=p[I];if(!Z)return null;var o,A={},l=!1;for(o in Z)Jh(Z[o],ah(o,K$,E,b))||(l=!0,A[o]=Z[o]);return l?A:null}(p[D],S,A);B&&(l[D][I]=B)}return l},Uh=function(p,E){var b=E.comps;if(!b||!b.length)return p;for(var Z,o,A=yh(E.animatable),l=0;l<b.length;l++)for(var V in Z=(o=b[l]).id,p){var c,S,I=p[V];for(c in I[Z]=I[Z]||{},A)I[Z][c]===K$&&(o.hasOwnProperty(c)?I[Z][c]=o[c]:(S=A[c])!==K$&&(I[Z][c]=S))}return p},Bl=(t$.assign(Wh,{makeStateAnimation:(Dh=function(p,E){if(!p&&!E)return[];if(!p)return t$.keys(E);if(!E)return t$.keys(p);var b,Z={},o=[];for(b in p)Z[b]=!0,o.push(b);for(b in E)Z[b]||o.push(b);return o},Bh=function(p){return"background"===p||0<p.indexOf("Color")},nh=function(p,E,b,Z,o,A){if(p=p&&Q(p)){E=Ph(p,E),b=Ph(p,b);for(var l=p.comps,V=yh(p.animatable),c=0,S=l.length;c<S;c++){var I=l[c],D=I.id,B=E&&E[D],n=b&&b[D];if(B||n)for(var k=o+D+".",j=Dh(B,n),W=0,m=j.length;W<m;W++){var e=j[W],$=ah(e,B,I,V),Y=ah(e,n,I,V);Jh($,Y)||("imageState"===e?"image"===I.type&&nh(I.name,$,Y,Z,k+"imageState.",A):A.push({name:k+e,type:Bh(e)?"color":"linear",values:[$,Y]}))}}}},function(p,E,b){var Z,o=[];return function(p,E,b,Z,o){var A,l,V,c=b&&b.image;if(c)return nh(c,p,E,b,Z,o);var S=p,I=E,D=o;if(S&&I)for(var B in S)I.hasOwnProperty(B)&&(A=S[B],V=I[B],Jh(A,V)||(A.toArray&&V.toArray?(A.toArray(l=[]),V.toArray(l,l.length)):l=[A,V],V=Bh(B)?"color":A instanceof Zq?"euler":A instanceof uB?"quaternion":"linear",D.push({name:B,type:V,values:l})))}(p,E,b,"",o),(p=b.easing)&&(Z=[p],o.forEach(function(p){p.easings=Z})),{name:b&&b.name||f.generateUUID(),duration:b&&b.time||1,tracks:o}})}),E(H$,{getState:p,setState:pl,getImageState:p,setImageState:pl,getAnimatable:yh},!0),H$.makeStateFul=function(p,A,E){function l(b,p){if(o=b._state)return o;var Z,E=of(p),o=b._state={};for(Z in E){var A=E[Z];(A=Hm.findFinalRule(A,b))&&!function(p,E){t$.defineProperty(o,Z,{get:function(){return p(b)},set:function(p){E(b,p)},configurable:!0})}(A.getter,A.setter)}return o}t$.assign(p,{getState:function(p){var E=l(this,A);return p===K$?E:E[p]},setState:function(p,E){var b,Z=l(this,A);if(P1(p))for(var o in p)Z[o]=p[o];else if(E===K$&&(b=this.getStateSet(p)))for(var o in b)Z[o]=b[o];else Z[p]=E},addStateBinding:function(p,E){var b=Hm.findFinalRule(E=E===K$?p:E,this);if(!b)return!1;var E=this.getState(),Z=this;return t$.defineProperty(E,p,{get:function(){return b.getter(Z)},set:function(p){b.setter(Z,p)},configurable:!0}),!0},setSnapProperties:function(p){this._stateSnapProperties=p},getSnapProperties:function(){return this._stateSnapProperties||E||t$.keys(of(A)).join(",")},snapState:function(p){"string"==typeof p?p=p.split(","):X$(p)||(p=this.getSnapProperties().split(","));for(var E=this.getState(),b={},Z=0,o=p.length;Z<o;Z++){var A=p[Z].trim();A&&(b[A]=E[A])}return b},getStateSet:function(p){var E=this.getStateSets();return E&&E[p]},getStateSets:function(){return this._stateSets},registerStateSet:function(p,E){var b=this.getStateSets();b||(this._stateSets=b={}),b[p]=E}})}),Nh=(u.Default.GraphViewStateBindings=E(u.Default.GraphViewStateBindings||{},{zoom:"func@zoom",tx:"func@tx",ty:"func@ty"},!0),Bl(TY.GraphView.prototype,"ht.Default.GraphViewStateBindings",u.Default.GraphViewSnapProperties||"zoom,tx,ty"),{eye:"func@eye",center:"func@center",up:"func@up",orthoWidth:"func@orthoWidth",fovy:"func@fovy",near:"func@near",far:"func@far",fogDensity:"func@fogDensity",fogColor:"func@fogColor",fogNear:"func@fogNear",fogFar:"func@fogFar",headlightRange:"func@headlightRange",headlightDirection:"func@headlightDirection",headlightColor:"func@headlightColor",headlightIntensity:"func@headlightIntensity",headlightAmbientIntensity:"func@headlightAmbientIntensity",headlightGroup:"func@headlightGroup",headlightRatioForPhysicalMaterial:"func@headlightRatioForPhysicalMaterial",envmapType:"func@envmapType",envmap:"func@envmap",skyboxImage:{getter:function(p){return p._skybox&&p._skybox.s("shape3d.image")},setter:function(p,E){p.setSkyboxStyle({image:E})}},skyboxColor:{getter:function(p){return p._skybox&&p._skybox.s("shape3d.color")},setter:function(p,E){p.setSkyboxStyle({image:K$,color:E})}},shadow:{getter:function(p){return p.isShadowEnabled()},setter:function(p,E){E?p.enableShadow():p.disableShadow()}}}),Oh=(aE.PARAMS.forEach(function(p){Nh[p="shadow"+p]="func@"+p}),u.Default.Graph3dViewStateBindings=E(u.Default.Graph3dViewStateBindings||{},Nh,!0),Bl(R.Graph3dView.prototype,"ht.Default.Graph3dViewStateBindings",u.Default.Graph3dViewSnapProperties||"eye,center"),R.Graph3dView.prototype.getState),zh=(R.Graph3dView.prototype.getState=function(p){var E,b;return y(p)?(b=(E=p).getState())!==r$||(b=E.s(Rx))?b:(b=Q(E._image))?O(b[Rx],E,this)||null:void 0:Oh.call(this,p)},u.Default.NodeStateBindings=E(u.Default.NodeStateBindings||{},{x:"func@x",y:"func@y",elevation:"func@elevation",p3:"func@p3",localPosition3d:"func@localPosition3d",scale3d:"func@scale3d",scaleX:"func@scaleX",scaleY:"func@scaleY",scaleTall:"func@scaleTall",size3d:"func@size3d",width:"func@width",height:"func@height",tall:"func@tall",r3:"func@r3",rotation:"func@rotation",rotationMode:"func@rotationMode",quaternion:"func@quaternion",euler:"func@euler",localQuaternion:"func@localQuaternion",localEuler:"func@localEuler",rotationX:"func@rotationX",rotationY:"func@rotationY",rotationZ:"func@rotationZ",anchor3d:"funcFlatten@anchor3d",anchorX:"func@anchorX",anchorY:"func@anchorY",anchorElevation:"func@anchorElevation",position:"funcFlatten@position",scale:"funcFlatten@scale",size:"funcFlatten@size",anchor:"funcFlatten@anchor",image:"func@image",opacity:"style@opacity"},!0),Bl(u.Node.prototype,"ht.Default.NodeStateBindings",u.Default.NodeSnapProperties||"localPosition,scale,localEuler"),t$.assign(u.Node.prototype,{getModel3dState:function(p,E){var b=(b=this._model3dState)||(this._model3dState={});return p===K$||(b=b[p])===K$||E===K$?b:b[E]},setModel3dState:function(p,E,b){var Z,o=this.getModel3dState();if(P1(p))for(var A in p)o[A]=p[A];else if((Z=o[p])||(Z=o[p]={}),b===K$&&P1(E))for(var A in E)Z[A]=E[A];else Z[E]=b;this.iv()},snapModel3dState:function(){return H$.clone(this.getModel3dState())},getModel3dStateIfNotSet:function(){return this._model3dState}}),{rect:[0,0,1,1],rotation:0,scaleX:1,scaleY:1,background:K$,opacity:1,imageState:K$}),_h=(t$.assign(u.Node.prototype,{getImageState:function(p){return p?this.getImageStateProperty(p):this._imageState},setImageState:function(p,E){if(E!==K$)return this.setImageStateProperty(p,E);(E=this._imageState)!==p&&(this._imageState=p,this.fp("imageState",E,p))},getImageProperty:function(p,E){var b=this.getImage();if(b)return function E(p,b,Z,o){if(!p)return Zo(K$,o);var A=H$.getImage(p);if(!A)return o===K$?(console.warn("Image "+p+" is not complete, add second parameter as callback."),null):(H$.getImage(p,function(p){E(p,b,Z,o)}),Zo(K$,o));if(Z===b.length-1)return D=A[b[Z]],Zo(D,o);var l=A.comps;if(!l)return Zo(K$,o);var V=b[Z];Z++;for(var c=0,S=l.length;c<S;c++){var I,D,B=l[c];if(B.id===V||B.displayName===V)return Z===b.length-1?(I=b[Z],Zo(D=(B.hasOwnProperty(I)?B:zh)[I],o)):"image"===b[Z]&&"image"===B.type?E(B.name,b,++Z,o):void 0}return Zo(K$,o)}(b,p.split("/"),0,E)},getImageStateProperty:function(p){var E=this.getImageState(),b=H$.getImage(this.getImage());if(E||b){if(E){for(var Z=0,o=p.split("/"),A=o.length;Z<A;Z++){var l=E[o[Z]];if(!l){E=K$;break}E=l}if(E!==K$)return E}return p=p.replace(/imageState/g,"image"),this.getImageProperty(p)}},setImageStateProperty:function(p,E){(A=this.getImageState())?"string"==typeof A&&this.setImageState(A=this.getImageStateProperties()||{}):this.setImageState(A={});for(var b=(p=p.split("/")).length,Z=0;Z<b-1;Z++)var o=p[Z],A=A[o]||(A[o]={});A[p[b-1]]=E,this.iv()},getImageStateProperties:function(){return Ph(this._image,this._imageState)},getDefinedImageStates:function(p){return hh(this._image,p)},getDefinedImageStateNames:function(p){var E=this._image,b=p;if(!b)return bo(hh(E));hh(E,function(p){b(bo(p))})}}),E(H$,{accordionViewExpandIcon:G1(E3),accordionViewCollapseIcon:G1(E3,!0),accordionViewLabelColor:D3,accordionViewLabelFont:aq,accordionViewTitleBackground:E$,accordionViewSelectBackground:I3,accordionViewSelectWidth:3,accordionViewSeparatorColor:K$,splitViewDividerSize:1,splitViewDividerBackground:E$,splitViewDragOpacity:.5,splitViewToggleIcon:{width:16,height:16,comps:[{type:hl,rect:[2,2,12,12],background:E3}]},propertyViewLabelColor:yq,propertyViewLabelSelectColor:D3,propertyViewLabelFont:aq,propertyViewExpandIcon:G1(Z3),propertyViewCollapseIcon:G1(Z3,!0),propertyViewBackground:b3,propertyViewRowLineVisible:!0,propertyViewColumnLineVisible:!0,propertyViewRowLineColor:V3,propertyViewColumnLineColor:V3,propertyViewSelectBackground:I3,listViewLabelColor:yq,listViewLabelSelectColor:D3,listViewLabelFont:aq,listViewRowLineVisible:!1,listViewRowLineColor:V3,listViewSelectBackground:I3,treeViewLabelColor:yq,treeViewLabelSelectColor:D3,treeViewLabelFont:aq,treeViewExpandIcon:G1(l3),treeViewCollapseIcon:G1(l3,!0),treeViewRowLineVisible:!1,treeViewRowLineColor:V3,treeViewSelectBackground:I3,treeViewDoubleClickToToggle:!0,tableViewLabelColor:yq,tableViewLabelSelectColor:D3,tableViewLabelFont:aq,tableViewRowLineVisible:!0,tableViewColumnLineVisible:!0,tableViewRowLineColor:V3,tableViewColumnLineColor:V3,tableViewSelectBackground:I3,treeTableViewLabelColor:yq,treeTableViewLabelSelectColor:D3,treeTableViewLabelFont:aq,treeTableViewExpandIcon:G1(l3),treeTableViewCollapseIcon:G1(l3,!0),treeTableViewRowLineVisible:!0,treeTableViewColumnLineVisible:!0,treeTableViewRowLineColor:V3,treeTableViewColumnLineColor:V3,treeTableViewSelectBackground:I3,tableHeaderLabelColor:yq,tableHeaderLabelFont:aq,tableHeaderColumnLineVisible:!0,tableHeaderColumnLineColor:A3,tableHeaderBackground:b3,tableHeaderMoveBackground:T,tableHeaderInsertColor:I3,tableHeaderSortDescIcon:ra(Z3,!0),tableHeaderSortAscIcon:ra(Z3),tabViewTabGap:1,tabViewLabelColor:D3,tabViewLabelFont:aq,tabViewTabBackground:E$,tabViewSelectWidth:3,tabViewSelectBackground:I3,tabViewMoveBackground:T,tabViewInsertColor:I3,toolbarLabelColor:yq,toolbarLabelSelectColor:D3,toolbarLabelFont:aq,toolbarBackground:b3,toolbarSelectBackground:I3,toolbarItemGap:8,toolbarSeparatorColor:o3},!0),{translateX:1,sortColumn:1}),vh={sortable:1,sortOrder:1,sortFunc:1},Qh={focusData:1},qh={dataModel:1,sortColumn:1,sortFunc:1,visibleFunc:1,rootData:1,rootVisible:1},uh={dataModel:1,sortFunc:1,visibleFunc:1,categorizable:1},Rh=function(p,E){E.add(p),p.hasChildren()&&p.eachChild(function(p){Rh(p,E)})},sh=function(p,E,b,Z,o,A,l,V,c,S,I){var D,B,n,k,j,W,m=b.getValueType(S),e=b.getAlign(S);if(b.getEnumValues(S))return D=b.toEnumLabel(E,S),B=Jq||0,n=0,k=A,j=H$.getTextSize(Z,D).width,(W=Q(b.toEnumIcon(E,S)))&&(n=A+Jq/2,"center"===e?n+=(V-(B+j))/2:"right"===e&&(n=n+V-(B+j)),iq(p,W,n,l+c/2,S,I),k=n+Jq/2),void(D!=r$&&(W?cf(p,D,Z,o,k,l,V-(k-A),c):cf(p,D,Z,o,A,l,V,c,e)));if((E=b.formatValue(E))!=r$){if(m!==na)return m===Ba||!m&&h1(E)?(W=Q(E?Ql:ql),void iq(p,W,A+V/2,l+c/2,S,I)):void cf(p,E,Z,o,A,l,V,c,e);M6(p,A,l,V,c,E)}},wh=function(b,Z){var o=Z.view,A=JW(b),l=Z.column||Z.property;o.getDataModel().beginTransaction(),(Z.editor=b).info=Z,o.setCurrentEditor(b),o.getView().insertBefore(A,o._79O),dW(b,Z.editorRect),b.setFocus?b.setFocus():aW(b),b.commitValue=function(p,E){b._17Q&&(b=b._17Q),E||o.setValue(Z.data,l,b.getValue?b.getValue():b.value),b.close&&b.close(),Lf(A)},l.onEditorCreated&&l.onEditorCreated(Z)},ih=function(p,E,b,Z,o){var A=xf(p,b),l=E.value,V=E.view,b=o.getValueType(E.data);return A.onblur=A.onchange=function(p){V.endEditing()},"input"===p?((l=o.formatValue(l))!=r$&&(A.value=l),A.onkeydown=function(p){V6(p)?V.endEditing():c6(p)&&V.endEditing(!0)},b!==ka&&b!==ja||U$(A,Xa,H$.numberListener)):p===$x&&Z.forEach(function(p){var E=n.createElement("option");E.innerHTML=o.toEnumLabel(p),E.value=p,o.isEnumEqual(l,p)&&(E.selected=!0),eW(A,E)}),wh(A,E),A},fh=u.widget={},b=function(p,E,b){yf("ht.widget."+p,E,b)},pO=(E(Mq,{ms_value:function(p,E){p.getValue=function(p){var E=(p=this.getItemById(p)).element;return F$(E)?E:E?E.getValue?E.getValue():E.value:p.selected},p.setValue=function(p,E){var b;(p=this.getItemById(p))&&((b=p.element)&&!F$(b)?b.setValue?b.setValue(E):b.value=E:(h1(E)?p.selected=E:p.element=E,this.iv()))},p.v=function(p,E){if(2===arguments.length)this.setValue(p,E);else{if(!P1(p))return this.getValue(p);for(var b in p)this.setValue(b,p[b])}return this}},_46o:function(p,E){p._icon=r$,p._accessType=r$,p._valueType=r$,p._editable=!1,p._batchEditable=!0,p._align=Yl,p._nullable=!0,p._emptiable=!1,p.setParent=k1,p.formatValue=function(p){var E=this._valueType;return this.getEnumValues()?this.toEnumLabel(p):E===Ba?!!p:p!=r$&&E===ka?O$(p):p},p.setEnum=function(p,E,b,Z,o,A,l){p&&!X$(p)&&p.values&&(Z=p.editable,b=p.icons,E=p.labels,o=p.strict,A=p.maxHeight,l=p.dropDownWidth,p=p.values),a1(p)&&(p=p._as),a1(E)&&(E=E._as),a1(b)&&(b=b._as),this._enumValues=p,this._enumLabels=E,this._enumIcons=b,this._enumEditable=Z,this._enumStrict=o==r$||o,this._enumMaxHeight=A,this._enumDropDownWidth=l,p&&p.length&&C1(p[0])&&(this._valueType=ja),this.fp("enum",!1,!0)},p.getEnumDropDownWidth=function(){return this._enumDropDownWidth},p.getEnumMaxHeight=function(){return this._enumMaxHeight},p.isEnumEditable=function(){return this._enumEditable},p.getEnumValues=function(){return this._enumValues},p.getEnumLabels=function(){return this._enumLabels},p.getEnumIcons=function(){return this._enumIcons},p.isEnumStrict=function(){return this._enumStrict},p.isEnumEqual=function(p,E){return this._enumStrict?p===E:p==E},p.toEnumLabel=function(p,E){var b=this.getEnumValues(E),Z=this.getEnumLabels(E);if(b&&Z)for(var o=0;o<b.length;o++)if(this.isEnumEqual(p,b[o]))return Z[o];return p},p.toEnumIcon=function(p,E){var b=this.getEnumValues(E),Z=this.getEnumIcons(E);if(b&&Z)for(var o=0;o<b.length;o++)if(this.isEnumEqual(p,b[o]))return Z[o];return K$}},_45o:function(p,E){p._87o=function(p,E,b,Z,o,A){var l,V;p&&(l=this._90I,V=nW(1),this._columnLineVisible&&--o,this._rowLineVisible&&--A,o<=0||A<=0||((l=this._90I?l:this._90I={})[E]||(l[E]=new q),dW(V,this.tx()+b,this.ty()+Z,o,A),eW(V,p),this._view.insertBefore(V,this._79O),p.onParentAdded&&p.onParentAdded(V),l[E].add(V)))},p._76o=function(){var p=this._90I;if(p){for(var E in p)p[E].each(function(p){Lf(p)});delete this._90I}},p._77o=function(p){var E;this._90I&&(E=this._90I[p])&&(E.each(function(p){Lf(p)}),delete this._90I[p])}},_47o:function(p,E){p.getValue=function(p,E){return E.getValue?E.getValue(p,E,this):ZW(p,E.getAccessType(),E.getName())},p.setValue=function(p,E,b){var Z,o,A,l;E.isEmptiable(p)||""!==b||(b=K$),!E.isNullable(p)&&b==r$||(Z=this,o=E.getName(p),A=E.getAccessType(p),(l=E.getValueType(p))===ka&&F$(b)?b=El(b):l===ja&&F$(b)?b=parseFloat(b):l===Ba&&F$(b)&&(b="true"===b),Z._batchEditable&&E._batchEditable&&Z.isSelected(p)?Z.sm().each(function(p){E.setValue?E.setValue(p,E,b,Z):oW(p,A,o,b)}):E.setValue?E.setValue(p,E,b,Z):oW(p,A,o,b))},p.setCurrentEditor=function(p){this.endEditing(),this._currentEditor=p,this.redraw()},p.isEditing=function(p,E){var b=this._currentEditor;return!!b&&(!E||!!(b=b.info)&&(b.column||b.property)===E&&b.data===p)},p.endEditing=function(p){var E=this._currentEditor;E&&(delete this._currentEditor,E.commitValue&&E.commitValue(E.info,p),this.redraw(),this.getDataModel().endTransaction())},p.beginEditing=function(p){this.endEditing();var b=this,Z=p.column||p.property;if(Z.beginEditing)Z.beginEditing(p);else{var E,o,A=p.data,l=p.value,V=b.getSelectBackground(A),c=Z.getEnumValues(A),S=Z.getSlider(A),I=Z.getColorPicker(A);if(S)return(E=Rq(fh.Slider,S)).setValue(l),E.getView().onblur=function(p){b.endEditing()},E.isInstant()&&(E.onValueChanged=function(){b.setValue(A,Z,E.getValue())}),void wh(E,p);if(I||Z.getValueType(A)===na)return(S=Rq(fh.ColorPicker,I)).setValue(l),o=S.onClosed,S.onClosed=function(){b.endEditing(),o&&o.call(this)},S.isInstant()&&(S.onValueChanged=function(p,E){b.setValue(A,Z,E)}),wh(S,p),void S.open();if(c)fh.ComboBox?((I=new fh.ComboBox).setValue(l),I.setValues(c),I.setLabels(Z.getEnumLabels(A)),I.setIcons(Z.getEnumIcons(A)),I.setEditable(Z.isEnumEditable(A)),I.setStrict(Z.isEnumStrict(A)),I.setMaxHeight(Z.getEnumMaxHeight(A)),I.setDropDownWidth(Z.getEnumDropDownWidth(A)),I.onClosed=function(){b.endEditing()},wh(I,p),I.open()):ih($x,p,V,c,Z);else{if(Z.getValueType(A)!==Ba&&!h1(l))return Z.getItemEditor(A)?(((I=(S=new(of(Z.getItemEditor(A)))(A,Z,b,p)).getView())._17Q=S).setValue(l),WW(I),wh(I,p),void(S.editBeginning&&S.editBeginning())):void ih("input",p,V,r$,Z);b.setValue(A,Z,!l)}}}},_44o:function(p,E){p.init=function(p){var E=this,b=E.th=new kO(p),Z=E._view=BW(1,E);E.tv=E._tableView=p,eW(Z,b.getView()),eW(Z,p.getView()),b.mp(function(p){p.property===_l&&E.iv()}),E.iv()},p.getTableView=function(){return this.tv},p.getTableHeader=function(){return this.th},p.getDataModel=function(){return this.tv.dm()},p.getColumnModel=function(){return this.tv.getColumnModel()},p.setColumns=function(p){this.tv.setColumns(p)},p.addColumns=function(p){this.tv.addColumns(p)},p.endEditing=function(){this.tv.endEditing()},p.validateImpl=function(){var p=this.th,E=FW(p),b={x:0,y:0,width:this.getWidth(),height:E};dW(p,b),b.y=E,b.height=b$(0,this.getHeight()-E),dW(this.tv,b)}},ms_vs:function(p,E){p._41o=function(){return this._29I.height<this._59I},p._43o=function(){var p=this;p._41o()&&(p._58I||(Al(function(){p._94O()},Nq),p.iv()),p._58I=new Date)},p._94O=function(){var p=this;p._58I&&((new Date).getTime()-p._58I.getTime()>=Nq?(delete p._58I,p.iv()):Al(function(){p._94O()},Nq))},p._93I=function(){var p,E,b,Z,o,A,l,V=this,c=V._27I;V._58I||!V._autoHideScrollBar?(c||eW(V._79O,c=V._27I=nW()),p=(Z=V._29I).height,E=V._59I,b=V.getScrollBarSize(),Z=Z.width-b-2,o=p*(-V.ty()/E),A=p*(p/E),l=c.style,p<E?(A<Oq&&(p<(o=(o=o+A/2-Oq/2)<0?0:o)+Oq&&(o=p-Oq),A=Oq),l.visibility=jx,l.background=V.getScrollBarColor(),l.borderRadius=b/2+Ll,dW(c,Z,o,b,A)):l.visibility=kx):c&&(c.style.visibility=kx)}},ms_hs:function(p,E){p._40o=function(){return this._29I.width<this._91I},p._42o=function(){var p=this;p._40o()&&(p._95O||(Al(function(){p._94I()},Nq),p.iv()),p._95O=new Date)},p._94I=function(){var p=this;p._95O&&((new Date).getTime()-p._95O.getTime()>=Nq?(delete p._95O,p.iv()):Al(function(){p._94I()},Nq))},p._92I=function(){var p,E,b,Z,o,A,l,V=this,c=V._28I;V._95O||!V._autoHideScrollBar?(c||eW(V._79O,c=V._28I=nW()),p=(Z=V._29I).width,E=V._91I,b=V.getScrollBarSize(),Z=Z.height-b-2,o=p*(-V.tx()/E),A=p*(p/E),l=c.style,p<E?(A<Oq&&(p<(o=(o=o+A/2-Oq/2)<0?0:o)+Oq&&(o=p-Oq),A=Oq),l.visibility=jx,l.background=V.getScrollBarColor(),l.borderRadius=b/2+Ll,dW(c,o,Z,A,b)):l.visibility=kx):c&&(c.style.visibility=kx)}}}),k3(Ql,F1(16,16,[{type:Pl,rect:[1,1,14,14],background:I3},{type:Cl,rect:[1,1,14,14],width:1,color:c3},{type:Jl,points:[13,3,7,12,4,8],borderWidth:2,borderColor:"#FFF"}])),k3(ql,F1(16,16,{type:Cl,rect:[1,1,14,14],width:1,color:c3})),k3(ul,F1(16,16,[{type:yl,rect:[2,2,12,12],borderWidth:1,borderColor:c3,background:"#FFF"},{type:yl,rect:[4,4,8,8],background:I3}])),k3(Rl,F1(16,16,{type:yl,rect:[2,2,12,12],borderWidth:1,borderColor:c3})),Mq._15Q=function(p,E){p._29I=W1,p._59I=0,p._91I=0,p._5o=function(p){var E=this;E._30I=new q,E._rows=new q,E._rowMap={},E._31I=0,E._14I=0,E._view=BW(1,E),E._canvas=kW(E._view),eW(E._view,E._79O=nW()),E.dm(p||new wm)},p.getCheckIcon=function(p){var E=this.sm(),p=E.co(p);return E.sg()?Q(p?ul:Rl):Q(p?Ql:ql)},p.checkData=function(p){var E=this.sm(),b=E.co(p);E.sg()&&b||(this._32o=1,b?E.rs(p):E.as(p),delete this._32o)},p.getDataAt=function(p){p.target&&(p=this.lp(p));var p=z$(p.y/this._rowHeight),E=this._rows;return p<0||p>=E.size()?r$:E.get(p)},p.onDataDoubleClicked=function(p,E){},p.onDataClicked=function(p,E){},p.adjustTranslateX=function(p){return 0},p.adjustTranslateY=function(p){var E=this.getHeight()-this._59I;return 0<(p=p<E?E:p)?0:O$(p)},p.onPropertyChanged=function(p){p=p.property,qh[p]?this.ivm():Qh[p]||this.redraw(),p===Qx?this._42o():p===qx&&this._43o()},p.getLabel=function(p){return p.toLabel()},p.getLabelFont=function(p){return this._labelFont},p.getLabelColor=function(p){if(this.isCheckMode()){if(this._focusData===p)return this._labelSelectColor}else if(this.isSelected(p))return this._labelSelectColor;return this._labelColor},p.getStartRowIndex=function(){return this._31I},p.getEndRowIndex=function(){return this._14I},p.getRowDatas=function(){return this._rows},p.getRowIndex=function(p){return this._rowMap[p._id]},p.getRowSize=function(){return this._rows.size()},p.getViewRect=function(){return p$(this._29I)},p.isVisible=function(p){return!this._visibleFunc||this._visibleFunc(p)},p.getCurrentSortFunc=function(){return this._sortFunc},p.setDataModel=function(p){var E=this,b=E._dataModel,Z=E._selectionModel;b!==p&&(b&&(b.umm(E.handleDataModelChange,E),b.umd(E.handleDataPropertyChange,E),b.umh(E.handleHierarchyChange,E),Z||b.sm().ums(E.handleSelectionChange,E)),(E._dataModel=p).mm(E.handleDataModelChange,E),p.md(E.handleDataPropertyChange,E),p.mh(E.handleHierarchyChange,E),Z?Z._21I(p):p.sm().ms(E.handleSelectionChange,E),E.fp("dataModel",b,p))},p.validateModel=function(){var p=this,E=(p._rows.empty(),p._rowMap={},p.buildChildren(p._dataModel._roots),p._rows=p._rows.toList(p.isVisible,p)),b=0,Z=p.getCurrentSortFunc(),o=E.size();for(Z&&E.sort(Z);b<o;b++)p._rowMap[E.get(b)._id]=b},p.buildChildren=function(p){var E=this;p.each(function(p){E._rows.add(p),E.buildChildren(p._children)})},p.handleDataModelChange=function(p){this.ivm()},p.handleDataPropertyChange=function(p){"parent"===p.property?this.ivm():this.invalidateData(p.data)},p.handleHierarchyChange=function(p){this.ivm()},p.handleSelectionChange=function(p){p.datas.each(this.invalidateData,this),this.onSelectionChanged(p)},p.onSelectionChanged=function(p){var E=this.sm();!this.isAutoMakeVisible()||1!==E.size()||"set"!==p.kind&&"append"!==p.kind||this._32o||this.makeVisible(E.ld())},p.handleBackgroundClick=function(p){If(p)&&!this.isCheckMode()&&this.sm().cs()},p.makeVisible=function(p){p&&(this._23I=p,this.iv())},p.scrollToIndex=function(p){var E=this._29I,b=E.height,Z=this._rowHeight,o=Z*p;0<=p&&p<this._rows.size()&&0<b&&(o+Z>E.y+b?this.ty(-o+b-Z):o<E.y&&this.ty(-o))},p.autoScroll=function(p,E){var b=this,Z=b._rowHeight,o=Z,A=Z/4,l=b._29I,p=b.lp(p),V={x:b.tx(),y:b.ty()};return 0<Z&&l&&(p.x-l.x<o?b.translate(A,0):l.x+l.width-p.x<o&&b.translate(-A,0),p.y-l.y<o?b.translate(0,A):l.y+l.height-p.y<o&&b.translate(0,-A)),V.x=b.tx()-V.x,V.y=b.ty()-V.y,E&&(E.x+=V.x,E.y+=V.y),V},p.getTopRowOrderSelection=function(){var p=this.sm().getTopSelection(),E={},b=new q;return p.each(function(p){E[p._id]=p}),this._rows.each(function(p){E[p._id]&&b.add(p)}),b},p.getRowOrderSelection=function(){var E=new q;return this._rows.each(function(p){this.isSelected(p)&&E.add(p)},this),E},p.ivm=function(){this.invalidateModel()},p.invalidateModel=function(){this._96I||(this._96I=1,this._32I=1,delete this._24I),this.iv()},p.redraw=function(){this._32I||(this._32I=1,delete this._24I,this.iv())},p.invalidateData=function(p){Il?this.redraw():this._32I||(this._24I||(this._24I={}),this._24I[p._id]=p,this.iv())},p.getFocusData=function(){return this._focusData},p.setFocusDataById=function(p){this.setFocusData(this.dm().getDataById(p))},p.setFocusData=function(p){var E=this._focusData;E!==p&&(this._focusData=p,this.fp("focusData",E,p),E&&this.invalidateData(E),p&&(this.invalidateData(p),this.isAutoMakeVisible()&&this.makeVisible(p)))},p.drawRowBackground=function(p,E,b,Z,o,A,l){var V=this.isCheckMode();(E===this._focusData&&V||b&&!V)&&M6(p,Z,o,A,l,this.getSelectBackground(E))},p.drawData=function(p,E,b){var Z=this._rowHeight,o=Z*b,A=(l=this._29I).x,l=l.width;p.save(),p.beginPath(),p.rect(A,o,l,Z),p.clip(),this._87o(this.drawRow(p,E,this.isSelected(E),A,o,l,Z),b,A,o,l,Z),p.restore(),this._rowLineVisible&&M6(p,A,o+Z-1,l,1,this._rowLineColor)},p._12I=function(p){var E=this._31I,b=(A=this._29I).x,Z=A.y,o=A.width,A=A.height;for(p.beginPath(),p.rect(b,Z,o,A),p.clip(),p.clearRect(b,Z,o,A),this._76o(),this._93db(p);E<this._14I;E++)this.drawData(p,this._rows.get(E),E);this._92db(p)},p._13I=function(E){for(var p,b=this,Z=b._rowHeight,o=b._29I,A=o.x,l=o.width,V=b._31I,c=b._30I;V<b._14I;V++)p=b._rows.get(V),b._24I[p._id]&&c.add({data:p,index:V});c.isEmpty()||(E.beginPath(),c.each(function(p){E.rect(A,p.index*Z,l,Z)}),E.clip(),c.each(function(p){E.clearRect(A,p.index*Z,l,Z)}),c.each(function(p){b._77o(p.index)}),b._93db(E),c.each(function(p){b.drawData(E,p.data,p.index)}),b._92db(E),c.empty())},p.preValidateModel=function(){this.endEditing&&this.endEditing()},p.validateImpl=function(){var p=this,E=p._canvas,b=p.getWidth(),Z=p.getHeight(),o=p._rowHeight,A=p._32I,l=(b===E.clientWidth&&Z===E.clientHeight||(mW(E,b,Z),A=1),p._96I&&(p.preValidateModel(),p.validateModel()),p._29I),b={x:-p.tx(),y:-p.ty(),width:b,height:Z},Z=p._rows.size(),E=TW(E),V=p._23I,l=(A||i1(b,l)||(A=1),p._29I=b,p._59I=Z*o,p._31I=z$(b.y/o),p._14I=_$((b.y+b.height)/o),p._31I<0&&(p._31I=0),p._14I>Z&&(p._14I=Z),p._99I&&A&&p._99I(),p.tx()),b=p.ty();(p._40o()||p._41o())&&(p._59I+=p.getScrollBarSize(),p._99I&&A&&(p._91I+=p.getScrollBarSize())),gW(E,l,b,1),A?p._12I(E):p._24I&&p._13I(E),p._93I(),p._92I(),E.restore(),p._32I=p._24I=p._96I=r$,V&&(p.scrollToIndex(p.getRowIndex(V)),delete p._23I),p.tx(p.tx()),p.ty(p.ty())},p.canHandleSelectMode=function(p,E){return!0},p.isDraggable=function(p){return!0}},Mq._48o=function(p,E){p._rootVisible=!0,p._rootData=r$,p._35o=function(){this._expandMap={},this._levelMap={}},p.validateModel=function(){var p=this,E=p._rootData;p._rows.empty(),p._levelMap={},p._rowMap={},p._currentLevel=0,E?p._rootVisible?p.isVisible(E)&&p.buildData(E):p.buildChildren(E):p.buildChildren(),delete p._currentLevel},p.buildData=function(p){var E=p._id,b=this._rows;this._rowMap[E]=b.size(),b.add(p),this._levelMap[E]=this._currentLevel,this.isExpanded(p)&&(this._currentLevel++,this.buildChildren(p),this._currentLevel--)},p.buildChildren=function(p){var E=this,b=p?p._children:E._dataModel._roots,Z=E.getCurrentSortFunc();Z&&E.isChildrenSortable(p)?b.toList(E.isVisible,E).sort(Z).each(E.buildData,E):b.each(function(p){E.isVisible(p)&&E.buildData(p)})},p.getLevel=function(p){return this._levelMap[p._id]},p.getToggleIcon=function(p){var E=this._loader,b=this._collapseIcon;return E&&!E.isLoaded(p)?b:p.hasChildren()?this.isExpanded(p)?this._expandIcon:b:r$},p.isCheckMode=function(){return this._checkMode!=r$},p.isChildrenSortable=function(p){return!0},p.handleDataModelChange=function(p){p.kind===Nl?delete this._expandMap[p.data._id]:p.kind===Ol&&(this._expandMap={}),this.ivm()},p.toggle=function(p){this.isExpanded(p)?this.collapse(p):this.expand(p)},p.isExpanded=function(p){return 1===this._expandMap[p._id]},p.expand=function(p){var E=this._loader;this.isExpanded(p)||(E&&!E.isLoaded(p)&&E.load(p),this._expandMap[p._id]=1,this.ivm(),this.onExpanded(p))},p.onExpanded=function(p){},p.collapse=function(p){this.isExpanded(p)&&(delete this._expandMap[p._id],this.ivm(),this.onCollapsed(p))},p.onCollapsed=function(p){},p.expandAll=function(p){var E;p?(this.expand(p),p.eachChild(function(p){this.expandAll(p)},this)):((E=this)._dataModel.each(function(p){p.hasChildren()&&(E._expandMap[p._id]=1)}),E.ivm())},p.collapseAll=function(){this._expandMap={},this.ivm()},p.makeVisible=function(p){if(p&&(!this._rootData||p.isDescendantOf(this._rootData))){for(var E=p._parent;E;)this.expand(E),E=E._parent;this._23I=p,this.iv()}},p.checkData=function(p){var E,b=this._checkMode,Z=this.sm(),o=Z.co(p);if(!Z.sg()||!o){if(this._32o=1,b===jl)o?Z.rs(p):Z.as(p);else if(b===vx)(E=new q(p)).addAll(p._children);else if("descendant"===b)E=new q,Rh(p,E);else if("all"===b&&(E=new q,Rh(p,E),!o))for(var A=p._parent;A;)E.add(A),A=A._parent;E&&(o?Z.rs(E):Z.as(E)),delete this._32o}},p.drawTree=function(p,E,b,Z,o,A,l){var V=this,c=V._indent,S=V._levelMap[E._id],I=V.getIconWidth(E),D=Q(V.getToggleIcon(E));D?(iq(p,D,(Z+=c*S)+c/2,o+l/2,E,V),Z+=c):Z+=c*(S+1),V._checkMode&&(iq(p,V.getCheckIcon(E),Z+c/2,o+l/2,E,V),Z+=c),V.drawIcon(p,E,Z,o,I,l),V.drawLabel(p,E,Z+I,o,l)}},Mq._14Q=function(p,E){p.getIcon=function(p){return p.getIcon()},p.getIconWidth=function(p){return this.getIcon(p)?this._indent:0},p._iconStretch=Va,p.getIconStretch=function(p){return this._iconStretch},p.setIconStretch=function(p){var E=this._iconStretch;this._iconStretch=p,this.fp("iconStretch",E,p)},p.drawIcon=function(p,E,b,Z,o,A){var l,V,c;o&&(l=this.getBodyColor(E),(V=Q(this.getIcon(E),l))&&((c=this.getIconStretch(E))==r$&&(c=Va),A-=this.isRowLineVisible()?1:0,fq(p,V,c,b,Z,o,A,E,this,l),h6(p,this.getBorderColor(E),b,Z,o,A)))},p.drawLabel=function(p,E,b,Z,o){cf(p,this.getLabel(E),this.getLabelFont(E),this.getLabelColor(E),b,Z,0,o)}},Mq._50o=function(p,E){p._98I=function(){var p=this._39o=new wm;this._60I=new q,p.mm(this._17o,this),p.md(this._18o,this),p.mh(this._19o,this)},p.setColumns=function(p){this._39o.clear(),this.addColumns(p)},p.addColumns=function(p){var b=this._39o;p.forEach(function(p){var E;p instanceof EO||(E=of(p.className),p=Rq(E||EO,p)),b.add(p)})},p.onColumnClicked=function(p){},p.onCheckColumnClicked=function(p){},p._3Q=function(p){for(var E,b=0,Z=this._60I,o=Z.size();b<o;b++)if((E=Z.get(b)).column===p)return E;return r$},p.getColumnAt=function(p){return(p=this._4Q(p))?p.column:r$},p._4Q=function(p){for(var E=(p.target?this.lp(p):p).x,b=this._60I,Z=0;Z<b.size();Z++){var o=b.get(Z),A=o.startX;if(A<=E&&E<A+o.column.getWidth())return o}return r$},p.getToolTip=function(p){var E=this.getDataAt(p),p=this.getColumnAt(p);return E&&p?p.getToolTip(E,this):r$},p.adjustTranslateX=function(p){var E=this.getWidth()-this._91I;return 0<(p=p<E?E:p)?0:O$(p)},p._99I=function(){var b=this,Z=b._29I,o=b._60I;o.empty(),b._91I=0,b._39o._roots.each(function(p){var E;p.isVisible()&&(E=b._91I+p.getWidth(),b._91I<=Z.x+Z.width&&E>=Z.x&&o.add({column:p,startX:b._91I}),b._91I=E)})},p.drawData=function(Z,o,A){var l=this,V=l._rowHeight,c=V*A,S=l.isSelected(o),p=(E=l._29I).x,E=E.width;l.drawRowBackground(Z,o,S,p,c,E,V),l._60I.each(function(p){var E=p.column,p=p.startX,b=E.getWidth();0<b&&!l.isEditing(o,E)&&(Z.save(),Z.beginPath(),Z.rect(p,c,b,V),Z.clip(),l._87o(l.drawCell(Z,o,S,E,p,c,b,V),A,p,c,b,V),l._columnLineVisible&&M6(Z,p+b-1,c,1,V,l._columnLineColor),Z.restore())}),l._rowLineVisible&&M6(Z,p,c+V-1,E,1,l._rowLineColor)},p.drawCell=function(p,E,b,Z,o,A,l,V){if(Z.drawCell)return Z.drawCell(p,E,b,Z,o,A,l,V,this);b=this.getValue(E,Z),sh(p,b,Z,this.getLabelFont(E,Z,b),this.getLabelColor(E,Z,b),o,A,l,V,E,this)},p.getColumnModel=function(){return this._39o},p._17o=function(p){this.redraw()},p._18o=function(p){p.data===this._sortColumn&&vh[p.property]?this.ivm():(this._42o(),this.redraw())},p._19o=function(p){this.redraw()},p.getCurrentSortFunc=function(){var b,Z,o=this,A=o._sortColumn;return A&&A.isSortable()?(Z=A.getSortFunc(),b=Ux===A.getSortOrder()?1:-1,Z=Z||Zf,function(p,E){return Z.call(o,o.getValue(p,A),o.getValue(E,A),p,E)*b}):o._sortFunc},p.isCellEditable=function(p,E,b){return!(!E.isEditable()||!this.isEditable())&&(!E.isCellEditable||E.isCellEditable(p,E,b,this))},p._37O=function(p,E){if(If(E))for(var b=this,Z=b.lp(E),o=b._60I,A=b._rowHeight,l=b._29I,V=l.x,c=l.y,S=l.width,I=l.height,D=0;D<o.size();D++){var B,n,k=o.get(D),j=k.startX,W=(k=k.column).getWidth();if(k!==b._31o&&k!==b._4o&&Z.x>=j&&Z.x<j+W&&b.isCellEditable(p,k,E))return W={x:(j={x:j,y:b.getRowIndex(p)*A,width:W,height:A}).x+b.tx(),y:j.y+b.ty(),width:j.width,height:j.height},n=B=0,j.x<V?B=j.x-V:V+S<j.x+j.width&&(B=j.x+j.width-V-S),B&&(b.tx(b.tx()-B),W.x-=B),j.y<c?n=j.y-c:c+I<j.y+A&&(n=j.y+A-c-I),n&&(b.ty(b.ty()-n),W.y-=n),void b.beginEditing({data:p,column:k,value:b.getValue(p,k),event:E,rect:j,editorRect:W,view:b})}}},fh.BaseItemEditor=function(p,E,b,Z){this._data=p,this._column=E,this._master=b,this._editInfo=Z},b("BaseItemEditor",t$,{ms_ac:["data","column","master","editInfo"],editBeginning:function(){},getView:function(){},getValue:function(){},setValue:function(){}}),u.Tab=function(){R1(pO,this)}),EO=(Jf("Tab",sm,{ms_ac:["view","closable","disabled","visible"],_icon:r$,_closable:!1,_disabled:!1,_visible:!0,setParent:k1}),u.Column=function(){R1(EO,this)}),bO=(Jf("Column",sm,{_46o:1,ms_ac:["accessType","valueType",jx,ax,Jx,zl,"align",na,"sortOrder",yx,"sortable","clickable","nullable","emptiable","slider","colorPicker","itemEditor"],_visible:!0,_width:80,_sortOrder:Ux,_sortFunc:r$,_sortable:!0,_clickable:!0,setWidth:function(p){var E=this._width;this._width=p=p<16?16:p,this.fp(zl,E,p)},getToolTip:function(p,E){return this.formatValue(E.getValue(p,this))}}),u.Property=function(){R1(bO,this)}),ZO=(Jf("Property",sm,{_46o:1,ms_ac:["accessType","valueType",ax,Jx,"categoryName",na,"align","nullable","emptiable","slider","itemEditor","colorPicker"],_categoryName:r$,getToolTip:function(p,E,b){return E?this.formatValue(b.getValue(p,this)):b.getPropertyName(this)}}),fh.AccordionView=function(){this._20o={},this._21o=new q,this._10o=r$,this._9o=r$,this._11o=r$,this._view=BW(0,this),this.iv()},b("AccordionView",t$,{ms_v:1,ms_fire:1,ms_ac:[Cx,hx,"titleHeight",lx,Ax,"titleBackground","selectWidth",Zl,"orientation","separatorColor"],_expandIcon:H$.accordionViewExpandIcon,_collapseIcon:H$.accordionViewCollapseIcon,_titleHeight:Uq,_labelColor:H$.accordionViewLabelColor,_labelFont:H$.accordionViewLabelFont,_titleBackground:H$.accordionViewTitleBackground,_selectBackground:H$.accordionViewSelectBackground,_selectWidth:H$.accordionViewSelectWidth,_orientation:"v",_separatorColor:H$.accordionViewSeparatorColor,onPropertyChanged:function(p){this.iv()},getView:function(){return this._view},getTitles:function(){return this._21o},getCurrentTitle:function(){return this._10o},add:function(E,p,b,Z){var o=this,A=nW(),p={content:p,div:A,canvas:kW(A),icon:Z};if(o._20o[E])throw E+" already exists";var l=p.downEventFunc=function(p){sq(p)},V=p.upEventFunc=function(p){sq(p),If(p)&&(o._10o===E?o.collapse():o.expand(E))};[Ha,Ya].forEach(function(p){U$(A,p,l)}),[Fa,Ka].forEach(function(p){U$(A,p,V)}),A.style.cursor=ea,eW(o._view,A),o._20o[E]=p,o._21o.add(E),b&&o.expand(E),o.iv()},remove:function(p){var E,b=this._20o[p];b&&(E=b.div,Lf(E),[Ha,Ya].forEach(function(p){N$(E,p,b.downEventFunc)}),[Fa,Ka].forEach(function(p){N$(E,p,b.upEventFunc)}),delete this._20o[p],this._21o.remove(p),this.iv())},clear:function(){this._21o.toArray().forEach(this.remove,this),this._20o={},this._21o.empty(),this.iv()},isExpanded:function(p){return this._10o===p},expand:function(p){this._20o[p]&&this._10o!==p&&(this._10o=p,this.onExpanded(p),this.iv())},onExpanded:function(p){},collapse:function(){this._10o&&(this.onCollapsed(this._10o),delete this._10o,this.iv())},onCollapsed:function(p){},initCanvas:function(p,E,b){return mW(p,E,b),p=TW(p),gW(p,0,0,1),p.clearRect(0,0,E,b),p},drawTitle:function(p,E,b,Z,o){var A=this,o=Q(o.icon),l=A.isExpanded(E),V=A._titleHeight,c=A._titleBackground,S=A._selectWidth,I=A._separatorColor,D=Q(l?A._expandIcon:A._collapseIcon),B=S+4;M6(p,0,0,b,Z,c),l&&S&&M6(p,0,0,S,Z,A._selectBackground),!l&&A._21o.get(A._21o.size()-1)===E||M6(p,0,Z-1,b,1,I||lf(c)),o&&(iq(p,o,B+tm(o)/2,V/2),B+=tm(o)+2),cf(p,E,A.getLabelFont(E),A.getLabelColor(E),B,0,0,V),D&&iq(p,D,b-tm(D)/2-4,V/2)},validateImpl:function(){var l=this,p=l._view,V=0,c=0,S=l.getWidth(),I=l.getHeight(),D=l._titleHeight,B=l._21o.size()*D,E=l._11o,b=l._9o,Z=(delete l._11o,delete l._9o,l._21o.each(function(p){var E,b,Z=l._20o[p],o=Z.content,A=l._10o===p;T1(l)?(dW(Z.div,V,0,D,I),E=l.initCanvas(Z.canvas,D,I),LW(E,0,I),xW(E,-s$),l.drawTitle(E,p,I,D,Z),E.restore(),A?(b=b$(0,S-B),o&&(l._11o=o,l._9o=JW(o),dW(o,V+D,0,b,I)),V+=D+b):V+=D):(dW(Z.div,0,c,S,D),E=l.initCanvas(Z.canvas,S,D),l.drawTitle(E,p,S,D,Z),E.restore(),A?(b=b$(0,I-B),o&&(l._11o=o,l._9o=JW(o),dW(o,0,c+D,S,b)),c+=D+b):c+=D)}),l._9o);E&&E!==l._11o&&E.endEditing&&E.endEditing(),Z&&Z!==b&&eW(p,Z),b&&b!==Z&&Lf(b)}}),fh.SplitView=function(p,E,b,Z){var o=this,A=o._dividerDiv=nW(),l=o._60O=kW(),V=o._61O=kW(),l=l.style,V=V.style;o._view=BW(1,o),eW(o._view,A),l.msTouchAction=$a,l.pointerEvents=$a,l.cursor=ea,V.msTouchAction=$a,V.pointerEvents=$a,V.cursor=ea,p&&o.setLeftView(p),E&&o.setRightView(E),b&&o.setOrientation(b),Z!=r$&&o.setPosition(Z),o.setStatus(Ul),new ZO(o)},b("SplitView",t$,{ms_v:1,ms_fire:1,ms_ac:["continuousLayout","dividerSize","dividerBackground","toggleIcon","togglable","dragOpacity","orientation","draggable","status"],_continuousLayout:!1,_position:.5,_togglable:!0,_orientation:"h",_draggable:!0,_dividerSize:H$.splitViewDividerSize,_dividerBackground:H$.splitViewDividerBackground,_dragOpacity:H$.splitViewDragOpacity,_toggleIcon:H$.splitViewToggleIcon,onPropertyChanged:function(p){this.iv()},getDividerDiv:function(){return this._dividerDiv},getPosition:function(){return this._position},setPosition:function(p,E){var b=this._position;isNaN(p)||(E||(this._82O=p<0?-1:1<p?1:0),this._position=p,this.fp(Ox,b,p))},getLeftView:function(){return this._leftView},setLeftView:function(p){var E,b=this._leftView,Z=this._view;this._leftView!==p&&(b&&b!==this._rightView&&(E=JW(b)).parentNode===Z&&Lf(E),(this._leftView=p)&&(E=JW(p)).parentNode!==Z&&Z.insertBefore(E,this._dividerDiv),this.fp("leftView",b,p))},getRightView:function(){return this._rightView},setRightView:function(p){var E,b=this._rightView,Z=this._view;this._rightView!==p&&(b&&b!==this._leftView&&(E=JW(b)).parentNode===Z&&Lf(E),(this._rightView=p)&&(E=JW(p)).parentNode!==Z&&Z.insertBefore(E,this._dividerDiv),this.fp("rightView",b,p))},validateImpl:function(){var p,E,b,Z,o=this,A=o._draggable,l=o._position,V=o.getWidth(),c=o.getHeight(),S=o._dividerSize,I=o._dividerBackground,D=kl?18:8,B=o._dividerDiv,n=o._82O,k=o._60O,j=o._61O,W=o._toggleIcon,m=o._status,e=B.style,$=null,Y=kl?20:4,t=W.comps[0],K=(D<=S||0===S?o._coverDiv&&(Lf(o._coverDiv),delete o._coverDiv):o._coverDiv||(o._coverDiv=nW(),Sl&&(o._coverDiv.style.background=Sa),eW(B,o._coverDiv)),o._togglable?k.parentNode||(eW(B,k),eW(B,j)):(Lf(k),Lf(j)),o._coverDiv),r=o._leftView,H=o._rightView;T1(o)?(V<S&&(S=V),m===Ul?1===n?(Z=Z$(l,V),b=b$(0,V-S-Z)):-1===n?(b=Z$(-l,V),Z=b$(0,V-S-b)):(Z=O$((V-S)*l),b=b$(0,V-S-Z)):"cl"===m?b=b$(Z=0,V-S):"cr"===m&&(Z=b$(b=0,V-S)),r&&dW(r,0,0,Z,c),H&&dW(H,Z+S,0,b,c),dW(B,Z,0,S,c),o._22o=Z,K&&(dW(K,S/2-D/2,0,D,c),K.style.cursor=A?Wa:""),B.style.cursor=A?Wa:"",b=B.clientHeight/2,Z=B.clientWidth,mW(k,Z,Z),dW(k,0,b-Z-Y,Z,Z),$=TW(k),gW($,0,0,1),t.rotation=-s$,rm($,W,0,0,Z,Z),$.restore(),mW(j,Z,Z),dW(j,0,b+Y,Z,Z),$=TW(j),gW($,0,0,1),t.rotation=s$):(c<S&&(S=c),m===Ul?1===n?(p=Z$(l,c),E=b$(0,c-S-p)):-1===n?(E=Z$(-l,c),p=b$(0,c-S-E)):(p=O$((c-S)*l),E=b$(0,c-S-p)):"cl"===m?E=b$(p=0,c-S):"cr"===m&&(p=b$(E=0,c-S)),r&&dW(r,0,0,V,p),H&&dW(H,0,p+S,V,E),dW(B,0,p,V,S),o._22o=p,K&&(dW(K,0,S/2-D/2,V,D),K.style.cursor=A?ma:""),e.cursor=A?ma:"",b=B.clientWidth/2,Z=B.clientHeight,mW(k,Z,Z),dW(k,b-Z-Y,0,Z,Z),$=TW(k),gW($,0,0,1),t.rotation=0,rm($,W,0,0,Z,Z),$.restore(),mW(j,Z,Z),dW(j,b+Y,0,Z,Z),$=TW(j),gW($,0,0,1),t.rotation=R$),rm($,W,0,0,Z,Z),$.restore(),e.background=I}}),function(p){this.sv=p,this.addListeners()}),oO=(yf(ZO,t$,{ms_listener:1,getView:function(){return this.sv.getView()},handle_touchstart:function(p){var E=this.sv,b=E._dividerDiv,Z=E._60O,o=E._61O,A=E._status,l=p.target;l===Z?A===Ul?E.setStatus("cl"):"cr"===A&&E.setStatus(Ul):l===o?A===Ul?E.setStatus("cr"):"cl"===A&&E.setStatus(Ul):!uW(p)||l!==b&&l!==E._coverDiv||(sq(p),E.isDraggable()&&(E.getLeftView(),E.getRightView(),(Z=this.maskDiv=nW()).style.left=0,Z.style.top=0,Z.style.width=E.getWidth()+"px",Z.style.height=E.getHeight()+"px",E.getView().appendChild(Z),E.isContinuousLayout()||((o=this.resizeDiv=nW()).style.left=b.style.left,o.style.top=b.style.top,o.style.width=b.style.width,o.style.height=b.style.height,o.style.opacity=E.getDragOpacity(),o.style.background=E.getDividerBackground(),eW(this.getView(),o)),this._lastAbsPosition=E._22o,this._86o=T1(E)?mf(p).x:mf(p).y,gf(this,p)))},handleWindowTouchMove:function(p){uW(p)&&this.update(p,this.sv.isContinuousLayout())},handleWindowTouchEnd:function(p){this.update(p,!0),this.sv.setStatus(Ul),this.maskDiv&&Lf(this.maskDiv),this.resizeDiv&&Lf(this.resizeDiv),this.maskDiv=this.resizeDiv=r$},handle_mousedown:function(p){If(p)&&this.handle_touchstart(p)},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},update:function(p,E){var b=this.sv,Z=T1(b)?b.getWidth():b.getHeight(),o=b._dividerSize,A=this._lastAbsPosition-this._86o;T1(b)?((A=Z-o<(A+=mf(p).x)?Z-o:A)<0&&(A=0),this.resizeDiv&&(this.resizeDiv.style.left=A+Ll)):((A=Z-o<(A+=mf(p).y)?Z-o:A)<0&&(A=0),this.resizeDiv&&(this.resizeDiv.style.top=A+Ll)),E&&Z!==o&&(1===b._82O?b.setPosition(A,1):-1===b._82O?b.setPosition(A-Z+o,1):b.setPosition(A/(Z-o),1))}}),fh.TabView=function(){function p(){E.iv()}var E=this,b=E._view=BW(1,E),Z=E._91O=nW(1),o=E._tabModel=new wm,A=o.sm();E._7o=new q,E._canvas=kW(Z),eW(b,Z),eW(b,E._92O=nW(1)),A.setSelectionMode(Wl),A.ms(E.handleSelectionChange,E),o.mm(p,E),o.mh(p,E),o.md(p,E),E._interactor=new oO(E),E.iv()},b("TabView",t$,{ms_v:1,ms_fire:1,ms_tx:1,ms_ty:1,ms_lp:1,ms_ac:["movable","tabGap","tabHeight","tabPosition",lx,Ax,"tabHPadding","tabBackground","selectWidth",Zl,"moveBackground","insertColor"],_tabHPadding:0,_tabPosition:Kl,_tabHeight:Uq,_tabGap:H$.tabViewTabGap,_labelColor:H$.tabViewLabelColor,_labelFont:H$.tabViewLabelFont,_tabBackground:H$.tabViewTabBackground,_selectWidth:H$.tabViewSelectWidth,_selectBackground:H$.tabViewSelectBackground,_moveBackground:H$.tabViewMoveBackground,_insertColor:H$.tabViewInsertColor,_movable:!0,handleSelectionChange:function(){this._selectionChanged=!0,this.invalidate()},getContentDiv:function(){return this._92O},getTitleDiv:function(){return this._91O},getTabModel:function(){return this._tabModel},add:function(p,E,b){var Z,o=this._tabModel;return p instanceof pO?(Z=p,E&&Z.setView(E)):((Z=new pO).setName(p),Z.setView(E)),o.add(Z),b&&o.sm().ss(Z),Z},getLabel:function(p){return p.toLabel()},onPropertyChanged:function(p){this.iv()},_7Q:function(p){this._23o=p,this.iv()},get:function(E){var b,Z=this,p=Z._tabModel;return C1(E)?p._roots.get(E):F$(E)?(p.each(function(p){E===Z.getLabel(p)&&(b=p)}),b):E instanceof pO?E:r$},select:function(p){this._tabModel.sm().ss(this.get(p))},remove:function(p){var E;(p=this.get(p))&&(E=this._tabModel._roots.indexOf(p),this._tabModel.remove(p),this.selectByIndex(--E))},getCurrentTab:function(){return this._8o},hideTabView:function(p,E){E.parentNode===this._92O&&(O1(E)||z1(E)?(E.style.display=gl,E._tab_=p):Lf(E),xq())},showTabView:function(p,E){(O1(E)||z1(E))&&(E.style.display="block",E._tab_=p),E.parentNode!==this._92O&&(eW(this._92O,E),xq())},_24o:function(){var p,E=this._8o,b=this._9o,Z=this._tabModel.sm().ld();(p=Z?JW(Z.getView()):p)!==b&&(b&&(E.getView()&&E.getView().endEditing&&E.getView().endEditing(),this.hideTabView(E,b)),p&&this.showTabView(Z,p)),this._8o=Z,this._9o=p,E!==Z&&this.onTabChanged(E,Z)},onTabClosing:function(p){return!0},onTabChanged:function(p,E){},onTabClosed:function(p,E){this.selectByIndex(--E)},selectByIndex:function(p){var E=this._tabModel,b=E.size();if(b&&!E.sm().ld()){for(var Z=p=(p=b<=(p=p==r$?0:p)?b-1:p)<0?0:p;0<=Z;Z--){var o=this.get(Z);if(!o.isDisabled())return this.select(o),o}for(Z=p+1;Z<b;Z++)if(!(o=this.get(Z)).isDisabled())return this.select(o),o}},getTabWidth:function(p){var E=4+2*this.getTabHPadding(),b=Q(p.getIcon());return b&&(E+=tm(b,p)+4),(b=this.getLabel(p))&&(E+=Sf(this.getLabelFont(p),b).width+4),p.isClosable()&&(E+=10),E},drawTab:function(p,E,b,Z,o,A,l){var V,c=this._tabPosition,S=b+4+($=this.getTabHPadding()),I=this._selectWidth,D=Q(E.getIcon()),B=E.isDisabled(),n=this.getLabelColor(E),k=this.getLabelFont(E),j=this.getLabel(E),W=this._selectBackground,m=c===Yl+"-vertical",e=c===tl+"-vertical",$=((m||e)&&(S=Z+4+$),B&&(p.globalAlpha=Xq),M6(p,b,Z,o,A,l),E===this._8o&&I&&(c===Kl?M6(p,b,Z+A-I,o,I,W):c===Yl?M6(p,b+o-I,Z,I,A,W):c===tl?M6(p,b,Z,I,A,W):m?M6(p,b+o-I,Z,I,A,W):e?M6(p,b,Z,I,A,W):M6(p,b,Z,o,I,W)),o/2);return m&&(LW(p,$,Z+A/2),xW(p,R$),LW(p,-$,-Z-A/2)),D&&(l=Km(D,E),c=tm(D,E),m||e?(LW(p,I=b+o/2,W=S+l/2),xW(p,s$),LW(p,-I,-W),iq(p,D,b+o/2,S+l/2,E,this),LW(p,I,W),xW(p,-s$),LW(p,-I,-W),S+=l+4):(iq(p,D,S+c/2,Z+A/2,E,this),S+=c+4)),m||e?(LW(p,o/2,S+o/2),xW(p,s$),LW(p,-o/2,-S-o/2),cf(p,j,k,n,b,S,A,o),LW(p,o/2,S+o/2),xW(p,-s$),LW(p,-o/2,-S-o/2)):cf(p,j,k,n,S,Z,o,A),m&&(LW(p,$,Z+A/2),xW(p,-R$),LW(p,-$,-Z-A/2)),E.isClosable()&&this.drawCloseIcon(E,p,n,V=e?{x:b+o-12,y:Z+A-12,width:12,height:12}:{x:b+o-12,y:Z+2,width:12,height:12}),B&&(p.globalAlpha=1),V},drawCloseIcon:function(p,E,b,Z){var o=Z.x,Z=Z.y;E.strokeStyle=b,E.lineWidth=1,E.beginPath(),E.moveTo(o+2,Z+8),E.lineTo(o+8,Z+2),E.moveTo(o+8,Z+8),E.lineTo(o+2,Z+2),E.stroke()},getTabAt:function(p){return(p=this._interactor._8Q(p))?p.tab:null},validateImpl:function(){var Z=this,p=(Z._24o(),Z._canvas),E=Z._tabPosition,b=Z._91O,o=Z._92O,A=Z._tabModel,l=Z.getWidth(),V=Z.getHeight(),c=Z._tabHeight,S=Z._7o,I=Z._tabGap,D=E===Kl,B=E===Yl,n=E===tl,k=E===Yl+"-vertical",E=E===tl+"-vertical",j=Z._23o,W=0;if((B||n)&&A._roots.each(function(p){W=b$(Z.getTabWidth(p),W)}),D=D?(dW(b,0,0,l,c),{x:0,y:c,width:l,height:b$(0,V-c)}):B?(dW(b,0,0,W,V),{x:W,y:0,width:b$(0,l-W),height:V}):n?(dW(b,l-W,0,W,V),{x:0,y:0,width:b$(0,l-W),height:V}):k?(dW(b,0,0,c,V),{x:c,y:0,width:b$(0,l-c),height:V}):E?(dW(b,l-c,0,c,V),{x:0,y:0,width:b$(0,l-c),height:V}):(dW(b,0,V-c,l,c),{x:0,y:0,width:l,height:b$(0,V-c)}),dW(o,D),k||E){Z._9o&&(D.x=0,dW(Z._8o.getView(),D)),mW(p,c,V);var m=TW(p),e=0;if(gW(m,0,Z.ty(),1),m.clearRect(0,0,c,V),S.empty(),A._roots.each(function(p){var E,b;p.isVisible()&&(E=Z.getTabWidth(p),j&&j.tab===p||(b=Z.getTabBackground(p),b=Z.drawTab(m,p,0,e,c,E,b)),S.add({_75o:b,tab:p,startY:e,endY:e+E,height:E}),e+=E+I)}),Z._23Q=b$(0,e-I),j&&(t=j.position,Z.drawTab(m,j.tab,0,j.startY,c,j.height,Z._moveBackground),M6(m,0,t,c,1,Z._insertColor)),m.restore(),Z._selectionChanged){Z._selectionChanged=!1;for(var $=Z.ty(),Y=0;Y<S.size();Y++)if((r=S.get(Y)).tab===Z._8o){if(r.endY+$<0){Z.ty(-r.startY);break}if(r.startY+$>V){Z.ty(V-r.endY);break}}}Z.ty(Z.ty())}else if(B||n){if(Z._9o&&(D.x=0,dW(Z._8o.getView(),D)),mW(p,W,V),m=TW(p),gW(m,e=0,Z.ty(),1),m.clearRect(0,0,W,V),S.empty(),A._roots.each(function(p){var E;p.isVisible()&&(j&&j.tab===p||(E=Z.getTabBackground(p),E=Z.drawTab(m,p,0,e,W,c,E)),S.add({_75o:E,tab:p,startY:e,endY:e+c,height:c}),e+=c+I)}),Z._23Q=b$(0,e-I),j&&(t=j.position,Z.drawTab(m,j.tab,0,j.startY,W,j.height,Z._moveBackground),M6(m,0,t,W,1,Z._insertColor)),m.restore(),Z._selectionChanged)for(Z._selectionChanged=!1,$=Z.ty(),Y=0;Y<S.size();Y++)if((r=S.get(Y)).tab===Z._8o){if(r.endY+$<0){Z.ty(-r.startY);break}if(r.startY+$>V){Z.ty(V-r.endY);break}}Z.ty(Z.ty())}else{Z._9o&&(D.y=0,dW(Z._8o.getView(),D)),mW(p,l,c);var t,m=TW(p),K=0;if(gW(m,Z.tx(),0,1),m.clearRect(0,0,l,c),S.empty(),A._roots.each(function(p){var E,b;p.isVisible()&&(E=Z.getTabWidth(p),j&&j.tab===p||(b=Z.getTabBackground(p),b=Z.drawTab(m,p,K,0,E,c,b)),S.add({_75o:b,tab:p,startX:K,endX:K+E,width:E}),K+=E+I)}),Z._64I=b$(0,K-I),j&&(t=j.position,Z.drawTab(m,j.tab,j.startX,0,j.width,c,Z._moveBackground),lW(m,Z._insertColor,t,0,c)),m.restore(),Z._selectionChanged){Z._selectionChanged=!1;for(var r,H=Z.tx(),Y=0;Y<S.size();Y++)if((r=S.get(Y)).tab===Z._8o){if(r.endX+H<0){Z.tx(-r.startX);break}if(r.startX+H>l){Z.tx(l-r.endX);break}}}Z.tx(Z.tx())}for(var M=[],F=o.children,Y=0;Y<F.length;Y++){var X=F[Y],G=X._tab_;G&&!A.contains(G)&&M.push(X)}M.forEach(function(p){o.removeChild(p)})}}),function(p){this.tv=p,this.addListeners()}),AO=(yf(oO,t$,{ms_listener:1,getView:function(){return this.tv._91O},handle_mousewheel:function(p){this.handleScroll(p,p.wheelDelta/40*10)},handle_DOMMouseScroll:function(p){this.handleScroll(p,10*-p.detail)},handleScroll:function(p,E){sq(p);var b=(p=this.tv)._tabPosition;!p._40o()||b!==Kl&&b!==rl||p.tx(this.tv.tx()+E),!p._41o()||b!==Yl&&b!==tl&&b!==Yl+"-vertical"&&b!==tl+"-vertical"||p.ty(this.tv.ty()+E)},_8Q:function(p){var E,b=this.tv,Z=b._tabPosition,o=b._7o;if(Z===Kl||Z===rl){for(var A=b.lp(p).x,l=0;l<o.size();l++)if((E=o.get(l)).startX<=A&&A<=E.endX)return E}else if(Z===Yl||Z===tl||Z===Yl+"-vertical"||Z===tl+"-vertical")for(var V=b.lp(p).y,l=0;l<o.size();l++)if((E=o.get(l)).startY<=V&&V<=E.endY)return E;return r$},isClickable:function(p){var E=this.tv,b=E._tabPosition,p=this._73o=this._8Q(p);return!(!E._40o()||b!==Kl&&b!==rl)||!(!E._41o()||b!==Yl&&b!==tl&&b!==Yl+"-vertical"&&b!==tl+"-vertical")||p&&(!p.tab.isDisabled()||E.isMovable())},handle_mousemove:function(p){zW?this._74o=this._8Q(p):this.getView().style.cursor=this.isClickable(p)?ea:""},handle_mousedown:function(p){this.handle_mousemove(p),this.handle_touchstart(p)},handle_touchstart:function(p){var E=this.tv,b=E._tabPosition;sq(p),If(p)&&this.isClickable(p)&&(b===Kl||b===rl?(this.x=mf(p).x,this.lp=E.lp(p),this.tx=E.tx()):(this.y=mf(p).y,this.lp=E.lp(p),this.ty=E.ty()),gf(this,p))},handle_mouseup:function(p){this.handle_touchend(p)},handle_touchend:function(p){var E,b,Z;Df(p)&&(p=this._73o)&&(E=this.tv,b=E.getTabModel(),!(Z=p.tab).isDisabled()&&Z.isClosable()&&E.onTabClosing(Z,p=function(){var p=b._roots.indexOf(Z);b.remove(Z),E.onTabClosed(Z,p)})&&p())},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(p){var Z,o,A,l,E=this,V=E.tv,b=V._tabPosition,c=E._73o;b===Kl||b===rl?(o=mf(p).x-E.x,!E._25o&&!E.moving&&2<a(o)&&(V._40o()&&!Wf(p)?E._25o=1:c&&V.isMovable()&&(E.moving=1)),E._25o?V.tx(E.tx+o):E.moving&&(Z=E.lp.x+o,l=V._tabGap/2,V._7o.each(function(p){var E=p.endX,b=Z-p.startX<E-Z;Z>=p.startX&&Z<=E&&V._7Q({tab:c.tab,startX:c.startX+o,width:c.width,front:b,insertTab:p.tab,position:b?b$(0,p.startX-l):Z$(V._64I,E+l)})}))):(o=mf(p).y-E.y,!E._25o&&!E.moving&&2<a(o)&&(V._41o()&&!Wf(p)?E._25o=1:c&&V.isMovable()&&(E.moving=1)),E._25o?V.ty(E.ty+o):E.moving&&(A=E.lp.y+o,l=V._tabGap/2,V._7o.each(function(p){var E=p.endY,b=A-p.startY<E-A;A>=p.startY&&A<=E&&V._7Q({tab:c.tab,startY:c.startY+o,height:c.height,front:b,insertTab:p.tab,position:b?b$(0,p.startY-l):Z$(V._23Q,E+l)})})))},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handleWindowTouchEnd:function(p){var E,b,Z,o,A=this,l=A.tv,V=l._tabPosition,c=l.getTabModel(),S=c._roots,I=A._73o;A.moving?((Z=l._23o)&&Z.insertTab!==Z.tab&&(b=Z.tab,o=S.remove(b),0<=(E=S.indexOf(Z.insertTab))&&(Z.front||E++,E<=S.size()&&(S.add(b,E),c._38I(b,o,E)))),l._7Q(r$),delete A.moving):!A._25o&&I&&(b=I.tab,(Z=A._74o)&&Z.tab!==b||(!b.isDisabled()&&Kf(I._75o,A.lp)?l.onTabClosing(b,o=function(){var p=S.indexOf(b);c.remove(b),l.onTabClosed(b,p)})&&o():b.isDisabled()||l._8o===b||c.sm().ss(b))),A._25o=A._73o=A._74o=V===Kl||V===rl?A.x=A.lp=A.tx=r$:A.y=A.lp=A.ty=r$}}),fh.PropertyView=function(p){var E=this,b=(E._view=BW(1,E),E._canvas=kW(E._view),eW(E._view,E._79O=nW()),E._rows=new q,E._28o=new q,E._26o={},E._26Q={},E._propertyModel=new wm),Z=E.ivm;b.mm(Z,E),b.md(Z,E),b.mh(Z,E),E.dm(p||new wm),new AO(E)},b("PropertyView",t$,{ms_ac:[lx,Vx,Ax,ax,Jx,"categorizable",Mx,yx,xx,Cx,hx,rx,Hx,Kx,"selectRowIndex",Zl,"background",Fx,Lx,Tx,gx,Gx],ms_v:1,ms_dm:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,_45o:1,_47o:1,ms_tip:1,_29I:W1,_59I:0,_9I:0,_selectRowIndex:-1,_editable:!0,_batchEditable:!0,_categorizable:!0,_indent:Jq,_background:H$.propertyViewBackground,_expandIcon:H$.propertyViewExpandIcon,_collapseIcon:H$.propertyViewCollapseIcon,_scrollBarColor:g,_scrollBarSize:Qa,_autoHideScrollBar:bl,_selectBackground:H$.propertyViewSelectBackground,_rowHeight:B3,_rowLineVisible:H$.propertyViewRowLineVisible,_rowLineColor:H$.propertyViewRowLineColor,_10I:.5,_columnLineVisible:H$.propertyViewColumnLineVisible,_columnLineColor:H$.propertyViewColumnLineColor,_labelColor:H$.propertyViewLabelColor,_labelSelectColor:H$.propertyViewLabelSelectColor,_labelFont:H$.propertyViewLabelFont,getRows:function(){return this._rows},getColumnPosition:function(){return this._10I},setColumnPosition:function(p){var E=this._10I;this._10I=p=1<(p=p<0?0:p)?1:p,this.fp("columnPosition",E,p)},getPropertyName:function(p){return p.toLabel()},getLabelFont:function(p,E,b){return this._labelFont},getLabelColor:function(p,E,b){return b===this._selectRowIndex?this._labelSelectColor:this._labelColor},getPropertyFont:function(p,E){return this._labelFont},getPropertyColor:function(p,E){return E===this._selectRowIndex?this._labelSelectColor:p.getColor()||this._labelColor},getCategoryFont:function(p){return this._labelFont},getCategoryColor:function(p){return this._labelColor},adjustTranslateX:function(p){return 0},adjustTranslateY:function(p){var E=this.getHeight()-this._59I;return 0<(p=p<E?E:p)?0:O$(p)},isExpanded:function(p){if(!p)return!0;var E=this._26o[p];return E?E.isExpanded:!(!1===this._26Q[p])},toggle:function(p){this.isExpanded(p)?this.collapse(p):this.expand(p)},expandAll:function(){for(var p in this.validate(),this._26o)this.expand(p)},expand:function(p){var E;p&&p!==gl&&(E=this._26o[p])&&!E.isExpanded&&(E.isExpanded=!0,this.onExpanded(p),this.ivm())},onExpanded:function(p){},collapseAll:function(){for(var p in this.validate(),this._26o)this.collapse(p)},collapse:function(p){var E;p&&p!==gl&&(E=this._26o[p])&&E.isExpanded&&(E.isExpanded=!1,this.onCollapsed(p),this.ivm())},onCollapsed:function(p){},getCategoryName:function(p){return this.isCategorizable()&&(p=p.getCategoryName())||gl},getPropertyModel:function(){return this._propertyModel},handleSelectionChange:function(){this.ivm()},setDataModel:function(p){var E=this,b=E._dataModel;b!==p&&(b&&(b.umd(E.handlePropertyChange,E),E._selectionModel||b.sm().ums(E.handleSelectionChange,E)),(E._dataModel=p).md(E.handlePropertyChange,E),E._selectionModel?E._selectionModel._21I(p):p.sm().ms(E.handleSelectionChange,E),E.fp(ux,b,p))},isVisible:function(p){return!this._visibleFunc||this._visibleFunc(p)},onPropertyChanged:function(p){p=p.property,uh[p]?this.ivm():this.iv(),p===qx&&this._43o()},getCurrentData:function(){return this._27o},updateCurrentData:function(){this._27o=this.sm().ld()},getRawProperties:function(){return this._27o?this._propertyModel._roots:qm},handlePropertyChange:function(p){this._27o===p.data&&this.iv()},ivm:function(){this.invalidateModel()},invalidateModel:function(){this._96I||(this.setSelectRowIndex(-1),this._96I=1,this.iv())},redraw:function(){this.iv()},validateModel:function(){var p,Z=this,o=Z._rows,E=Z._28o,A={},l=new q,b=Z._27o;for(p in Z.updateCurrentData(),b!==Z._27o&&Z.endEditing(),o.empty(),E.empty(),Z.getRawProperties().each(function(p){Z.isVisible(p)&&(l.add(p),p=Z.getCategoryName(p),A[p]||(E.add(p,p===gl?0:K$),A[p]={isExpanded:Z.isExpanded(p),properties:new q}))}),Z._sortFunc&&l.sort(Z._sortFunc),Z._26o)Z._26Q[p]=Z.isExpanded(p);Z._26o=A,E.each(function(E){E!==gl&&o.add(E);var b=A[E];b.isExpanded&&l.each(function(p){Z.getCategoryName(p)===E&&(b.properties.add(p),o.add({property:p,data:Z._27o}))},Z)})},validateImpl:function(){var p=this,E=(p._76o(),p._96I&&(p.validateModel(),delete p._96I),p._canvas),b=p.getWidth(),Z=p.getHeight(),o=-p.ty(),A=p._rowHeight,l=p._indent,V=b-l,c=p._rows,S=c.size(),I=p._9I=l+V*p._10I,D=p._59I=S*A,B=(mW(E,b,Z),p._29I={x:0,y:o,width:b,height:Z},p._31I=z$(o/A),p._14I=_$((o+Z)/A),p._31I<0&&(p._31I=0),p._14I>S&&(p._14I=S),TW(E)),n=p._background;gW(B,0,-o,1),B.beginPath(),B.rect(0,o,b,Z),B.clip(),B.clearRect(0,o,b,Z),p._93db(B),n&&M6(B,0,0,l,D,n);for(var k=p._31I;k<p._14I;k++){var j,W,m,e,$=c.get(k),o=A*k;F$($)?(n&&M6(B,l,o,V,A,n),(W=Q(p.isExpanded($)?p._expandIcon:p._collapseIcon))&&fq(B,W,Va,0,o,l,A),B.save(),B.beginPath(),B.rect(l,o,V,A),B.clip(),p.drawCategoryName(B,$,k,l,o,V,A),B.restore()):(j=$.property,$=$.data,W=Q(j.getIcon()),m=p._selectRowIndex===k?p.getSelectBackground():r$,W&&fq(B,W,Va,0,o,l,A),m&&M6(B,l,o,V,A,m),B.save(),B.beginPath(),B.rect(l,o,I-l,A),B.clip(),p.drawPropertyName(B,j,k,l,o,I-l,A),B.restore(),p.isEditing($,j)||(m=I+1,e=b-I-1,B.save(),B.beginPath(),B.rect(m,o,e,A),B.clip(),p._87o(p.drawPropertyValue(B,j,p.getValue($,j),k,m,o,e,A,$),k,m,o,e,A),B.restore())),p._rowLineVisible&&M6(B,l,o+A-1,V,1,p._rowLineColor)}p._columnLineVisible&&(M6(B,I,0,1,D,p._columnLineColor),M6(B,b-1,0,1,D)),p._92db(B),p._93I(),B.restore(),p.ty(p.ty())},drawCategoryName:function(p,E,b,Z,o,A,l){cf(p,E,this.getCategoryFont(E),this.getCategoryColor(E),Z,o,A,l)},drawPropertyName:function(p,E,b,Z,o,A,l){E.drawPropertyName?E.drawPropertyName(p,E,b,Z,o,A,l,this):cf(p,this.getPropertyName(E),this.getPropertyFont(E,b),this.getPropertyColor(E,b),Z,o,A,l)},drawPropertyValue:function(p,E,b,Z,o,A,l,V,c){if(E.drawPropertyValue)return E.drawPropertyValue(p,E,b,Z,o,A,l,V,c,this);sh(p,b,E,this.getLabelFont(E,b,Z),this.getLabelColor(E,b,Z),o,A,l,V,c,this)},isPropertyEditable:function(p,E){return p.isEditable()&&this.isEditable()},setProperties:function(p){this._propertyModel.clear(),this.addProperties(p)},addProperties:function(p){var b;p&&(b=this._propertyModel,p.forEach(function(p){var E;p instanceof bO||(E=of(p.className),p=Rq(E||bO,p)),b.add(p)}))},getRowIndexAt:function(p){return 0<=(p=z$(this.lp(p).y/this._rowHeight))&&p<this._rows.size()?p:-1},getPropertyAt:function(p){return 0<=(p=this.getRowIndexAt(p))?this._rows.get(p).property:r$},getToolTip:function(p){var E=this.getPropertyAt(p),b=this._27o;return E&&b?E.getToolTip(b,this._9I<this.lp(p).x,this):r$}}),function(p){this.pv=p,this.addListeners()}),lO=(yf(AO,t$,{ms_listener:1,getView:function(){return this.pv._view},setCursor:function(p){this.getView().style.cursor=p},clear:function(){this._62O=this.cp=this.ty=this.p=r$,this.setCursor(jl)},handle_mousedown:function(p){this.handle_touchstart(p)},handle_touchstart:function(p){var E=this.pv;sq(p),E.setFocus(p)&&(If(p)?(this.cp=mf(p),this.ty=E.ty(),this.p=E.getColumnPosition(),this.handle_touchmove(p)):E.setSelectRowIndex(E.getRowIndexAt(p)))},handleWindowMouseUp:function(p){this.clear()},handleWindowTouchEnd:function(p){this.clear()},handle_mouseup:function(p){this.handle_touchend(p)},handle_touchend:function(p){var E,b,Z,o,A,l,V,c,S,I;this.cp&&!this._62O&&(S=(c=(E=this.pv).lp(p)).x,c=c.y,V=E._indent,b=E.getRowIndexAt(p),Z=E._9I,0<=b&&(I=(o=E._rowHeight)*b,l=(A=E._rows.get(b)).property,F$(A)?(Q(E.isExpanded(A)?E._expandIcon:E._collapseIcon)&&0<=S&&S<=V&&I<=c&&c<=I+o||kf(p))&&E.toggle(A):Z<S&&E.isPropertyEditable(l,p)&&(c={x:(V={x:Z+1,y:I,width:E.getWidth()-Z-1,height:o}).x+E.tx(),y:V.y+E.ty(),width:V.width,height:V.height},S=0,I=E._29I,V.y<I.y?S=V.y-I.y:V.y+o>I.y+I.height&&(S=V.y+o-I.y-I.height),S&&(E.ty(E.ty()-S),c.y-=S),E.beginEditing({data:A.data,property:l,value:E.getValue(A.data,l),event:p,rect:V,editorRect:c,view:E}))),E.setSelectRowIndex(b)),this.clear()},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(p){var E,b,Z=this.pv,o=this.ty,A=this.cp,p=mf(p),l=this._62O;"p"===l?Z.setTranslateY(o+p.y-A.y):"c"===l?16<(b=Z.getWidth()-Z._indent)&&(E=this.p-(A.x-p.x)/b,Z.setColumnPosition(E=1-(b=16/b)<(E=E<b?b:E)?1-b:E)):"s"===l&&Z.setTranslateY(o+(A.y-p.y)*Z._59I/Z._29I.height)},handle_mousemove:function(p){this.handle_touchmove(p)},handle_touchmove:function(p){var E,b,Z;!zW&&If(p)&&(b=(E=this).pv,Z=a(b.lp(p).x-b._9I)<=(kl?8:3),E.cp?E._62O||(Z?(E._62O="c",gf(E,p)):2<=a(mf(p).y-E.cp.y)&&(E._62O=E.isV(p)?"s":"p",gf(E,p))):(Z?E.setCursor(Wa):E.setCursor(jl),E.isV(p)&&b._43o()))},isV:function(p){var E=this.pv,b=E._29I;return E._41o()&&b.x+b.width-E.lp(p).x<zq},handle_mousewheel:function(p){this.handleScroll(p,p.wheelDelta/40)},handle_DOMMouseScroll:function(p){2===p.axis&&this.handleScroll(p,-p.detail)},handleScroll:function(p,E){var b=this.pv;sq(p),b.endEditing(),b.translate(0,E*b.getRowHeight())},handle_keydown:function(p){var E=this.pv,b=E._rows.size(),Z=E._selectRowIndex+(Z6(p)?-1:1);(Z6(p)||A6(p))&&E.setSelectRowIndex(Z=b<=(Z=Z<0?0:Z)?b-1:Z)}}),fh.ListView=function(p){this._5o(p),new lO(this)},b("ListView",t$,{ms_ac:[lx,Vx,Ax,Fx,Mx,Lx,Tx,yx,xx,rx,Hx,Kx,tx,Zl],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,_14Q:1,ms_dm:1,_45o:1,_checkMode:!1,_indent:Jq,_rowHeight:B3,_rowLineVisible:H$.listViewRowLineVisible,_rowLineColor:H$.listViewRowLineColor,_scrollBarColor:g,_scrollBarSize:Qa,_autoMakeVisible:oq,_autoHideScrollBar:bl,_selectBackground:H$.listViewSelectBackground,_labelColor:H$.listViewLabelColor,_labelSelectColor:H$.listViewLabelSelectColor,_labelFont:H$.listViewLabelFont,isCheckMode:function(){return this._checkMode},setCheckMode:function(p){var E=this._checkMode;this._checkMode=p,this.fp(Px,E,p)},drawRow:function(p,E,b,Z,o,A,l){var V=0,c=this._indent,S=this.getIconWidth(E);this.drawRowBackground(p,E,b,Z,o,A,l),this._checkMode&&(iq(p,Q(this.getCheckIcon(E)),V+c/2,o+l/2,E,this),V+=c),this.drawIcon(p,E,V,o,S,l),this.drawLabel(p,E,V+S,o,l)}}),function(p){this.list=p,this.addListeners()}),VO=(yf(lO,t$,{ms_listener:1,getView:function(){return this.list._view},clear:function(p){var E=this,b=E.list;p&&"d"===E._62O&&!E.dragCancel&&b.handleDragAndDrop(p,"end"),b.draggingData&&(b.draggingData=null,b.redraw()),E.dragCancel=E._62O=E._isV=E._isH=E.cp=E.tx=E.ty=r$},handle_mousedown:function(p){this.handle_touchstart(p)},handle_touchstart:function(p){var E,b=this.list;sq(p),b.setFocus(p)&&(E=b.getDataAt(p),this.cp=mf(p),this.tx=b.tx(),this.ty=b.ty(),If(p)?E&&b.handleDragAndDrop&&!this.isV(p)&&!this.isH(p)&&b.isDraggable(E)&&(b.draggingData=E,b.redraw(),b.handleDragAndDrop(p,"prepare")):(E?this._33o(p,E):this._cancelDataDoubleSelect(),this.clear(p)))},handleWindowMouseUp:function(p){this.clear(p)},handleWindowTouchEnd:function(p){this.clear(p)},handle_mouseup:function(p){this.handle_touchend(p)},handle_touchend:function(p){var E,b=this.list;this._isV||this._isH||!this.cp||this._62O||((E=b.getDataAt(p))?(b.isCheckMode()?this._34o(p,E):this._33o(p,E),kf(p)?b.onDataDoubleClicked(E,p):b.onDataClicked(E,p)):(this._cancelDataDoubleSelect(),b.handleBackgroundClick(p))),this.clear(p)},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(p){var E=this.list,b=this._62O,Z=this.tx,o=this.ty,A=this.cp,l=mf(p),V=E._29I;"p"===b?E.setTranslate(Z+l.x-A.x,o+l.y-A.y):"v"===b?E.ty(o+(A.y-l.y)*E._59I/V.height):"h"===b?E.tx(Z+(A.x-l.x)*E._91I/V.width):"d"!==b||this.dragCancel||E.handleDragAndDrop(p,"between")},handle_mousemove:function(p){this.handle_touchmove(p)},handle_touchmove:function(p){var E,b=this;zW&&zW!==b?b.clear(p):If(p)&&(E=b.list,b._isV=b.isV(p),b._isH=b.isH(p),b.cp?b._62O||$f(mf(p),b.cp)<2||(b._isV?b._62O="v":b._isH?b._62O="h":E.draggingData&&!this.dragCancel?(b._62O="d",E.handleDragAndDrop(p,"begin")):b._62O="p",b._62O&&"d"!==b._62O&&E.draggingData&&(E.draggingData=null,E.redraw()),gf(b,p)):(b._isV&&E._43o(),b._isH&&E._42o()))},isV:function(p){var E=this.list,b=E._29I;return E._41o()&&b.x+b.width-E.lp(p).x<zq},isH:function(p){var E=this.list,b=E._29I;return E._40o()&&b.y+b.height-E.lp(p).y<zq},handle_mousewheel:function(p){this.handleScroll(p,p.wheelDelta/40,p.wheelDelta!==p.wheelDeltaX)},handle_DOMMouseScroll:function(p){this.handleScroll(p,-p.detail,1)},handleScroll:function(p,E,b){var Z=this.list;sq(p),Z.endEditing&&Z.endEditing(),b&&Z._41o()?Z.translate(0,E*Z.getRowHeight()):Z._40o()&&Z.translate(10*E,0)},handle_keydown:function(p){var E,b,Z,o,A,l,V;H$.isInput(p.target)||(b=(E=this.list).sm(),o=(Z=E._rows).size(),sW(p)?E.selectAll():wW(p)?E.handleDelete&&E.handleDelete(p):c6(p)?"d"!==this._62O||this.dragCancel||(E.handleDragAndDrop(p,"cancel"),this.dragCancel=!0):l6(p)?E.isCheckMode()&&(V=E.getFocusData())&&E.checkData(V):(Z6(p)||A6(p))&&((V=(A=E.isCheckMode())?E.getFocusData():b.ld())?0<=(l=E.getRowIndex(V))&&(Z6(p)?0!==l&&(V=Z.get(l-1),A?E.setFocusData(V):b.ss(V)):l!==o-1&&(V=Z.get(l+1),A?E.setFocusData(V):b.ss(V))):0<o&&(V=Z.get(0),A?E.setFocusData(V):b.ss(V))))},_34o:function(p,E){var b=this.list;0<=(p=b.lp(p).x)&&p<=b._indent?b.checkData(E):b.setFocusData(E)},_33o:function(p,E){var b=this.list,Z=b.dm(),o=b.sm(),A=o.ld();if(b.canHandleSelectMode(p,E)){if(Z.beginTransaction(),Wf(p))b.isSelected(E)?o.rs(E):o.as(E);else if(jf(p))if(A)for(var l=b.getRowIndex(A),V=b.getRowIndex(E);l!==V;)o.as(b._rows.get(l+=l<V?1:-1));else o.ss(E);else If(p)?(o.contains(E)?b.handleDataDoubleSelect&&(this._handleDataDoubleSelect(p,E),kf(p)&&this._cancelDataDoubleSelect()):this._cancelDataDoubleSelect(),o.ss(E)):o.contains(E)||o.ss(E);Z.endTransaction()}else this._cancelDataDoubleSelect()},_handleDataDoubleSelect:function(p,E){this._cancelDataDoubleSelect(),this._doubleSelectTimer=Al(function(){this.list.handleDataDoubleSelect(p,E),this._doubleSelectTimer=K$}.bind(this),H$.doubleClickSpeed)},_cancelDataDoubleSelect:function(){this._doubleSelectTimer&&(ll(this._doubleSelectTimer),this._doubleSelectTimer=K$)}}),fh.TreeView=function(p){this._35o(),this._5o(p),new VO(this)},b("TreeView",t$,{ms_ac:[lx,Vx,Ax,"rootVisible",Px,"rootData",yx,xx,rx,Hx,Kx,Mx,Fx,Lx,Tx,Cx,hx,tx,Zl,"loader","doubleClickToToggle"],ms_v:1,ms_bnb:1,ms_tip:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,_48o:1,_14Q:1,_45o:1,_checkMode:r$,_indent:Jq,_rowHeight:B3,_rowLineVisible:H$.treeViewRowLineVisible,_rowLineColor:H$.treeViewRowLineColor,_scrollBarColor:g,_scrollBarSize:Qa,_autoHideScrollBar:bl,_expandIcon:H$.treeViewExpandIcon,_collapseIcon:H$.treeViewCollapseIcon,_autoMakeVisible:oq,_selectBackground:H$.treeViewSelectBackground,_labelColor:H$.treeViewLabelColor,_labelSelectColor:H$.treeViewLabelSelectColor,_labelFont:H$.treeViewLabelFont,_doubleClickToToggle:H$.treeViewDoubleClickToToggle,drawRow:function(p,E,b,Z,o,A,l){this.drawRowBackground(p,E,b,Z,o,A,l),this.drawTree(p,E,b,0,o,A,l)},isOnToggleIcon:function(p){var E=this.getDataAt(p);if(E){var b=this.getIndent(),p=this.lp(p).x;if(Q(this.getToggleIcon(E))&&(E=b*this.getLevel(E))<=p&&p<=E+b)return!0}return!1}}),function(p){R1(VO,this,[p])}),cO=(yf(VO,lO,{toggle:function(p,E,b,Z){var o=this.list,A=o.lp(p).x;return Q(o.getToggleIcon(E))&&(Z*=b)<=A&&A<=Z+b?(o.toggle(E),!0):!(!o.isDoubleClickToToggle()||!kf(p)||(o.toggle(E),0))},_34o:function(p,E){var b=this.list,Z=b.lp(p).x,o=b._levelMap[E._id],A=b._indent,l=A*(o+1);l<=Z&&Z<=l+A?b.checkData(E):this.toggle(p,E,A,o)||b.setFocusData(E)},_33o:function(p,E){var b=this.list;this.toggle(p,E,b._indent,b.getLevel(E))||VO.superClass._33o.call(this,p,E)},handle_keydown:function(p){var E,b,Z,o,A;b6(p)||o6(p)?(b=(E=this.list)._rows,Z=E.isCheckMode(),o=E.sm(),(A=Z?E.getFocusData():o.ld())?A.hasChildren()&&(b6(p)?E.collapse(A):E.expand(A)):0<b.size()&&(A=b.get(0),Z?E.setFocusData(A):o.ss(A))):VO.superClass.handle_keydown.call(this,p)}}),fh.TableView=function(p){this._98I(),this._5o(p),new SO(this)}),SO=(b("TableView",t$,{ms_ac:[lx,Vx,Ax,"sortMode",ax,Jx,Fx,Lx,Tx,gx,Gx,"sortColumn",yx,xx,rx,Hx,Kx,tx,Zl],ms_v:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_45o:1,_47o:1,_sortMode:dx,_editable:!0,_batchEditable:!1,_rowHeight:B3,_rowLineVisible:H$.tableViewRowLineVisible,_rowLineColor:H$.tableViewRowLineColor,_columnLineVisible:H$.tableViewColumnLineVisible,_columnLineColor:H$.tableViewColumnLineColor,_scrollBarColor:g,_scrollBarSize:Qa,_autoHideScrollBar:bl,_autoMakeVisible:oq,_selectBackground:H$.tableViewSelectBackground,_labelColor:H$.tableViewLabelColor,_labelSelectColor:H$.tableViewLabelSelectColor,_labelFont:H$.tableViewLabelFont,getCheckColumn:function(){var p;return this._31o||((p=this._31o=new EO).setEditable(!0),p.setWidth(40),p.getValue=this.getCheckColumValue,p.drawCell=this.drawCheckColumnCell),this._31o},isCheckMode:function(){return this._39o.contains(this._31o)},setCheckMode:function(p){var E=this._39o,b=this.getCheckColumn();p!==this.isCheckMode()&&(p?E.add(b,0):E.remove(b),this.fp(Px,!p,p))},getCheckColumValue:function(p,E,b){return b.isSelected(p)},drawCheckColumnCell:function(p,E,b,Z,o,A,l,V,c){iq(p,c.getCheckIcon(E),o+l/2,A+V/2,E,c)}}),function(p){R1(SO,this,[p])}),IO=(yf(SO,lO,{_34o:function(p,E){var b=this.list,Z=b._31o;if(b.isCellEditable(E,Z,p)){var o=b._3Q(Z),A=b.lp(p).x;if(o&&A>=o.startX&&A<o.startX+Z.getWidth())return void b.checkData(E)}b._37O(E,p),b.setFocusData(E)},_33o:function(p,E){this.list._37O(E,p),SO.superClass._33o.apply(this,arguments)}}),fh.TreeTableView=function(p){var E=this._4o=new EO;this._35o(),this._98I(),this._5o(p),E.setDisplayName("Name"),E.setEditable(!0),E.setWidth(180),E.drawCell=DO,E.getValue=BO,this._39o.add(E),new nO(this)}),DO=function(p,E,b,Z,o,A,l,V,c){c.drawTree(p,E,b,o,A,l,V)},BO=function(p,E,b){return b.getLabel(p)},nO=(b("TreeTableView",t$,{ms_ac:[lx,Vx,Ax,"sortMode",ax,Jx,Mx,Px,"rootData","rootVisible",yx,xx,"sortColumn",Cx,hx,rx,Hx,Kx,tx,Tx,Fx,Lx,gx,Gx,Zl,"loader"],ms_v:1,ms_bnb:1,ms_fire:1,ms_sm:1,_49o:1,ms_txy:1,ms_lp:1,ms_vs:1,ms_hs:1,_15Q:1,ms_dm:1,ms_tip:1,_50o:1,_48o:1,_14Q:1,_45o:1,_47o:1,_sortMode:dx,_checkMode:r$,_editable:!0,_batchEditable:!1,_indent:Jq,_rowHeight:B3,_rowLineVisible:H$.treeTableViewRowLineVisible,_rowLineColor:H$.treeTableViewRowLineColor,_columnLineVisible:H$.treeTableViewColumnLineVisible,_columnLineColor:H$.treeTableViewColumnLineColor,_expandIcon:H$.treeTableViewExpandIcon,_collapseIcon:H$.treeTableViewCollapseIcon,_scrollBarColor:g,_scrollBarSize:Qa,_autoHideScrollBar:bl,_autoMakeVisible:oq,_selectBackground:H$.treeTableViewSelectBackground,_labelColor:H$.treeTableViewLabelColor,_labelSelectColor:H$.treeTableViewLabelSelectColor,_labelFont:H$.treeTableViewLabelFont,getTreeColumn:function(){return this._4o}}),function(p){R1(nO,this,[p])}),kO=(yf(nO,lO,{_34o:function(p,E){var b=this.list,Z=b._4o,o=b._3Q(Z),A=b.lp(p).x;if(o){var l=b._indent,o=o.startX+l*b.getLevel(E);if(Q(b.getToggleIcon(E))&&o<=A&&A<=o+l)return void b.toggle(E);if(b.isCellEditable(E,Z)&&(o+=l)<=A&&A<=o+l)return void b.checkData(E)}b._37O(E,p),b.setFocusData(E)},_33o:function(p,E){var b=this.list,Z=b.lp(p).x;if(Q(b.getToggleIcon(E))&&(o=b._3Q(b._4o))){var o,A=b._indent;if((o=o.startX+A*b.getLevel(E))<=Z&&Z<=o+A)return void b.toggle(E)}b._37O(E,p),nO.superClass._33o.apply(this,arguments)}}),fh.TableHeader=function(p){function E(){b.iv()}var b=this,Z=b._view=BW(1,b),o=b._39o=p.getColumnModel();b.tv=b._tableView=p,b._60I=new q,b._canvas=kW(Z),Z.style.background=H$.tableHeaderBackground||"",Z.style.height=dq+Ll,o.mm(E,b),o.md(E,b),o.mh(E,b),p.mp(function(p){_h[p.property]&&b.iv()},b),new jO(b),b.iv()}),jO=(b("TableHeader",t$,{ms_v:1,ms_lp:1,ms_fire:1,ms_ac:["checkIcon","sortDescIcon","sortAscIcon",lx,Ax,Mx,"moveBackground","insertColor",gx,Gx,"resizable","movable"],_checkIcon:ql,_movable:!0,_resizable:!0,_labelColor:H$.tableHeaderLabelColor,_labelFont:H$.tableHeaderLabelFont,_columnLineColor:H$.tableHeaderColumnLineColor,_columnLineVisible:H$.tableHeaderColumnLineVisible,_sortDescIcon:H$.tableHeaderSortDescIcon,_sortAscIcon:H$.tableHeaderSortAscIcon,_moveBackground:H$.tableHeaderMoveBackground,_insertColor:H$.tableHeaderInsertColor,_indent:Jq,getCheckIcon:function(){return this._checkIcon},getTableView:function(){return this.tv},getLabel:function(p){return p.toLabel()},getLabelFont:function(p){return this._labelFont},getLabelColor:function(p){return p.getColor()||this._labelColor},getLabelAlign:function(p){return p._align},onPropertyChanged:function(p){this.iv()},_5Q:function(p){this._61I=p,this.iv()},getLogicalPoint:function(p){return Gf(p,this._canvas,this.tv.tx())},validateImpl:function(){var p,Z=this,E=Z._canvas,b=Z.getWidth(),o=Z.getHeight(),A=Z.tv,l=Z._60I,V=Z._61I,c=-A.tx(),S=0,I=(b===E.clientWidth&&o===E.clientHeight||mW(E,b,o),l.empty(),Z._39o._roots.each(function(p){var E;p.isVisible()&&(E=S+p.getWidth(),S<=c+b&&c<=E&&l.add({column:p,startX:S}),S=E)}),TW(E));gW(I,-c,0,1),I.beginPath(),I.rect(c,0,b,o),I.clip(),I.clearRect(c,0,b,o),l.each(function(p){var E=p.column,p=p.startX,b=E.getWidth();0<b&&(I.save(),I.beginPath(),I.rect(p,0,b,o),I.clip(),V&&V.column===E||Z.drawColumn(I,E,p,0,b,o),Z._columnLineVisible&&M6(I,p+b-1,0,1,o,Z._columnLineColor),I.restore())}),V&&(A=V.column,S=V.startX,E=V.position,p=A.getWidth(),I.save(),I.beginPath(),I.rect(S,0,p,o),I.clip(),I.fillStyle=Z._moveBackground,I.fill(),Z.drawColumn(I,A,S,0,p,o),I.restore(),lW(I,Z._insertColor,E,0,o)),I.restore()},_6Q:function(p){var E=this.tv;return E._31o===p&&E.sm().getSelectionMode()===ml},drawColumn:function(p,E,b,Z,o,A){var l,V,c,S,I,D=this,B=D.tv,n=Q(E.getIcon()),k=D.getLabelAlign(E);D._6Q(E)?(I=Q(D._checkIcon),iq(p,I,b+o/2,Z+A/2,E,D)):(I=D.getLabel(E),l=D.getLabelFont(E),V=D.getLabelColor(E),c=Sf(l,I).width,S=n?D._indent:0,k===Yl?(n&&fq(p,n,Va,b,Z,S,A),cf(p,I,l,V,b+S,Z,o,A,Yl)):k===tl?(n&&fq(p,n,Va,b+o-c-S,Z,S,A),cf(p,I,l,V,b,Z,o,A,tl)):(n&&fq(p,n,Va,b+(o-c-S)/2,Z,S,A),cf(p,I,l,V,b+(o-c+S)/2,Z,0,A,Yl))),E.isSortable()&&B.getSortColumn()===E&&(n=Q(E.getSortOrder()===Ux?D._sortAscIcon:D._sortDescIcon))&&(I=tm(n,E)/2+2,iq(p,n,k===tl?b+I:b+o-I,Z+A/2,E,B))},isColumnMovable:function(p){return!0},canColumnInsertBefore:function(p){return!0}}),function(p){this.th=p,this.tv=p._tableView,this.addListeners()}),WO=(yf(jO,t$,{ms_listener:1,getView:function(){return this.th.getView()},setCursor:function(p){this.getView().style.cursor=p},handle_mousemove:function(p){if(!zW){delete this._29o,this.setCursor(jl);for(var E=this.th,b=E._60I,Z=E.lp(p).x,o=b.size()-1;0<=o;o--){var A=b.get(o),l=A.column,V=A.startX+l.getWidth();if(E.isResizable()&&a(V-Z)<=(kl?10:3))return this._29o=A,void this.setCursor(Wa);Z>A.startX&&Z<V&&(this._29o=A),(l.isClickable()||l.isSortable()||E.isMovable()&&E.isColumnMovable(l)||this.tv.getCheckColumn&&l===this.tv.getCheckColumn())&&Z>A.startX&&Z<V&&this.setCursor(ea)}}},handle_mousedown:function(p){this.handle_touchstart(p)},handle_touchstart:function(p){sq(p),this.tv.endEditing(),this.handle_mousemove(p),this._29o&&(this.x=mf(p).x,this.lx=this.th.lp(p).x,this.w=this._29o.column.getWidth(),gf(this,p))},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(p){var Z,E=this,o=E.th,b=E.getView().style.cursor,A=E._29o,l=mf(p).x-E.x;E.resizing||E.moving||(b===Wa?E.resizing=1:o.isMovable()&&b===ea&&2<a(l)&&(E.moving=1)),E.resizing?A.column.setWidth(E.w+l):E.moving&&(Z=E.lx+l,o._60I.each(function(p){var E=p.startX,b=E+p.column.getWidth();E<=Z&&Z<=b&&((p={column:A.column,startX:A.startX+l,front:o.canColumnInsertBefore(p.column)&&Z-E<b-Z,insertColumn:p.column}).front?p.position=E:p.position=b,o._5Q(p))}))},_16Q:function(p,E){var b=this.tv,Z=this.th,o=Z._checkIcon;if(Z._6Q(p)){var A=Q(o),l=this.lx,V=p.getWidth();if(E+V/2-(A=tm(A,p))<=l&&l<=E+V/2+A)return Z.setCheckIcon(o===Ql?ql:Ql),l=b.sm(),E=b._rows,o===Ql?l.rs(E):l.ss(E),b.onCheckColumnClicked(p),!0}return!1},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handleWindowTouchEnd:function(p){var E,b,Z,o,A,l=this,V=l.tv,c=l.th,S=l._29o;l.moving?((b=c._61I)&&b.insertColumn!==b.column&&(E=b.column,o=(Z=V.getColumnModel()._roots).remove(E),0<=(A=Z.indexOf(b.insertColumn))&&(b.front||A++,A<=Z.size()&&(Z.add(E,A),V.getColumnModel()._38I(E,o,A)))),c._5Q(r$),delete l.moving):!l.resizing&&S&&(E=S.column,b=c.lp(p).x,Z=S.startX,o=!0,(o=(!c.onColumnClicked||!1!==c.onColumnClicked(E,p,Z))&&o)&&Z<=b&&b<=Z+E.getWidth()&&(l._16Q(E,Z)||(E.isSortable()&&(A=V.getSortMode(),S=E.getSortOrder(),A===dx?V.getSortColumn()===E?(S===Nx&&V.setSortColumn(r$),E.setSortOrder(S===Ux?Nx:Ux)):V.setSortColumn(E):"bistate"===A&&(V.getSortColumn()===E?E.setSortOrder(S===Ux?Nx:Ux):V.setSortColumn(E))),V.onColumnClicked(E,p,Z)))),l._29o=l.resizing=l.x=l.lx=l.w=r$}}),fh.TablePane=function(p){this.init(new cO(p))},b("TablePane",t$,{ms_v:1,ms_fire:1,_44o:1}),fh.TreeTablePane=function(p){this.init(new IO(p))},b("TreeTablePane",t$,{ms_v:1,_44o:1}),fh.Toolbar=function(p){var Z=this,E=Z._view=BW(1,Z),b=E.style;b.background=H$.toolbarBackground||"",b.height=Uq+Ll,Z._canvas=kW(E),Z._30o=new q,Z._90I=new q,Z.setItems(p||[]),E.handleGroupSelectedChanged=function(E){var b;E.isSelected()&&null!=(b=E.getGroupId())&&Z._items.forEach(function(p){(p=p.element)&&p!==E&&p.setSelected&&p.getGroupId&&p.getGroupId()===b&&p.setSelected(!1)})},new WO(Z)},b("Toolbar",t$,{ms_v:1,ms_fire:1,ms_tx:1,ms_lp:1,ms_tip:1,ms_value:1,ms_ac:[dl,lx,Ax,Vx,Zl,"itemGap","separatorColor","currentItem","stickToRight"],_labelColor:H$.toolbarLabelColor,_labelSelectColor:H$.toolbarLabelSelectColor,_labelFont:H$.toolbarLabelFont,_selectBackground:H$.toolbarSelectBackground,_itemGap:H$.toolbarItemGap,_separatorColor:H$.toolbarSeparatorColor,_stickToRight:!1,getSumWidth:function(p){return this._64I},getToolTip:function(p){return(p=this.getItemInfoAt(p))?p.item.toolTip:r$},getLabelColor:function(p){return p&&p.selected&&p.type!==Ql&&"radio"!==p.type?this._labelSelectColor:this._labelColor},onPropertyChanged:function(p){this.iv(),p.property===dl&&this._items.forEach(function(p){DW(p)})},redraw:function(){this.iv()},addItem:function(p,E){var b=this._items;E==r$?b.push(p):b.splice(E,0,p),this.fp(dl,r$,b)},removeItem:function(p){if(p)for(var E=this._items,b=0;b<E.length;b++)p===E[b]&&(E.splice(b,1),this.fp(dl,r$,E))},removeItemById:function(p){if(p!=r$)for(var E,b=this._items,Z=0;Z<b.length;Z++)if(p===b[Z].id)return E=b.splice(Z,1)[0],this.fp(dl,r$,b),E},getItemById:function(p){if(p!=r$)for(var E=this._items,b=0;b<E.length;b++){var Z=E[b];if(p===Z.id)return Z}},setItemVisible:function(p,E){(p=this.getItemById(p))&&(p.visible=E)},getItemInfos:function(){return this._30o},getItemInfoAt:function(p){var E=0,b=this._30o,Z=(p=this.lp(p)).x;if(0<=(p=p.y)&&p<=this.getHeight())for(;E<b.size();E++){var o=b.get(E);if(o.startX<=Z&&Z<=o.endX)return o}return r$},drawItem:function(p,E,b,Z,o){if(!1===E.visible)return 0;if(y1(E.visible)&&!E.visible())return 0;var A=E.disabled,o=(A&&(p.globalAlpha=Xq),this.drawItemImpl(p,E,b,Z,o)),l=this._itemGap;return A&&(p.globalAlpha=1),this._currentItem!==E||"separator"===E||!0===E.separator||E.unfocusable||h6(p,this._separatorColor,b-l/2,0,o+l,Z),o},drawItemImpl:function(p,E,b,Z,o){var A,l,V=this,c=V._view,S=V._itemGap,I=Z/2,D=E.type,B=E.element,n=E.label,k=(F$(B)&&(n=B,B=r$),V.getLabelFont(E)),j=V.getLabelColor(E),W=E.selected,m=Q(E.icon),e=tm(m,E),$=e+(n?Sf(k,n).width:0);return"separator"===E||!0===E.separator?(lW(p,V._separatorColor,b,Z/4,I),1):B?(m&&iq(p,m,b+e/2,I,E,V),cf(p,n,k,j,b+e,0,0,Z),l=JW(B),o||V._90I.add(l),l.parentNode!==c&&eW(c,l),B.iv&&B.iv(),B.validate&&B.validate(),c=(o=l.getBoundingClientRect()).width,B=l.style,WW(l),B.left=V.tx()+b+$+Ll,B.top=(Z-o.height)/2+Ll,$+c):("radio"===D?A=Q(W?ul:Rl):D===Ql&&(A=Q(W?Ql:ql)),A?(l=tm(A,E),iq(p,A,b+l/2,I,E,V),b+=l,$+=l):W&&M6(p,b-S/2,0,$+S,Z,V.getSelectBackground(E)),m&&iq(p,m,b+e/2,I,E,V),cf(p,n,k,j,b+e,0,0,Z),$)},validateImpl:function(){var b=this,p=b._canvas,E=b.getWidth(),Z=b.getHeight(),o=b._30o,A=b._items,l=(mW(p,E,Z),TW(p)),V=b._itemGap,c=V/2,S=(gW(l,b.tx(),0,1),l.clearRect(0,0,E,Z),b._90I),S=(b._90I=new q,o.empty(),A.forEach(function(p){var E=b.drawItem(l,p,c,Z);o.add({item:p,startX:c,endX:c+E,width:E}),E&&(c+=E+V)}),S.each(function(p){b._90I.contains(p)||Lf(p)}),b._64I);b._64I=b$(0,c-V/2),l.restore(),b._stickToRight?(b._65O=0,l=TW(p),c=E-b._64I+V/2,gW(l,0,0,1),l.clearRect(0,0,E,Z),o.empty(),A.forEach(function(p){var E=b.drawItem(l,p,c,Z,!0);o.add({item:p,startX:c,endX:c+E,width:E}),E&&(c+=E+V)}),l.restore()):b.tx(b.tx()),S!==b._64I&&b.onSumWidthChanged(S,b._64I)},onSumWidthChanged:function(p,E){},handleClick:function(E,p){var b=E.type,Z=E.action,o=E.groupId,A=E.selected;E.disabled||(o!=r$?A||(E.selected=!0,this._items.forEach(function(p){p.groupId===o&&E!==p&&(p.selected=!1)}),Z&&E.action(E,this,p)):(b!==Ql&&"toggle"!==b||(E.selected=!A),Z&&E.action(E,this,p))),xq(),this.iv()}}),function(p){this.tb=p,this.addListeners()});yf(WO,t$,{ms_listener:1,getView:function(){return this.tb._view},handle_mousewheel:function(p){this.handleScroll(p,p.wheelDelta/40*10)},handle_DOMMouseScroll:function(p){this.handleScroll(p,10*-p.detail)},handleScroll:function(p,E){sq(p),(p=this.tb).isScrollable()&&!p._stickToRight&&(p.tx(p.tx()+E),OW())},handle_mousemove:function(p){zW||this.setItem(p)},handle_mouseout:function(p){p.target===this.getView()?this.tb.setCurrentItem(r$):this.handle_mousemove(p)},handle_mousedown:function(p){this.handle_mousemove(p),this.handle_touchstart(p)},handle_touchstart:function(p){var E=this.tb,b=p.target;!If(p)||b!==this.getView()&&b!==E._canvas||(sq(p),E.setFocus(p)&&(this.setItem(p,!0),(E.isScrollable()||this.info&&!this.info.item.disabled)&&(this.x=mf(p).x,this.tx=E.tx(),gf(this,p))))},handleWindowMouseMove:function(p){this.handleWindowTouchMove(p)},handleWindowTouchMove:function(p){var E=this.tb;E._stickToRight||(p=mf(p).x-this.x,!this._25o&&2<a(p)&&E.isScrollable()&&(this._25o=1),this._25o&&E.tx(this.tx+p))},handleWindowMouseUp:function(p){this.handleWindowTouchEnd(p)},handleWindowTouchEnd:function(p){var E=this.tb,b=this.info,Z=this.tb.getItemInfoAt(p);!this._25o&&b&&(b=b.item,Z&&Z.item===b&&E.handleClick(b,p)),this._25o=this.x=this.tx=r$,this.setItem()},setItem:function(p,E){var b=this.tb,Z=(Z=this.info=p?b.getItemInfoAt(p):r$)?Z.item:r$;b.setCurrentItem(Z),E&&Z&&y1(Z.onDown)&&Z.onDown(p)}}),fh.BorderPane=function(){this._view=BW(1,this),this.iv()},b("BorderPane",t$,{ms_v:1,ms_ac:["topHeight","bottomHeight","leftWidth","rightWidth"],ms_fire:1,getLeftView:function(){return this._leftView},setLeftView:function(p,E){this._12o("leftView",p),E!=r$&&this.setLeftWidth(E)},getRightView:function(){return this._rightView},setRightView:function(p,E){this._12o("rightView",p),E!=r$&&this.setRightWidth(E)},getTopView:function(){return this._topView},setTopView:function(p,E){this._12o("topView",p),E!=r$&&this.setTopHeight(E)},getBottomView:function(){return this._bottomView},setBottomView:function(p,E){this._12o("bottomView",p),E!=r$&&this.setBottomHeight(E)},getCenterView:function(){return this._centerView},setCenterView:function(p){this._12o("centerView",p)},_12o:function(p,E){var b="_"+p,Z=this._view,o=this[b];o!==E&&(o&&(o.getView?Lf(o.getView()):Lf(o)),(this[b]=E)&&(E.getView?eW(Z,E.getView(),1):eW(Z,E,1)),this.fp(p,o,E))},onPropertyChanged:function(p){this.iv()},validateImpl:function(){var p=(j=this)._topView,E=j._bottomView,b=j._leftView,Z=j._rightView,o=j._centerView,A=j.getWidth(),l=0,V=0,c=A,S=k=j.getHeight(),I=0,D=0,B=0,n=0,k=(p&&(V=I=j._topHeight==r$?FW(p):j._topHeight),E&&(S=k-(D=j._bottomHeight==r$?FW(E):j._bottomHeight)),b&&(l=B=j._leftWidth==r$?MW(b):j._leftWidth),Z&&(c=A-(n=j._rightWidth==r$?MW(Z):j._rightWidth)),b$(0,c-l)),j=b$(0,S-V);p&&dW(p,0,0,A,I),E&&dW(E,0,S,A,D),b&&dW(b,0,V,B,j),Z&&dW(Z,c,V,n,j),o&&dW(o,l,V,k,j)}})}function mO(p,E,b,Z,o,A,l,V){for(var c,S=1<=l?(c=o,A):(c=b,Z),I=0;I<V;I++)p[E+I]=c[S+I];return p}function eO(p,E,b,Z,o,A,l,V){for(var c=0;c<V;c++)p[E+c]=b[Z+c]+(o[A+c]-b[Z+c])*l;return p}function $O(p,E,b,Z,o,A,l,V){p=W;var c,S,I=this._quatCache,Z=I[Z/V],D=l*(A=(I=I[A/V]).roundHalf),B=f.clamp(Math.floor(D),0,A-1),Z=0==B?(c=Z.quat,0):(c=I.internalQuat,B-1),A=++B==A?(S=I.quat,0):(S=I.internalQuat,B-1);return uB.slerpFlat(p,E,c,Z*(V=4),S,A*V,1<=l?1:D-Math.floor(D)),p}function YO(p,E,b,Z,o,A,l,V){return uB.slerpFlat(p,E,b,Z,o,A,l),p}function tO(p,E,b,Z,o,A,l,V){return p[0]=u.Default.getGradientOffset(b[Z],o[A],l),p}function KO(){this._quatCache=[];var p=this.values;if(p)for(var E=this.times.length,b=this.stride,Z=0;Z<E;Z++){1===b?p[Z]instanceof Zq?Y.copy(p[Z]):p[Z].x?Y.setFromVector3(p[Z]):Y.fromArray(p[Z]):4==b?Y.fromArray(p,Z*b):Y.set(p[Z*b],p[Z*b+1],p[Z*b+2]);var o={};if(o.quat=t.setFromEuler(Y).toArray(),0!==Z){var A=Math.max(Math.abs(Y.x-$.x),Math.abs(Y.y-$.y),Math.abs(Y.z-$.z)),l=Math.floor(A/(Math.PI-.01))+1;if(1<(o.roundHalf=l)){if(o.internalQuat=[],K.fromArray(this._quatCache[this._quatCache.length-1].quat),A=K.dot(t),!(A=.999<Math.abs(A)||Math.abs(A)<.001)){r.copy(K).inverse().premultiply(t).normalize().toArray(H);var V=Math.acos(H[3]);if((S=Math.sin(V))<.001)A=!0;else for(var c=M.fromArray(H).multiplyScalar(1/S),S=f.angleMod(2*V),I=(l%2==0&&(S-=2*Math.PI*Math.sign(S)),Math.floor((l-1)/2)*Math.PI*2*Math.sign(S)+S),D=0;D<l-1;D++)t.setFromAxisAngle(c,I*(D+1)/l).multiply(K).toArray(o.internalQuat,4*D)}if(A)for(var B=$.x,n=$.y,k=$.z,j=Y.x-B,W=Y.y-n,m=Y.z-k,e=$,D=0;D<l-1;D++)t.setFromEuler(e.set(B+j*(D+1)/l,n+W*(D+1)/l,k+m*(D+1)/l)).toArray(o.internalQuat,4*D)}}this._quatCache.push(o),$.copy(Y)}}function rO(p,E,b,Z){this.id=p,this.callback=E,this.delay=b,this.args=Z||[],this.startTime=performance.now(),this.executeTime=this.startTime+b}function HO(p,E){return-1!==(E=function(p,E){for(var b=0;b<p.length;b++)if(p[b].id===E)return b;return-1}(p,E))&&(p.splice(E,1),1)}function MO(){for(var p,E=performance.now(),b=E,Z=0,o=[],A=X.length-1;0<=A&&!((p=X[A]).isReady(b)&&(o.push(p),X.splice(A,1),++Z>=B.MAX_BATCH_SIZE));A--);for(A=0;A<o.length;A++)o[A].execute();for(var l,V=E,c=0,S=[];0<G.length&&c<B.MAX_BATCH_SIZE&&G[G.length-1].isReady(V);)S.push(G.pop()),c++;for(l=0;l<S.length;l++)S[l].execute();m=0<X.length||0<G.length?requestAnimationFrame(MO):(F=!1,null)}function FO(p){sq(p),p.stopPropagation()}function XO(p){sq(p)}function GO(p,E){var b=p.length,Z=p[0];if(F$(p)||Z&&1!==Z.length)return p;for(var o=new Array(b),A=0;A<b;A++)o[A]=p[A];var l=o[Z="L"===o[0]?5:7],V=o[1+Z],c=o[2+Z],S=o[3+Z],I=o[4+Z],D=o[5+Z],B=E[0],n=E[1],k=E[2],j=E[3],W=E[4],E=E[5];return o[Z]=B*l+k*V,o[1+Z]=n*l+j*V,o[2+Z]=B*c+k*S,o[3+Z]=n*c+j*S,o[4+Z]=B*I+k*D+W,o[5+Z]=n*I+j*D+E,o}function TO(p,E){return E===p.substring(0,E.length)}function gO(p){return parseFloat(p)||0}function LO(p,E){E==K$&&(E=new G$),p=(p=p.split(/\s+/)).map(gO),E.set(p[0]||0,p[1]||0,p[2]||0)}function xO(p){try{var E=p.zoom;return E==K$?1:+E}catch(p){return 1}}function CO(p){var E,b="+",Z=("+"!==(Z=(p=cq[p]||p)[0])&&"-"!==Z&&"*"!==Z||(p=p.substring(1),b=Z),p.indexOf("(")),o=K$;return-1!==Z&&(E=p.substring(Z+1,p.length-1).split(","),p=p.substring(0,Z),o=E.map(function(p){return parseFloat(p.trim())})),(Z=new(Z=lq[p])((o=o||[])[0],o[1],o[2],o[3]).setEasingMode($k[b])).ease.bind(Z)}function hO(p){return!!Array.isArray(p)&&("linear"===(p=p[0])||"radial"===p)}function PO(p){var E,b,Z,o,A=Hk[p];return!0===A||!0===(A=A||((o=p.match(Mk))?(E=Number(o[1]),b=Number(o[2]),Z=Number(o[3]),o=o[4],Hk[p]=[E,b,Z,255*(o===K$?1:o)]):Hk[p]=!0))?af(p):A}function yO(p,E,b){if(0===b)return p;if(1===b)return E;var Z=(p=PO(p))[3]/255,o=(E=PO(E))[3]/255,A=0,l=0,V=p[0],c=p[1],p=p[2],S=Z+(o-Z)*b,Z=1e-5<S?(A=((V*=Z)+(E[0]*o-V)*b)/S|0,l=((c*=Z)+(E[1]*o-c)*b)/S|0,((p*=Z)+(E[2]*o-p)*b)/S|0):(A=V+(E[0]-V)*b|0,l=c+(E[1]-c)*b|0,p+(E[2]-p)*b|0);return"rgba("+A+","+l+","+Z+","+S.toFixed(2)+")"}function aO(p){return"linear"===p[0]?5:F$(p[5])?4:13}function JO(p,E,b,Z,o){Z===K$&&(Z=0),o===K$&&(o=b.length);for(var A=0;A<o;A++)p[E+A]=b[Z+A]}function dO(p){var E=p.substr(p.lastIndexOf(".")+1).toLowerCase(),b=(p=H$.beforeLoadURL(p),xk[E]||E);return{postfix:E,url:"url("+p+') format("'+b+'")'}}function UO(p,E){return hk[p.postfix]-hk[E.postfix]}function NO(p,E,b){p.x=E.x,p.y=E.e||b,p.z=E.y}function OO(p){var E;P1(p)&&(E=p.states)&&(E=E.__states)&&(p.states=Uh(E,p))}function zO(p){p.duration&&(p.startTime=M1()),p.timeId=Ef(p.tick,r$,r$,p.interval)}function _O(p){p.details=0,p.timeout=null,p.lastPoint=null}function vO(){if(uk){var p,E=Date.now(),b=E-Rk,Z=E;try{for(p=0;p<qk.length;p++)qk[p].callback(Z,b)}catch(E){qk[p].onError?qk[p].onError(E):(qk.splice(p,1),console.error("Heartbeat error:",E))}Rk=E,0<qk.length?requestAnimationFrame(vO):uk=!1}}function QO(Z,b){Z.getValue&&Z.getValue.compType===b||(Z.getValue=function(p){var E=_(Z,p);return E===K$&&b.properties&&(p=b.properties[p])?p.defaultValue:E},Z.getColor=function(p,E,b){return!0===E?n9(p,r$,b):(E=Z.getValue(p),b&&t$.assign(b,{comp:Z,name:p}),n9(E,r$,b))},Z.getValue.compType=b)}function qO(p,E){return n9(p,r$,E)}function uO(p,E){if(H$.convertColor)return{comp:p,name:E}}function RO(p){if(X$(p)){for(var E=new q,b=p.length,Z=0;Z<b;Z+=2)E.add({x:p[Z],y:p[Z+1]});p=E}return p}function sO(p,E,b){if(E){var Z,o,A,l={x:E.x,y:E.y,width:E.width,height:E.height},V=k9(p),c=_(p,"layoutH"),S=_(p,"layoutV"),I=1,D=1,B=0,n=0,k=1,j=1,W=l.x+V.x*l.width,m=l.y+V.y*l.height;switch(c){case"left":break;case"right":W+=b.width-b.rw;break;case"center":W+=.5*(b.width-b.rw);break;default:(Z=_(p,nx)||0)&&(B=Math.abs(n=Math.sin(Z)),k=Math.abs(j=Math.cos(Z))),"leftright"!==c?(I+=k*(b.widthScale-1),D+=B*(b.widthScale-1),W*=b.widthScale):(o=_(p,"scaleX")||1,A=_(p,"scaleY")||1,I+=l.width?k*(b.width-b.rw)/l.width/o:0,D+=l.height?B*(b.width-b.rw)/l.height/A:0,W+=(b.rw-b.width)*Math.min(-V.x*j+V.y*n,-V.x*j-(1-V.y)*n,(1-V.x)*j+V.y*n,(1-V.x)*j-(1-V.y)*n))}switch(S){case"top":break;case"bottom":m+=b.height-b.rh;break;case"center":m+=.5*(b.height-b.rh);break;default:Z==r$&&(Z=_(p,nx))&&(B=Math.abs(n=Math.sin(Z)),k=Math.abs(j=Math.cos(Z))),"topbottom"!==S?(I+=B*(b.heightScale-1),D+=k*(b.heightScale-1),m*=b.heightScale):(o==r$&&(o=_(p,"scaleX")||1,A=_(p,"scaleY")||1),I+=l.width?B*(b.height-b.rh)/l.width/o:0,D+=l.height?k*(b.height-b.rh)/l.height/A:0,m+=(b.rh-b.height)*Math.min(-V.x*n-V.y*j,-V.x*n+(1-V.y)*j,(1-V.x)*n-V.y*j,(1-V.x)*n+(1-V.y)*j))}return 1===I&&1===D||(l.width*=I,l.height*=D,l.width<0&&(l.width=0),l.height<0&&(l.height=0)),l.x=W-V.x*l.width,l.y=m-V.y*l.height,l}}function wO(p){return X$(p)?new q(p):p}function iO(p,E,b,Z,o,A,l,V){var c=z.interactiveInfo,S=p.transform,I=B9();if(S)return V||z.save(),z.setTransform(S.a,S.b,S.c,S.d,S.tx,S.ty),c&&j9(c,{comp:p,rect:E,matrix:S.clone(),prefix:nm,refRect:c.refRect,exData:I}),!0;if(o===K$&&(o=1),A===K$&&(A=1),S=_(p,"clipPercentage"),i1(b,E)&&!Z&&1===o&&1===A&&S==K$)return c&&j9(c,{comp:p,rect:E,matrix:c.matrix.clone(),prefix:nm,refRect:c.refRect,exData:I}),!1;var D=E.x+E.width*(l=l||$m).x,B=E.y+E.height*l.y,n=b.x+b.width*l.x,l=b.y+b.height*l.y,o=b.width?o*(E.width/b.width):1,A=b.height?A*(E.height/b.height):1;return V||z.save(),c&&(c.matrix.appendTranslate(D,B).appendRotate(Z).appendScale(o,A).appendTranslate(-n,-l),j9(c,{comp:p,rect:E,matrix:c.matrix.clone(),prefix:nm,refRect:c.refRect,exData:I})),LW(z,D,B),xW(z,Z||0),CW(z,o,A),LW(z,-n,-l),S!=K$&&(V=AW(b,_(p,"clipDirection"),S),z.beginPath(),z.rect(V.x,V.y,V.width,V.height),z.clip()),!0}function fO(){z.restore()}function pN(p,E,b,Z){var o,A,l,V,c,y,a,S=_(p,sl,RO),I=_(p,"segments",wO),D=_(p,nx),B=k9(p),Z=(S&&Z.fitSize&&(o=new q,Z=sO(p,n=Yf(S),Z),A=n.x+B.x*n.width,l=n.y+B.y*n.height,V=Z.x+B.x*Z.width,c=Z.y+B.y*Z.height,y=n.width?Z.width/n.width:1,a=n.height?Z.height/n.height:1,S.each(function(p){o.add({x:V+(p.x-A)*y,y:c+(p.y-l)*a})}),S=o,p.unionRect=null),_(p,"scaleX")),n=_(p,"scaleY"),k=E===Jl,j="clip"===E,W=r$;if(b||!k&&!j||((b=p.unionRect)||(b=Yf(S),p.points.func||(p.unionRect=b)),W=b),b){k||j?(W=W||p.unionRect)||(W=Yf(S),p.points.func||(p.unionRect=W)):W=b;var m=j&&z.getTransform(),b=iO(p,b,W,D,Z,n,B,j);if(j)return t6(z,S,I,x),z.clip(),b&&z.setTransform(m);var e,$,Y,t,K,r,H,M,F,D=_(p,"borderPattern"),Z=Im(z,D),n=n9(p,"background"),j=Q(_(p,"repeatImage"),S9,I9),m=_(p,"gradientPack"),X=_(p,"borderGradientPack"),G=n9(p,"borderColor"),T=_(p,"borderWidth"),g=Q(_(p,"borderRepeatImage"),S9,I9),L=_(p,"gradient"),J=_(p,"border3d"),d=n9(p,"border3dColor"),U=_(p,"border3dAccuracy"),x=_(p,"closePath"),C=_(p,"fillRule")||"nonzero",N=z.lineJoin,O=z.lineCap,h=_(p,"shadow"),P=_(p,"shadowInset");z.lineJoin=_(p,"borderJoin")||Pq,z.lineCap=_(p,"borderCap")||hq,k?n||j||m?((M=_(p,"fillClipPercentage"))!=K$&&(K=AW(W,_(p,"fillClipDirection"),M),z.save(),z.beginPath(),z.rect(K.x,K.y,K.width,K.height),z.clip()),t6(z,S,I,x),m?$6(z,m,qO,!1,W,r$,uO(p,"gradientPack")):j?G6(z,j,S9,I9,l9,V9,_(p,"repeatImageStretch"),W,_(p,"repeatImageRotation"),B):(L&&(r=n9(p,"gradientColor")),X6(z,n,L,r,W)),z.fill(C),m&&z.restore(),M!=K$&&z.restore(),Z!==z&&t6(Z,S,I,x)):t6(Z,S,I,x):("roundRect"===E?e=_(p,"cornerRadius"):"polygon"===E?(e=_(p,"polygonSide"),$=_(p,"cornerRadius"),Y=_(p,"regular")):"nStar"===E?(e=_(p,"starSide"),$=_(p,"cornerRadius"),Y=_(p,"starRatio"),t=_(p,"regular")):"arc"===E&&(e=_(p,"arcFrom"),$=_(p,"arcTo"),Y=_(p,"arcClose"),t=_(p,"arcOval")),n||j||m?((M=_(p,"fillClipPercentage"))!=K$&&(K=AW(W,_(p,"fillClipDirection"),M),z.save(),z.beginPath(),z.rect(K.x,K.y,K.width,K.height),z.clip()),F6(z,E,W,e,$,Y,t),m?$6(z,m,qO,!1,W,r$,uO(p,"gradientPack")):j?G6(z,j,S9,I9,l9,V9,_(p,"repeatImageStretch"),W,_(p,"repeatImageRotation"),B):(L&&(r=n9(p,"gradientColor")),X6(z,n,L,r,W)),z.fill(C),m&&z.restore(),M!=K$&&z.restore(),z!==Z&&F6(Z,E,W,e,$,Y,t)):F6(Z,E,W,e,$,Y,t)),h&&P&&(z.save(),K=c9*H$.devicePixelRatio,j=_(p,"shadowOffsetX"),L=_(p,"shadowOffsetY"),r=_(p,"shadowBlur"),C=n9(p,"shadowColor")||n9(I3),r==r$&&(r=6),z.shadowOffsetX=(j==r$?3:j)*K,z.shadowOffsetY=(L==r$?3:L)*K,z.shadowBlur=r*K,z.shadowColor=C,k?t6(Z,S,I,x):F6(z,E,W,e,$,Y,t),z.clip(),z.rect(W.x-r,W.y-r,W.width+2*r,W.height+2*r),z.fillStyle=C,z.fill("evenodd"),z.restore(),k?t6(Z,S,I,x):F6(Z,E,W,e,$,Y,t)),(m=_(p,"borderWidthAbsolute"))&&hW(z,H=QB.TEMP_MATRIX),T&&(G||g||X)&&(z.lineWidth=T,X?((F=p$(W)).width<T?(F.width+=T,F.x-=.5*T):F.height<T&&(F.height+=T,F.y-=.5*T),$6(z,X,qO,!0,F,H,uO(p,"borderGradientPack"))):g?T6(z,g,S9,I9,l9,V9,_(p,"borderRepeatImageStretch"),W,_(p,"borderRepeatImageRotation"),B):z.strokeStyle=G,z.stroke(),X&&z.restore(),J&&r6(z,G,d,T,c9,U)),Dm(z,D),_(p,"dash")&&0<(M=_(p,"dashWidth")||T)&&(D=_(p,"dashPattern")||Cq,Z=Im(z,D,_(p,"dashOffset")),h=n9(p,"dashColor")||n9(p3),Z!==z&&(k?t6(Z,S,I,x):F6(Z,E,W,e,$,Y,t)),z.lineWidth=M,(P=_(p,"dashGradientPack"))?((F=p$(W)).width<M?(F.width+=M,F.x-=.5*M):F.height<M&&(F.height+=M,F.y-=.5*M),$6(z,P,qO,!0,F,H,uO(p,"dashGradientPack"))):z.strokeStyle=h,z.stroke(),P&&z.restore(),_(p,"dash3d")&&r6(z,h,n9(p,"dash3dColor"),M,c9,_(p,"dash3dAccuracy")),Dm(z,D)),m&&z.restore(),E===Pl&&P6(z,n,_(p,"depth"),W),z.lineJoin=N,z.lineCap=O,b&&fO()}}function EN(p){z=p[0],l9=p[1],V9=p[2],c9=p[3],S9=p[4],I9=p[5],D9=p[6]}function bN(p,E){if("function"!=typeof E&&null!==E)throw new TypeError("Super expression must either be null or a function");p.prototype=t$.create(E&&E.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),E&&Tm(p,E)}function ZN(p){return"Array]"===(p=t$.prototype.toString.call(p)).substring(p.length-6)}function oN(p,E,b,Z,o,A){E=E||[],b=b||[],Z=Z||[];try{E.push(p);var l=Function.apply(0,E);return b[b.length]="return "+l,Function.apply(0,b).apply(0,Z)}catch(p){return A&&A(p),o}}function AN(p){return p}function lN(p,E){return E}function VN(p,E,b,Z){var o=p?p.path.slice(0):[];E&&o.push(E),this.desc=b,this.name=E,this.path=Lm(o),this.getter=Cm(o),this.setter=hm(o),this.isLeaf=Z,this.parent=p,this.children=[],this.childMap={}}function cN(p){var E=[];return p.forEach(function(p){E.push({x:p.x,y:p.y}),E.push({x:p.x+p.width,y:p.y+p.height}),E.push({x:p.x+p.width,y:p.y}),E.push({x:p.x,y:p.y+p.height})}),E}function SN(p,E){return 0<p.dot(E)}function IN(){this._vertexMap={},this._lineMap={},this._lineList=[]}function DN(p,E,b,Z,o,A,l){b=[b,o],p[0]===Z&&b.reverse(),o=[b[0]._key,b[1]._key].join("|"),(Z=p._triangles[o])||(p._triangles[o]=Z={}),Z[b=[A._key,l._key].join("|")]||(Z[b]=[A,l])}function BN(p,E,b){var Z=p._planes[b._key];if(!Z)for(var o in p._planes)if((o=p._planes[o])._normal.angleTo(b)<.001){Z=o;break}Z?Z._vertices.indexOf(E)<0&&Z._vertices.push(E):p._planes[b._key]={_normal:b,_vertices:[E]}}function nN(p,E){return 0===E?"0|0|0":(Math.abs(E)===1/0?[p.x,p.y,p.z]:[Math.round(L9.angleTo(p)*E),Math.round(x9.angleTo(p)*E),Math.round(C9.angleTo(p)*E)]).join("|")}function kN(p){for(var E=p.length,b=0,Z=E-1,o=0;o<E;Z=o++)b+=p[Z].x*p[o].y-p[o].x*p[Z].y;return.5*b}function jN(p,E,b,Z,o,A){E=new v(E.get(b)),A=A.apply(E),p.push({local:E,world:A,type:o,index:b,realIndex:Z})}function WN(){var o={_calcShift:function(p,E){var b=o.getBackup("_calcShift"),Z=this.gv;return J.inEdit(Z)&&Z.getEditInteractor().getSubModule("Move").calcShift(p,E,this)||b.call(this,p,E)},clear:function(p){o.getBackup("clear").call(this,p);var E=this.gv;J.inEdit(E)&&E.getEditInteractor().getSubModule("Move").clear(p)}};return o}function mN(p,E){var b=p.x-E.x;return b*b+(p=p.y-E.y)*p}function eN(E,b,p){return{def:E,getter:p?function(p){return 1<zV.for(p).version?p.getParameter(b):E}:function(p){return p.getParameter(b)},setter:p?function(p,E){1<zV.for(p).version&&p.pixelStorei(b,E)}:function(p,E){p.pixelStorei(b,E)}}}function $N(p){return"string"==typeof p?W6(p):p.r!==K$?(d_[0]=p.r,d_[1]=p.g,d_[2]=p.b,d_[3]=p.a,d_):p.red!==K$?(d_[0]=p.red,d_[1]=p.green,d_[2]=p.blue,d_[3]=p.alpha,d_):p}function YN(p){return ZN(p)?Array.prototype.slice.call(p,0):p}function tN(p,E,b){this.gl=E,this._record=b||{},this._branches={},this._leafSync={};for(var Z=(this._struct=p).children,o=Z.length;o--;){var A=Z[o],l=A.name;A.isLeaf?(this._leafSync[l]=!1,this._record[l]=YN(A.desc.def)):this._record[l]={}}}function KN(p,E){var b=p.duration,Z=E.start,o=E.duration;Z&&b<Z||o&&b<o+(Z||0)||(Z&&(p.start=Z),b!==(o=o||b-(Z||0))&&(p.duration=o,p.rawDuration=b),E.default&&(p.default=!0),E.speed!==K$&&(p.speed=E.speed),E.loop&&(p.loop=E.loop))}function rN(p,E,b){var Z,o,A,l=E.name;if(N_[l]){do{if(O_=E.sourceShortName+"#"+l,!N_[O_])break;if(E.sources&&E.sources.length&&(O_+=E.sources.join("#")),!N_[O_])break;for(var l=O_,V=1;O_=l+"$"+V++,N_[O_];);}while(0);N_[O_]=!0,l=E.name=O_}else N_[l]=!0;if(b)for(Z in(A=b[l])&&(A.invalid?E._toBeRemoved=!0:(A.name&&(E.rawName=l,E.name=A.name),KN(E,A))),b)(A=b[Z]).source!==l||N_[Z]||(N_[Z]=!0,(o=t$.assign({},E)).name=Z,o.source=l,o.rawDuration&&(o.duration=o.rawDuration,delete o.rawDuration),KN(o,A),p.push(o))}function HN(p,E,b,Z,o,A){(l=p[E])||(l=p[E]={vs:[],ns:[],uv:[]});var l,Z=Z.toArray(),V=BL(Z),c=b.vs,S=b.uv,I=b.ns,D=b.is,B=b.uv2;if(o!==K$){var n=new Array(A);if(D)for(var k=0;k<A;k++)n[k]=D[o+k];else for(k=0;k<A;k++)n[k]=o+k;D=n}if(!S)for(var k=0,j=(S=new Array(c.length/3*2)).length;k<j;k++)S[k]=0;if(b=l.uv.length,cd(Z,l,c,S,D,I,V),B&&B.length||l.uv2&&l.uv2.length){var W=l.uv2;if(!W)for(k=0,j=(W=l.uv2=new Array(b)).length;k<j;k++)W[k]=0;if(c=T$.determinantOfArray(Z)<0,B&&B.length)D||c?pm(D||B.length/2,c,function(p){_1(W,[B[2*p],B[2*p+1]])}):_1(W,B);else for(k=W.length,j=l.uv.length;k<j;k+=2)W.push(0,0)}(l.vs&&l.vs.length>q_||l.is&&l.is.length>Q_)&&(I=f.generateUUID(),l.material=E,p[I]=l,p[E]={vs:[],ns:[],uv:[]})}function MN(p,E){if(!E)return-1;var b=p.indexOf(E);return-1===b?(p.push(E),p.length-1):b}function FN(p,E,b,Z,o,A){var l=[],b=(l.push(MN(b,E.vs)),l.push(MN(Z,E.uv)),l.push(MN(o,E.ns)),l.push(MN(A,E.is)),l.push(MN(A,E.uv2)),p.mat),V=(X$(b)?l.push(b.join("|")):P1(b)&&l.push(H$.stringify(b,0)),b&&l.push(b),p.subMeshes);if(V)for(var c=0,S=V.length;c<S;c++){var I=(B=V[c]).materialIndex,D=B.start,B=B.count;l.push("i"+I+"s"+D+"c"+B)}return l.join(",")}function XN(p,E){return p&&(p[0]!==(E=E?1:0)||p[1]!==E||p[2]!==E)}function GN(p,E,b){if(b){var Z=E.mesh,o=E.matrix;IV.multiplyMatrices(b.mi,o);for(var A=0,l=b.data,V=b.m,c=l.length;A<c;A+=16){var S=(new T$).fromArray(l,A);S.premultiply(V).multiply(IV),p.push({matrix:S,mesh:Z,model:E.model})}}else p.push(E)}function TN(p,E){E&&(E.isRenderTarget?E.release():pj(E)&&p.deleteTexture(E))}function gN(p,E,b,Z,o,A,l,V,c,S,I,D,B){l=l||0;for(var n=[],k=V?new G$:r$,j=0;j<=o;j++){var W=rV(p,E,b,j,I,D,Z,B);n.push(W),A!=r$&&(W.uv=[A,1-j/o+l])}if(V){for(j=0;j<o;j++)k.subVectors(n[j],n[j+1]),0==k.lengthSq()&&k.copy(E),S&&(c=n[j].clone().sub(S[j])),k.cross(c).normalize(),n[j].ns=k.toArray();n[j].ns=n[j-1].ns}return n}function LN(p,E,b,Z,o,A,l,V,c,S,I,D,B,n,k){if(!(D.length<3||0==c)){var j=E?p.top_vs:p.bottom_vs;if(j){var W,m,e,$,Y=E?p.top_uv:p.bottom_uv,t=oP.triangulateShape(D,n),K=gN(b,Z,o,S,I,A,l,!1,V,null,D,B,k),r=n.length;for(Y&&(m=D.slice(0)),G=0;G<r;G++)if(W=gN(b,Z,o,S,n[G].length-1,A,l,!1,V,null,n[G],B,k))for(e=W.length,$=0;$<e;$++)K.push(W[$]),Y&&m.push(n[G][$]);for(var H,M,F,X=t.length,G=0;G<X;G++)F=t[G],F=E?(H=F[2],M=F[1],F[0]):(H=F[0],M=F[1],F[2]),jE(j,K[H],K[M],K[F]),Y&&Y.push(.5+m[H].x/c,.5+m[H].y/c,.5+m[M].x/c,.5+m[M].y/c,.5+m[F].x/c,.5+m[F].y/c)}}}function xN(p,E){return p?(0!==E&&(E=E%1||1)<0&&(E+=1),.5-lE(p,E).point.x):1}function CN(b){var Z={};return{get:function(p){if(Z[p]!==K$)return Z[p];var E;switch(p){case"WEBGL_depth_texture":E=b.getExtension("WEBGL_depth_texture")||b.getExtension("MOZ_WEBGL_depth_texture")||b.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":E=b.getExtension("EXT_texture_filter_anisotropic")||b.getExtension("MOZ_EXT_texture_filter_anisotropic")||b.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":E=b.getExtension("WEBGL_compressed_texture_s3tc")||b.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||b.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":E=b.getExtension("WEBGL_compressed_texture_pvrtc")||b.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":E=b.getExtension("WEBGL_compressed_texture_etc1");break;default:E=b.getExtension(p)}return Z[p]=E}}}function hN(E,b,p){var Z;function o(p){if("highp"===p){if(0<E.getShaderPrecisionFormat(35633,36338).precision&&0<E.getShaderPrecisionFormat(35632,36338).precision)return"highp";p="mediump"}return"mediump"===p&&0<E.getShaderPrecisionFormat(35633,36337).precision&&0<E.getShaderPrecisionFormat(35632,36337).precision?"mediump":"lowp"}p=p||{};var A,l="undefined"!=typeof WebGL2RenderingContext&&E instanceof WebGL2RenderingContext,V=p.precision!==K$?p.precision:"highp",c=((c=o(V))!==V&&(console.warn("WebGL:",V,"not supported, using",c,"instead."),V=c),!0===p.logarithmicDepthBuffer),p=E.getParameter(34930),S=E.getParameter(35660),I=E.getParameter(3379),D=E.getParameter(34076),B=E.getParameter(34921),n=E.getParameter(36347),k=E.getParameter(36348),j=E.getParameter(36349),W=0<S,m=l||!!b.get("OES_texture_float"),e=(l||!!b.get("OES_element_index_uint"))&&"undefined"!=typeof Uint32Array,$=W&&m,Y=l?E.getParameter(36183):0,t=l||!!b.get("EXT_shader_texture_lod"),K=!1,r=0;return l?(r=E.getParameter(32883),K=!0):(A=b.get("ANGLE_instanced_arrays"))&&(K=!0,E.vertexAttribDivisor=function(p,E){return A.vertexAttribDivisorANGLE(p,E)},E.drawElementsInstanced=function(p,E,b,Z,o){return A.drawElementsInstancedANGLE(p,E,b,Z,o)},E.drawArraysInstanced=function(p,E,b,Z){return A.drawArraysInstancedANGLE(p,E,b,Z)}),l?b.get("EXT_color_buffer_float"):(b.get("WEBGL_depth_texture"),b.get("OES_texture_half_float"),b.get("OES_texture_half_float_linear"),b.get("OES_standard_derivatives"),b.get("OES_vertex_array_object")),b.get("OES_texture_float_linear"),b.get("EXT_color_buffer_half_float"),b.get("WEBGL_multisampled_render_to_texture"),{isWebGL2:l,getMaxAnisotropy:function(){if(Z!==K$)return Z;var p=b.get("EXT_texture_filter_anisotropic");return Z=null!==p?E.getParameter(p.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:o,precision:V,precisionString:"precision "+V+" float;\nprecision "+V+" int;\n",logarithmicDepthBuffer:c,maxTextures:p,maxVertexTextures:S,maxTextureSize:I,max3DTextureSize:r,maxCubemapSize:D,maxAttributes:B,maxVertexUniforms:n,maxVaryings:k,maxFragmentUniforms:j,vertexTextures:W,floatFragmentTextures:m,elementTypeUint:e,floatVertexTextures:$,maxSamples:Y,shaderTextureLod:t,instancedArray:K}}function PN(E,o,p,b){if(b||!p.isWebGL2||"undefined"==typeof WeakMap)return{supportsUbo:!1,setCurrentFrameRenderId:P};var Z,A={},b=o.getParameter(35375),l=new WeakMap;return(Z=A.scene=new yE(o,0,"scene","Scene")).addUniform("uProjectMatrix",16),Z.addUniform("uViewMatrix",16),Z.addUniform("uCameraPosition",3),Z.addUniform("uTime",1),Z.addUniform("toneMappingExposure",1),Z.addUniform("uFogColor",4),Z.addUniform("uFogDensity",1),Z.addUniform("uFogNear",1),Z.addUniform("uFogFar",1),Z.attachSource(),["pbr","phong"].forEach(function(p){(Z=A[p]=new yE(o,1,p,"Material")).addUniform("aoMapIntensity",1),Z.addUniform("lightMapIntensity",1),Z.addUniform("displacementScale",1),Z.addUniform("displacementBias",1),Z.addUniform("diffuse",3),Z.addUniform("emissive",3),Z.addUniform("normalScale",2),Z.addUniform("opacity",1),Z.addUniform("alphaTest",1),Z.addUniform("fresnelIntensity",1),Z.addUniform("uUvMatrix",12),Z.addUniform("uUv2Matrix",12),"pbr"===p?(Z.addUniform("roughness",1),Z.addUniform("metalness",1),Z.addUniform("transmission",1),Z.addUniform("thickness",1),Z.addUniform("ior",1),Z.addUniform("specularIntensity",1),Z.addUniform("rimPower",1),Z.addUniform("rimColor",3),Z.addUniform("specularColor",3)):(Z.addUniform("shininess",1),Z.addUniform("refractionRatio",1),Z.addUniform("specular",3))}),{supportsUbo:!0,maxBindingPoints:b,setCurrentFrameRenderId:function(p){(p=A.scene).attachSource(),p.uProjectMatrix=E._projectMatrix,p.uViewMatrix=E._viewMatrix,p.uCameraPosition=E._camera?E._camera.p3():E.getEye(),p.uTime=E.__uptime,p.toneMappingExposure=E.getToneMappingExposure(),p.uFogColor=W6(E._fogColor),p.uFogDensity=E._fogDensity,p.uFogNear=E._fogNear,p.uFogFar=E._fogFar},updateAndBind:function(p,E){var b,p=A[p],Z=l.get(E);Z===K$&&(Z=new WeakMap,l.set(E,Z)),Z.get(p)===K$&&(b=o.getUniformBlockIndex(E,p.name),o.uniformBlockBinding(E,b,p.bindingPointIndex),Z.set(p,b))},attachUbo:function(p,E,b){return A[p].attachSource(E,b)}}}function yN(p){var E=H$.getShape3dModel(p);return E||"string"!=typeof p?E:H$.getModelMap()[p]}function aN(p,E,b){if(b instanceof u.Node){var Z=u.Default.getShape3dModel(b.s("shape3d")),o=[-.5,-.5,-.5],A=[.5,.5,.5],l=(Z&&Z.boundingBox&&(o=Z.boundingBox.min,A=Z.boundingBox.max),[o[0],o[1],o[2],o[0],o[1],A[2],o[0],A[1],o[2],o[0],A[1],A[2],A[0],o[1],o[2],A[0],o[1],A[2],A[0],A[1],o[2],A[0],A[1],A[2]]),V=(ye.fromArray(Am(b,E.getMat(b))),b.getAnchor3d());V.x=V.x-.5,V.y=V.y-.5,V.z=V.z-.5;for(var c=0;c<24;c+=3)p.push((new G$).set(l[c]-V.x,l[c+1]-V.y,l[c+2]-V.z).applyMatrix4(ye))}}function JN(p){p._31Q=K$;var E=p._moveStep,b=p.isWalkable()?E:0,E=p.isPannable()?E:0,Z=p.isRotatable()?-p._rotateStep:0,o=0,A=0,l=0,V=0,c=0,S=!1;if(iW()&&(S=!0,o=-E),p6()&&(S=!0,o=E),E6()&&(S=!0,jf()?A=E:c=b),fW()&&(S=!0,jf()?A=-E:c=-b),b6()&&(S=!0,l=-Z),o6()&&(S=!0,l=Z),Z6()&&(S=!0,V=-Z),A6()&&(S=!0,V=Z),E=(E=p._tickDampingVelocity)||(p._tickDampingVelocity={tx:0,ty:0,rx:0,ry:0,w:0}),b=p._navigationDamping,S)E.tx=E.tx*b+o*(1-b),E.ty=E.ty*b+A*(1-b),E.rx=E.rx*b+l*(1-b),E.ry=E.ry*b+V*(1-b),E.w=E.w*b+c*(1-b);else if(E.tx*=b,E.ty*=b,E.rx*=b,E.ry*=b,E.w*=b,Math.abs(E.tx)<.001&&Math.abs(E.ty)<.001&&Math.abs(E.rx)<.001&&Math.abs(E.ry)<.001&&Math.abs(E.w)<.001)return p._32Q=K$,void(p._tickDampingVelocity=null);Z=p._32Q,S=M1(),Z&&(o=(S-Z)/50,(E.tx||E.ty)&&p.pan(E.tx*o,E.ty*o,!1,!0),E.w&&p.walk(E.w*o,!1,!0),(E.rx||E.ry)&&p.rotate(E.rx*o,E.ry*o,!1,!0)),p._32Q=S,p._31Q=requestAnimationFrame(JN.bind(null,p))}function dN(p,E){var b=this._attrObject;return b&&p in b||(b=this._textureAttrObject)&&p in b?b[p]:this._getAttrBackupFunc(p,E)}function UN(p,E){if(oX(E))return p.deleteTexture(E)}function NN(p,E,b){var Z=p[E];Z&&Z.releaseTexture(),b?p[E]=b:delete p[E]}function ON(p,E){return p.z!==E.z?E.z-p.z:p.id-E.id}function zN(p,E){var b=E>>24&255;if(b<128){var Z=p._outside;if(Z)return Z(E>>16&255,E>>8&255,255&E,b)}return p[2147483647&E]}function _N(p,E,b,Z,o,A,l,V,c,S,I){return!(p<0||A<=p||E<0||o<=E)&&(!(c=zN(S,o=(c[A=4*(p*o+E)]<<16)+(c[1+A]<<8)+c[2+A]+(c[3+A]<<24)))||I&&!1===I(c,Math.round((b+E)/V),Math.round(l-1-(Z+p))/V)?void 0:c)}function vN(p,E,b,Z,o,A,l,V){return l||(l=p._cacheIdx=p._cacheIdx+1&3,p._cacheQuery[l]=[E,b,Z,o,A,V],p._cacheLength=Math.min(p._cacheLength+1,4)),V}function QN(){var p=new G$;return p.subVectors(gX,TX),hX.subVectors(GX,TX),p.cross(hX).normalize(),p}function qN(p,E){E._reflecting=!1,p.getRenderState().useProgram(p._prg)}function uN(p,E,b){p&&(P1(p)?E.push(p):Z1.test(p)&&(b[p]=1))}function RN(p,E){return RH(OH,E/1e3)}function sN(p){console.error("Animation error: ",p.message||p)}function wN(p,E){var b,Z;E=f.roundFloat(E,3),p.speed=E,p.baseDirection=p.direction=0<E?1:-1,p.loop===Ch.Once&&(b=p.duration,Z=p.start,E=0===E||0===b?Z:(E<0?Math.floor((Z-1e-8)/b):Math.ceil((Z+1e-8)/b))*b,p.end=E),p.interval}function iN(p,E,b,Z,o,A){p._timeByTimeline=E,p.clip?Z?p.evaluateImmediately(E,b):p.evaluate(E,b):p instanceof Kh?p.evaluateImpl(E,b,Z,o,A):p.evaluate(E,b)}function fN(p,E){return(p=p._childrenEntries)&&p.length?p[p.length-1][E]:0}function po(p,E){var b,Z=20,o=0;for(E=E.replace(/ /g,"");Z--&&E.length;)if("="===E[0])o+=fN(p,"pos"),E=E.slice(1);else if(">"===E[0])o+=fN(p,"pos")+fN(p,"duration"),E=E.slice(1);else if((b=E.match(Sh))&&0===b.index){var A=parseFloat(b[0]);o+=p.duration*A/100,E=E.slice(b[0].length)}else{if(!(b=E.match(Ih))||0!==b.index)return console.error("Timeline._parsePattern: invalid pattern: "+E),o;o+=parseFloat(b[0]),E=E.slice(b[0].length)}return o}function Eo(p){return p&&p.states||null}function bo(p){return p?t$.keys(p):null}function Zo(p,E){return E&&E(p),p}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:(0,eval)("this"),Object);